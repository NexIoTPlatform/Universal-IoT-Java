# 📝 更新日志

> **最近更新时间**：2025年10月8日

本文档记录了 NexIoT 物联网平功能变更。


## 🚀 提交历史

### 📅 2025年10月第1周（9.28-10.8）

- 🌉 【数据桥接功能】
    - ✅ 桥接databridge功能，设计支持数据输入、数据输出和双向数据
    - ✅ 优化依赖调整，明确模块职责
    - ✅ 数据桥接分类为输入和输出，计划适配阿里云、腾讯云和华为云
    - ✅ 完成数据桥接的数据源前端页面
    - ✅ 开启数据桥接处理，目前只实现后端的JDBC输出
    - ✅ 修复JDBC的数据桥接问题
    - ✅ 修复JDBC的数据库保存问题
    - ✅ 数据桥接增加详细的日志记录
    - ✅ 验证桥接配置功能
    - ✅ 修复桥接弹窗过大的问题

- 📹 【乐橙监控优化】
    - ✅ 增加监控可能多通道的适配
    - ✅ 乐橙增加多个通道的适配
    - ✅ 页面增加多通道选择功能

- 🔧 【系统优化与修复】
    - ✅ OpenAPI增加网关子设备列表分页查询
    - ✅ 开源规范要求，标记物模型的代码来源
    - ✅ ip2region调整打包路径
    - ✅ 增加ip2region_v4本地文件，日志地区不查询外部接口，实现自我闭环
    - ✅ 记录日志不再异步执行，提升系统稳定性

### 📅 2025年9月第4周（9.20-9.27）

- 🔧 【产品管理优化】
    - ✅ MQTT和TCP产品默认开启自动注册功能
    - ✅ 完善产品管理连接信息显示，解决无法找到入口问题
    - ✅ 系统支持使用内置连接和自建连接
    - ✅ 优化TCP连接信息显示，支持SNI信息和概念
    - ✅ TCP服务默认绑定网络服务，支持绑定状态管理

- 🏠 【网关设备管理】
    - ✅ 网关与网关子设备功能调整，支持一个网关绑定多个不同产品的子设备
    - ✅ 网关子设备显示绑定网关设备信息
    - ✅ 乐橙设备增删改查增加验证机制

- 📹 【视频模块优化】
    - ✅ 乐橙播放器界面优化
    - ✅ 视频模块权限调整
    - ✅ 真实设备播放摄像头功能修复
    - ✅ 暂时移除音频检查功能

- 🛠️ 【系统优化与修复】
    - ✅ 移除fastjson2依赖，减少系统间强依赖
    - ✅ 调整依赖注入方式，修复无效bean注入问题
    - ✅ 优化查询条件与索引匹配
    - ✅ 修复test环境显示问题
    - ✅ 清理无用代码和文档

- 📝 【文档与描述】
    - ✅ 删除部分markdown设计过程文档
    - ✅ 调整描述文字和界面显示

### 📅 2025年9月第3周（9.12-9.19）

- 🧩 【设备协议扩展】
    - ✅ 新增 UDP 通信模块（默认开启），适配 UDP 协议传输
    - ✅ 新增 Ezviz（萤石）接入模块，支持萤石设备接入
    - ✅ 优化 imoulife（乐橙）模块，支持自有开放平台账号

- 🧠 【设备影子系统】
    - ✅ 增加设备影子强制刷盘机制，支持异常状态恢复
    - ✅ 解析流程可获取历史影子数据（零代码侵入联动判断）
    - ✅ Web IDE 支持直接读取设备影子数据

- 🔌 【连接管理优化】
    - ✅ 设备重连时自动替换旧连接，解决僵尸连接问题
    - ✅ 重构 TCP 通信逻辑（tcpdown 模块），提升可维护性

- ⚙️ 【性能与稳定性】
    - ✅ 修复产品缓存不失效问题，优化数据库查询效率
    - ✅ 日志表结构升级，支持自动分区
    - ✅ 完善集群消息日志存储逻辑，避免指令路由异常

- 🧰 【工具与配置】
    - ✅ 封装统一工具类（uniqueId 生成、时间格式化等）
    - ✅ 公共配置支持 boolean 类型适配
    - ✅ 修复时间格式化、枚举命名重复等问题

### 📅 2025年9月第2周（9.8-9.12）

- 🔧 【零代码侵入-TCP接入】解决电表DT645使用netty协议半包全包的问题，增加一个codec和2个工具类。

- 🛠️ 【WEB-IDE调试器】增加16进制、ASCII和Modbus相关等20余个公共方法，供IDE的直接调用。

- 🔄 【cluster集群】集群环境低概率会遇到指令路由错误的问题。

- ⚡ 【优化若干】重构iotId的生成逻辑，极大较少数据库的非必要查询。

- 📸 【产品管理】增加产品图片上传，增加七牛云。

### 📅 2025年9月第1周（9.1-9.7）

- 🚀 【设备影子】设备影子热数据不再实时更新数据库，用redis缓存，定时刷库，提高吞吐量。

- 🌐 【北向应用】HTTP北向应用数据推送问题修复若干、推送安全鉴权功能增强。

- 🛡️ 【TCP接入服务】增加异常IP的封禁策略；集群环境的控制重启、关闭、启动优化。

- 📊 【流程编排】增加可视化的集成，为工业场景及特殊情况的接入、采集和推送作为补充。

- 🔧 【其他】修复错误若干；优化日志；

## 📞 联系我们

- **项目地址**：[https://gitee.com/nexiotplatform/Universal-IoT-Java](https://gitee.com/nexiotplatform/Universal-IoT-Java)
- **文档地址**：[https://nexiotplatform.github.io/universal-iot-docs/](https://nexiotplatform.github.io/universal-iot-docs/)
- **在线演示**：[http://iot.192886.xyz:81/](http://iot.192886.xyz:81/)
- **调试IDE**：[http://iot.192886.xyz:81/magic/debug/index.html](http://iot.192886.xyz:81/magic/debug/index.html)

---


**最后更新时间：2025年10月8日**
