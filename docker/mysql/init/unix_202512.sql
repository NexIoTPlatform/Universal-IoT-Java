/*
 Navicat Premium Dump SQL

 Source Server         : 121
 Source Server Type    : MySQL
 Source Server Version : 80407 (8.4.7)
 Source Host           : 125.210.49.121:38306
 Source Schema         : unix_202512

 Target Server Type    : MySQL
 Target Server Version : 80407 (8.4.7)
 File Encoding         : 65001

 Date: 09/12/2025 15:09:33
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for code_protocol
-- ----------------------------
DROP TABLE IF EXISTS `code_protocol`;
CREATE TABLE `code_protocol` (
  `code_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '唯一key',
  `provider_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '协议类型 jar,jscript,magic',
  `class_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '协议类型为jar时,编解码类名',
  `location` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '编解码网络地址或者内容',
  PRIMARY KEY (`code_key`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;

-- ----------------------------
-- Records of code_protocol
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for device_message_routes
-- ----------------------------
DROP TABLE IF EXISTS `device_message_routes`;
CREATE TABLE `device_message_routes` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '产品Key',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '设备ID',
  `message_type` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '消息类型：data/status/command',
  `flow_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '流程ID',
  `priority` int DEFAULT '0' COMMENT '优先级',
  `enabled` tinyint DEFAULT '1' COMMENT '是否启用',
  `creator_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '创建者ID',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uk_route` (`product_key`,`device_id`,`message_type`,`flow_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='设备消息路由表';

-- ----------------------------
-- Records of device_message_routes
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for gen_table
-- ----------------------------
DROP TABLE IF EXISTS `gen_table`;
CREATE TABLE `gen_table` (
  `table_id` bigint NOT NULL AUTO_INCREMENT COMMENT '编号',
  `table_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '表名称',
  `table_comment` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '表描述',
  `sub_table_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '关联子表的表名',
  `sub_table_fk_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '子表关联的外键名',
  `class_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '实体类名称',
  `tpl_category` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT 'crud' COMMENT '使用的模板（crud单表操作 tree树表操作）',
  `package_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '生成包路径',
  `module_name` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '生成模块名',
  `business_name` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '生成业务名',
  `function_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '生成功能名',
  `function_author` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '生成功能作者',
  `gen_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '0' COMMENT '生成代码方式（0zip压缩包 1自定义路径）',
  `gen_path` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '/' COMMENT '生成路径（不填默认项目路径）',
  `options` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '其它生成选项',
  `create_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`table_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='代码生成业务表';

-- ----------------------------
-- Records of gen_table
-- ----------------------------
BEGIN;
INSERT INTO `gen_table` (`table_id`, `table_name`, `table_comment`, `sub_table_name`, `sub_table_fk_name`, `class_name`, `tpl_category`, `package_name`, `module_name`, `business_name`, `function_name`, `function_author`, `gen_type`, `gen_path`, `options`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (4, 'sys_dict_type', '字典类型表', NULL, NULL, 'SysDictType', 'crud', 'cn.universal.', 'system', 'type', '字典类型', 'iot', '0', '/', NULL, 'iot', '2021-12-23 16:20:55', '', NULL, NULL);
INSERT INTO `gen_table` (`table_id`, `table_name`, `table_comment`, `sub_table_name`, `sub_table_fk_name`, `class_name`, `tpl_category`, `package_name`, `module_name`, `business_name`, `function_name`, `function_author`, `gen_type`, `gen_path`, `options`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (5, 'iot_user_application', '用户应用信息表', NULL, NULL, 'IotUserApplication', 'crud', 'cn.universal.', '用户应用信息', 'application', '用户应用信息', 'iot', '0', '/', '{\"parentMenuId\":\"1\"}', 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11', NULL);
INSERT INTO `gen_table` (`table_id`, `table_name`, `table_comment`, `sub_table_name`, `sub_table_fk_name`, `class_name`, `tpl_category`, `package_name`, `module_name`, `business_name`, `function_name`, `function_author`, `gen_type`, `gen_path`, `options`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (6, 'dev_group', '设备分组表', NULL, NULL, 'DevGroup', 'crud', 'cn.universal.', NULL, 'group', '设备分组', 'iot', '0', '/', NULL, 'iot', '2021-12-30 14:08:05', '', NULL, NULL);
INSERT INTO `gen_table` (`table_id`, `table_name`, `table_comment`, `sub_table_name`, `sub_table_fk_name`, `class_name`, `tpl_category`, `package_name`, `module_name`, `business_name`, `function_name`, `function_author`, `gen_type`, `gen_path`, `options`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (7, 'dev_log', '', NULL, NULL, 'DevLog', 'crud', 'cn.universal.', NULL, 'log', NULL, 'iot', '0', '/', NULL, 'iot', '2022-01-17 10:34:37', '', NULL, NULL);
INSERT INTO `gen_table` (`table_id`, `table_name`, `table_comment`, `sub_table_name`, `sub_table_fk_name`, `class_name`, `tpl_category`, `package_name`, `module_name`, `business_name`, `function_name`, `function_author`, `gen_type`, `gen_path`, `options`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (8, 'scene_linkage', '场景联动', NULL, NULL, 'SceneLinkage', 'crud', 'cn.universal.', 'linkage', 'linkage', '场景联动', 'iot', '0', '/', '{\"parentMenuId\":\"1081\"}', 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20', NULL);
COMMIT;

-- ----------------------------
-- Table structure for gen_table_column
-- ----------------------------
DROP TABLE IF EXISTS `gen_table_column`;
CREATE TABLE `gen_table_column` (
  `column_id` bigint NOT NULL AUTO_INCREMENT COMMENT '编号',
  `table_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '归属表编号',
  `column_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '列名称',
  `column_comment` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '列描述',
  `column_type` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '列类型',
  `java_type` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'JAVA类型',
  `java_field` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'JAVA字段名',
  `is_pk` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '是否主键（1是）',
  `is_increment` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '是否自增（1是）',
  `is_required` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '是否必填（1是）',
  `is_insert` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '是否为插入字段（1是）',
  `is_edit` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '是否编辑字段（1是）',
  `is_list` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '是否列表字段（1是）',
  `is_query` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '是否查询字段（1是）',
  `query_type` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT 'EQ' COMMENT '查询方式（等于、不等于、大于、小于、范围）',
  `html_type` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '显示类型（文本框、文本域、下拉框、复选框、单选框、日期控件）',
  `dict_type` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '字典类型',
  `sort` int DEFAULT NULL COMMENT '排序',
  `create_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`column_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=97 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='代码生成业务表字段';

-- ----------------------------
-- Records of gen_table_column
-- ----------------------------
BEGIN;
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (32, '4', 'dict_id', '字典主键', 'bigint(20)', 'Long', 'dictId', '1', '1', NULL, '1', NULL, NULL, NULL, 'EQ', 'input', '', 1, 'iot', '2021-12-23 16:20:55', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (33, '4', 'dict_name', '字典名称', 'varchar(100)', 'String', 'dictName', '0', '0', NULL, '1', '1', '1', '1', 'LIKE', 'input', '', 2, 'iot', '2021-12-23 16:20:55', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (34, '4', 'dict_type', '字典类型', 'varchar(100)', 'String', 'dictType', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'select', '', 3, 'iot', '2021-12-23 16:20:55', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (35, '4', 'status', '状态（0正常 1停用）', 'char(1)', 'String', 'status', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'radio', '', 4, 'iot', '2021-12-23 16:20:55', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (36, '4', 'create_by', '创建者', 'varchar(64)', 'String', 'createBy', '0', '0', NULL, '1', NULL, NULL, NULL, 'EQ', 'input', '', 5, 'iot', '2021-12-23 16:20:55', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (37, '4', 'create_time', '创建时间', 'datetime', 'Date', 'createTime', '0', '0', NULL, '1', NULL, NULL, NULL, 'EQ', 'datetime', '', 6, 'iot', '2021-12-23 16:20:55', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (38, '4', 'update_by', '更新者', 'varchar(64)', 'String', 'updateBy', '0', '0', NULL, '1', '1', NULL, NULL, 'EQ', 'input', '', 7, 'iot', '2021-12-23 16:20:55', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (39, '4', 'update_time', '更新时间', 'datetime', 'Date', 'updateTime', '0', '0', NULL, '1', '1', NULL, NULL, 'EQ', 'datetime', '', 8, 'iot', '2021-12-23 16:20:55', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (40, '4', 'remark', '备注', 'varchar(500)', 'String', 'remark', '0', '0', NULL, '1', '1', '1', NULL, 'EQ', 'textarea', '', 9, 'iot', '2021-12-23 16:20:55', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (41, '5', 'uuid', NULL, 'bigint(20)', 'Long', 'uuid', '1', '1', '0', '1', '0', '0', '0', 'EQ', 'input', '', 1, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (42, '5', 'union_id', NULL, 'varchar(64)', 'String', 'unionId', '0', '0', '1', '1', '1', '1', '1', 'EQ', 'input', '', 2, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (43, '5', 'app_name', '应用名称', 'varchar(64)', 'String', 'appName', '0', '0', '0', '1', '1', '1', '1', 'LIKE', 'input', '', 3, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (44, '5', 'app_unique_id', '应用标识', 'varchar(128)', 'String', 'appUniqueId', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'input', '', 4, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (45, '5', 'app_id', '调用凭证APPID，必须16位', 'varchar(16)', 'String', 'appId', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'input', '', 5, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (46, '5', 'up_topic', 'MQ上行主题，英文逗号分隔', 'varchar(64)', 'String', 'upTopic', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'input', '', 6, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (47, '5', 'down_topic', 'MQ下行主题，英文逗号分隔', 'varchar(64)', 'String', 'downTopic', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'input', '', 7, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (48, '5', 'notify_url', '回调地址', 'varchar(255)', 'String', 'notifyUrl', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'input', '', 8, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (49, '5', 'app_secret', '调用密钥，必须32位', 'varchar(32)', 'String', 'appSecret', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'input', '', 9, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (50, '5', 'valid_end_date', '授权结束时间', 'datetime', 'Date', 'validEndDate', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'datetime', '', 10, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (51, '5', 'scope', '授权范围', 'varchar(128)', 'String', 'scope', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'input', '', 11, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (52, '5', 'app_status', '0-正常，1-停用', 'tinyint(1) unsigned', 'Integer', 'appStatus', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'radio', '', 12, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (53, '5', 'instance', '实例名称', 'varchar(64)', 'String', 'instance', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'input', '', 13, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (54, '5', 'remark', '描述', 'varchar(128)', 'String', 'remark', '0', '0', '0', '1', '1', '1', '0', 'EQ', 'input', '', 14, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (55, '5', 'create_date', '创建时间', 'datetime', 'Date', 'createDate', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'datetime', '', 15, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (56, '5', 'deleted', '0-正常，1-删除', 'tinyint(1) unsigned', 'Integer', 'deleted', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'input', '', 16, 'iot', '2021-12-30 09:57:00', '', '2021-12-30 09:58:11');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (57, '6', 'id', '分组ID，非自增', 'bigint(20)', 'Long', 'id', '1', '0', NULL, '1', NULL, NULL, NULL, 'EQ', 'input', '', 1, 'iot', '2021-12-30 14:08:05', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (58, '6', 'group_name', '分组名称', 'varchar(128)', 'String', 'groupName', '0', '0', '1', '1', '1', '1', '1', 'LIKE', 'input', '', 2, 'iot', '2021-12-30 14:08:05', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (59, '6', 'group_code', '分组标识', 'varchar(128)', 'String', 'groupCode', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 3, 'iot', '2021-12-30 14:08:05', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (60, '6', 'describe', '群组描述', 'varchar(255)', 'String', 'describe', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 4, 'iot', '2021-12-30 14:08:05', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (61, '6', 'parent_id', '父id', 'bigint(20)', 'Long', 'parentId', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 5, 'iot', '2021-12-30 14:08:05', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (62, '6', 'relat_dev_count', '激活设备数', 'int(10) unsigned zerofill', 'Integer', 'relatDevCount', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 6, 'iot', '2021-12-30 14:08:05', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (63, '6', 'active_dev_count', '关联设备树', 'int(10) unsigned zerofill', 'Integer', 'activeDevCount', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 7, 'iot', '2021-12-30 14:08:05', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (64, '6', 'creator_id', '创建人', 'varchar(255)', 'String', 'creatorId', '0', '0', '1', '1', '1', '1', '1', 'EQ', 'input', '', 8, 'iot', '2021-12-30 14:08:05', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (65, '6', 'instance', '实例编号', 'varchar(64)', 'String', 'instance', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 9, 'iot', '2021-12-30 14:08:05', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (66, '6', 'tag', '标签', 'varchar(128)', 'String', 'tag', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 10, 'iot', '2021-12-30 14:08:05', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (67, '7', 'id', NULL, 'bigint(20) unsigned', 'Long', 'id', '1', '1', NULL, '1', NULL, NULL, NULL, 'EQ', 'input', '', 1, 'iot', '2022-01-17 10:34:37', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (68, '7', 'iot_id', '唯一编码', 'varchar(32)', 'String', 'iotId', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 2, 'iot', '2022-01-17 10:34:37', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (69, '7', 'device_id', '设备自身序号', 'varchar(32)', 'String', 'deviceId', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 3, 'iot', '2022-01-17 10:34:37', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (70, '7', 'ext_device_id', '第三方设备ID唯一标识符', 'varchar(32)', 'String', 'extDeviceId', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 4, 'iot', '2022-01-17 10:34:37', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (71, '7', 'product_key', '产品ID', 'varchar(64)', 'String', 'productKey', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 5, 'iot', '2022-01-17 10:34:37', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (72, '7', 'device_name', '设备名称', 'varchar(32)', 'String', 'deviceName', '0', '0', NULL, '1', '1', '1', '1', 'LIKE', 'input', '', 6, 'iot', '2022-01-17 10:34:37', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (73, '7', 'message_type', '消息类型', 'varchar(20)', 'String', 'messageType', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'select', '', 7, 'iot', '2022-01-17 10:34:37', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (74, '7', 'company_no', NULL, 'varchar(20)', 'String', 'companyNo', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 8, 'iot', '2022-01-17 10:34:37', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (75, '7', 'protocol', '协议', 'varchar(20)', 'String', 'protocol', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 9, 'iot', '2022-01-17 10:34:37', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (76, '7', 'device_node', '节点类型', 'varchar(32)', 'String', 'deviceNode', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 10, 'iot', '2022-01-17 10:34:37', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (77, '7', 'classified_id', NULL, 'varchar(128)', 'String', 'classifiedId', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 11, 'iot', '2022-01-17 10:34:37', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (78, '7', 'org_id', NULL, 'varchar(20)', 'String', 'orgId', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 12, 'iot', '2022-01-17 10:34:38', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (79, '7', 'event', '事件名称', 'varchar(30)', 'String', 'event', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 13, 'iot', '2022-01-17 10:34:38', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (80, '7', 'create_id', NULL, 'varchar(20)', 'String', 'createId', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 14, 'iot', '2022-01-17 10:34:38', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (81, '7', 'instance', '实例名称', 'varchar(64)', 'String', 'instance', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 15, 'iot', '2022-01-17 10:34:38', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (82, '7', 'point', '经纬度', 'varchar(128)', 'String', 'point', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'input', '', 16, 'iot', '2022-01-17 10:34:38', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (83, '7', 'content', '内容', 'text', 'String', 'content', '0', '0', NULL, '1', '1', '1', '1', 'EQ', 'editor', '', 17, 'iot', '2022-01-17 10:34:38', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (84, '7', 'create_time', '创建时间', 'int(10) unsigned zerofill', 'Integer', 'createTime', '0', '0', NULL, '1', NULL, NULL, NULL, 'EQ', 'input', '', 18, 'iot', '2022-01-17 10:34:38', '', NULL);
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (85, '8', 'id', NULL, 'bigint(20)', 'Long', 'id', '1', '1', '0', '1', '0', '0', '0', 'EQ', 'input', '', 1, 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (86, '8', 'scene_name', '场景名称', 'varchar(50)', 'String', 'sceneName', '0', '0', '0', '1', '1', '1', '1', 'LIKE', 'input', '', 2, 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (87, '8', 'touch', '触发条件 all.全部 one.任意一个', 'varchar(10)', 'String', 'touch', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'input', '', 3, 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (88, '8', 'trigger_condition', '触发条件', 'text', 'String', 'triggerCondition', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'textarea', '', 4, 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (89, '8', 'exec_action', '执行动作', 'text', 'String', 'execAction', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'textarea', '', 5, 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (90, '8', 'sleep_cycle', '沉默周期', 'int(11)', 'Long', 'sleepCycle', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'input', '', 6, 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (91, '8', 'create_by', NULL, 'varchar(64)', 'String', 'createBy', '0', '0', '0', '1', '0', '0', '0', 'EQ', 'input', '', 7, 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (92, '8', 'create_time', NULL, 'datetime', 'Date', 'createTime', '0', '0', '0', '1', '0', '0', '0', 'EQ', 'datetime', '', 8, 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (93, '8', 'update_by', NULL, 'varchar(64)', 'String', 'updateBy', '0', '0', '0', '1', '1', '0', '0', 'EQ', 'input', '', 9, 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (94, '8', 'update_time', NULL, 'datetime', 'Date', 'updateTime', '0', '0', '0', '1', '1', '0', '0', 'EQ', 'datetime', '', 10, 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (95, '8', 'status', '0启用 1停用', 'tinyint(4)', 'Integer', 'status', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'radio', 'sys_normal_disable', 11, 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20');
INSERT INTO `gen_table_column` (`column_id`, `table_id`, `column_name`, `column_comment`, `column_type`, `java_type`, `java_field`, `is_pk`, `is_increment`, `is_required`, `is_insert`, `is_edit`, `is_list`, `is_query`, `query_type`, `html_type`, `dict_type`, `sort`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES (96, '8', 'dev_id', '设备id', 'varchar(64)', 'String', 'devId', '0', '0', '0', '1', '1', '1', '1', 'EQ', 'input', '', 12, 'iot', '2022-03-01 10:10:40', '', '2022-03-01 10:15:20');
COMMIT;

-- ----------------------------
-- Table structure for iot_certificate
-- ----------------------------
DROP TABLE IF EXISTS `iot_certificate`;
CREATE TABLE `iot_certificate` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `ssl_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '证书唯一标识（sslKey）',
  `name` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '证书名称',
  `cert_content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '证书内容（PEM，Base64或加密）',
  `key_content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '私钥内容（PEM，Base64或加密）',
  `cert_password` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '证书密码（如有）',
  `key_password` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '私钥密码（如有）',
  `cert_info` json DEFAULT NULL COMMENT '证书信息',
  `expire_time` datetime DEFAULT NULL COMMENT '到期时间',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '备注',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `create_user` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '' COMMENT '创建者用户ID',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uniq_ssl_key` (`ssl_key`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='物联网产品证书表（内容存数据库）';

-- ----------------------------
-- Records of iot_certificate
-- ----------------------------
BEGIN;
INSERT INTO `iot_certificate` (`id`, `ssl_key`, `name`, `cert_content`, `key_content`, `cert_password`, `key_password`, `cert_info`, `expire_time`, `remark`, `create_time`, `update_time`, `create_user`) VALUES (3, 'default-tcp', '平台默认12', '-----BEGIN CERTIFICATE-----\nMIIFCDCCA/CgAwIBAgISBbfMkOPfwRAt4oaZgZBvoz8uMA0GCSqGSIb3DQEBCwUA\nMDMxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQwwCgYDVQQD\nEwNSMTMwHhcNMjUwOTE0MDYzOTU0WhcNMjUxMjEzMDYzOTUzWjAXMRUwEwYDVQQD\nDAwqLm5leGlvdC54eXowggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDb\nYjZLGeffsaz6EZmdl8IqN0JhZ+4Fw2Tqc5Uampr4zHibAZmbZb8BPKxuioVT/onk\n6TpI5uFKFeKfH2HrWsxRMNwecBFCMWd8U5EJ3jcvZcRgYswuPjOHvu+sZJdv1xcB\n9C6Jogy7hALrKOLQVff2MaUPu5zllmTnS+xNGK+3gkZ8yEPJIW97ywxaU/Shwe2w\n4ddBnohTw0PbPBwDRSl1reKCHeV9DljAmYccghBByoOxsHU2qbAef8GaNIcWArYp\nbnNVJ9ieidNeMZJWc95EMzdcpBV1CHpcs8eLMTtoj3tYqIckz2yPjzrNWMSEy9HK\nUA6J1LeG0b6sLCFmCcSbAgMBAAGjggIwMIICLDAOBgNVHQ8BAf8EBAMCBaAwHQYD\nVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0O\nBBYEFGk9686AF961AbPVHWHugkWX3JP0MB8GA1UdIwQYMBaAFOernw8sM6BT015P\neMiyhA471pIzMDMGCCsGAQUFBwEBBCcwJTAjBggrBgEFBQcwAoYXaHR0cDovL3Ix\nMy5pLmxlbmNyLm9yZy8wKQYDVR0RBCIwIIIMKi5uZXhpb3QueHl6ghAqLnRjcC5u\nZXhpb3QueHl6MBMGA1UdIAQMMAowCAYGZ4EMAQIBMC4GA1UdHwQnMCUwI6AhoB+G\nHWh0dHA6Ly9yMTMuYy5sZW5jci5vcmcvNDcuY3JsMIIBBgYKKwYBBAHWeQIEAgSB\n9wSB9ADyAHcApELFBklgYVSPD9TqnPt6LSZFTYepfy/fRVn2J086hFQAAAGZRykr\nNQAABAMASDBGAiEA+i7HEs8wIQ2Vvj69lJbuyyMWXfPEdnyWAXjTP1EzfQQCIQCj\nweQsUvtLgqNt9i4BENZ9za1QbM3vETeeRidqG9MGnQB3ABoE/0nQVB1Ar/agw7/x\n2MRnL07s7iNAaJhrF0Au3Il9AAABmUcpK1oAAAQDAEgwRgIhAI8UCV+pVXAQa7li\nIkGXC15gnw929l2BmhrqYGZRuYvRAiEA2mZijy9MxvkOUG//qD4TTxix4W0RiJho\n7AzwZ1bwMaQwDQYJKoZIhvcNAQELBQADggEBAD8LmNy7yNLrXLFb4HjFMw+WN6rL\n6G8V8rY9qTjH0Of+LyDmAqS3kNWLQgjRtUz6/5p9V9hLGcRMergXtTZs06NF7GMu\nZjyGD4DIGeluOAUxwKBknOhS5RUss3FSoB10sicAy8UpsVxdkfX9LUlyw40hwEGQ\nGekWTvqjBJg9OZphXIoLZ54WtdvsAEYHuN6oNbUMFArCyL3gAu44OrWUykbATM91\n0GIiAGyegLFKnk8SSuTql9gH1GKFzJlgrJKl+Nr9fv7dkUVv20XmUGtJUuIBYh6J\nP7wB4Qltgfhrj6XnNhp5U3gJ+c9fFqdn1nkHEAzEsBnF3Ggb7f5nrGocsCM=\n-----END CERTIFICATE-----\n\n-----BEGIN CERTIFICATE-----\nMIIFBTCCAu2gAwIBAgIQWgDyEtjUtIDzkkFX6imDBTANBgkqhkiG9w0BAQsFADBP\nMQswCQYDVQQGEwJVUzEpMCcGA1UEChMgSW50ZXJuZXQgU2VjdXJpdHkgUmVzZWFy\nY2ggR3JvdXAxFTATBgNVBAMTDElTUkcgUm9vdCBYMTAeFw0yNDAzMTMwMDAwMDBa\nFw0yNzAzMTIyMzU5NTlaMDMxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBF\nbmNyeXB0MQwwCgYDVQQDEwNSMTMwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK\nAoIBAQClZ3CN0FaBZBUXYc25BtStGZCMJlA3mBZjklTb2cyEBZPs0+wIG6BgUUNI\nfSvHSJaetC3ancgnO1ehn6vw1g7UDjDKb5ux0daknTI+WE41b0VYaHEX/D7YXYKg\nL7JRbLAaXbhZzjVlyIuhrxA3/+OcXcJJFzT/jCuLjfC8cSyTDB0FxLrHzarJXnzR\nyQH3nAP2/Apd9Np75tt2QnDr9E0i2gB3b9bJXxf92nUupVcM9upctuBzpWjPoXTi\ndYJ+EJ/B9aLrAek4sQpEzNPCifVJNYIKNLMc6YjCR06CDgo28EdPivEpBHXazeGa\nXP9enZiVuppD0EqiFwUBBDDTMrOPAgMBAAGjgfgwgfUwDgYDVR0PAQH/BAQDAgGG\nMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDATASBgNVHRMBAf8ECDAGAQH/\nAgEAMB0GA1UdDgQWBBTnq58PLDOgU9NeT3jIsoQOO9aSMzAfBgNVHSMEGDAWgBR5\ntFnme7bl5AFzgAiIyBpY9umbbjAyBggrBgEFBQcBAQQmMCQwIgYIKwYBBQUHMAKG\nFmh0dHA6Ly94MS5pLmxlbmNyLm9yZy8wEwYDVR0gBAwwCjAIBgZngQwBAgEwJwYD\nVR0fBCAwHjAcoBqgGIYWaHR0cDovL3gxLmMubGVuY3Iub3JnLzANBgkqhkiG9w0B\nAQsFAAOCAgEAUTdYUqEimzW7TbrOypLqCfL7VOwYf/Q79OH5cHLCZeggfQhDconl\nk7Kgh8b0vi+/XuWu7CN8n/UPeg1vo3G+taXirrytthQinAHGwc/UdbOygJa9zuBc\nVyqoH3CXTXDInT+8a+c3aEVMJ2St+pSn4ed+WkDp8ijsijvEyFwE47hulW0Ltzjg\n9fOV5Pmrg/zxWbRuL+k0DBDHEJennCsAen7c35Pmx7jpmJ/HtgRhcnz0yjSBvyIw\n6L1QIupkCv2SBODT/xDD3gfQQyKv6roV4G2EhfEyAsWpmojxjCUCGiyg97FvDtm/\nNK2LSc9lybKxB73I2+P2G3CaWpvvpAiHCVu30jW8GCxKdfhsXtnIy2imskQqVZ2m\n0Pmxobb28Tucr7xBK7CtwvPrb79os7u2XP3O5f9b/H66GNyRrglRXlrYjI1oGYL/\nf4I1n/Sgusda6WvA6C190kxjU15Y12mHU4+BxyR9cx2hhGS9fAjMZKJss28qxvz6\nAxu4CaDmRNZpK/pQrXF17yXCXkmEWgvSOEZy6Z9pcbLIVEGckV/iVeq0AOo2pkg9\np4QRIy0tK2diRENLSF2KysFwbY6B26BFeFs3v1sYVRhFW9nLkOrQVporCS0KyZmf\nwVD89qSTlnctLcZnIavjKsKUu1nA1iU0yYMdYepKR7lWbnwhdx3ewok=\n-----END CERTIFICATE-----\n', '-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEA22I2Sxnn37Gs+hGZnZfCKjdCYWfuBcNk6nOVGpqa+Mx4mwGZ\nm2W/ATysboqFU/6J5Ok6SObhShXinx9h61rMUTDcHnARQjFnfFORCd43L2XEYGLM\nLj4zh77vrGSXb9cXAfQuiaIMu4QC6yji0FX39jGlD7uc5ZZk50vsTRivt4JGfMhD\nySFve8sMWlP0ocHtsOHXQZ6IU8ND2zwcA0Upda3igh3lfQ5YwJmHHIIQQcqDsbB1\nNqmwHn/BmjSHFgK2KW5zVSfYnonTXjGSVnPeRDM3XKQVdQh6XLPHizE7aI97WKiH\nJM9sj486zVjEhMvRylAOidS3htG+rCwhZgnEmwIDAQABAoIBAAKISTEnvOX3opQG\nZPwNNugO2DzQms5FOaJ9MBDtDPHnRlMfuxqwm3pTrXffMHfOPeA/EvWpeJtG0mVc\n0uAJHceoJTpSt9hIQrYMLuXqwz9QUOp96XZ1MFoWSaT3Sko3tOPIYksjbDsz5Ga7\ng5a9D04vt4SNeVurF0IWPcWMDecz28uWTvAdB00YX3JSc3kun9KdJ5ephUIhd/9Q\nVU2nxtaDlkjN8UpfrGz9HmCEtZsJpNIQFjenOZwsMao48HYWkL0JzWfJL8qQ51iQ\nZ+VznnE95guRashf+o9AU8Aqy8971r3220mbXW/xwX6xCzWf7NCPdWIvDag5ce0E\ndFZCCo0CgYEA40S7NYCrgTuMhqHz26by6oenA/zG15fisrBV/3caKo9KLS33xJ77\nADdSWKNVSnOGJgxJBWd6vg/kIqewJLk76rwvCNxnISHa1J7Aut/Q+HcBgimMaRHq\nvzpgCMk7wWByZhjoHcoIyoazd6gMoOx+RF20tRg1DJxj2grgb40yKHUCgYEA9x5M\nKLRr+g2YLzFjYbDVx1pONqbFcZItVzSZwzax2b8pEGUpT6EBpc5L9u3k0hLgwTwx\nXfZJwmCRL3j+/gRx6i+lH9MTF1aMK212cEyrZL+2Q4IfKzBEgAFfFLabTO4BmJ10\nhkzZkYR6fiE5ONtuDzStpFn0/5dRP1WI00bdFs8CgYEA4Yxnwxx0mSgROdhm3Lpe\nYHXKQkHO0U4ytSYd4xA/zrcwZZA2UlN5RWih98f5sI7gNsiAe7WL8i5xOhdzz65q\nEXc7sq6SRyaDN/ppycywZrYssBIuAGTAtZHoly+ndy4RutPDITVN7jkqyXjlN5wd\nYBojaoqgs2hODKo4vVzCx7UCgYBVc26WbL0hvG2xc/yPnVxvEPUWxNhli0yOaSv6\nawFY8Fc8yh5c4Kn3Mbzm6CBF3C1H5I6VlUKwKkBKECbso5DYkB0jQhPJ8C2MHs/j\nyT9DGV/nPCmW/5vQP6knOnW9Rlfa9CeFATICtbK9xrNIy+fk7ixVNp4Xe7Wmluc3\nV7u/1QKBgArf+IDtbLsB91otjtnrf4FrOCdnWSoaDeByUVuRvpSc3XLSiQOoj9bp\npfqVFdx862b18guaHMUyUBhGv/jJOrZRDRA/k5SuKMd175lV+k5SxddnImQDSGKW\nEA7Fhr7WoWjbvl9/uk3ad5PgjOVDeSWAZBhltP+H+RdHcQNSeI48\n-----END RSA PRIVATE KEY-----\n', '', '', '{\"issuer\": \"CN=R13,O=Let\'s Encrypt,C=US\", \"subject\": \"CN=*.nexiot.xyz\", \"version\": 3, \"keyUsage\": \"[true, false, true, false, false, false, false, false, false]\", \"notAfter\": 1765607993000, \"notBefore\": 1757831994000, \"chainLength\": 2, \"serialNumber\": \"5b7cc90e3dfc1102de2869981906fa33f2e\", \"extendedKeyUsage\": [\"1.3.6.1.5.5.7.3.1\", \"1.3.6.1.5.5.7.3.2\"], \"publicKeyAlgorithm\": \"RSA\", \"signatureAlgorithm\": \"SHA256withRSA\", \"subjectAlternativeNames\": [\"*.nexiot.xyz\", \"*.tcp.nexiot.xyz\"]}', '2025-12-13 14:39:53', '不要在乎太多', '2025-07-24 18:47:35', '2025-07-28 13:49:37', 'test');
INSERT INTO `iot_certificate` (`id`, `ssl_key`, `name`, `cert_content`, `key_content`, `cert_password`, `key_password`, `cert_info`, `expire_time`, `remark`, `create_time`, `update_time`, `create_user`) VALUES (5, '68878a3f38fc3fc98f6ec1c2', '192886.xyz', '-----BEGIN CERTIFICATE-----\nMIIFCTCCA/GgAwIBAgISBh5YBq0fDvHG+QfuSUObDmDqMA0GCSqGSIb3DQEBCwUA\nMDMxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQwwCgYDVQQD\nEwNSMTEwHhcNMjUwNzI4MTEzMzM1WhcNMjUxMDI2MTEzMzM0WjAXMRUwEwYDVQQD\nDAwqLjE5Mjg4Ni54eXowggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCe\nZYpCQA2t+TuKC2rvi0m7OAp97zEy5MLS6/6ZRnho9YdpLw5p1Qo0hfXChQcRaGTR\nmQlhmubv0CEhA1UXqQcam+IbQ0nk6bJ3Fz5VFU2pdfvzOLDXQ9hxOLVcrqKbylE+\n2dkQItXtwT/RDJqwon22jeZtQeBn5+SzzwBWPQQlWRDRMC5QRTfg09BD94ZJdvL7\nkLbWHK72KtROkz3G84yvHnUBxaIX1rp5aC18NqN+J1W81cho8fbmWancM5LT0B9P\nduqEFnWLZg5heT59kcafW0upmk/ifV2LV407p7J0JhlyU8swtBVqUHAdPcm8wyHV\nEStCQyajwxmyehbCDBCrAgMBAAGjggIxMIICLTAOBgNVHQ8BAf8EBAMCBaAwHQYD\nVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0O\nBBYEFOYlP9rNteROmWK4ZVeOIriD7lDXMB8GA1UdIwQYMBaAFMXPRqTq9MPAemyV\nxC2wXpIvJuO5MDMGCCsGAQUFBwEBBCcwJTAjBggrBgEFBQcwAoYXaHR0cDovL3Ix\nMS5pLmxlbmNyLm9yZy8wKQYDVR0RBCIwIIIMKi4xOTI4ODYueHl6ghAqLmlvdC4x\nOTI4ODYueHl6MBMGA1UdIAQMMAowCAYGZ4EMAQIBMC8GA1UdHwQoMCYwJKAioCCG\nHmh0dHA6Ly9yMTEuYy5sZW5jci5vcmcvMTA3LmNybDCCAQYGCisGAQQB1nkCBAIE\ngfcEgfQA8gB3AKRCxQZJYGFUjw/U6pz7ei0mRU2HqX8v30VZ9idPOoRUAAABmFEE\nyrgAAAQDAEgwRgIhAImSDGmzwAF4JrEohgn9zujI/nyREjtxLTQ1jcEnBhWeAiEA\nyyml64Vh1Y9mTlGsj6v2sYFuiXNnUbzb/cE1KU0kI8YAdwDM+w9qhXEJZf6Vm1PO\n6bJ8IumFXA2XjbapflTA/kwNsAAAAZhRBMrUAAAEAwBIMEYCIQCOrCQeHoCnUUE2\nQV/3KzaQs/ig9FqGR/nTjC3agBRzfQIhAILx1LyEQ8jeJ3AP6ZLwnr31LBv2qJ4D\n8c8y2Gz/F1WmMA0GCSqGSIb3DQEBCwUAA4IBAQB//Iv2AevaA97+Glo2WtkeRjdk\n7AWuWsyR2tgQjV4XFD/SfKMH8aHpKYymhJCJV1MjUZXWWfetNQIxnEX7d3rmd8TR\nBMwI2ZMta0m9lwmaWipbkDZn18xwI/aD6vnE8uAr0pyBXipAgNJGY15QG4JYOOAT\npxCHP9j73n1jn8x7wRMrEmvxUdpkvFNwCrlJkyUtvYT3q/F1nWEVh/DhwyPuTdjd\nqOQc1CHGt9FV7jWtVE/dS8qpgAttBBc8bdP0W0u5CJNoB2aN+HsRVvx+6EdtFGIN\nLjnx2fpyCW6XXameewoP8QCdydfVIqkwsghpPSUp2oqil5vqanUnqtrNh97f\n-----END CERTIFICATE-----\n\n-----BEGIN CERTIFICATE-----\nMIIFBjCCAu6gAwIBAgIRAIp9PhPWLzDvI4a9KQdrNPgwDQYJKoZIhvcNAQELBQAw\nTzELMAkGA1UEBhMCVVMxKTAnBgNVBAoTIEludGVybmV0IFNlY3VyaXR5IFJlc2Vh\ncmNoIEdyb3VwMRUwEwYDVQQDEwxJU1JHIFJvb3QgWDEwHhcNMjQwMzEzMDAwMDAw\nWhcNMjcwMzEyMjM1OTU5WjAzMQswCQYDVQQGEwJVUzEWMBQGA1UEChMNTGV0J3Mg\nRW5jcnlwdDEMMAoGA1UEAxMDUjExMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB\nCgKCAQEAuoe8XBsAOcvKCs3UZxD5ATylTqVhyybKUvsVAbe5KPUoHu0nsyQYOWcJ\nDAjs4DqwO3cOvfPlOVRBDE6uQdaZdN5R2+97/1i9qLcT9t4x1fJyyXJqC4N0lZxG\nAGQUmfOx2SLZzaiSqhwmej/+71gFewiVgdtxD4774zEJuwm+UE1fj5F2PVqdnoPy\n6cRms+EGZkNIGIBloDcYmpuEMpexsr3E+BUAnSeI++JjF5ZsmydnS8TbKF5pwnnw\nSVzgJFDhxLyhBax7QG0AtMJBP6dYuC/FXJuluwme8f7rsIU5/agK70XEeOtlKsLP\nXzze41xNG/cLJyuqC0J3U095ah2H2QIDAQABo4H4MIH1MA4GA1UdDwEB/wQEAwIB\nhjAdBgNVHSUEFjAUBggrBgEFBQcDAgYIKwYBBQUHAwEwEgYDVR0TAQH/BAgwBgEB\n/wIBADAdBgNVHQ4EFgQUxc9GpOr0w8B6bJXELbBeki8m47kwHwYDVR0jBBgwFoAU\nebRZ5nu25eQBc4AIiMgaWPbpm24wMgYIKwYBBQUHAQEEJjAkMCIGCCsGAQUFBzAC\nhhZodHRwOi8veDEuaS5sZW5jci5vcmcvMBMGA1UdIAQMMAowCAYGZ4EMAQIBMCcG\nA1UdHwQgMB4wHKAaoBiGFmh0dHA6Ly94MS5jLmxlbmNyLm9yZy8wDQYJKoZIhvcN\nAQELBQADggIBAE7iiV0KAxyQOND1H/lxXPjDj7I3iHpvsCUf7b632IYGjukJhM1y\nv4Hz/MrPU0jtvfZpQtSlET41yBOykh0FX+ou1Nj4ScOt9ZmWnO8m2OG0JAtIIE38\n01S0qcYhyOE2G/93ZCkXufBL713qzXnQv5C/viOykNpKqUgxdKlEC+Hi9i2DcaR1\ne9KUwQUZRhy5j/PEdEglKg3l9dtD4tuTm7kZtB8v32oOjzHTYw+7KdzdZiw/sBtn\nUfhBPORNuay4pJxmY/WrhSMdzFO2q3Gu3MUBcdo27goYKjL9CTF8j/Zz55yctUoV\naneCWs/ajUX+HypkBTA+c8LGDLnWO2NKq0YD/pnARkAnYGPfUDoHR9gVSp/qRx+Z\nWghiDLZsMwhN1zjtSC0uBWiugF3vTNzYIEFfaPG7Ws3jDrAMMYebQ95JQ+HIBD/R\nPBuHRTBpqKlyDnkSHDHYPiNX3adPoPAcgdF3H2/W0rmoswMWgTlLn1Wu0mrks7/q\npdWfS6PJ1jty80r2VKsM/Dj3YIDfbjXKdaFU5C+8bhfJGqU3taKauuz0wHVGT3eo\n6FlWkWYtbt4pgdamlwVeZEW+LM7qZEJEsMNPrfC03APKmZsJgpWCDWOKZvkZcvjV\nuYkQ4omYCTX5ohy+knMjdOmdH9c7SpqEWBDC86fiNex+O0XOMEZSa8DA\n-----END CERTIFICATE-----\n', '-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAnmWKQkANrfk7igtq74tJuzgKfe8xMuTC0uv+mUZ4aPWHaS8O\nadUKNIX1woUHEWhk0ZkJYZrm79AhIQNVF6kHGpviG0NJ5Omydxc+VRVNqXX78ziw\n10PYcTi1XK6im8pRPtnZECLV7cE/0QyasKJ9to3mbUHgZ+fks88AVj0EJVkQ0TAu\nUEU34NPQQ/eGSXby+5C21hyu9irUTpM9xvOMrx51AcWiF9a6eWgtfDajfidVvNXI\naPH25lmp3DOS09AfT3bqhBZ1i2YOYXk+fZHGn1tLqZpP4n1di1eNO6eydCYZclPL\nMLQValBwHT3JvMMh1RErQkMmo8MZsnoWwgwQqwIDAQABAoIBAEfhkp3ADbUuzps1\n1UCB+GLS6sf9vVj4QYWQfUi3lzsieWH9bdAPUwNE66Nr1SpMMrx/c6dssXKRBAfE\nSGBlX4juxuxSW/1bJJcw4COieEz38u+MgYwfCOFQt9UolziV1srr97p/5I9xzHEl\nBCo2g1BOEwzwAVOGA96piOCZ7gC4NMdBMm8OWqjOUAopqV15dsaIZ9A7YwPf7qmN\n8ntWGlaD/ZTn8F/xJt370/AhfzvMGnvyl0TC02mg91dl4KcCui4jFva2HYZnlH/a\nlMYXPsQJC5Eds7gN8Sd1nnwFX27oT7nSGbSKS3D6E2Yrd8yAxfHzYHQpdnE+YHgK\nR4lPlYECgYEAxylBeilj/mOjJAVVexhHoWCBLvVc1n4NCXSFu2IhtfaraeGI8/Q+\nKWSe1rmAxKONmJpe3RtEU+rwlg8HrtN7TkbpOZhaiTsfkiOwVZpjLrRm4hxFmSMk\nhDIqNp4KCwd1iLtcu8k4wYrBFShjvpXUVBtA+9vpmOmwFgjhOBrshmsCgYEAy5oF\nzy+yInQeL1f3xXXd4TLP2TKOA4fwC/bkSXpGBNonc0VOQS86naxK0wv3Y4eV44Y3\nx7vNvd5SbBqqCQYT9M7WPnvghVGQyY9idMO2WImLK4hYQvoJc0aCUnYXO6vw3hin\nnZ0+v0bzWNqkgRgj1Nr3lDDR0H+3SzA9eAKarsECgYEAt0ehKSHkEpxw6to5wzEh\n4kHkQGmuiPmxV60y0LHLIiChuKvEE/UGK6OchTBrbwqwaOpPOJ06MRv5Ua79PAcE\n55FcWhN55eZR9HQBd5W/hqCgOZ8Y8YekuD9OF7sytNmlcTIzceEI6Rue+rCTsjVC\nFDCMifrkK0OLN4vub2pflocCgYA6avMHw3OlFxQiGWdqLKuBFgc1FqBQuwxRIoHV\n41N7yOxQ0q3lXhu/adP+Qgy1bg2/vp76nBQoSkXz5qKq/Cd1snMecoS1O/YDHzTs\ns8r6FFzuHKzWas+TV8PEzUVVRbxSvVg6jQeX8k+YSwOwVrDRPhKTXn6VCFAbLrg0\nWurvAQKBgH9DEAy0UUdPMwlrbOMd//c5hSlojJU230+U/CH1HofRYLHAlixOr8EP\nwrH1TNowgCFEEv6AaW+ovX9UHeVQxXbg93wZyIgYMikykzwgeCck0K8LT4UYaaen\nWYw6Dd6JqqOrl6VLxjhwiyyeznXcN2DRAC4j8dxRQmFSTFOBb7Xn\n-----END RSA PRIVATE KEY-----\n', '1122', '1122', '{\"issuer\": \"CN=R11,O=Let\'s Encrypt,C=US\", \"subject\": \"CN=*.192886.xyz\", \"version\": 3, \"keyUsage\": \"[true, false, true, false, false, false, false, false, false]\", \"notAfter\": 1761478414000, \"notBefore\": 1753702415000, \"chainLength\": 2, \"serialNumber\": \"61e5806ad1f0ef1c6f907ee49439b0e60ea\", \"extendedKeyUsage\": [\"1.3.6.1.5.5.7.3.1\", \"1.3.6.1.5.5.7.3.2\"], \"publicKeyAlgorithm\": \"RSA\", \"signatureAlgorithm\": \"SHA256withRSA\", \"subjectAlternativeNames\": [\"*.192886.xyz\", \"*.iot.192886.xyz\"]}', '2025-10-26 19:33:34', '*.iot.192886.xyz', '2025-07-28 22:33:35', '2025-07-28 22:33:35', 'iot');
COMMIT;

-- ----------------------------
-- Table structure for iot_dashboard_statistics
-- ----------------------------
DROP TABLE IF EXISTS `iot_dashboard_statistics`;
CREATE TABLE `iot_dashboard_statistics` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `stat_date` date NOT NULL COMMENT '统计日期',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '产品Key，NULL表示全产品',
  `channel` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '推送渠道，NULL表示全渠道',
  `metric_type` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '指标类型(device_total/device_online/message_total/message_success/message_failed)',
  `metric_value` bigint NOT NULL DEFAULT '0' COMMENT '指标值',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uk_date_product_channel_metric` (`stat_date`,`product_key`,`channel`,`metric_type`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='仪表盘统计表';

-- ----------------------------
-- Records of iot_dashboard_statistics
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_data_bridge_config
-- ----------------------------
DROP TABLE IF EXISTS `iot_data_bridge_config`;
CREATE TABLE `iot_data_bridge_config` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '配置名称',
  `source_scope` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'ALL_PRODUCTS' COMMENT '源范围：ALL_PRODUCTS/SPECIFIC_PRODUCTS/APPLICATION',
  `source_product_keys` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '源产品KEY列表JSON（source_scope=SPECIFIC_PRODUCTS时使用）',
  `source_application_id` bigint DEFAULT NULL COMMENT '源应用ID（source_scope=APPLICATION时使用）',
  `target_resource_id` bigint NOT NULL COMMENT '目标资源ID（不加外键约束）',
  `bridge_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '桥接类型(JDBC,KAFKA,MQTT,HTTP,IOTDB,INFLUXDB等)',
  `template` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '模板内容（SQL、JSON等）',
  `magic_script` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT 'Magic脚本内容（用户自定义处理逻辑）',
  `config` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '统一配置JSON',
  `status` tinyint DEFAULT '1' COMMENT '状态(0:禁用,1:启用)',
  `description` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '描述',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `create_by` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '创建者',
  `update_by` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '更新者',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `idx_source_scope` (`source_scope`) USING BTREE,
  KEY `idx_target_resource_id` (`target_resource_id`) USING BTREE,
  KEY `idx_bridge_type` (`bridge_type`) USING BTREE,
  KEY `idx_status` (`status`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='数据桥接配置表';

-- ----------------------------
-- Records of iot_data_bridge_config
-- ----------------------------
BEGIN;
INSERT INTO `iot_data_bridge_config` (`id`, `name`, `source_scope`, `source_product_keys`, `source_application_id`, `target_resource_id`, `bridge_type`, `template`, `magic_script`, `config`, `status`, `description`, `create_time`, `update_time`, `create_by`, `update_by`) VALUES (1, '水浸(门磁)、电表数据写入客户的数据库', 'SPECIFIC_PRODUCTS', '[\"HnDdSnj1kiQg\",\"8ALHPgij2ZDW\",\"68beda0c1c9e0d2b7943b826\",\"3QAz7HuahAGN\",\"xbE2CHuBdtBB\",\"bKFSm8yKgyGS\",\"p0B2kKqdJD8M\",\"RpZ3VQIa6YE2\",\"lWAUlCmM53UF\",\"FzpVZ9unsUvU\",\"wZy6Cf16c0oH\",\"68e5bcf0935e6d553cdda73b\"]', NULL, 6, 'JDBC', 'INSERT INTO device_data(\n    device_id, product_key, device_name, iot_id,\n    device_node, message_type, properties, raw_data\n) VALUES(\n    #{deviceId}, #{productKey}, #{deviceName}, #{iotId},\n    #{deviceNode}, #{messageType}, #{properties}, \n   #{properties.temperture}\n);', '', '', 1, '水浸(门磁)、电表数据写入客户的数据库', '2025-10-08 07:35:47', '2025-12-04 10:00:18', 'demo', 'nexiot');
INSERT INTO `iot_data_bridge_config` (`id`, `name`, `source_scope`, `source_product_keys`, `source_application_id`, `target_resource_id`, `bridge_type`, `template`, `magic_script`, `config`, `status`, `description`, `create_time`, `update_time`, `create_by`, `update_by`) VALUES (3, '电表写入PostgreSQL18', 'ALL_PRODUCTS', '[]', NULL, 12, 'JDBC', 'INSERT INTO device_data(\n    device_id, product_key, device_name, iot_id,\n    device_node, message_type, properties, raw_data\n) VALUES(\n    #{deviceId}, #{productKey}, #{deviceName}, #{iotId},\n    #{deviceNode}, #{messageType}, #{properties}, \n   #{properties.temperture}\n);', '', '', 1, '', '2025-12-03 21:16:11', '2025-12-04 13:09:17', 'nexiot', 'nexiot');
INSERT INTO `iot_data_bridge_config` (`id`, `name`, `source_scope`, `source_product_keys`, `source_application_id`, `target_resource_id`, `bridge_type`, `template`, `magic_script`, `config`, `status`, `description`, `create_time`, `update_time`, `create_by`, `update_by`) VALUES (4, 'SQL_SERVER_2022', 'ALL_PRODUCTS', '[]', NULL, 13, 'JDBC', 'INSERT INTO device_data(\n    device_id, product_key, device_name, iot_id,\n    device_node, message_type, properties, raw_data\n) VALUES(\n    #{deviceId}, #{productKey}, #{deviceName}, #{iotId},\n    #{deviceNode}, #{messageType}, #{properties}, \n   #{properties.temperture}\n);', '', '', 1, '', '2025-12-03 21:20:50', '2025-12-04 10:03:00', 'nexiot', 'nexiot');
COMMIT;

-- ----------------------------
-- Table structure for iot_data_input_log
-- ----------------------------
DROP TABLE IF EXISTS `iot_data_input_log`;
CREATE TABLE `iot_data_input_log` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `config_id` bigint NOT NULL COMMENT '配置ID',
  `config_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '配置名称',
  `source_system` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '源系统',
  `message_count` int DEFAULT '0' COMMENT '消息数量',
  `success_count` int DEFAULT '0' COMMENT '成功数量',
  `failed_count` int DEFAULT '0' COMMENT '失败数量',
  `error_message` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '错误信息',
  `execution_time` bigint DEFAULT '0' COMMENT '执行时间(毫秒)',
  `status` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '状态：SUCCESS,FAILED,RUNNING',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `create_by` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '创建者',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `idx_config_id` (`config_id`) USING BTREE,
  KEY `idx_status` (`status`) USING BTREE,
  KEY `idx_create_time` (`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='数据输入日志表';

-- ----------------------------
-- Records of iot_data_input_log
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_data_input_task
-- ----------------------------
DROP TABLE IF EXISTS `iot_data_input_task`;
CREATE TABLE `iot_data_input_task` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `config_id` bigint NOT NULL COMMENT '配置ID',
  `task_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '任务名称',
  `task_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '任务类型：SCHEDULED-定时，REALTIME-实时',
  `cron_expression` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Cron表达式',
  `last_execution_time` datetime DEFAULT NULL COMMENT '最后执行时间',
  `next_execution_time` datetime DEFAULT NULL COMMENT '下次执行时间',
  `status` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'STOPPED' COMMENT '状态：RUNNING,STOPPED,ERROR',
  `error_message` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '错误信息',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `create_by` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '创建者',
  `update_by` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '更新者',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uk_config_id` (`config_id`) USING BTREE,
  KEY `idx_status` (`status`) USING BTREE,
  KEY `idx_next_execution_time` (`next_execution_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='数据输入任务表';

-- ----------------------------
-- Records of iot_data_input_task
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device
-- ----------------------------
DROP TABLE IF EXISTS `iot_device`;
CREATE TABLE `iot_device` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `iot_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '本平台设备唯一标识符',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '设备自身序号',
  `ext_device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '第三方平台设备ID唯一标识符',
  `derive_metadata` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '派生元数据,有的设备的属性，功能，事件可能会动态的添加',
  `configuration` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '其他配置',
  `product_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '产品名称',
  `gw_product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '网关产品ProductKey',
  `device_secret` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '1设备密钥',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '产品实例',
  `device_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '设备实例名称',
  `creator_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `instance` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT '0' COMMENT '实例名称',
  `application` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '归属应用',
  `state` tinyint(1) DEFAULT NULL COMMENT '0-离线，1-在线',
  `detail` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '说明',
  `create_time` bigint unsigned DEFAULT NULL COMMENT '创建时间',
  `registry_time` bigint unsigned DEFAULT NULL COMMENT '激活时间',
  `online_time` bigint unsigned DEFAULT NULL COMMENT '最后通信时间',
  `areas_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '区域ID',
  `coordinate` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '坐标',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '扩展字段1',
  `ext2` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '扩展字段2',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '扩展字段3',
  `ext4` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '扩展字段4',
  `signal_strength` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT 'CSQ信号强度',
  `device_tag` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '设备标签',
  `device_address` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '设备地址',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `idx_device_id` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_device_name` (`device_name`) USING BTREE,
  KEY `idx_creator_id` (`creator_id`) USING BTREE,
  KEY `idx_online` (`product_key`,`state`,`online_time`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=290 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='设备表';

-- ----------------------------
-- Records of iot_device
-- ----------------------------
BEGIN;
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (29, '681c0775c2dc427d0480ab5fov00014111', 'ov00014111', NULL, NULL, '{}', '智能插座', NULL, NULL, '681c0775c2dc427d0480ab5f', 'ov00014111', 'demo', NULL, '1938504461874020352', 0, NULL, 1752404370, 1752404390, 1756191802, '542521', '81.314141,31.081598', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (30, '681c0775c2dc427d0480ab5fov00014117', 'ov00014117', NULL, NULL, '{}', '智能插座', NULL, NULL, '681c0775c2dc427d0480ab5f', '潜江雅园1号楼底商店铺', 'demo', NULL, '1938504461874020352', 0, NULL, 1752404372, 1752404390, 1756191802, '542521', '81.314141,31.081598', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (32, '681c0775c2dc427d0480ab5fov00014112', 'ov00014112', NULL, NULL, '{}', '智能插座', NULL, NULL, '681c0775c2dc427d0480ab5f', '小导向', 'demo', NULL, '1938504461874020352', 0, NULL, 1752404424, 1752404462, 1756191802, '542521', '81.314141,31.081598', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (34, '38fc80e00010107', '00010107', NULL, NULL, '{}', '开关面板-文档版', NULL, NULL, '38fc80e', '文档设备', 'demo', NULL, '1976893029855965184', 0, NULL, 1753802579, 1753765134, 1756963396, '542521', '120.291848,30.448023', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (41, '688cd92fdb9e0158872f4aa9docsmqtt004', 'docsmqtt004', NULL, NULL, '{}', '开关面板-MQTT-doc编写', NULL, NULL, '688cd92fdb9e0158872f4aa9', '文档编写004', 'demo', NULL, '1986249439953772544', 0, NULL, 1754208378, 1754096238, 1755011523, NULL, '123.778233,41.899421', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (47, 'lB0Tl1rgf8uzDT2025001', 'DT2025001', NULL, NULL, '{\"subdeviceMapping\":{}}', '网关DTU(面板)', NULL, NULL, 'lB0Tl1rgf8uz', '1层网关', 'demo', NULL, '1990330545858543616', 0, NULL, 1754811100, 1764149893, 1764150427, NULL, '84.74627,36.478393', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (55, '681c0775c2dc427d0480ab5fov0000004', 'ov0000004', NULL, NULL, '{}', '智能插座', NULL, NULL, '681c0775c2dc427d0480ab5f', '演示mqtt', 'demo', NULL, '1938504461874020352', 0, '验证应用推送', 1756559330, 1755419990, 1757558373, NULL, '117.913675,31.766668', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (57, 'HnDdSnj1kiQg250707ea8dda', '250707ea8dda', NULL, NULL, '{\"iccid\":\"89861125215083439128\"}', '2P单相挂式电表', NULL, NULL, 'HnDdSnj1kiQg', '4G电表（DLT645-2007）', 'demo', NULL, '1938504461874020352', 1, NULL, 1782604370, 1757061224, 1765263667, NULL, '120.674996,30.609196', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (77, '68beda0c1c9e0d2b7943b826865098070326549', '865098070326549', 'd4c7040bb7e24778b4d6fc0e13f05a33', NULL, '{\"imei\":\"865098070326549\"}', '门磁传感器', NULL, NULL, '68beda0c1c9e0d2b7943b826', '水浸传感器(天翼物联NB)', 'demo', NULL, '1938504461874020352', 1, NULL, 1782604320, 1757338409, 1765220896, NULL, '120.642037,30.636376', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (78, 'jJi6xIj0sZfc240707ea8dda', '240707ea8dda', NULL, NULL, '{\"iccid\":\"89861125215083439128\"}', 'UDP验证', NULL, NULL, 'jJi6xIj0sZfc', '240707ea8dda', 'demo', NULL, '1990330545858543616', 0, NULL, 1758091173, 1758091173, 1758674478, NULL, '81.314141,31.081598', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (80, 'pbJNWPtDJp7a9E06F25PCGEA69C', '9E06F25PCGEA69C', NULL, NULL, '{\"appKey\":\"L2240943\",\"discardValue\":0,\"channelList\":[{\"channelName\":\"4G相机-对着645电表旁边灯\",\"channelStatus\":\"online\",\"channelAbility\":\"BreathingLight,SLAlarm,LocalRecord,Siren,LinkageSiren,WhiteLight,WLV3,TimeFormat,LinkDevAlarm,PlaySound,TimingGraphics,TLSEnable,LRRF,LRRB,PTZ,PT,PTZ1,PT1,PTZS,FrameReverse,MDW,MDS,HeaderDetect,CollectionPoint,SmartTrack,MobileDetect,AiHumanCar,AiHuman,AiCar,WideDynamic,ChnWhiteLight,ChnSiren,AHS,NVM,LEDS,WLM,RSRS,LocalStorage,CloudStorage,LocalStorageEnable,other,AudioTalk,AudioTalkV1,CallByRtsp,PBSV1,PBSV2,TSV2,TSV1,RTSV2,RTSV1,TCM,PlaybackByFilename,HSEncrypt,Reboot,AudioEncodeControlV2,ChnLocalStorage,SIMCA,SIMV1,RQD,OSD,VC,RemoteControl,UOIF\",\"channelId\":0}]}', '乐橙云（imou)4G球机', NULL, NULL, 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', 'demo', NULL, '1972467796055105536', 0, NULL, 1762604370, 1758350067, 1764592535, NULL, '80.95192,44.594432', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (100, 'pbJNWPtDJp7a42EB6BBPSF7C77D', '42EB6BBPSF7C77D', NULL, NULL, '{\"appKey\":\"L295EAD3\",\"channelList\":[{\"channelAbility\":\"SmartTrack,CRMD,CRMDR,CRMDSENS,other\",\"channelId\":0,\"channelName\":\"移动镜头\",\"channelStatus\":\"online\"}],\"discardValue\":0}', '乐橙云（imou)4G球机', NULL, NULL, 'pbJNWPtDJp7a', '群友赞助相机（双目）', 'demo', NULL, '1972467796055105536', 1, NULL, 1762604370, 1758350067, 1765244803, NULL, '80.95192,44.594432', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (105, 'RpZ3VQIa6YE2860048070262660', '860048070262660', NULL, NULL, '{\"iccid\":null,\"subdeviceMapping\":{\"1\":{\"productKey\":\"mVnhk9Vk40Ga\",\"productName\":\"三色声光报警器\"},\"2\":{\"productKey\":\"bKFSm8yKgyGS\",\"productName\":\"光照温湿度子设备(TCP)\"},\"9\":{\"productKey\":\"FzpVZ9unsUvU\",\"productName\":\"七色灯泡\"}}}', 'DTU-Modbus(MQTT通道)', NULL, NULL, 'RpZ3VQIa6YE2', '塔石Modbus-DTU(MQTT-通道2)', 'demo', NULL, '1980473592185585664', 1, NULL, 1772604370, 1760411379, 1765263609, NULL, '81.314141,31.081598', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (106, 'lWAUlCmM53UF860048070262660', '860048070262660', NULL, NULL, '{\"iccid\":\"89861125206094826437\",\"subdeviceMapping\":{\"1\":{\"productKey\":\"mVnhk9Vk40Ga\",\"productName\":\"三色声光报警器\"},\"2\":{\"productKey\":\"bKFSm8yKgyGS\",\"productName\":\"光照温湿度子设备(TCP)\"},\"9\":{\"productKey\":\"FzpVZ9unsUvU\",\"productName\":\"七色灯泡\"}}}', 'DTU-Modbus(TCP通道)', NULL, NULL, 'lWAUlCmM53UF', '塔石Modbus-DTU(TCP-通道1)', 'demo', NULL, '1938504461874020352', 1, '', 1772604370, 1760412509, 1765263607, NULL, '81.314141,31.081598', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (163, 'p0B2kKqdJD8M860048070262660-2', '860048070262660-2', '860048070262660', NULL, '{\"slaveAddress\":\"2\"}', '光照温湿度子设备(MQTT)', 'RpZ3VQIa6YE2', NULL, 'p0B2kKqdJD8M', '温湿度子设备(MQTT)-地址2', 'demo', NULL, '1938504461874020352', 1, NULL, 1772604370, 1760687899, 1765263606, NULL, '80.990372,44.61081', '2', NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (167, 'bKFSm8yKgyGS860048070262660-2', '860048070262660-2', '860048070262660', NULL, '{\"slaveAddress\":\"2\"}', '光照温湿度子设备(TCP)', 'lWAUlCmM53UF', NULL, 'bKFSm8yKgyGS', '温湿度子设备(TCP)-地址2', 'demo', NULL, '1938504461874020352', 1, NULL, 1772604370, 1760697498, 1765263607, NULL, '80.990372,44.61081', '2', NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (175, 'xbE2CHuBdtBB89861590112330001924', '89861590112330001924', NULL, NULL, '{\"iccid\":null,\"subdeviceMapping\":{\"2\":{\"productKey\":\"3QAz7HuahAGN\",\"productName\":\"光照温湿度子设备(MQTT-RTU)\"}}}', 'DTU-Modbus(MQTT-RTU格式)', NULL, NULL, 'xbE2CHuBdtBB', '塔石Modbus-DTU(MQTT-通道3)', 'demo', NULL, '1938504461874020352', 0, NULL, 1772604370, 1760753147, 1764606490, NULL, '31.081598,81.314141', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (197, '3QAz7HuahAGN89861590112330001924-2', '89861590112330001924-2', '89861590112330001924', NULL, '{\"slaveAddress\":\"2\"}', '光照温湿度子设备(MQTT-RTU)', 'xbE2CHuBdtBB', NULL, '3QAz7HuahAGN', '通道2子设备', 'demo', NULL, '1938504461874020352', 0, NULL, 1772604370, 1760835182, 1764606481, NULL, '80.990372,44.61081', '2', NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (200, 'FzpVZ9unsUvU860048070262660-9', '860048070262660-9', '860048070262660', NULL, '{\"slaveAddress\":\"9\"}', '七色灯泡', 'lWAUlCmM53UF', NULL, 'FzpVZ9unsUvU', '声光报警器-9', 'demo', NULL, '1990252075166093312', 1, NULL, 1782604370, 1761305199, 1765263607, NULL, '81.200486,44.499742', '9', NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (205, 'pbJNWPtDJp8M0132EPCG1150F', '8M0132EPCG1150F', NULL, NULL, '{\"appKey\":\"L2A1E85C\",\"discardValue\":0,\"channelList\":[{\"channelName\":\"无人仓库\",\"channelStatus\":\"online\",\"channelAbility\":\"BreathingLight,SLAlarm,LocalRecord,Siren,LinkageSiren,WhiteLight,WLV3,TimeFormat,LinkDevAlarm,PlaySound,TimingGraphics,TLSEnable,LRRF,LRRB,PTZ,PT,PTZ1,PT1,PTZS,FrameReverse,MDW,MDS,HeaderDetect,CollectionPoint,SmartTrack,MobileDetect,AiHumanCar,AiHuman,AiCar,WideDynamic,ChnWhiteLight,ChnSiren,AHS,NVM,LEDS,WLM,RSRS,LocalStorage,CloudStorage,LocalStorageEnable,other,AudioTalk,AudioTalkV1,CallByRtsp,PBSV1,PBSV2,TSV2,TSV1,RTSV2,RTSV1,TCM,PlaybackByFilename,HSEncrypt,Reboot,AudioEncodeControlV2,ChnLocalStorage,SIMCA,SIMV1,RQD,OSD,VC,RemoteControl,UOIF\",\"channelId\":0}]}', '乐橙云（imou)4G球机', NULL, NULL, 'pbJNWPtDJp7a', '4G相机-无人仓库', 'iot', NULL, '1972467796055105536', 1, NULL, 1762604370, 1758350067, 1765244803, NULL, '80.95192,44.594432', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (206, 'pbJNWPtDJp7F01F14PAZA5543', '7F01F14PAZA5543', NULL, NULL, '{\"appKey\":\"L24ADB5A\",\"discardValue\":0,\"channelList\":[{\"channelName\":\"钓鱼祠堂\",\"channelStatus\":\"online\",\"channelAbility\":\"BreathingLight,SLAlarm,LocalRecord,Siren,LinkageSiren,WhiteLight,WLV3,TimeFormat,LinkDevAlarm,PlaySound,TimingGraphics,TLSEnable,LRRF,LRRB,PTZ,PT,PTZ1,PT1,PTZS,FrameReverse,MDW,MDS,HeaderDetect,CollectionPoint,SmartTrack,MobileDetect,AiHumanCar,AiHuman,AiCar,WideDynamic,ChnWhiteLight,ChnSiren,AHS,NVM,LEDS,WLM,RSRS,LocalStorage,CloudStorage,LocalStorageEnable,other,AudioTalk,AudioTalkV1,CallByRtsp,PBSV1,PBSV2,TSV2,TSV1,RTSV2,RTSV1,TCM,PlaybackByFilename,HSEncrypt,Reboot,AudioEncodeControlV2,ChnLocalStorage,SIMCA,SIMV1,RQD,OSD,VC,RemoteControl,UOIF\",\"channelId\":0}]}', '乐橙云（imou)4G球机', NULL, NULL, 'pbJNWPtDJp7a', '钓鱼祠堂', 'demo', NULL, '1972467796055105536', 1, NULL, 1762604370, 1758350067, 1765244696, NULL, '80.95192,44.594432', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (210, 'mVnhk9Vk40Ga860048070262660-1', '860048070262660-1', '860048070262660', NULL, '{\"slaveAddress\":\"1\"}', '三色声光报警器', 'lWAUlCmM53UF', NULL, 'mVnhk9Vk40Ga', '三色声光报警（巨响）', 'demo', NULL, NULL, 0, NULL, 1772604370, 1761977692, 1763785804, NULL, '80.990372,44.61081', '1', NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (224, 'inner_wvp_12334020000001320000001', '34020000001320000001', NULL, '{}', '{\"manufacturer\":\"\"}', 'WVP国标视频', 'inner_wvp_123', NULL, 'inner_wvp_123', 'GB2828球机-借', 'demo', '0', '1989543760438161408', 0, NULL, 1834855104, 1762664377, 1765111805, NULL, '80.990372,44.61081', '{\"thirdPartyDeviceId\":null}', NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (228, 'inner_wvp_12334020000001110717438', '34020000001110717438', NULL, '{}', '{\"manufacturer\":\"TSINGSEE\"}', 'WVP国标视频', 'inner_wvp_123', NULL, 'inner_wvp_123', 'EasyGBD-717438', 'demo', '0', NULL, 0, NULL, 1762941756, 1762955247, 1763092315, NULL, NULL, '{\"thirdPartyDeviceId\":null}', NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (230, 'jt808018220444386', '018220444386', NULL, NULL, '{\"iccid\":\"898608851925D2047103\"}', '4G-JT808定位器', NULL, NULL, 'jt808', '沪A88688-JT808', 'iot', NULL, NULL, 1, NULL, 1788762310, 1762998247, 1765263679, NULL, '120.221117,30.206424', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (233, 'jt808085530427757', '085530427757', NULL, NULL, '{\"iccid\":\"898608851925D2047104\"}', '4G-JT808定位器', NULL, NULL, 'jt808', '鲁A86668-JT808-O', 'iot', NULL, NULL, 0, NULL, 1788762310, 1763033628, 1763606688, NULL, '120.217440,30.207308', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (235, 'jt808037270735873', '037270735873', NULL, NULL, '{\"iccid\":\"89860804042390039828\"}', '4G-JT808定位器', NULL, NULL, 'jt808', '037270735873', 'iot', NULL, NULL, 0, NULL, 1763268159, 1763268171, 1764234130, NULL, '120.171471,30.216017', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (236, 'jt808069509769807', '069509769807', NULL, NULL, '{\"iccid\":\"89860412102580055045\"}', '4G-JT808定位器', NULL, NULL, 'jt808', '069509769807', 'iot', NULL, NULL, 1, NULL, 1763268313, 1763268316, 1765263643, NULL, '120.203691,30.154869', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (237, 'HnDdSnj1kiQg241031d76ca4', '241031d76ca4', NULL, NULL, '{\"iccid\":\"89861125206084442724\"}', '2P单相挂式电表', NULL, NULL, 'HnDdSnj1kiQg', '241031d76ca4', 'demo', NULL, '1990330545858543616', 0, NULL, 1763271907, 1763271919, 1763272015, NULL, '81.314141,31.081598', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (238, 'HnDdSnj1kiQg250707bcaca3', '250707bcaca3', NULL, NULL, '{\"iccid\":\"89861125215083406747\"}', '2P单相挂式电表', NULL, NULL, 'HnDdSnj1kiQg', '250707bcaca3', 'demo', NULL, NULL, 0, NULL, 1763272497, 1763272509, 1763272545, NULL, '81.314141,31.081598', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (257, 'jt808066508427279', '066508427279', NULL, NULL, '{\"iccid\":\"89860875102590549476\"}', '4G-JT808定位器', NULL, NULL, 'jt808', '066508427279', 'auto_register', NULL, NULL, 0, NULL, 1763786263, 1763786275, 1765249147, NULL, '120.203722,30.154879', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (258, '9r08rFICF3bo861213059936242', '861213059936242', NULL, NULL, '{\"iccid\":\"89861125204091243722\"}', '有人DTU网关（TCP）', NULL, NULL, '9r08rFICF3bo', '有人DTU(USR-G770)', 'demo', NULL, NULL, 1, NULL, 1782604370, 1763793375, 1765263607, NULL, '31.081598,81.314141', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (259, 'mVnhk9Vk40Ga861213059936242-1', '861213059936242-1', '861213059936242', NULL, '{\"slaveAddress\":\"1\"}', '三色声光报警器（巨响）', '9r08rFICF3bo', NULL, 'mVnhk9Vk40Ga', '三色声光报警器(有人DTU)', 'demo', NULL, '1986249439953772544', 1, NULL, 1772604370, 1763796459, 1765263004, NULL, '80.990372,44.61081', '1', NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (260, 'jt808071511767933', '071511767933', NULL, NULL, '{\"iccid\":\"89860875102590549475\"}', '4G-JT808定位器', NULL, NULL, 'jt808', '071511767933', 'auto_register', NULL, NULL, 0, NULL, 1763802931, 1763802943, 1763802967, NULL, '114.112864,22.769247', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (268, 'lB0Tl1rgf8uzabc1233321', 'abc1233321', NULL, NULL, '{}', '网关DTU(面板)', NULL, NULL, 'lB0Tl1rgf8uz', 'abc1233321', 'auto_register', NULL, NULL, 0, NULL, 1764151081, 1764151087, 1764166333, NULL, '81.314141,31.081598', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (269, 'lB0Tl1rgf8uzabc234123', 'abc234123', NULL, NULL, '{}', '网关DTU(面板)', NULL, NULL, 'lB0Tl1rgf8uz', 'abc234123', 'auto_register', NULL, NULL, 0, NULL, 1764166351, 1764166357, 1764210014, NULL, '81.314141,31.081598', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (270, 'mVnhk9Vk40Ga861213059936242-2', '861213059936242-2', '861213059936242', NULL, '{\"slaveAddress\":\"2\"}', '三色声光报警器（巨响）', '9r08rFICF3bo', NULL, 'mVnhk9Vk40Ga', '2222', 'demo', NULL, NULL, 1, '123', 1764168223, 1765217284, 1765217284, NULL, '80.990372,44.61081', '2', NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (271, 'mVnhk9Vk40Ga861213059936242-4', '861213059936242-4', '861213059936242', NULL, '{\"slaveAddress\":\"4\"}', '三色声光报警器（巨响）', '9r08rFICF3bo', NULL, 'mVnhk9Vk40Ga', '33', 'demo', NULL, NULL, 0, '12434', 1764168291, NULL, NULL, NULL, '80.990372,44.61081', '4', NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (273, 'Ru871cfJjhoMnex123321', 'nex123321', NULL, NULL, '{}', '期望值', NULL, NULL, 'Ru871cfJjhoM', '期望值验证', 'nexiot', NULL, '1938504461874020352', 0, NULL, 1764485292, 1764490559, 1764817641, NULL, '80.990372,44.61081', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (282, 'xbE2CHuBdtBB89861125206094826437', '89861125206094826437', NULL, NULL, '{\"iccid\":null}', 'DTU-394-Modbus(MQTT-RTU格式)', NULL, NULL, 'xbE2CHuBdtBB', '89861125206094826437', 'auto_register', NULL, NULL, 1, NULL, 1764849180, 1764849185, 1765263607, NULL, '81.314141,31.081598', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (283, 'inner_wvp_12333030000001320000001', '33030000001320000001', NULL, '{}', '{\"manufacturer\":\"\"}', 'WVP国标视频', 'inner_wvp_123', NULL, 'inner_wvp_123', 'GB28281-球机-走廊', 'demo', '0', NULL, 1, NULL, 1864855018, 1864855018, 1765195769, NULL, '80.990372,44.61081', '{\"thirdPartyDeviceId\":null}', NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (287, 'VDscp2z6BPdLnexiotDefaultId', 'nexiotDefaultId', NULL, NULL, '{}', 'test', NULL, NULL, 'VDscp2z6BPdL', 'nexiotDefaultId', 'auto_register', NULL, NULL, 0, NULL, 1765022068, 1765022080, 1765028778, NULL, '81.314141,31.081598', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (288, 'VDscp2z6BPdLXxcSZ', 'XxcSZ', NULL, NULL, '{}', 'test', NULL, NULL, 'VDscp2z6BPdL', 'CXScS', 'test', NULL, NULL, 0, NULL, 1765202593, NULL, NULL, NULL, '80.990372,44.61081', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `iot_device` (`id`, `iot_id`, `device_id`, `ext_device_id`, `derive_metadata`, `configuration`, `product_name`, `gw_product_key`, `device_secret`, `product_key`, `device_name`, `creator_id`, `instance`, `application`, `state`, `detail`, `create_time`, `registry_time`, `online_time`, `areas_id`, `coordinate`, `ext1`, `ext2`, `ext3`, `ext4`, `signal_strength`, `device_tag`, `device_address`) VALUES (289, 'tdt5iRUu1OdK12', '12', NULL, NULL, '{}', 'cs', NULL, NULL, 'tdt5iRUu1OdK', '12', 'test', NULL, NULL, 0, NULL, 1765261092, NULL, NULL, NULL, '80.990372,44.61081', NULL, NULL, NULL, NULL, NULL, NULL, NULL);
COMMIT;

-- ----------------------------
-- Table structure for iot_device_fence_rel
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_fence_rel`;
CREATE TABLE `iot_device_fence_rel` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `fence_id` bigint NOT NULL COMMENT '围栏id',
  `iot_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一标识符',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备序列号',
  `creator_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '创建人',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备和围栏中间表';

-- ----------------------------
-- Records of iot_device_fence_rel
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_function_history
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_function_history`;
CREATE TABLE `iot_device_function_history` (
  `id` bigint NOT NULL,
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '产品key',
  `iot_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备序列号',
  `device_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `ext_param` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '{}' COMMENT '额外参数',
  `down_state` tinyint DEFAULT NULL COMMENT '指令配置状态  0.待下发；1.下发中；2.已下发',
  `down_result` tinyint DEFAULT NULL COMMENT '下发结果 0.失败  1.成功',
  `down_error` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '异常信息',
  `task_id` bigint DEFAULT NULL COMMENT '所属任务id',
  `update_time` datetime DEFAULT NULL COMMENT '下发时间',
  `retry` int DEFAULT '0' COMMENT '下发次数',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备功能批量下发历史';

-- ----------------------------
-- Records of iot_device_function_history
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_function_history` (`id`, `product_key`, `iot_id`, `device_id`, `device_name`, `ext_param`, `down_state`, `down_result`, `down_error`, `task_id`, `update_time`, `retry`) VALUES (1925489900741828608, '67c69f2a6b0001a9b22a6c9a', 'f7690d50ba1d497caf8b64cf3f4f7d91', '202411190247', '5楼办公室', NULL, 2, 0, 'deviceId不存在', 1925489900725051392, '2025-06-29 18:26:58', 2);
INSERT INTO `iot_device_function_history` (`id`, `product_key`, `iot_id`, `device_id`, `device_name`, `ext_param`, `down_state`, `down_result`, `down_error`, `task_id`, `update_time`, `retry`) VALUES (1939308928588496896, '681c0775c2dc427d0480ab5f', NULL, 'gg0000181', '冰河路35', NULL, 2, 1, 'success', 1939308928533970944, '2025-06-29 21:04:23', 2);
INSERT INTO `iot_device_function_history` (`id`, `product_key`, `iot_id`, `device_id`, `device_name`, `ext_param`, `down_state`, `down_result`, `down_error`, `task_id`, `update_time`, `retry`) VALUES (1948016860616392704, '681c0775c2dc427d0480ab5f', NULL, 'ov00014117', '潜江雅园1号楼底商店铺', NULL, 2, 1, 'success', 1948016860553478144, '2025-07-31 22:27:28', 2);
INSERT INTO `iot_device_function_history` (`id`, `product_key`, `iot_id`, `device_id`, `device_name`, `ext_param`, `down_state`, `down_result`, `down_error`, `task_id`, `update_time`, `retry`) VALUES (1948016860616392705, '681c0775c2dc427d0480ab5f', NULL, 'ov0001411', 'ov0001411', NULL, 2, 1, 'success', 1948016860553478144, '2025-07-31 22:27:33', 2);
INSERT INTO `iot_device_function_history` (`id`, `product_key`, `iot_id`, `device_id`, `device_name`, `ext_param`, `down_state`, `down_result`, `down_error`, `task_id`, `update_time`, `retry`) VALUES (1948016860616392706, '681c0775c2dc427d0480ab5f', NULL, '7g0000117', '7g0000117', NULL, 2, 1, 'success', 1948016860553478144, '2025-07-31 22:27:38', 2);
COMMIT;

-- ----------------------------
-- Table structure for iot_device_function_task
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_function_task`;
CREATE TABLE `iot_device_function_task` (
  `id` bigint NOT NULL,
  `task_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '任务名称',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `begin_time` datetime DEFAULT NULL COMMENT '任务开始时间',
  `end_time` datetime DEFAULT NULL COMMENT '任务结束时间',
  `creator` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '创建人姓名',
  `creator_id` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '创建人',
  `command` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '功能指令',
  `command_data` varchar(800) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令内容',
  `status` tinyint DEFAULT NULL COMMENT '状态  0.待执行；1.已执行；2.正在执行',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `dev_function_task_id_uindex` (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备功能批量下发任务表';

-- ----------------------------
-- Records of iot_device_function_task
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_function_task` (`id`, `task_name`, `product_key`, `begin_time`, `end_time`, `creator`, `creator_id`, `command`, `command_data`, `status`) VALUES (1925489900725051392, '鹏辉单相导轨表DDSY1986-4G清表', '67c69f2a6b0001a9b22a6c9a', '2025-05-22 17:52:21', '2025-05-22 17:52:21', 'liulihai', 'liulihai', 'reset', '{\"function\":\"reset\",\"messageType\":\"FUNCTIONS\",\"data\":{\"function\":\"reset\"}}', 1);
INSERT INTO `iot_device_function_task` (`id`, `task_name`, `product_key`, `begin_time`, `end_time`, `creator`, `creator_id`, `command`, `command_data`, `status`) VALUES (1939308928533970944, '智能插座开关控制', '681c0775c2dc427d0480ab5f', '2025-06-29 21:04:14', '2025-06-29 21:04:14', 'iot', 'iot', 'switchControl', '{\"function\":\"switchControl\",\"messageType\":\"FUNCTIONS\",\"data\":{\"function\":\"switchControl\",\"open\":\"0\"}}', 1);
INSERT INTO `iot_device_function_task` (`id`, `task_name`, `product_key`, `begin_time`, `end_time`, `creator`, `creator_id`, `command`, `command_data`, `status`) VALUES (1948016860553478144, '智能插座新开', '681c0775c2dc427d0480ab5f', '2025-07-23 21:46:27', '2025-07-23 21:46:37', 'iot', 'iot', 'newkai', '{\"function\":\"newkai\",\"messageType\":\"FUNCTIONS\",\"data\":{\"function\":\"newkai\",\"docs\":123}}', 1);
COMMIT;

-- ----------------------------
-- Table structure for iot_device_geo_fence
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_geo_fence`;
CREATE TABLE `iot_device_geo_fence` (
  `id` bigint NOT NULL COMMENT 'id',
  `name` varchar(60) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '围栏名称',
  `status` tinyint DEFAULT NULL COMMENT '围栏状态 0.启用 1.停用',
  `touch_way` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '触发模式 in.进入 out.离开 all.进入&离开',
  `fence` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '范围',
  `type` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '类型 circle.圆 polygon.多边形',
  `point` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '圆形中心点',
  `radius` decimal(16,8) DEFAULT NULL COMMENT '半径',
  `creator_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '创建人',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_date` datetime DEFAULT NULL COMMENT '更新时间',
  `week_time` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '每周触发时间(天)',
  `begin_time` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '每天开始时间',
  `end_time` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '每天结束时间',
  `creator_user` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '归属第三方应用',
  `no_trigger_time` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '不触发时间段',
  `delay_time` int DEFAULT NULL COMMENT '围栏触发延迟时间（分钟）',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备围栏表';

-- ----------------------------
-- Records of iot_device_geo_fence
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_group
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_group`;
CREATE TABLE `iot_device_group` (
  `id` bigint NOT NULL COMMENT '分组ID，非自增',
  `group_name` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '分组名称',
  `group_code` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '分组标识',
  `group_describe` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '群组描述',
  `parent_id` bigint DEFAULT '0' COMMENT '父id',
  `group_level` tinyint(1) NOT NULL DEFAULT '0' COMMENT '分组级别',
  `has_child` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否有子分组',
  `active_dev_count` int(10) unsigned zerofill DEFAULT NULL COMMENT '关联设备树',
  `relat_dev_count` int(10) unsigned zerofill DEFAULT NULL COMMENT '激活设备数',
  `tag` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '标签',
  `instance` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '0' COMMENT '实例编号',
  `creator_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '创建人',
  `create_time` datetime DEFAULT NULL,
  `update_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备分组表';

-- ----------------------------
-- Records of iot_device_group
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1949364879098044416, '1楼消控室（烟感）', NULL, '消控室烟感~', 0, 1, 1, NULL, NULL, NULL, NULL, 'iot', NULL, '2025-07-31 12:09:07');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1950447085375692800, '分组一', NULL, '不要问我为什么牛逼', 0, 1, 1, NULL, NULL, NULL, NULL, 'demo', NULL, '2025-11-19 14:42:22');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1950770676340260864, '508小机房', NULL, '人员杂乱，小心火烛\n', 1949364879098044416, 2, 0, NULL, NULL, NULL, NULL, 'iot', NULL, '2025-07-31 12:09:47');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1962337016553349120, '分组二', NULL, NULL, 0, 1, 0, NULL, NULL, NULL, NULL, 'demo', NULL, '2025-11-19 14:42:22');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1976136133792411648, '222', NULL, NULL, 1950447085375692800, 2, 0, NULL, NULL, NULL, NULL, 'demo', NULL, '2025-11-19 14:42:22');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1976483580108517376, '保亭', NULL, NULL, 0, 1, 1, NULL, NULL, NULL, NULL, 'demo', NULL, '2025-11-19 14:42:22');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1976538919986180096, '分组1', NULL, NULL, 1976483580108517376, 2, 0, NULL, NULL, NULL, NULL, 'demo', NULL, '2025-11-19 14:42:22');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1976539037170839552, '保亭2', NULL, NULL, 0, 1, 0, NULL, NULL, NULL, NULL, 'demo', NULL, '2025-11-19 14:42:22');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1982735858616434688, 'ssss', NULL, 'ssss', 0, 1, 0, NULL, NULL, NULL, NULL, 'demo', NULL, '2025-11-19 14:42:22');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1984081786766061568, '123123', NULL, NULL, 1950447085375692800, 2, 1, NULL, NULL, NULL, NULL, 'demo', NULL, '2025-11-19 14:42:22');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1984081832538501120, '12', NULL, NULL, 1984081786766061568, 3, 0, NULL, NULL, NULL, NULL, 'demo', NULL, '2025-11-19 14:42:22');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1986005112920956928, '123', NULL, NULL, 0, 1, 0, NULL, NULL, NULL, NULL, 'demo', NULL, '2025-11-19 14:42:22');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1990326532652007424, '传感器测试模组', NULL, '学习接入', 0, 1, 0, NULL, NULL, NULL, NULL, 'demo', NULL, '2025-11-19 14:42:22');
INSERT INTO `iot_device_group` (`id`, `group_name`, `group_code`, `group_describe`, `parent_id`, `group_level`, `has_child`, `active_dev_count`, `relat_dev_count`, `tag`, `instance`, `creator_id`, `create_time`, `update_time`) VALUES (1997643941377421312, '监控分组', NULL, NULL, 0, 1, 0, NULL, NULL, NULL, NULL, 'nexiot', NULL, NULL);
COMMIT;

-- ----------------------------
-- Table structure for iot_device_history
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_history`;
CREATE TABLE `iot_device_history` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备序列号',
  `device_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '产品唯一标识',
  `coordinate` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '坐标(经纬度)',
  `first_online_time` bigint DEFAULT NULL COMMENT '上线时间',
  `creater` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备创建者',
  `delete_time` bigint DEFAULT NULL COMMENT '设备删除时间',
  `create_time` bigint DEFAULT NULL COMMENT '设备创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;

-- ----------------------------
-- Records of iot_device_history
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log`;
CREATE TABLE `iot_device_log` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `iot_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '唯一编码',
  `device_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `ext_device_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '第三方设备ID唯一标识符',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `company_no` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `protocol` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '协议',
  `device_node` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '节点类型',
  `classified_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `command_id` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT NULL COMMENT '指令状态',
  `org_id` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `event` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `create_id` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `instance` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '0' COMMENT '实例名称',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '内容',
  `create_time` int(10) unsigned zerofill DEFAULT '0000000000' COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_create_date` (`create_time`) USING BTREE,
  KEY `idx_device_product_Key` (`device_id`,`product_key`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;

-- ----------------------------
-- Records of iot_device_log
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_0
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_0`;
CREATE TABLE `iot_device_log_0` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表0（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_0
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_1
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_1`;
CREATE TABLE `iot_device_log_1` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表1（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_1
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_10
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_10`;
CREATE TABLE `iot_device_log_10` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表10（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_10
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_11
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_11`;
CREATE TABLE `iot_device_log_11` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表11（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_11
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_12
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_12`;
CREATE TABLE `iot_device_log_12` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表12（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_12
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_13
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_13`;
CREATE TABLE `iot_device_log_13` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表13（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_13
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_14
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_14`;
CREATE TABLE `iot_device_log_14` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表14（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_14
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_log_14` (`id`, `iot_id`, `product_key`, `device_id`, `device_name`, `message_type`, `command_id`, `command_status`, `event`, `point`, `content`, `create_time`) VALUES (1, 'mVnhk9Vk40Ga861213059936242-2', 'mVnhk9Vk40Ga', '861213059936242-2', '2222', 'EVENT', NULL, 0, 'online', NULL, '{}', '2025-12-09 02:08:04');
INSERT INTO `iot_device_log_14` (`id`, `iot_id`, `product_key`, `device_id`, `device_name`, `message_type`, `command_id`, `command_status`, `event`, `point`, `content`, `create_time`) VALUES (2, 'mVnhk9Vk40Ga861213059936242-2', 'mVnhk9Vk40Ga', '861213059936242-2', '2222', 'PROPERTIES', NULL, 0, '', NULL, '{\"sourcePayload\":\"30840000002d02010763840000002404000a01000a0100020100020164010100870b6f626a656374436c617373308400000000\"}', '2025-12-09 02:08:04');
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_15
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_15`;
CREATE TABLE `iot_device_log_15` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表15（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_15
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_16
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_16`;
CREATE TABLE `iot_device_log_16` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=103 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表16（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_16
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_log_16` (`id`, `iot_id`, `product_key`, `device_id`, `device_name`, `message_type`, `command_id`, `command_status`, `event`, `point`, `content`, `create_time`) VALUES (101, '68beda0c1c9e0d2b7943b826865098070326549', '68beda0c1c9e0d2b7943b826', '865098070326549', '水浸传感器(天翼物联NB)', 'EVENT', NULL, 0, 'point', NULL, '{\"ts\":\"1765220874\"}', '2025-12-09 03:08:07');
INSERT INTO `iot_device_log_16` (`id`, `iot_id`, `product_key`, `device_id`, `device_name`, `message_type`, `command_id`, `command_status`, `event`, `point`, `content`, `create_time`) VALUES (102, '68beda0c1c9e0d2b7943b826865098070326549', '68beda0c1c9e0d2b7943b826', '865098070326549', '水浸传感器(天翼物联NB)', 'PROPERTIES', NULL, 0, '', NULL, '{\"waterState\":false,\"battery\":100,\"csq\":99}', '2025-12-09 03:08:07');
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_17
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_17`;
CREATE TABLE `iot_device_log_17` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表17（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_17
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_18
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_18`;
CREATE TABLE `iot_device_log_18` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表18（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_18
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_19
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_19`;
CREATE TABLE `iot_device_log_19` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表19（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_19
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_2
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_2`;
CREATE TABLE `iot_device_log_2` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=43 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表2（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_2
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_log_2` (`id`, `iot_id`, `product_key`, `device_id`, `device_name`, `message_type`, `command_id`, `command_status`, `event`, `point`, `content`, `create_time`) VALUES (40, 'inner_wvp_12333030000001320000001', 'inner_wvp_123', '33030000001320000001', 'GB28281-球机-走廊', 'EVENT', NULL, 0, 'online', NULL, '{}', '2025-12-08 20:09:18');
INSERT INTO `iot_device_log_2` (`id`, `iot_id`, `product_key`, `device_id`, `device_name`, `message_type`, `command_id`, `command_status`, `event`, `point`, `content`, `create_time`) VALUES (41, 'pbJNWPtDJp8M0132EPCG1150F', 'pbJNWPtDJp7a', '8M0132EPCG1150F', '4G相机-无人仓库', 'FUNCTIONS', '8da0dc8511f747ccaeec73335e9901c2', 0, '', NULL, '{\"function\":{\"messageType\":\"FUNCTIONS\",\"function\":\"cameraLiveStream\",\"data\":{\"streamType\":\"main\",\"protocol\":\"hls\",\"channelId\":0}},\"requestId\":\"8da0dc8511f747ccaeec73335e9901c2\"}', '2025-12-09 09:46:36');
INSERT INTO `iot_device_log_2` (`id`, `iot_id`, `product_key`, `device_id`, `device_name`, `message_type`, `command_id`, `command_status`, `event`, `point`, `content`, `create_time`) VALUES (42, 'pbJNWPtDJp8M0132EPCG1150F', 'pbJNWPtDJp7a', '8M0132EPCG1150F', '4G相机-无人仓库', 'EVENT', NULL, 0, 'online', NULL, '{}', '2025-12-09 09:46:36');
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_20
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_20`;
CREATE TABLE `iot_device_log_20` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表20（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_20
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_21
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_21`;
CREATE TABLE `iot_device_log_21` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表21（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_21
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_22
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_22`;
CREATE TABLE `iot_device_log_22` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表22（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_22
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_23
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_23`;
CREATE TABLE `iot_device_log_23` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表23（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_23
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_3
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_3`;
CREATE TABLE `iot_device_log_3` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表3（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_3
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_4
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_4`;
CREATE TABLE `iot_device_log_4` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表4（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_4
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_5
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_5`;
CREATE TABLE `iot_device_log_5` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表5（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_5
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_6
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_6`;
CREATE TABLE `iot_device_log_6` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表6（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_6
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_7
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_7`;
CREATE TABLE `iot_device_log_7` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表7（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_7
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_8
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_8`;
CREATE TABLE `iot_device_log_8` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表8（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_8
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_9
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_9`;
CREATE TABLE `iot_device_log_9` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '产品ID',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `device_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备名称',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型（EVENT/PROPERTIES/FUNCTIONS）',
  `command_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '指令ID',
  `command_status` tinyint DEFAULT '0' COMMENT '指令状态（0未执行/1成功/2失败）',
  `event` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称（如online/offline）',
  `point` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '经纬度（经度,纬度）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '日志详情（JSON格式）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_event_time` (`event`,`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志分表9（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_9
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata`;
CREATE TABLE `iot_device_log_metadata` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `iot_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品唯一标识',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '属性',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '其他',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '',
  `ext2` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '',
  `create_time` int DEFAULT '0' COMMENT '发生时间',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `idx_iot_Id` (`iot_id`) USING BTREE,
  KEY `idx_device_id` (`device_id`) USING BTREE,
  KEY `idx_create_time` (`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;

-- ----------------------------
-- Records of iot_device_log_metadata
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_0
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_0`;
CREATE TABLE `iot_device_log_metadata_0` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表0（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_0
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_log_metadata_0` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (4, 'VDscp2z6BPdLnexiotDefaultId', 'VDscp2z6BPdL', 'nexiotDefaultId', 'nexiotDefaultId', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-12-06 20:21:32');
INSERT INTO `iot_device_log_metadata_0` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (5, 'VDscp2z6BPdLnexiotDefaultId', 'VDscp2z6BPdL', 'nexiotDefaultId', 'nexiotDefaultId', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-12-06 20:21:41');
INSERT INTO `iot_device_log_metadata_0` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (6, 'VDscp2z6BPdLnexiotDefaultId', 'VDscp2z6BPdL', 'nexiotDefaultId', 'nexiotDefaultId', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-12-06 20:25:09');
INSERT INTO `iot_device_log_metadata_0` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (7, 'VDscp2z6BPdLnexiotDefaultId', 'VDscp2z6BPdL', 'nexiotDefaultId', 'nexiotDefaultId', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-12-06 20:33:09');
INSERT INTO `iot_device_log_metadata_0` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (8, 'VDscp2z6BPdLnexiotDefaultId', 'VDscp2z6BPdL', 'nexiotDefaultId', 'nexiotDefaultId', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-12-06 21:42:10');
INSERT INTO `iot_device_log_metadata_0` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (9, 'VDscp2z6BPdLnexiotDefaultId', 'VDscp2z6BPdL', 'nexiotDefaultId', 'nexiotDefaultId', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-12-06 21:46:22');
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_1
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_1`;
CREATE TABLE `iot_device_log_metadata_1` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=67 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表1（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_1
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (52, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-11-24 15:39:05');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (53, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-11-25 16:00:00');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (54, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-11-25 19:20:03');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (55, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-11-26 19:35:00');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (56, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-11-26 20:59:34');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (57, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-11-27 21:00:00');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (58, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-11-28 09:42:48');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (59, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-11-29 10:00:00');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (60, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-11-29 10:33:14');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (61, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-11-30 10:35:00');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (62, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-12-01 20:35:24');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (63, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-12-02 21:00:00');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (64, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-12-06 16:59:40');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (65, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-12-07 17:00:00');
INSERT INTO `iot_device_log_metadata_1` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (66, 'pbJNWPtDJp7a42EB6BBPSF7C77D', 'pbJNWPtDJp7a', '群友赞助相机（双目）', '42EB6BBPSF7C77D', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-12-09 09:46:42');
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_10
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_10`;
CREATE TABLE `iot_device_log_metadata_10` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表10（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_10
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_11
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_11`;
CREATE TABLE `iot_device_log_metadata_11` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表11（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_11
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_12
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_12`;
CREATE TABLE `iot_device_log_metadata_12` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表12（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_12
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_13
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_13`;
CREATE TABLE `iot_device_log_metadata_13` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表13（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_13
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_14
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_14`;
CREATE TABLE `iot_device_log_metadata_14` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表14（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_14
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_log_metadata_14` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (1, 'mVnhk9Vk40Ga861213059936242-2', 'mVnhk9Vk40Ga', '2222', '861213059936242-2', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-12-09 02:08:04');
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_15
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_15`;
CREATE TABLE `iot_device_log_metadata_15` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表15（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_15
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_16
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_16`;
CREATE TABLE `iot_device_log_metadata_16` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=52 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表16（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_16
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_log_metadata_16` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (51, '68beda0c1c9e0d2b7943b826865098070326549', '68beda0c1c9e0d2b7943b826', '水浸传感器(天翼物联NB)', '865098070326549', 'EVENT', 'point', NULL, NULL, '{\"ts\":\"1765220874\"}', NULL, NULL, '2025-12-09 03:08:07');
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_17
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_17`;
CREATE TABLE `iot_device_log_metadata_17` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表17（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_17
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_18
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_18`;
CREATE TABLE `iot_device_log_metadata_18` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表18（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_18
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_19
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_19`;
CREATE TABLE `iot_device_log_metadata_19` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表19（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_19
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_2
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_2`;
CREATE TABLE `iot_device_log_metadata_2` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表2（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_2
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_log_metadata_2` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (26, 'inner_wvp_12333030000001320000001', 'inner_wvp_123', 'GB28281-球机-走廊', '33030000001320000001', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-12-06 16:59:19');
INSERT INTO `iot_device_log_metadata_2` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (27, 'inner_wvp_12333030000001320000001', 'inner_wvp_123', 'GB28281-球机-走廊', '33030000001320000001', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-12-07 17:00:00');
INSERT INTO `iot_device_log_metadata_2` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (28, 'inner_wvp_12333030000001320000001', 'inner_wvp_123', 'GB28281-球机-走廊', '33030000001320000001', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-12-07 20:50:10');
INSERT INTO `iot_device_log_metadata_2` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (29, 'inner_wvp_12333030000001320000001', 'inner_wvp_123', 'GB28281-球机-走廊', '33030000001320000001', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-12-08 20:09:18');
INSERT INTO `iot_device_log_metadata_2` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (30, 'pbJNWPtDJp8M0132EPCG1150F', 'pbJNWPtDJp7a', '4G相机-无人仓库', '8M0132EPCG1150F', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-12-09 09:46:36');
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_20
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_20`;
CREATE TABLE `iot_device_log_metadata_20` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=73 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表20（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_20
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (57, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-11-24 12:00:00');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (58, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-11-24 15:40:22');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (59, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-11-25 16:00:00');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (60, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-11-25 19:20:21');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (61, 'lB0Tl1rgf8uzabc1233321', 'lB0Tl1rgf8uz', 'abc1233321', 'abc1233321', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-11-26 17:58:02');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (62, 'lB0Tl1rgf8uzabc1233321', 'lB0Tl1rgf8uz', 'abc1233321', 'abc1233321', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-11-26 18:57:29');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (63, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-11-26 19:35:00');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (64, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-11-26 20:59:44');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (65, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-11-27 21:00:00');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (66, 'lB0Tl1rgf8uzabc1233321', 'lB0Tl1rgf8uz', 'abc1233321', 'abc1233321', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-11-27 22:35:00');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (67, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-11-28 09:42:59');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (68, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-11-29 10:00:00');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (69, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-11-29 10:33:27');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (70, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-11-30 10:35:00');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (71, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'online', NULL, '设备上线', NULL, NULL, NULL, '2025-12-01 20:35:28');
INSERT INTO `iot_device_log_metadata_20` (`id`, `iot_id`, `product_key`, `device_name`, `device_id`, `message_type`, `event`, `property`, `content`, `ext1`, `ext2`, `ext3`, `create_time`) VALUES (72, 'pbJNWPtDJp7a9E06F25PCGEA69C', 'pbJNWPtDJp7a', '4G相机-对着645电表旁边灯', '9E06F25PCGEA69C', 'EVENT', 'offline', NULL, '设备离线', NULL, NULL, NULL, '2025-12-02 21:00:00');
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_21
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_21`;
CREATE TABLE `iot_device_log_metadata_21` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表21（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_21
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_22
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_22`;
CREATE TABLE `iot_device_log_metadata_22` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表22（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_22
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_23
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_23`;
CREATE TABLE `iot_device_log_metadata_23` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表23（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_23
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_3
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_3`;
CREATE TABLE `iot_device_log_metadata_3` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表3（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_3
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_4
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_4`;
CREATE TABLE `iot_device_log_metadata_4` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表4（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_4
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_5
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_5`;
CREATE TABLE `iot_device_log_metadata_5` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表5（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_5
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_6
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_6`;
CREATE TABLE `iot_device_log_metadata_6` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表6（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_6
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_7
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_7`;
CREATE TABLE `iot_device_log_metadata_7` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表7（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_7
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_8
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_8`;
CREATE TABLE `iot_device_log_metadata_8` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表8（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_8
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_log_metadata_9
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_log_metadata_9`;
CREATE TABLE `iot_device_log_metadata_9` (
  `id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备唯一编码',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT '产品ID',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备名称',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备自身序号',
  `message_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '消息类型',
  `event` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '事件名称',
  `property` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备属性（如battery/csq）',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '元数据详情',
  `ext1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段1',
  `ext2` varchar(655) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '扩展字段2（长文本）',
  `ext3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '扩展字段3',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（无0值）',
  PRIMARY KEY (`id`,`create_time`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_product_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_time_property` (`create_time`,`property`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备日志元数据分表9（按iotId哈希，内部分区）';

-- ----------------------------
-- Records of iot_device_log_metadata_9
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_model
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_model`;
CREATE TABLE `iot_device_model` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'id',
  `product_key` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '产品编号',
  `company_no` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '厂家编号',
  `company_name` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '厂家名称',
  `device_type` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '设备类型',
  `device_type_name` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '设备类型名称',
  `device_model` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '设备型号',
  `device_model_name` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '型号名称',
  `icon` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '设备图标',
  `protocol` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '网络协议',
  `apps` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT '' COMMENT '支持应用',
  `support_child` tinyint(1) NOT NULL DEFAULT '0' COMMENT '支持子设备',
  `link_to` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '小程序跳转webview页面',
  `page_ctrl` json DEFAULT NULL COMMENT '页面配置',
  `ext_conf` json DEFAULT NULL COMMENT '后台内部扩展字段',
  `instance` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '0',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `idx_product_Key` (`product_key`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='存储设备型号规格定义（关联产品型号、硬件版本）	';

-- ----------------------------
-- Records of iot_device_model
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_protocol
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_protocol`;
CREATE TABLE `iot_device_protocol` (
  `id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '产品key，product_key',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `description` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `state` tinyint DEFAULT NULL COMMENT '0-未发布，1-已发布',
  `type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `configuration` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '配置信息',
  `example` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '编解码示例',
  `version` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '版本号',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `idx_create_time` (`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='设备协议表';

-- ----------------------------
-- Records of iot_device_protocol
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('38fc80e', '开关面板', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"import log;\\n\\n// 16进制转10进制数字\\nvar hexToInt = hex => {\\n  return Integer.parseInt(hex, 16);\\n};\\n// 预解码，解析上报的设备编号 deviceId1www\\nvar preDecode = payload => {\\n    var result = {}\\n    var payloadHex = payload.toUpperCase() // 转为大写\\n    // 校验报文长度和帧头\\n    if (payloadHex.length() >= 18 && payloadHex.substring(0, 4) === \\\"A5A5\\\") {\\n        // 从第5位开始取4字节（8个字符）作为 deviceId\\n        result.deviceId = payloadHex.substring(4, 12)\\n    }\\n    return result\\n}\\n\\nvar decode =(payload,context) => {\\n  log.info(\\\"进入编解码,payload={},context={}\\\",payload,context)\\n  var result = [];\\n  var payloadHex =payload.toUpperCase();\\n  var propertiesObj = { \\\"messageType\\\": \\\"PROPERTIES\\\", \\\"properties\\\": {} };\\n  var eventObj = { \\\"messageType\\\": \\\"EVENT\\\", \\\"event\\\": \\\"\\\", \\\"data\\\": {} };\\n\\n  // 验证帧头帧尾\\n  if (payloadHex.substring(0, 4) != \\\"A5A5\\\" || payloadHex.substring(payloadHex.length() - 4) != \\\"5A5A\\\") {\\n    return jsonToStr([{ \\\"error\\\": \\\"无效帧格式\\\" }]);\\n  }\\n\\n  // 提取核心字段\\n  var deviceId = payloadHex.substring(4, 8); // 设备ID（4字节）\\n  var cmdCode = payloadHex.substring(8, 10); // 命令码（1字节）\\n  var dataLen = hexToInt(payloadHex.substring(10, 12)); // 数据长度\\n  var dataHex = payloadHex.substring(12, 12 + dataLen * 2); // 数据区\\n  var checksum = payloadHex.substring(12 + dataLen * 2, 14 + dataLen * 2); // 校验和\\n\\n  // 设备ID存入所有对象\\n  propertiesObj.deviceId = deviceId;\\n  eventObj.deviceId = deviceId;\\n  //验证新内容\\n  propertiesObj.context=context;\\n  propertiesObj.tcpEncode = \'HEX\';\\n  propertiesObj.replyPayload = \'727270632C676574637371\'\\n  // 1. 属性上报（命令码01）\\n  if (cmdCode == \\\"01\\\" && dataLen == 7) {\\n    // 解析开关状态（01=开，00=关）\\n    propertiesObj.properties.powerState = dataHex.substring(0, 2) == \\\"01\\\" ? \\\"01\\\" : \\\"00\\\";\\n    // 解析电流（2字节，单位0.01A）\\n    var currentHex = dataHex.substring(2, 6);\\n    propertiesObj.properties.current = (hexToInt(currentHex) * 0.01).toFixed(2);\\n    // 解析电压（2字节，单位0.1V）\\n    var voltageHex = dataHex.substring(6, 10);\\n    propertiesObj.properties.voltage = (hexToInt(voltageHex) * 0.1).toFixed(1);\\n    // 解析功率（2字节，单位1W）\\n    var powerHex = dataHex.substring(10, 14);\\n    propertiesObj.properties.power = hexToInt(powerHex).toString();\\n    // 加入结果集\\n    result.push(propertiesObj);\\n  }\\n\\n  // 2. 事件上报（命令码02）\\n  if (cmdCode == \\\"02\\\" && dataLen >= 3) {\\n    // 事件类型（01=过载，02=过压，03=上线，04=下线）\\n    var eventType = dataHex.substring(0, 2);\\n    if (eventType == \\\"01\\\") {\\n      eventObj.event = \\\"overload\\\";\\n      eventObj.data.overload = hexToInt(dataHex.substring(2, 6)) + \\\"W\\\"; // 过载功率\\n    }\\n    if (eventType == \\\"03\\\") {\\n      eventObj.event = \\\"online\\\";\\n      eventObj.data.online = \\\"设备上线\\\";\\n    }\\n    if (eventType == \\\"04\\\") {\\n      eventObj.event = \\\"offline\\\";\\n      eventObj.data.offline = \\\"设备下线\\\";\\n    }\\n    result.push(eventObj);\\n  }\\n\\n  // 3. 响应报文（命令码04）\\n  if (cmdCode == \\\"04\\\" && dataLen == 1) {\\n    var replyObj = {\\n      \\\"messageType\\\": \\\"REPLY\\\",\\n      \\\"function\\\": \\\"switch\\\",\\n      \\\"data\\\": { \\\"result\\\": dataHex == \\\"00\\\" ? \\\"success\\\" : \\\"fail\\\" }\\n    };\\n    replyObj.deviceId = deviceId;\\n    result.push(replyObj);\\n  }\\n\\n  return jsonToStr(result); \\n};\\n\\nvar encode = payload => {\\n  var obj = toJson(payload);\\n  var deviceId = obj.data.deviceId; // 设备ID（4位16进制，如\\\"0001\\\"）\\n  var func = obj.function;\\n  var params = obj.data;\\n\\n  // 控制开关（function=switch）\\n  if (func == \\\"switch\\\") {\\n    var state = params.state; // 目标状态：01=开，00=关\\n    if (state != \\\"01\\\" && state != \\\"00\\\") {\\n      return \\\"\\\"; // 无效状态，返回空\\n    }\\n\\n    // 数据区：控制类型(01)+目标状态\\n    var dataHex = \\\"01\\\" + state;\\n    var dataLen = dataHex.length() / 2; // 数据长度（字节数）\\n    var cmdCode = \\\"03\\\"; // 控制指令命令码\\n\\n    // 拼接完整报文（无校验和）\\n    var frame = \\\"A5A5\\\" + \\n                deviceId + \\n                cmdCode + \\n                Integer.toHexString(dataLen) + // 数据长度（1位16进制）\\n                dataHex + \\n                \\\"5A5A\\\";\\n\\n    return frame.toUpperCase(); // 转为大写16进制\\n  }\\n\\n  return \\\"\\\"; // 不支持的指令\\n};\\n\\n//预解码，得到deviceId\\n// return preDecode(\\\"A5A5000101070105DC08F004B05A5A\\\")\\n//属性上报报文\\n// return decode(\'A5A5000101070105DC08F004B07A5A5A\');\\n\\n//过载事件报文\\n// return decode(\\\"A5A5000102030104B0F35A5A\\\")\\n\\n\\n// return encode(\'{\\\"deviceId\\\": \\\"0001\\\",\\\"function\\\": \\\"switch\\\",\\\"data\\\": { \\\"state\\\": \\\"01\\\" }}\')\\n\\n\\n// return encode(\'{\\\"messageType\\\":\\\"FUNCTIONS\\\",\\\"function\\\":\\\"switch\\\",\\\"data\\\":{\\\"deviceId\\\":\\\"00010107\\\",\\\"state\\\":\\\"01\\\"}}\')\",\"provider\":\"38fc80e\",\"supportMethods\":[\"encode\",\"preDecode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('39iAL8mCuC4i', 'test', NULL, 0, 'magic', '{\"needBs4Decode\":false,\"location\":\"//编码\\nvar encode = payload => {\\n\\treturn \'\';\\n}\\n//解码\\nvar decode = payload => {\\n\\tvar propertiesObj = {\\n\\t\\t\\\"messageType\\\": \\\"PROPERTIES\\\",\\n\\t\\t\\\"properties\\\": {}\\n\\t}\\n\\tvar eventObj = {\\n\\t\\t\\\"messageType\\\": \\\"EVENT\\\",\\n\\t\\t\\\"event\\\": \\\"\\\",\\n\\t\\t\\\"data\\\": {}\\n\\t}\\n\\n\\treturn propertiesObj\\n}\",\"provider\":\"39iAL8mCuC4i\"}', '{}', NULL, '2025-11-11 17:34:12');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('3QAz7HuahAGN', '温湿度光照子设备MQTT-RTU', 'DTU-MQTT通道的Modbus温湿度光照子设备', 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"import cn.hutool.core.util.NumberUtil;\\nimport log;\\n\\n\\n/**\\n * 获取湿度描述信息\\n * @param {number} humidity - 湿度值（%RH）\\n * @returns {string} 人性化描述\\n */\\nconst getHumidityDescription = (humidity) => {\\n    if (humidity < 0 || humidity > 100) {\\n        return \\\"湿度传感器数据异常\\\";\\n    }\\n    if (humidity < 20) {\\n        return \\\"空气非常干燥，建议使用加湿器\\\";\\n    }\\n    if (humidity < 40) {\\n        return \\\"空气偏干燥，适当补水\\\";\\n    }\\n    if (humidity < 60) {\\n        return \\\"湿度舒适，适宜居住\\\";\\n    }\\n    if (humidity < 80) {\\n        return \\\"湿度适中，体感舒适\\\";\\n    }\\n    if (humidity < 90) {\\n        return \\\"湿度较高，建议适当通风\\\";\\n    }\\n    return \\\"湿重环境，注意防潮除湿\\\";\\n};\\n\\n/**\\n * 获取温度描述信息\\n * @param {number} temperature - 温度值（℃）\\n * @returns {string} 人性化描述\\n */\\nconst getTemperatureDescription = (temperature) => {\\n    if (temperature < -40 || temperature > 125) {\\n        return \\\"温度传感器数据异常\\\";\\n    }\\n    if (temperature < 0) {\\n        return \\\"极寒环境，注意防冻保暖\\\";\\n    }\\n    if (temperature < 10) {\\n        return \\\"天气寒冷，请添衣保暖\\\";\\n    }\\n    if (temperature < 18) {\\n        return \\\"温度凉爽，适宜活动\\\";\\n    }\\n    if (temperature < 26) {\\n        return \\\"温度舒适，体感宜人\\\";\\n    }\\n    if (temperature < 30) {\\n        return \\\"温度适中，注意补水\\\";\\n    }\\n    if (temperature < 35) {\\n        return \\\"天气炎热，注意防暑降温\\\";\\n    }\\n    return \\\"高温环境，避免长时间户外活动\\\";\\n};\\n\\n/**\\n * 获取光照强度描述信息\\n * @param {number} illumination - 光照值（LUX）\\n * @returns {string} 人性化描述\\n */\\nconst getIlluminationDescription = (illumination) => {\\n    if (illumination < 0 || illumination > 65535) {\\n        return \\\"光照传感器数据异常\\\";\\n    }\\n    if (illumination < 10) {\\n        return \\\"环境黑暗，建议开启照明\\\";\\n    }\\n    if (illumination < 100) {\\n        return \\\"光线昏暗，适合休息\\\";\\n    }\\n    if (illumination < 500) {\\n        return \\\"光线柔和，适宜阅读\\\";\\n    }\\n    if (illumination < 1000) {\\n        return \\\"光照适中，舒适自然\\\";\\n    }\\n    if (illumination < 3000) {\\n        return \\\"光线充足，适宜工作\\\";\\n    }\\n    if (illumination < 10000) {\\n        return \\\"光照强烈，注意防晒\\\";\\n    }\\n    return \\\"强光环境，建议采取防护措施\\\";\\n};\\n\\n/**\\n * 获取综合舒适度评价\\n * @param {number} humidity - 湿度\\n * @param {number} temperature - 温度\\n * @param {number} illumination - 光照\\n * @returns {string} 综合舒适度描述\\n */\\nconst getOverallComfortLevel = (humidity, temperature, illumination) => {\\n    // 舒适度评分（简单的加权计算）\\n    let comfortScore = 0;\\n    \\n    // 温度舒适度评分（最重要）\\n    if (temperature >= 18 && temperature <= 26) {\\n        comfortScore += 40;\\n    } else if (temperature >= 15 && temperature <= 28) {\\n        comfortScore += 30;\\n    } else if (temperature >= 10 && temperature <= 30) {\\n        comfortScore += 20;\\n    } else {\\n        comfortScore += 10;\\n    }\\n\\n    // 湿度舒适度评分\\n    if (humidity >= 40 && humidity <= 60) {\\n        comfortScore += 30;\\n    } else if (humidity >= 30 && humidity <= 70) {\\n        comfortScore += 20;\\n    } else {\\n        comfortScore += 10;\\n    }\\n\\n    // 光照舒适度评分\\n    if (illumination >= 100 && illumination <= 1000) {\\n        comfortScore += 30;\\n    } else if (illumination >= 50 && illumination <= 3000) {\\n        comfortScore += 20;\\n    } else {\\n        comfortScore += 10;\\n    }\\n\\n    // 根据总分返回描述\\n    if (comfortScore >= 90) {\\n        return \\\"环境非常舒适，适宜长时间停留\\\";\\n    }\\n    if (comfortScore >= 70) {\\n        return \\\"环境舒适，体感良好\\\";\\n    }\\n    if (comfortScore >= 50) {\\n        return \\\"环境一般，部分指标需优化\\\";\\n    }\\n    return \\\"环境不适，建议调整温湿度或光照条件\\\";\\n};\\nvar encode = (functionReqJson, shadow) => {\\n   \\n};\\n\\n// ------------------------------ 核心函数：decode（16进制报文→物模型） ------------------------------\\n/**\\n * decode逻辑：解析设备返回的Modbus RTU报文，转换为物模型属性\\n * @param {String} payload - 设备上报原始16进制报文\\n * @param {Object} context - 上下文（暂未使用）\\n * @returns {Array} 解析结果（含PROPERTIES对象，含传感数据与事件）\\n */\\nvar decode = (payload, context) => {\\n    const corePayload = payload;\\n    const properties = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": payload\\n        }\\n    };\\n    const slaveAddrHex = corePayload.substring(0, 2);\\n    const slaveAddr = Integer.parseInt(slaveAddrHex, 16);\\n    const funcCode = corePayload.substring(2, 4);\\n    // 数据长度（4-6位，规格书2-50：数据长度1字节）\\n    const dataLenHex = corePayload.substring(4, 6);\\n    const dataLen = Integer.parseInt(dataLenHex, 16);\\n     // 4. 解析传感数据（对照规格书2-53寄存器地址表）\\n    const dataArea = corePayload.substring(6, 6 + dataLen * 2); // 数据区（6-38位，16字节）\\n\\n    // 4.1 湿度解析（000H寄存器，数据区0-3位，规格书2-53：湿度存储于40001）\\n    const humidityHex = dataArea.substring(0, 4);\\n    const humidityRaw = Integer.parseInt(humidityHex, 16);\\n    const humidity = NumberUtil.div(humidityRaw, 10, 1); // 0.1%RH单位换算为%RH\\n    // 验证范围（规格书2-43：湿度0%RH~100%RH）\\n    if (humidity >= 0 && humidity <= 100) {\\n        properties.properties.humidity = humidity;\\n        properties.properties.humidityDesc = getHumidityDescription(humidity);\\n    } \\n    // 4.2 温度解析（0001H寄存器，数据区4-7位，规格书2-53：温度存储于40002）\\n    const tempHex = dataArea.substring(4, 8);\\n    const tempRaw = Integer.parseInt(tempHex, 16);\\n    const temperature = NumberUtil.div(tempRaw, 10, 1); // 0.1℃单位换算为℃\\n    // 验证范围（规格书2-43：温度-40℃~125℃）\\n    if (temperature >= -40 && temperature <= 125) {\\n        properties.properties.temperature = temperature;\\n        properties.properties.temperatureDesc = getTemperatureDescription(temperature);\\n    }\\n    // 4.3 光照强度解析（0007H寄存器，数据区28-31位，规格书2-53：光照存储于40008）\\n    const illuHex = dataArea.substring(28, 32);\\n    const illumination = Integer.parseInt(illuHex, 16);\\n    // 验证范围（规格书2-43：光照0~65535 LUX）\\n    if (illumination >= 0 && illumination <= 65535) {\\n        properties.properties.illumination = illumination;\\n        properties.properties.illuminationDesc = getIlluminationDescription(illumination);\\n\\n\\n    }\\n    if(illumination&&temperature&&humidity){\\n        properties.properties.overallComfort = getOverallComfortLevel(humidity, temperature, illumination);\\n    }\\n    return properties;\\n};\",\"provider\":\"3QAz7HuahAGN\",\"supportMethods\":[\"encode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('681c0775c2dc427d0480ab5f', '智能插座', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"\\nimport log;\\n\\nvar url=\\\"\\\";\\n\\nvar post = (url,body) =>{\\n   \\n}\\n\\nvar encode = payload => {\\n    var dt=toJson(payload)\\n    dt.dxxc=randomSign();\\n    return dt;\\n}\\n\\n//解码\\nvar decode = payload => {\\n    var result = []\\n    log.info(\\\"编解码收到消息={}\\\",payload)\\n    var dt=toJson(payload)\\n    var propertiesObj = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {}\\n    }\\n\\n    var repayObj={}\\n    repayObj.tips=\\\"我想改啥就改啥\\\"\\n    repayObj.randomNo=randomSign()\\n    repayObj.wings=\\\"universal-iot-great\\\"\\n    repayObj.iot=\\\"iotuniv\\\"\\n    //设置属性\\n    propertiesObj.properties=dt\\n    propertiesObj.properties.sn=randomSign()\\n    //MQTT设置回复\\n    propertiesObj.replyPayload=repayObj\\n    // propertiesObj.replyPayload=\\\"xzzxc\\\"+randomSign()//设置回复的内容\\n    //propertiesObj.downTopic=\\\"$thing/down/681c0775c2dc427d0480ab5f/cz001923\\\" //设置回复的主题\\n   \\n    return propertiesObj;\\n}\\n\\n//设备增加\\nvar add = payload => {\\n    var da=post(url,payload)\\n    var rs={\\n        \\\"code\\\":0,\\n        \\\"msg\\\":\\\"success\\\",\\n        \\\"codec\\\":\\\"add\\\",\\n        \\\"codec\\\":da\\n    }\\n    return rs;\\n}\\n\\n//设备更新\\nvar update = payload => {\\n    var da=post(url,payload)\\n    var rs={\\n        \\\"code\\\":0,\\n        \\\"msg\\\":\\\"success\\\",\\n        \\\"codec\\\":\\\"update\\\",\\n        \\\"codec\\\":da\\n    }\\n    return rs;\\n}\\n\\n//设备查询\\nvar query = payload => {\\n   var da=post(url,payload)\\n    var rs={\\n        \\\"code\\\":0,\\n        \\\"req\\\":0,\\n        \\\"msg\\\":\\\"success\\\",\\n        \\\"codec\\\":\\\"query\\\",\\n        \\\"codec\\\":da\\n    }\\n    return rs;\\n}\\n\\n//功能调用\\nvar function = payload => {\\n    var da=post(url,payload)\\n    var rs={\\n        \\\"code\\\":0,\\n        \\\"msg\\\":\\\"success\\\",\\n        \\\"codec\\\":\\\"function\\\",\\n        \\\"codec\\\":da\\n    }\\n    return rs;\\n}\\n\\n\\n\",\"provider\":\"681c0775c2dc427d0480ab5f\",\"supportMethods\":[\"encode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('68831a1f38fc106a8dac3c13', 'AI生成开关', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"import log;\\n\\n// 16进制转10进制数字\\nvar hexToInt = hex => {\\n  return Integer.parseInt(hex, 16);\\n};\\n// 预解码，解析上报的设备编号 deviceId\\nvar preDecode = payload => {\\n    var result = {}\\n    var payloadHex = payload.toUpperCase() // 转为大写\\n    // 校验报文长度和帧头\\n    if (payloadHex.length() >= 18 && payloadHex.substring(0, 4) === \\\"A5A5\\\") {\\n        // 从第5位开始取4字节（8个字符）作为 deviceId\\n        result.deviceId = payloadHex.substring(4, 12)\\n    }\\n    return result\\n}\\n\\nvar decode =(payload,context) => {\\n  log.info(\\\"进入编解码,payload={},context={}\\\",payload,context)\\n  var result = [];\\n  var payloadHex =payload.toUpperCase();\\n  var propertiesObj = { \\\"messageType\\\": \\\"PROPERTIES\\\", \\\"properties\\\": {} };\\n  var eventObj = { \\\"messageType\\\": \\\"EVENT\\\", \\\"event\\\": \\\"\\\", \\\"data\\\": {} };\\n\\n  // 验证帧头帧尾\\n  if (payloadHex.substring(0, 4) != \\\"A5A5\\\" || payloadHex.substring(payloadHex.length() - 4) != \\\"5A5A\\\") {\\n    return jsonToStr([{ \\\"error\\\": \\\"无效帧格式\\\" }]);\\n  }\\n\\n  // 提取核心字段\\n  var deviceId = payloadHex.substring(4, 8); // 设备ID（4字节）\\n  var cmdCode = payloadHex.substring(8, 10); // 命令码（1字节）\\n  var dataLen = hexToInt(payloadHex.substring(10, 12)); // 数据长度\\n  var dataHex = payloadHex.substring(12, 12 + dataLen * 2); // 数据区\\n  var checksum = payloadHex.substring(12 + dataLen * 2, 14 + dataLen * 2); // 校验和\\n\\n  // 设备ID存入所有对象\\n  propertiesObj.deviceId = deviceId;\\n  eventObj.deviceId = deviceId;\\n  //验证新内容\\n  propertiesObj.context=context;\\n  propertiesObj.tcpEncode = \'HEX\';\\n  propertiesObj.replyPayload = \'727270632C676574637371\'\\n  // 1. 属性上报（命令码01）\\n  if (cmdCode == \\\"01\\\" && dataLen == 7) {\\n    // 解析开关状态（01=开，00=关）\\n    propertiesObj.properties.powerState = dataHex.substring(0, 2) == \\\"01\\\" ? \\\"01\\\" : \\\"00\\\";\\n    // 解析电流（2字节，单位0.01A）\\n    var currentHex = dataHex.substring(2, 6);\\n    propertiesObj.properties.current = (hexToInt(currentHex) * 0.01).toFixed(2);\\n    // 解析电压（2字节，单位0.1V）\\n    var voltageHex = dataHex.substring(6, 10);\\n    propertiesObj.properties.voltage = (hexToInt(voltageHex) * 0.1).toFixed(1);\\n    // 解析功率（2字节，单位1W）\\n    var powerHex = dataHex.substring(10, 14);\\n    propertiesObj.properties.power = hexToInt(powerHex).toString();\\n    // 加入结果集\\n    result.push(propertiesObj);\\n  }\\n\\n  // 2. 事件上报（命令码02）\\n  if (cmdCode == \\\"02\\\" && dataLen >= 3) {\\n    // 事件类型（01=过载，02=过压，03=上线，04=下线）\\n    var eventType = dataHex.substring(0, 2);\\n    if (eventType == \\\"01\\\") {\\n      eventObj.event = \\\"overload\\\";\\n      eventObj.data.overload = hexToInt(dataHex.substring(2, 6)) + \\\"W\\\"; // 过载功率\\n    }\\n    if (eventType == \\\"03\\\") {\\n      eventObj.event = \\\"online\\\";\\n      eventObj.data.online = \\\"设备上线\\\";\\n    }\\n    if (eventType == \\\"04\\\") {\\n      eventObj.event = \\\"offline\\\";\\n      eventObj.data.offline = \\\"设备下线\\\";\\n    }\\n    result.push(eventObj);\\n  }\\n\\n  // 3. 响应报文（命令码04）\\n  if (cmdCode == \\\"04\\\" && dataLen == 1) {\\n    var replyObj = {\\n      \\\"messageType\\\": \\\"REPLY\\\",\\n      \\\"function\\\": \\\"switch\\\",\\n      \\\"data\\\": { \\\"result\\\": dataHex == \\\"00\\\" ? \\\"success\\\" : \\\"fail\\\" }\\n    };\\n    replyObj.deviceId = deviceId;\\n    result.push(replyObj);\\n  }\\n\\n  return jsonToStr(result);\\n};\\n\\nvar encode = payload => {\\n  var obj = toJson(payload);\\n  var deviceId = obj.data.deviceId; // 设备ID（4位16进制，如\\\"0001\\\"）\\n  var func = obj.function;\\n  var params = obj.data;\\n\\n  // 控制开关（function=switch）\\n  if (func == \\\"switch\\\") {\\n    var state = params.state; // 目标状态：01=开，00=关\\n    if (state != \\\"01\\\" && state != \\\"00\\\") {\\n      return \\\"\\\"; // 无效状态，返回空\\n    }\\n\\n    // 数据区：控制类型(01)+目标状态\\n    var dataHex = \\\"01\\\" + state;\\n    var dataLen = dataHex.length() / 2; // 数据长度（字节数）\\n    var cmdCode = \\\"03\\\"; // 控制指令命令码\\n\\n    // 拼接完整报文（无校验和）\\n    var frame = \\\"A5A5\\\" + \\n                deviceId + \\n                cmdCode + \\n                Integer.toHexString(dataLen) + // 数据长度（1位16进制）\\n                dataHex + \\n                \\\"5A5A\\\";\\n\\n    return frame.toUpperCase(); // 转为大写16进制\\n  }\\n\\n  return \\\"\\\"; // 不支持的指令\\n};\",\"provider\":\"68831a1f38fc106a8dac3c13\",\"supportMethods\":[\"encode\",\"preDecode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('688cd92fdb9e0158872f4aa9', '开关面板-MQTT-doc编写', '123', 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"import log\\n\\n\\n/**\\n * 编码：平台指令转设备格式\\n * @param {Object} payload 平台指令\\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\\n */\\nvar encode = payload => {\\n  var rs=toJson(payload);\\n  rs.iot=\'演示iot\'\\n  rs.randomNum=randomSign();\\n  // TODO：实现编码逻辑\\n  return \\\"A5A50001030201015A5A\\\";\\n};\\n\",\"provider\":\"688cd92fdb9e0158872f4aa9\",\"supportMethods\":[\"encode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('68bd7ea11c9e6085163c3f52', '水浸传感器', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"/**\\n * 编码：平台指令转设备格式\\n * @param {Object} payload 平台指令\\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\\n */\\nvar encode = payload => {\\n    var result = \\\"\\\";\\n    // 水浸设备通常只读，无控制功能，保留基本结构\\n    if (payload.functionId) {\\n        // 如有需要，可扩展编码逻辑\\n        result = \\\"指令已处理\\\";\\n    }\\n    return result;\\n};\\n\\n/**\\n * 解码：设备数据转平台格式\\n * @param {Object} payload 设备数据，包含APPdata字段（base64编码）\\n * @returns {Array} 平台消息数组，包含事件或属性\\n */\\nvar decode = payload => {\\n    var py = toJson(payload);\\n    var appdataBase64 = py.APPdata;\\n    var rawString = base64Decode(appdataBase64);\\n    // 去除无用字符\\n    rawString = rawString.replace(/@/g, \\\"\\\").replace(/\\\\(/g, \\\"\\\").replace(/\\\\)/g, \\\"\\\");\\n    var fields = rawString.split(\'_\');\\n    if (fields.length < 8) {\\n        throw new Error(\\\"数据格式无效\\\");\\n    }\\n\\n    var deviceId = fields[0];\\n    var eventType = fields[5];\\n    var timestamp = fields[6];\\n    var battery = Integer.parseInt(fields[4]);\\n    var csq = Integer.parseInt(fields[2]);\\n\\n    var messages = [];\\n    var eventMessage = {\\n        \\\"messageType\\\": \\\"EVENT\\\",\\n        \\\"event\\\": \\\"\\\",\\n        \\\"data\\\": {\\n            \\\"ts\\\": timestamp\\n        }\\n    };\\n    var propertiesMessage = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"waterState\\\": false,\\n            \\\"battery\\\": battery,\\n            \\\"csq\\\": csq\\n        }\\n    };\\n\\n    if (eventType === \\\"SJOPEN\\\") {\\n        eventMessage.event = \\\"water_alarm\\\";\\n        propertiesMessage.properties.waterState = true;\\n        messages.push(eventMessage);\\n    } else if (eventType === \\\"SJCLOSE\\\") {\\n        eventMessage.event = \\\"water_normal\\\";\\n        propertiesMessage.properties.waterState = false;\\n        messages.push(eventMessage);\\n    } else {\\n        throw new Error(\\\"未知事件类型: \\\" + eventType);\\n    }\\n\\n    messages.push(propertiesMessage);\\n    return messages;\\n};\\n\",\"provider\":\"68bd7ea11c9e6085163c3f52\",\"supportMethods\":[\"encode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('68beda0c1c9e0d2b7943b826', '水浸', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"/**\\n * 解码：设备数据转平台格式\\n * @param {Object} payload 设备数据，包含APPdata字段（base64编码）\\n * @returns {Array} 平台消息数组，包含事件或属性\\n */\\nvar decode = payload => {\\n    //天翼物联消息入口={\\\"APPdata\\\":\\\"KDg2NTA5ODA3MDMyNjU+\\\"}\\n    var py = toJson(payload);\\n    var appdataBase64 = py.APPdata;\\n    //解码\\n    var rawString = base64Decode(appdataBase64);\\n    // 去除无用字符\\n    \\n    rawString = rawString.replace(/@/g, \\\"\\\").replace(/\\\\(/g, \\\"\\\").replace(/\\\\)/g, \\\"\\\");\\n    var fields = rawString.split(\'_\');\\n    if (fields.length < 8) {\\n        throw new Error(\\\"数据格式无效\\\");\\n    }\\n\\n    var deviceId = fields[0];\\n    var eventType = fields[5];\\n    var timestamp = fields[6];\\n    var battery = Integer.parseInt(fields[4]);\\n    var csq = Integer.parseInt(fields[2]);\\n\\n    var messages = [];\\n    var eventMessage = {\\n        \\\"messageType\\\": \\\"EVENT\\\",\\n        \\\"event\\\": \\\"\\\",\\n        \\\"data\\\": {\\n            \\\"ts\\\": timestamp\\n        }\\n    };\\n    var propertiesMessage = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"waterState\\\": false,\\n            \\\"battery\\\": battery,\\n            \\\"csq\\\": csq\\n        }\\n    };\\n\\n    if (eventType === \\\"SJOPEN\\\") {\\n        eventMessage.event = \\\"water_alarm\\\";\\n        propertiesMessage.properties.waterState = true;\\n        messages.push(eventMessage);\\n    } else if (eventType === \\\"SJCLOSE\\\") {\\n        eventMessage.event = \\\"water_normal\\\";\\n        propertiesMessage.properties.waterState = false;\\n        messages.push(eventMessage);\\n    }else if(eventType === \\\"POINT\\\") {\\n         eventMessage.event = \\\"point\\\";\\n        propertiesMessage.properties.waterState = false;\\n        messages.push(eventMessage);\\n    }\\n    messages.push(propertiesMessage);\\n    return messages;\\n};\\n\\n/**\\n * 编码：平台指令转设备格式\\n * @param {Object} payload 平台指令\\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\\n */\\nvar encode = payload => {\\n    var result = \\\"\\\";\\n    // 水浸设备通常只读，无控制功能，保留基本结构\\n    if (payload.functionId) {\\n        // 如有需要，可扩展编码逻辑\\n        result = \\\"指令已处理\\\";\\n    }\\n    return result;\\n};\",\"provider\":\"68beda0c1c9e0d2b7943b826\",\"supportMethods\":[\"encode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('68e5bcf0935e6d553cdda73b', '4G该精度定位', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"//解码\\nfunction decode(rawData) {\\n        var propertiesObj = {\\n            \\\"messageType\\\": \\\"PROPERTIES\\\",\\n            \\\"properties\\\": {}\\n        }\\n        var eventObj = {\\n            \\\"messageType\\\": \\\"EVENT\\\",\\n            \\\"event\\\": \\\"\\\",\\n            \\\"data\\\": {}\\n        }\\n\\n        return JSON.stringify(propertiesObj);\\n\\n    }\\n    //编码\\n    function encode(rawData) {\\n        return null\\n}\",\"provider\":\"68e5bcf0935e6d553cdda73b\"}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('8qlWaAd8Rz2B', '1', NULL, 0, 'magic', '{\"needBs4Decode\":false,\"location\":\"//编码\\nvar encode = payload => {\\n\\treturn \'\';\\n}\\n//解码\\nvar decode = payload => {\\n\\tvar propertiesObj = {\\n\\t\\t\\\"messageType\\\": \\\"PROPERTIES\\\",\\n\\t\\t\\\"properties\\\": {}\\n\\t}\\n\\tvar eventObj = {\\n\\t\\t\\\"messageType\\\": \\\"EVENT\\\",\\n\\t\\t\\\"event\\\": \\\"\\\",\\n\\t\\t\\\"data\\\": {}\\n\\t}\\n\\n\\treturn propertiesObj\\n}\",\"provider\":\"8qlWaAd8Rz2B\"}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('9r08rFICF3bo', 'DTU有人', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"/**\\n * 预解码：提取设备身份标识\\n * @param {String} payload 设备原始报文（可能是二进制、JSON、16进制字符串等）\\n * @returns {Object} {deviceId, productKey}\\n */\\nvar preDecode = payload => {\\n    //nexiot#861213059936242#89861125204091243722#02502025102600020012\\n    var hexSource=hex_toAscii(payload)\\n    if(hexSource.startsWith(\\\"heartbeat\\\")){\\n         //DTU配置的心跳内容：HEART|$(IMEI)|$(CSQ)|$(TIMESTAMP)|$(GPS)|$(ICCID)|$(IMSI)\\n        //解析网关自身的心跳\\n        const parts = hexSource.split(\\\"\\\\\\\\#\\\");\\n        if (parts.length >= 7) {\\n            pts.properties = {\\n                \\\"imei\\\": parts[1],\\n                \\\"iccid\\\": parts[2],\\n                \\\"sn\\\": parts[3]\\n            };\\n        }\\n    }\\n    var rs = {\\n        \\\"deviceId\\\": \\\"861213059936242\\\",\\n        \\\"productKey\\\": \\\"9r08rFICF3bo\\\"\\n    };\\n    // TODO：解析设备标识\\n    return rs;\\n};\\n\\n/**\\n * 编码：平台指令转设备格式\\n * @param {Object} payload 平台指令\\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\\n */\\nvar encode = payload => {\\n    var result = \\\"\\\";\\n    // TODO：实现编码逻辑\\n    return result;\\n};\\n\\n/**\\n * 解码：设备数据转平台格式\\n * @param {String} payload 设备原始报文（二进制、JSON、16进制字符串等）\\n * @returns {Array} 平台标准消息数组，每个元素结构：\\n *   [\\n *     {\\n *       messageType: \\\"PROPERTIES\\\", // 属性类型\\n *       properties: {} // 解析后的属性键值对（根据物模型动态调整）\\n *     },\\n *     {\\n *       messageType: \\\"EVENT\\\", // 事件类型\\n *       event: \\\"\\\", // 事件名称\\n *       data: {} // 事件参数\\n *     }\\n *   ]\\n */\\nvar decode = payload => { \\n    //心跳是16进制，数据又是Modbus RTU,简单解决\\n    var hexSource=hex_isAsciiPrintable(payload)?hex_toAscii(payload):payload;\\n    const pts = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\\"sourcePayload\\\":payload}\\n    };\\n    if (isJson(hexSource)) {\\n        pts.properties = toJson(hexSource);\\n    }else if(hexSource.startsWith(\\\"heartbeat\\\") || hexSource.startsWith(\\\"nexiot\\\")){\\n        //自己在DTU配置的内容\\n        //nexiot#861213059936242#89861125204091243722#02502025102600020012\\n        const parts = hexSource.split(\\\"#\\\");\\n        if (parts.length >= 3) {\\n            pts.properties = {\\n                \\\"imei\\\": parts[1],\\n                \\\"iccid\\\": parts[2],\\n                \\\"sn\\\": parts[3],\\n            };\\n        }\\n    } else {\\n        // 解析Modbus从站地址并关联子设备\\n        if(isModbusTcp(hexSource)){\\n            const addr = Integer.parseInt(hexSource.substring(12, 14));\\n            pts.subDevice = { \\\"slaveAddress\\\": addr };\\n            return pts;\\n        }\\n        else if(isModbusRtu(hexSource)){\\n            const addr = Integer.parseInt(hexSource.substring(0, 2));\\n            pts.subDevice = { \\\"slaveAddress\\\": addr };\\n            return pts;\\n        }else{\\n             pts.properties.hexPayload =hexSource\\n        }\\n\\n      \\n    }\\n    // 网关与子设备解析：通过从站地址匹配子设备物模型（复用现有服务）\\n    // ICodecService.decode(\\\"HnDdSnj1kiQg\\\", payload)\\n    return [pts];\\n    return properties;\\n};\",\"provider\":\"9r08rFICF3bo\",\"supportMethods\":[\"encode\",\"preDecode\",\"decode\"]}', '{}', NULL, '2025-11-22 14:31:45');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('abcxzxzxzxs', '智能插座', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"\\nimport log;\\n\\nvar url=\\\"\\\";\\n\\nvar post = (url,body) =>{\\n   \\n}\\n\\nvar encode = payload => {\\n    var dt=toJson(payload)\\n    dt.dxxc=randomSign();\\n    return dt;\\n}\\n\\n//解码\\nvar decode = payload => {\\n    var result = []\\n    log.info(\\\"编解码收到消息={}\\\",payload)\\n    var dt=toJson(payload)\\n    var propertiesObj = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {}\\n    }\\n    //设置属性\\n    propertiesObj.properties=dt\\n    propertiesObj.properties.sn=randomSign()\\n    //设置回复\\n    propertiesObj.replyPayload=\\\"xzzxc\\\"+randomSign()\\n    propertiesObj.downTopic=\\\"$thing/down/681c0775c2dc427d0480ab5f/cz001923\\\"\\n    var event={\\n        \\\"messageType\\\": \\\"EVENT\\\",\\n        \\\"event\\\":\\\"batteryRestore\\\",\\n        \\\"properties\\\": {\\n           // \\\"battery\\\":100\\n        }\\n    }\\n     var lowBatteryAlarm={\\n        \\\"messageType\\\": \\\"EVENT\\\",\\n        \\\"event\\\":\\\"lowBatteryAlarm\\\",\\n        \\\"properties\\\": {\\n            //\\\"csq\\\":29\\n        }\\n    }\\n    result.push(propertiesObj)\\n    result.push(event)\\n    result.push(lowBatteryAlarm)\\n    return result;\\n}\\n\\n//设备增加\\nvar add = payload => {\\n    var da=post(url,payload)\\n    var rs={\\n        \\\"code\\\":0,\\n        \\\"msg\\\":\\\"success\\\",\\n        \\\"codec\\\":\\\"add\\\",\\n        \\\"codec\\\":da\\n    }\\n    return rs;\\n}\\n\\n//设备更新\\nvar update = payload => {\\n    var da=post(url,payload)\\n    var rs={\\n        \\\"code\\\":0,\\n        \\\"msg\\\":\\\"success\\\",\\n        \\\"codec\\\":\\\"update\\\",\\n        \\\"codec\\\":da\\n    }\\n    return rs;\\n}\\n\\n//设备查询\\nvar query = payload => {\\n   var da=post(url,payload)\\n    var rs={\\n        \\\"code\\\":0,\\n        \\\"req\\\":0,\\n        \\\"msg\\\":\\\"success\\\",\\n        \\\"codec\\\":\\\"query\\\",\\n        \\\"codec\\\":da\\n    }\\n    return rs;\\n}\\n\\n//功能调用\\nvar function = payload => {\\n    var da=post(url,payload)\\n    var rs={\\n        \\\"code\\\":0,\\n        \\\"msg\\\":\\\"success\\\",\\n        \\\"codec\\\":\\\"function\\\",\\n        \\\"codec\\\":da\\n    }\\n    return rs;\\n}\\n\\n\",\"provider\":\"681c0775c2dc427d0480ab5f\",\"supportMethods\":[\"encode\",\"add\",\"function\",\"query\",\"update\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('bKFSm8yKgyGS', '光照温湿度子设备-TCP', 'DTU-TCP通道的Modbus温湿度光照子设备，前6个字节报文需要处理', 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"import cn.hutool.core.util.NumberUtil;\\nimport log;\\n\\n\\n/**\\n * 获取湿度描述信息\\n * @param {number} humidity - 湿度值（%RH）\\n * @returns {string} 人性化描述\\n */\\nconst getHumidityDescription = (humidity) => {\\n    if (humidity < 0 || humidity > 100) {\\n        return \\\"湿度传感器数据异常\\\";\\n    }\\n    if (humidity < 20) {\\n        return \\\"空气非常干燥，建议使用加湿器\\\";\\n    }\\n    if (humidity < 40) {\\n        return \\\"空气偏干燥，适当补水\\\";\\n    }\\n    if (humidity < 60) {\\n        return \\\"湿度舒适，适宜居住\\\";\\n    }\\n    if (humidity < 80) {\\n        return \\\"湿度适中，体感舒适\\\";\\n    }\\n    if (humidity < 90) {\\n        return \\\"湿度较高，建议适当通风\\\";\\n    }\\n    return \\\"湿重环境，注意防潮除湿\\\";\\n};\\n\\n/**\\n * 获取温度描述信息\\n * @param {number} temperature - 温度值（℃）\\n * @returns {string} 人性化描述\\n */\\nconst getTemperatureDescription = (temperature) => {\\n    if (temperature < -40 || temperature > 125) {\\n        return \\\"温度传感器数据异常\\\";\\n    }\\n    if (temperature < 0) {\\n        return \\\"极寒环境，注意防冻保暖\\\";\\n    }\\n    if (temperature < 10) {\\n        return \\\"天气寒冷，请添衣保暖\\\";\\n    }\\n    if (temperature < 18) {\\n        return \\\"温度凉爽，适宜活动\\\";\\n    }\\n    if (temperature < 26) {\\n        return \\\"温度舒适，体感宜人\\\";\\n    }\\n    if (temperature < 30) {\\n        return \\\"温度适中，注意补水\\\";\\n    }\\n    if (temperature < 35) {\\n        return \\\"天气炎热，注意防暑降温\\\";\\n    }\\n    return \\\"高温环境，避免长时间户外活动\\\";\\n};\\n\\n/**\\n * 获取光照强度描述信息\\n * @param {number} illumination - 光照值（LUX）\\n * @returns {string} 人性化描述\\n */\\nconst getIlluminationDescription = (illumination) => {\\n    if (illumination < 0 || illumination > 65535) {\\n        return \\\"光照传感器数据异常\\\";\\n    }\\n    if (illumination < 10) {\\n        return \\\"环境黑暗，建议开启照明\\\";\\n    }\\n    if (illumination < 100) {\\n        return \\\"光线昏暗，适合休息\\\";\\n    }\\n    if (illumination < 500) {\\n        return \\\"光线柔和，适宜阅读\\\";\\n    }\\n    if (illumination < 1000) {\\n        return \\\"光照适中，舒适自然\\\";\\n    }\\n    if (illumination < 3000) {\\n        return \\\"光线充足，适宜工作\\\";\\n    }\\n    if (illumination < 10000) {\\n        return \\\"光照强烈，注意防晒\\\";\\n    }\\n    return \\\"强光环境，建议采取防护措施\\\";\\n};\\n\\n/**\\n * 获取综合舒适度评价\\n * @param {number} humidity - 湿度\\n * @param {number} temperature - 温度\\n * @param {number} illumination - 光照\\n * @returns {string} 综合舒适度描述\\n */\\nconst getOverallComfortLevel = (humidity, temperature, illumination) => {\\n    // 舒适度评分（简单的加权计算）\\n    let comfortScore = 0;\\n    \\n    // 温度舒适度评分（最重要）\\n    if (temperature >= 18 && temperature <= 26) {\\n        comfortScore += 40;\\n    } else if (temperature >= 15 && temperature <= 28) {\\n        comfortScore += 30;\\n    } else if (temperature >= 10 && temperature <= 30) {\\n        comfortScore += 20;\\n    } else {\\n        comfortScore += 10;\\n    }\\n\\n    // 湿度舒适度评分\\n    if (humidity >= 40 && humidity <= 60) {\\n        comfortScore += 30;\\n    } else if (humidity >= 30 && humidity <= 70) {\\n        comfortScore += 20;\\n    } else {\\n        comfortScore += 10;\\n    }\\n\\n    // 光照舒适度评分\\n    if (illumination >= 100 && illumination <= 1000) {\\n        comfortScore += 30;\\n    } else if (illumination >= 50 && illumination <= 3000) {\\n        comfortScore += 20;\\n    } else {\\n        comfortScore += 10;\\n    }\\n\\n    // 根据总分返回描述\\n    if (comfortScore >= 90) {\\n        return \\\"环境非常舒适，适宜长时间停留\\\";\\n    }\\n    if (comfortScore >= 70) {\\n        return \\\"环境舒适，体感良好\\\";\\n    }\\n    if (comfortScore >= 50) {\\n        return \\\"环境一般，部分指标需优化\\\";\\n    }\\n    return \\\"环境不适，建议调整温湿度或光照条件\\\";\\n};\\nvar encode = (functionReqJson, shadow) => {\\n   \\n};\\n\\n// ------------------------------ 核心函数：decode（16进制报文→物模型） ------------------------------\\n/**\\n * decode逻辑：解析设备返回的Modbus RTU报文，转换为物模型属性\\n * @param {String} payload - 设备上报原始16进制报文\\n * @param {Object} context - 上下文（暂未使用）\\n * @returns {Array} 解析结果（含PROPERTIES对象，含传感数据与事件）\\n */\\nvar decode = (payload, context) => {\\n    payload=hex_toAscii(payload);\\n    const corePayload = payload.substring(12,payload.length());\\n    const properties = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": payload\\n        }\\n    };\\n    const slaveAddrHex = corePayload.substring(0, 2);\\n    const slaveAddr = Integer.parseInt(slaveAddrHex, 16);\\n    const funcCode = corePayload.substring(2, 4);\\n    // 数据长度（4-6位，规格书2-50：数据长度1字节）\\n    const dataLenHex = corePayload.substring(4, 6);\\n    const dataLen = Integer.parseInt(dataLenHex, 16);\\n     // 4. 解析传感数据（对照规格书2-53寄存器地址表）\\n    const dataArea = corePayload.substring(6, 6 + dataLen * 2); // 数据区（6-38位，16字节）\\n\\n    // 4.1 湿度解析（000H寄存器，数据区0-3位，规格书2-53：湿度存储于40001）\\n    const humidityHex = dataArea.substring(0, 4);\\n    const humidityRaw = Integer.parseInt(humidityHex, 16);\\n    const humidity = NumberUtil.div(humidityRaw, 10, 1); // 0.1%RH单位换算为%RH\\n    // 验证范围（规格书2-43：湿度0%RH~100%RH）\\n    if (humidity >= 0 && humidity <= 100) {\\n        properties.properties.humidity = humidity;\\n        properties.properties.humidityDesc = getHumidityDescription(humidity);\\n    } \\n    // 4.2 温度解析（0001H寄存器，数据区4-7位，规格书2-53：温度存储于40002）\\n    const tempHex = dataArea.substring(4, 8);\\n    const tempRaw = Integer.parseInt(tempHex, 16);\\n    const temperature = NumberUtil.div(tempRaw, 10, 1); // 0.1℃单位换算为℃\\n    // 验证范围（规格书2-43：温度-40℃~125℃）\\n    if (temperature >= -40 && temperature <= 125) {\\n        properties.properties.temperature = temperature;\\n        properties.properties.temperatureDesc = getTemperatureDescription(temperature);\\n    }\\n    // 4.3 光照强度解析（0007H寄存器，数据区28-31位，规格书2-53：光照存储于40008）\\n    const illuHex = dataArea.substring(28, 32);\\n    const illumination = Integer.parseInt(illuHex, 16);\\n    // 验证范围（规格书2-43：光照0~65535 LUX）\\n    if (illumination >= 0 && illumination <= 65535) {\\n        properties.properties.illumination = illumination;\\n        properties.properties.illuminationDesc = getIlluminationDescription(illumination);\\n\\n\\n    }\\n    if(illumination&&temperature&&humidity){\\n        properties.properties.overallComfort = getOverallComfortLevel(humidity, temperature, illumination);\\n    }\\n    return properties;\\n};\\n\\n\\n\\n\",\"provider\":\"bKFSm8yKgyGS\",\"supportMethods\":[\"encode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('DMxljo8wABX0', '开关控制', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"//编码\\nvar encode = payload => {\\n\\treturn \'\';\\n}\\n//解码\\nvar decode = payload => {\\n\\tvar propertiesObj = {\\n\\t\\t\\\"messageType\\\": \\\"PROPERTIES\\\",\\n\\t\\t\\\"properties\\\": {}\\n\\t}\\n\\tvar eventObj = {\\n\\t\\t\\\"messageType\\\": \\\"EVENT\\\",\\n\\t\\t\\\"event\\\": \\\"\\\",\\n\\t\\t\\\"data\\\": {}\\n\\t}\\n\\n\\treturn propertiesObj\\n}\",\"provider\":\"DMxljo8wABX0\",\"supportMethods\":[\"encode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('FzpVZ9unsUvU', '子设备', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"/**\\n * 解码：解析Modbus RTU报文，映射物模型（无switch，适配枚举）\\n * @param {string} payload - 原始ASCII报文\\n * @param {object} context - 上下文信息\\n * @returns {string} 物模型JSON字符串\\n */\\nvar decode = (payload, context) => {\\n    // 1. ASCII转16进制（修正原始报文解析逻辑）\\n    payload=hex_toAscii(payload);\\n    var payloadHex = payload.substring(12,payload.length());\\n    var result = [];\\n    // 2. 构造物模型基础对象（含固定属性）\\n    var propertiesObj = { \\n        \\\"messageType\\\": \\\"PROPERTIES\\\", \\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": payload,\\n            \\\"protectionLevel\\\": \\\"IPX54\\\", // 固定防护等级（参考🔶3-17）\\n            \\\"firmwareVersion\\\": \\\"V1.0\\\"   // 固定固件版本（参考🔶3-9）\\n        }\\n    };\\n    var eventObj = { \\n        \\\"messageType\\\": \\\"EVENT\\\", \\n        \\\"deviceId\\\": \\\"\\\", \\n        \\\"event\\\": \\\"\\\", \\n        \\\"data\\\": {}\\n    };\\n\\n    // 3. 基础校验：Modbus帧最小长度（地址2+功能码2+数据2+CRC2=8字符）\\n    if (payloadHex.length() < 8) {\\n       return propertiesObj;\\n    }\\n\\n    // 4. 提取Modbus核心字段（参考🔶3-31、🔶3-52）\\n    var deviceAddrHex = payloadHex.substring(0, 2); // 设备485地址（1字节）\\n    var funcCodeHex = payloadHex.substring(2, 4); // 功能码（1字节）\\n    var dataHex = payloadHex.substring(6, payloadHex.length()); // 数据区（排除地址、功能码、CRC）\\n    propertiesObj.deviceId = deviceAddrHex;\\n    eventObj.deviceId = deviceAddrHex;\\n\\n    // 5. 解析\\\"查询灯光状态\\\"响应（功能码03，参考🔶3-131至🔶3-137）\\n    if (funcCodeHex === \\\"03\\\") {\\n        if (dataHex.length() === 4) { // 数据区需2字节（DH+DL），对应4字符16进制\\n            var dlInt = Integer.parseInt(dataHex.substring(2, 4), 16); // DL字节存状态（参考🔶3-135）\\n            var lightState = {\\n                \\\"flashMode\\\": 0,  // 枚举值（0=熄灭，4=常亮，5=慢闪，6=爆闪）\\n                \\\"lightColor\\\": 0, // 枚举值（0=不亮，1=红…7=紫）\\n                \\\"lightStatus\\\": \\\"熄灭\\\"\\n            };\\n\\n            // 5.1 解析灯光颜色（Y值：低4位，参考🔶3-77、🔶3-78）\\n            var yValue = dlInt & 0x0F;\\n            if (yValue === 1) {\\n                lightState.lightColor = 1;\\n            } else if (yValue === 2) {\\n                lightState.lightColor = 2;\\n            } else if (yValue === 3) {\\n                lightState.lightColor = 3;\\n            } else if (yValue === 4) {\\n                lightState.lightColor = 4;\\n            } else if (yValue === 5) {\\n                lightState.lightColor = 5;\\n            } else if (yValue === 6) {\\n                lightState.lightColor = 6;\\n            } else if (yValue === 7) {\\n                lightState.lightColor = 7;\\n            } else {\\n                lightState.lightColor = 0;\\n            }\\n\\n            // 5.2 解析闪灯方式（X值：高4位，参考🔶3-77、🔶3-78）\\n            var xValue = (dlInt >> 4) & 0x0F;\\n            if (xValue === 4) {\\n                lightState.flashMode = 4;\\n                lightState.lightStatus = \\\"常亮\\\";\\n            } else if (xValue === 5) {\\n                lightState.flashMode = 5;\\n                lightState.lightStatus = \\\"慢闪\\\";\\n            } else if (xValue === 6) {\\n                lightState.flashMode = 6;\\n                lightState.lightStatus = \\\"爆闪\\\";\\n            } else {\\n                lightState.flashMode = 0;\\n                lightState.lightStatus = \\\"熄灭\\\";\\n            }\\n\\n            // 5.3 映射物模型属性（枚举值赋值）\\n            propertiesObj.properties.currentLightColor = lightState.lightColor;\\n            propertiesObj.properties.currentFlashMode = lightState.flashMode;\\n            propertiesObj.properties.lightStatus = lightState.lightStatus;\\n\\n            result.push(propertiesObj);\\n        } \\n    }\\n\\n    return result;\\n};\\n\\n/**\\n * 编码函数（无switch，适配枚举输入，调用modbus_crc16）\\n * @param {string} payload - 物模型功能调用JSON\\n * @returns {string} 16进制Modbus RTU报文\\n */\\nvar encode = payload => {\\n    var obj = toJson(payload);\\n    var deviceAddr = modbus_addr(obj.data.slaveAddress || \\\"01\\\") ; // 默认地址01（参考🔶3-27）\\n    var func = obj.function;\\n    var params = obj.data;\\n    var modbusFrame = \\\"\\\";\\n\\n    // 1. 控制灯光状态（function=controlLight，参考🔶3-75至🔶3-78）\\n    if (func === \\\"controlLight\\\") {\\n        var lightColor = params.lightColor || \\\"0\\\"; // 枚举值（0-7）\\n        var flashMode = params.flashMode || \\\"4\\\";   // 枚举值（4-6）\\n        // 构造指令体（地址+06功能码+00C2寄存器+00XY数据）\\n        var cmdBody = deviceAddr + \\\"0600C200\\\" + flashMode+lightColor;\\n        var crcHex = modbus_crc16(cmdBody); // 调用CRC工具函数\\n        modbusFrame = cmdBody + crcHex;\\n    }\\n\\n    // 2. 设置485地址（function=set485Addr，参考🔶3-111）\\n    // if (func === \\\"set485Addr\\\") {\\n    //     var newAddr = params.newAddr || \\\"01\\\"; // 新地址（0-255，16进制）\\n    //     newAddr = newAddr.padStart(2, \\\"0\\\");\\n    //     // 构造指令体（地址+06功能码+00C0寄存器+00新地址）\\n    //     var cmdBody = deviceAddr + \\\"0600C000\\\" + newAddr;\\n    //     var crcHex = modbus_crc16(cmdBody);\\n    //     modbusFrame = cmdBody + crcHex;\\n    // }\\n\\n    // 3. 查询灯光状态（function=queryLightState，参考🔶3-132）\\n    if (func === \\\"queryLightState\\\") {\\n        // 构造指令体（地址+03功能码+0070寄存器+0001读取个数）\\n        var cmdBody = deviceAddr + \\\"0300700001\\\";\\n        var crcHex = modbus_crc16(cmdBody);\\n        modbusFrame = cmdBody + crcHex;\\n    }\\n\\n    // 4. 查询在线设备（function=queryOnlineDevice，参考🔶3-127）\\n    if (func === \\\"queryOnlineDevice\\\") {\\n        // 构造指令体（地址+03功能码+003F寄存器+0000读取个数）\\n        var cmdBody = deviceAddr + \\\"03003F0000\\\";\\n        var crcHex = modbus_crc16(cmdBody);\\n        modbusFrame = cmdBody + crcHex;\\n    }\\n\\n    // 5. 设备复位（function=resetDevice，参考🔶3-91）\\n    if (func === \\\"resetDevice\\\") {\\n        // 构造指令体（地址+06功能码+000C寄存器+0000数据）\\n        var cmdBody = deviceAddr + \\\"06000C0000\\\";\\n        var crcHex = modbus_crc16(cmdBody);\\n        modbusFrame = cmdBody + crcHex;\\n    }\\n\\n    // 6. Modbus指令透传（function=cmd）\\n    if (func === \\\"cmd\\\") {\\n        var hexCmd = params.hexCmd || \\\"\\\";\\n        if (hexCmd.length() % 2 === 0) { // 校验16进制字符串长度为偶数\\n            var cmdWithoutCrc = hexCmd;\\n            // 若指令已带CRC则截取前半部分，否则直接计算\\n            if (hexCmd.length() >= 4) {\\n                cmdWithoutCrc = hexCmd.substring(0, hexCmd.length() - 4);\\n            }\\n            var crcHex = modbus_crc16(cmdWithoutCrc);\\n            modbusFrame = cmdWithoutCrc + crcHex;\\n        }\\n    }\\n\\n    return modbusFrame.toUpperCase();\\n};\\n\",\"provider\":\"FzpVZ9unsUvU\",\"supportMethods\":[\"encode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('Gyf31JJ2sbkX', '212', NULL, 1, 'jscript', '{\"needBs4Decode\":false,\"location\":\"//解码\\nfunction decode(rawData) {\\n        var propertiesObj = {\\n            \\\"messageType\\\": \\\"PROPERTIES\\\",\\n            \\\"properties\\\": {}\\n        }\\n        var eventObj = {\\n            \\\"messageType\\\": \\\"EVENT\\\",\\n            \\\"event\\\": \\\"\\\",\\n            \\\"data\\\": {}\\n        }\\n\\n        return JSON.stringify(propertiesObj);\\n\\n    }\\n    //编码\\n    function encode(rawData) {\\n        return null\\n}\",\"provider\":\"Gyf31JJ2sbkX\"}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('HnDdSnj1kiQg', '2P电表', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"/**\\n * magic-api 脚本 - 645协议解析（基于《单相4G蓝牙壁挂645协议_改版.pdf》修正）\\n * 功能：实现645协议与物模型的双向转换（encode：物模型→16进制报文；decode：16进制报文→物模型）\\n * 依赖：Hutool（HexUtil/JSONUtil/StrUtil/NumberUtil）、log\\n */\\nimport cn.hutool.core.util.HexUtil;\\nimport cn.hutool.core.util.StrUtil;\\nimport cn.hutool.core.util.NumberUtil;\\nimport cn.hutool.json.JSONUtil;\\nimport log;\\n\\n/**\\n * 帧头构建工具（协议2-3：帧头格式定义）\\n * 协议2-3明确：帧头 = 68（起始符） + 电表地址（12位16进制） + 68（起始符） + 控制码（2位16进制）\\n * @param {String} meterNo - 电表表号（12位16进制，大写，必传，协议1-6定义为设备唯一标识）\\n * @param {String} controlCode - 控制码（A0=数据操作/AA=事件包/A2=继电器控制，大写，协议1-7定义）\\n * @returns {String} 完整帧头（16进制字符串）\\n * @throws {Error} 表号格式错误时抛出异常（协议要求12位，不符则无法构建帧头）\\n */\\nvar buildFrameHeader = (meterNo, controlCode) => {\\n    if (!meterNo || meterNo.length() !== 12) {\\n        const errMsg = `电表表号格式错误：需12位16进制，当前为【${meterNo}】`;\\n        log.error(\\\"encode 错误：{}\\\", errMsg);\\n        throw new Error(errMsg);\\n    }\\n    return `68${meterNo}68${controlCode}`;\\n};\\n\\n/**\\n * 报文预处理（协议2-3/2-9：设备标识提取规则）\\n * 协议2-3：报文第2-14位为电表地址（设备唯一标识）；协议2-9：预处理需清除空格并统一格式\\n * @param {String} payload - 完整16进制报文（可含空格，设备上报原始报文）\\n * @returns {Object} 设备基础信息（统一大写，deviceId=电表地址，productKey为固定值）\\n */\\nvar preDecode = (payload) => {\\n    const payloadClean = StrUtil.removeAll(payload, \' \'); // 协议2-9：清除报文空格，统一格式\\n    const deviceId = payloadClean.substring(2, 14); // 协议2-3：提取第2-14位作为设备标识（电表地址）\\n    return {\\n        \\\"deviceId\\\": deviceId,\\n        \\\"productKey\\\": \\\"HnDdSnj1kiQg\\\"\\n    };\\n};\\n\\n// ------------------------------ encode子函数：指令构建（按协议章节拆分） ------------------------------\\n/**\\n * 构建查询用电量指令（协议2-11：查询全部数据指令）\\n * 协议2-11定义：查询数据指令数据区固定为\\\"043335C433\\\"，功能为获取电表所有采集数据（电量、电压等）\\n * @param {String} frameHeader - 完整帧头（buildFrameHeader构建，含表号和控制码A0）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildMeterReadCmd = (frameHeader) => {\\n    const dataArea = \\\"043335C433\\\"; // 协议2-11：查询全部数据的固定数据区\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建开关阀指令（协议2-107：继电器控制指令）\\n * 协议2-107定义：分闸数据区含\\\"4D\\\"，合闸数据区含\\\"4E\\\"，数据区长度固定为11字节（0A）\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A2）\\n * @param {String} valveOn - 开关状态（0=分闸，1=合闸）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildSwitchOnOffCmd = (frameHeader, valveOn) => {\\n    const dataArea = valveOn === \\\"0\\\" \\n        ? \\\"0A35333333333333334D33\\\" // 协议2-107：分闸数据区（含状态码4D）\\n        : \\\"0A35333333333333334E33\\\"; // 协议2-107：合闸数据区（含状态码4E）\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建远程购电指令（协议2-80：4G购电指令）\\n * 协议2-80定义：数据区格式=0C3135343A + 4字节购电量（BCD+反写+加0x33） + 4字节购电序号（加0x33）\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @param {String} energy - 购电量（字符串格式，如\\\"100\\\"代表100kWh）\\n * @param {Number} purchaseId - 购电序号（递增，确保唯一性）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildPurchaseCmd = (frameHeader, energy, purchaseId) => {\\n    const energyBcd = hex_decToBcd(energy, 4, 2); // 协议1-151：电量转4字节BCD（2位小数）\\n    const energyReverse = hex_reverse(energyBcd); // 协议1-151：电量BCD反写（中间两组交换）\\n    const energyHex = hex_add33(energyReverse); // 协议1-8：发送端数据需加0x33\\n    const purchaseIdHex = hex_add33(hex_fromDecScaledLE(purchaseId + \\\"\\\", 0, 4)); // 协议2-80：购电序号转4字节（加0x33）\\n    const dataArea = `0C3135343A${energyHex}${purchaseIdHex}`; // 协议2-80：购电指令固定数据区格式\\n    log.info(\\\"购电参数转换：购电量【{}】→+0x33后【{}】，购电序号【{}】→Hex【{}】\\\", \\n        energy, energyHex, purchaseId, purchaseIdHex);\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建矫正电量指令（协议2-60：设置剩余/总电量指令）\\n * 协议2-60定义：数据区格式=0C4B493553 + 4字节总电量（BCD+反写+加0x33） + 4字节剩余电量（同规则）\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @param {String} remainEnergy - 目标剩余电量（字符串格式）\\n * @param {String} totalEnergy - 目标总电量（字符串格式）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildSetEnergyValueCmd = (frameHeader, remainEnergy, totalEnergy) => {\\n    // 协议1-151（BCD反写）+协议1-8（加0x33）：剩余电量转换\\n    const remainEnergyHex = hex_add33(hex_reverse(hex_decToBcd(remainEnergy, 4, 2)));\\n    // 协议1-151+协议1-8：总电量转换\\n    const totalEnergyHex = hex_add33(hex_reverse(hex_decToBcd(totalEnergy, 4, 2)));\\n    log.info(\\\"矫正电量转换：剩余电量【{}】→Hex【{}】，总电量【{}】→Hex【{}】\\\", \\n        remainEnergy, remainEnergyHex, totalEnergy, totalEnergyHex);\\n    const dataArea = `0C4B493553${totalEnergyHex}${remainEnergyHex}`; // 协议2-60：矫正电量固定数据区格式\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建重启设备指令（协议2-10：数据操作-重启指令）\\n * 协议2-10定义：重启指令数据区固定为\\\"044B49354A\\\"，控制码为A0\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildRestartCmd = (frameHeader) => {\\n    const dataArea = \\\"044B49354A\\\"; // 协议2-10：重启指令固定数据区\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建清零指令（协议2-10：数据操作-清零指令）\\n * 协议2-10定义：清零指令数据区与重启一致，均为\\\"044B49354A\\\"，控制码为A0\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildResetCmd = (frameHeader) => {\\n    return buildRestartCmd(frameHeader); // 协议2-10：清零与重启数据区相同，复用函数\\n};\\n\\n/**\\n * 构建上报事件指令（协议2-xx：事件上报触发指令）\\n * 协议定义：上报事件指令数据区固定为\\\"044B493549\\\"，控制码为A0\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildUpEventCmd = (frameHeader) => {\\n    const dataArea = \\\"044B493549\\\"; // 协议2-xx：上报事件固定数据区\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建扣除电量指令（协议2-xx：扣除电量指令）\\n * 协议定义：数据区格式=0C3137343A + 4字节扣电量（BCD+反写+加0x33） + 4字节扣电序号（加0x33）\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @param {String} energy - 扣电量（字符串格式）\\n * @param {Number} deductId - 扣电序号（递增）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildDeductEnergyCmd = (frameHeader, energy, deductId) => {\\n    // 协议1-151（BCD反写）+协议1-8（加0x33）：扣电量转换\\n    const energyHex = hex_add33(hex_reverse(hex_decToBcd(energy, 4, 2)));\\n    // 协议2-xx：扣电序号转4字节（加0x33）\\n    const deductIdHex = hex_add33(hex_fromDecScaledLE(deductId + \\\"\\\", 0, 4));\\n    log.info(\\\"扣除电量转换：电量【{}】→Hex【{}】，序号【{}】→Hex【{}】\\\", \\n        energy, energyHex, deductId, deductIdHex);\\n    const dataArea = `0C3137343A${energyHex}${deductIdHex}`; // 协议2-xx：扣除电量固定数据区格式\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建设置4G服务器地址指令（协议2-xx：服务器地址配置指令）\\n * 协议定义：数据区格式=4B493555 + IP（ASCII→加0x33） + 0xFF（转32） + 端口（ASCII→加0x33），需计算数据长度\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @param {String} host - 服务器IP（如\\\"192.168.1.1\\\"）\\n * @param {String} port - 服务器端口（如\\\"8080\\\"）\\n * @returns {String} 完整指令体（帧头+数据长度+数据区）\\n */\\nvar buildSetServerAddrCmd = (frameHeader, host, port) => {\\n    const hostHex = hex_add33(hex_fromAscii(host)); // 协议1-8：IP转ASCII后加0x33\\n    const portHex = hex_add33(hex_fromAscii(port)); // 协议1-8：端口转ASCII后加0x33\\n    const dot = \\\"32\\\"; // 协议隐含：0xFF+0x33=0x122→低8位为0x22→16进制32，作为IP与端口分隔符\\n    const dataArea = `4B493555${hostHex}${dot}${portHex}`; // 协议2-xx：服务器地址数据区格式\\n    const dataLenHex = hex_645MakeLen(dataArea); // 协议1-8：计算数据长度（需加0x33）\\n    return `${frameHeader}${dataLenHex}${dataArea}`;\\n};\\n\\n// ------------------------------ 核心函数：encode（物模型→16进制报文，协议2-xx） ------------------------------\\n/**\\n * 645协议encode（物模型→16进制报文）\\n * 核心逻辑：按物模型功能ID（funcId）匹配协议指令，构建帧头+数据区+CS校验+结尾16（协议1-4通用格式）\\n * @param {String} functionReqJson - 物模型JSON字符串（含function、data等）\\n * @param {Object} shadow - 设备影子（存储历史数据如purchaseTimes）\\n * @returns {String|null} 完整16进制报文（失败返回null）\\n */\\nvar encode = (functionReqJson, shadow) => {\\n    const functionReq = toJson(functionReqJson);\\n    const funcId = functionReq.getStr(\\\"function\\\");\\n    const funcData = functionReq.getObj(\\\"data\\\", {});\\n    const meterNo = funcData.getStr(\\\"meterNo\\\");\\n    \\n    // 协议2-xx：仅支持FUNCTIONS类型消息（指令下发）\\n    if (functionReq.getStr(\\\"messageType\\\") !== \\\"FUNCTIONS\\\") {\\n        const errMsg = \\\"messageType必须为FUNCTIONS，当前格式不支持\\\";\\n        log.error(\\\"encode 错误：{}\\\", errMsg);\\n        throw new Error(errMsg);\\n    }\\n    // 协议1-6：表号（meterNo）为设备唯一标识，指令下发必传\\n    if (!meterNo) {\\n        const errMsg = \\\"物模型data中必须包含meterNo（电表表号）\\\";\\n        log.error(\\\"encode 错误：{}\\\", errMsg);\\n        throw new Error(errMsg);\\n    }\\n\\n    let cmdBody = \\\"\\\";\\n    let controlCode = \\\"\\\";\\n\\n    // 分支1：查询用电量（协议2-11）\\n    if (funcId === \\\"meterRead\\\") {\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildMeterReadCmd(buildFrameHeader(meterNo, controlCode));\\n    }\\n    // 分支2：开关阀（协议2-107）\\n    else if (funcId === \\\"switchOnOff\\\") {\\n        const valveOn = funcData.getStr(\\\"valveOn\\\");\\n        controlCode = \\\"A2\\\"; // 协议2-107：继电器控制控制码\\n        cmdBody = buildSwitchOnOffCmd(buildFrameHeader(meterNo, controlCode), valveOn);\\n    }\\n    // 分支3：远程购电（协议2-80）\\n    else if (funcId === \\\"purchase\\\") {\\n        const energy = funcData.getStr(\\\"energy\\\");\\n        const inputId = funcData.getInt(\\\"purchaseId\\\") || 0;\\n        const shadowId = shadow_getVal(shadow, \\\"purchaseTimes\\\") || 0;\\n        // 取最大值+1：确保购电序号递增（协议2-80要求序号唯一）\\n        const purchaseId = NumberUtil.max(inputId, shadowId, 1) + 1;\\n        \\n        if (!energy) {\\n            throw new Error(\\\"远程购电需传入energy（购电量）\\\");\\n        }\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildPurchaseCmd(buildFrameHeader(meterNo, controlCode), energy, purchaseId);\\n    }\\n    // 分支4：矫正电量（协议2-60）\\n    else if (funcId === \\\"setEnergyValue\\\") {\\n        const remainEnergy = funcData.getStr(\\\"remainEnergy\\\");\\n        const totalEnergy = funcData.getStr(\\\"totalEnergy\\\");\\n        if (!remainEnergy || !totalEnergy) {\\n            throw new Error(\\\"矫正电量需传入remainEnergy和totalEnergy\\\");\\n        }\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildSetEnergyValueCmd(buildFrameHeader(meterNo, controlCode), remainEnergy, totalEnergy);\\n    }\\n    // 分支5：重启设备（协议2-10）\\n    else if (funcId === \\\"restart\\\") {\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildRestartCmd(buildFrameHeader(meterNo, controlCode));\\n    }\\n    // 分支6：清零（协议2-10）\\n    else if (funcId === \\\"reset\\\") {\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildResetCmd(buildFrameHeader(meterNo, controlCode));\\n    }\\n    // 分支7：上报事件（协议2-xx）\\n    else if (funcId === \\\"upEvent\\\") {\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildUpEventCmd(buildFrameHeader(meterNo, controlCode));\\n    }\\n    // 分支8：扣除电量（协议2-xx）\\n    else if (funcId === \\\"deductEnergy\\\") {\\n        const deductEnergy = funcData.getStr(\\\"energy\\\");\\n        const deductInputId = funcData.getInt(\\\"purchaseId\\\") || 0;\\n        const deductShadowId = shadow_getVal(shadow, \\\"deductTimes\\\") || 0;\\n        // 取最大值+1：确保扣电序号递增\\n        const deductId = NumberUtil.max(deductInputId, deductShadowId, 1) + 1;\\n        \\n        if (!deductEnergy) {\\n            throw new Error(\\\"扣除电量需传入energy\\\");\\n        }\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildDeductEnergyCmd(buildFrameHeader(meterNo, controlCode), deductEnergy, deductId);\\n    }\\n    // 分支9：设置4G服务器地址（协议2-xx）\\n    else if (funcId === \\\"setRemote4GServerAddr\\\") {\\n        const host = funcData.getStr(\\\"host\\\");\\n        const port = funcData.getStr(\\\"port\\\");\\n        const sign = funcData.getStr(\\\"sign\\\");\\n        \\n        if (!host || !port) {\\n            throw new Error(\\\"设置服务器地址需传入host和port\\\");\\n        }\\n        // 协议隐含：签名验证（防止恶意修改地址）\\n        if (sign !== \\\"18160222\\\") {\\n            log.warn(\\\"encode 警告：服务器地址设置签名错误\\\");\\n            cmdBody = buildSetServerAddrCmd(buildFrameHeader(meterNo, \\\"A0\\\"), host, port) + \\\"11\\\";\\n            return cmdBody;\\n        }\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildSetServerAddrCmd(buildFrameHeader(meterNo, controlCode), host, port);\\n    }\\n    // 分支10：自定义指令（上层传入完整16进制）\\n    else if (funcId === \\\"cmd\\\") {\\n        return funcData.getStr(\\\"hex\\\");\\n    }\\n    // 分支11：未知功能（不支持）\\n    else {\\n        log.error(\\\"encode 错误：不支持的功能ID【{}】\\\", funcId);\\n        return null;\\n    }\\n\\n    // 协议1-9：CS校验（该位之前所有数据之和对256取余）\\n    const cs = cs_check(cmdBody, 256);\\n    // 协议1-4：完整报文格式=指令体+CS+16（结尾符）\\n    const finalFrame = `${cmdBody}${cs}16`;\\n    log.info(\\\"encode 成功：功能【{}】，表号【{}】，报文【{}】\\\", funcId, meterNo, finalFrame);\\n    return finalFrame;\\n};\\n\\n// ------------------------------ 核心函数：decode（16进制报文→物模型，协议2-xx） ------------------------------\\n/**\\n * 645协议decode（16进制报文→物模型）\\n * 核心逻辑：按协议通用格式（协议1-4）提取控制码/数据区，再按控制码分支解析（A0/A2/AA）\\n * @param {String} payload - 完整16进制报文（设备上报原始报文）\\n * @param {Object} context - 上下文（预留，暂未使用）\\n * @returns {Array} 解析结果（含PROPERTIES对象，data字段存指令标识，properties存设备属性）\\n */\\nvar decode = (payload, context) => {\\n    const result = [];\\n    const payloadClean = StrUtil.removeAll(payload, \' \').toUpperCase();;\\n    \\n    // 初始化返回结构：按需求将sourcePayload移至properties，data仅保留核心指令标识\\n    const properties = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": payload // 原始报文，便于溯源\\n        },\\n        \\\"data\\\": { // 仅保留指令核心标识，与设备属性分离\\n            \\\"functionId\\\": \\\"\\\",\\n            \\\"functionName\\\": \\\"\\\",\\n            \\\"parseStatus\\\": \\\"success\\\"\\n        }\\n    };\\n\\n    // 协议1-4：通用报文格式要求最小长度为10字节（20位16进制），不足则解析失败\\n    if (payloadClean.length() < 20) {\\n        properties.data.parseStatus = \\\"fail\\\";\\n        properties.data.functionName = \\\"报文解析失败\\\";\\n        properties.data.error = \\\"报文长度不足（最小需10字节=20位16进制）\\\";\\n        result.push(properties);\\n        return result;\\n    }\\n\\n    // 协议1-4：提取通用核心字段（仅内部解析用，不对外暴露）\\n    const controlCode = payloadClean.substring(16, 18); // 控制码：第16-18位（协议1-7）\\n    const dataLenHex = payloadClean.substring(18, 20); // 数据长度：第18-20位（协议1-8）\\n    const dataLen = Integer.parseInt(dataLenHex, 16); // 数据长度转十进制（需减0x33，此处内部解析已处理）\\n    const dataArea = payloadClean.substring(20, 20 + dataLen * 2); // 数据区：第20位后（协议1-4）\\n    const di = hex_sub33(dataArea.substring(0, 8)); // DI码：数据区前8位-0x33（协议2-10：数据操作标识）\\n\\n    // 分支1：控制码AA（事件包，协议2-120）\\n    if (controlCode === \\\"AA\\\") {\\n        const eventHead = dataArea.substring(0, 8); // 事件头：数据区前8位（协议2-120）\\n        \\n        // 子分支1.1：注册包（协议2-121）\\n        if (eventHead === \\\"AAAAAA01\\\" && dataArea.length() > 8) {\\n            properties.data.functionId = \\\"deviceRegister\\\";\\n            properties.data.functionName = \\\"设备注册\\\"; // 协议2-121：注册包功能描述\\n            \\n            const jsonHex = dataArea.substring(8); // JSON数据区：事件头后（协议2-121）\\n            const jsonStr = HexUtil.decodeHexStr(jsonHex).replaceAll(\\\"(\\\\\\\\w+):\\\", \\\"\\\\\\\"$1\\\\\\\":\\\"); // 修复JSON格式\\n            const deviceInfo = JSONUtil.parseObj(jsonStr);\\n\\n            // 协议2-121：注册包返回设备基础信息（IMEI/ICCID/信号等）\\n            properties.properties.imei = deviceInfo.getStr(\\\"imei\\\");\\n            properties.properties.iccid = deviceInfo.getStr(\\\"iccid\\\");\\n            properties.properties.csq = deviceInfo.getInt(\\\"csq\\\");\\n            properties.properties.firmwareVersion = deviceInfo.getStr(\\\"ver\\\");\\n            properties.properties.signalDesc = csq(deviceInfo.getInt(\\\"csq\\\"));\\n        }\\n        // 子分支1.2：心跳包（协议2-127）\\n        else if (eventHead === \\\"AAAAAA02\\\") {\\n            properties.data.functionId = \\\"heartbeat\\\";\\n            properties.data.functionName = \\\"设备心跳\\\"; // 协议2-127：心跳包功能描述\\n        }\\n        // 子分支1.3：未知事件（协议未适配）\\n        else {\\n            properties.data.functionId = \\\"unknownEvent\\\";\\n            properties.data.functionName = \\\"未知事件\\\";\\n            properties.data.parseStatus = \\\"fail\\\";\\n        }\\n    }\\n    // 分支2：控制码A0（数据操作，协议2-10）\\n    else if (controlCode === \\\"A0\\\") {\\n        // 子分支2.1：查询用电量响应（DI=00029100，协议2-11）\\n        if (di === \\\"00029100\\\") {\\n            properties.data.functionId = \\\"meterRead\\\";\\n            properties.data.functionName = \\\"读表（查询全部数据）\\\"; // 协议2-11：功能描述\\n            \\n            // 协议1-151：电量解析（反写+减0x33+除以100，2位小数）\\n            properties.properties.remainEnergy = NumberUtil.div(\\n                Integer.parseInt(reverseTwoDigit(hex_sub33(dataArea.substring(10, 18)))),\\n                100,\\n                2\\n            );\\n            properties.properties.totalEnergy = NumberUtil.div(\\n                Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(18, 26)))),\\n                100,\\n                2\\n            );\\n            // 协议1-153：电压解析（反写+减0x33+除以10，1位小数）\\n            properties.properties.voltage = NumberUtil.div(\\n                Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(26, 34)))),\\n                10,\\n                1\\n            );\\n            // 协议1-153：电流解析（反写+减0x33+除以1000，3位小数）\\n            properties.properties.current = NumberUtil.div(\\n                Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(34, 42)))),\\n                1000,\\n                3\\n            );\\n            // 协议1-153：功率/功率因子解析（反写+减0x33）\\n            properties.properties.power = Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(42, 50))));\\n            properties.properties.totalPower = Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(50, 58))));\\n            properties.properties.powerFactor = Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(58, 62))));\\n            // 协议1-153：信号/开关状态/设备信息解析\\n            properties.properties.csq = Integer.parseInt(dataArea.substring(62, 64));\\n            properties.properties.imei = dataArea.substring(66, 82);\\n            properties.properties.iccid = dataArea.substring(82, 102);\\n            properties.properties.firmwareVersion = hex_toAscii(dataArea.substring(102, 122));\\n            properties.properties.purchaseTimes = Integer.parseInt(hex_sub33(dataArea.substring(122, 130)), 16);\\n            properties.properties.csqDesc = csq(properties.properties.csq);\\n            properties.properties.openState = hex_sub33(dataArea.substring(64, 66)) === \\\"1B\\\" ? 1 : 0; // 协议1-153：1B=合闸\\n            properties.properties.openStateDesc = properties.properties.openState === 1 ? \\\"合闸\\\" : \\\"拉闸\\\";\\n        }\\n        // 子分支2.2：远程购电响应（DI=FE020107/FE030107，协议2-80）\\n        else if (di===\\\"FE020107\\\" ||di===\\\"FE030107\\\") {\\n            properties.data.functionId = \\\"purchase\\\";\\n            properties.data.functionName = \\\"远程购电响应\\\"; // 协议2-80：功能描述\\n            const purchaseData = dataArea.substring(8); // 购电数据区：DI码后（协议2-80）\\n            \\n            // 协议2-80：购电响应数据解析（反写+减0x33+除以100）\\n            properties.properties.totalEnergy = NumberUtil.div(\\n                Integer.parseInt(hex_reverse(hex_sub33(purchaseData.substring(0, 8)))),\\n                100,\\n                2\\n            );\\n            const remainEnergyRaw = NumberUtil.div(\\n                Integer.parseInt(hex_reverse(hex_sub33(purchaseData.substring(8, 16)))),\\n                100,\\n                2\\n            );\\n            properties.properties.purchaseTimes = Integer.parseInt(hex_sub33(purchaseData.substring(16, 24)), 16);\\n            const zheng = Integer.parseInt(hex_reverse(hex_sub33(purchaseData.substring(24, 32)))); // 剩余电量正负标识\\n            properties.properties.remainEnergy = zheng === 0 ? remainEnergyRaw : -remainEnergyRaw;\\n        }\\n        // 子分支2.3：扣除电量响应（DI=FE040107，协议2-xx）\\n        else if (di === \\\"FE040107\\\") {\\n            properties.data.functionId = \\\"deductEnergy\\\";\\n            properties.data.functionName = \\\"扣除电量响应\\\"; // 协议2-xx：功能描述\\n            \\n            const deductData = dataArea.substring(8); // 扣电数据区：DI码后\\n            // 协议2-xx：扣电响应数据解析（反写+减0x33+除以100）\\n            const remainEnergyRaw = NumberUtil.div(\\n                Integer.parseInt(reverseTwoDigit(hex_sub33(deductData.substring(0, 8)))),\\n                100,\\n                2\\n            );\\n            properties.properties.totalEnergy = NumberUtil.div(\\n                Integer.parseInt(hex_reverse(hex_sub33(deductData.substring(8, 16)))),\\n                100,\\n                2\\n            );\\n            properties.properties.deductTimes = Integer.parseInt(hex_sub33(deductData.substring(16, 24)), 16);\\n            const zheng = Integer.parseInt(hex_reverse(hex_sub33(deductData.substring(24, 32)))); // 剩余电量正负标识\\n            properties.properties.remainEnergy = zheng === 0 ? remainEnergyRaw : -remainEnergyRaw;\\n        }\\n        // 子分支2.4：矫正电量响应（DI=18160220，协议2-60）\\n        else if (di === \\\"18160220\\\") {\\n            properties.data.functionId = \\\"setEnergyValue\\\";\\n            properties.data.functionName = \\\"矫正电量响应\\\"; // 协议2-60：功能描述\\n            \\n            const flag = hex_sub33(dataArea.substring(8, 10)); // 协议2-60：执行结果标识（01=成功，其他=失败）\\n            properties.properties.operationResult = flag === \\\"01\\\" ? \\\"成功\\\" : \\\"失败\\\";\\n        }\\n        // 子分支2.5：上报事件响应（DI=18160216，协议2-xx）\\n        else if (di === \\\"18160216\\\") {\\n            properties.data.functionId = \\\"upEvent\\\";\\n            properties.data.functionName = \\\"上报事件响应\\\"; // 协议2-xx：功能描述\\n            \\n            const flag = hex_sub33(dataArea.substring(8, 10)); // 执行结果标识（01=成功）\\n            properties.properties.operationResult = flag === \\\"01\\\" ? \\\"成功\\\" : \\\"失败\\\";\\n        }\\n        // 子分支2.6：写入表号响应（DI=18160215，协议2-21）\\n        else if (di === \\\"18160215\\\") {\\n            properties.data.functionId = \\\"writeMeterNo\\\";\\n            properties.data.functionName = \\\"写入表号响应\\\"; // 协议2-21：功能描述\\n            \\n            const flag = hex_sub33(dataArea.substring(8, 10)); // 协议2-21：执行结果标识（01=成功）\\n            properties.properties.operationResult = flag === \\\"01\\\" ? \\\"成功\\\" : \\\"失败\\\";\\n            properties.properties.meterNo = dataArea.substring(12, 24); // 协议2-21：返回写入的表号\\n        }\\n        // 子分支2.7：重启响应（DI=18160217，协议2-10）\\n        else if (di === \\\"18160217\\\") {\\n            properties.data.functionId = \\\"restart\\\";\\n            properties.data.functionName = \\\"重启响应\\\"; // 协议2-10：功能描述\\n            \\n            const flag = hex_sub33(dataArea.substring(8, 10)); // 协议2-10：执行结果标识（01=成功）\\n            properties.properties.operationResult = flag === \\\"01\\\" ? \\\"成功\\\" : \\\"失败\\\";\\n        }\\n        // 子分支2.8：查询设备状态响应（DI=00029200/00029300，协议2-16）\\n        else if (di===\\\"00029200\\\" ||di===\\\"00029300\\\") {\\n            properties.data.functionId = \\\"queryDeviceStatus\\\";\\n            properties.data.functionName = \\\"查询设备状态\\\"; // 协议2-16：功能描述\\n            properties.properties.chipState = dataArea.substring(28, 30); // 协议2-16：计量芯片状态\\n        }\\n        // 子分支2.9：未知数据操作（协议未适配）\\n        else {\\n            properties.data.functionId = \\\"unknownDataOperation\\\";\\n            properties.data.functionName = \\\"未知数据操作\\\";\\n            properties.data.parseStatus = \\\"fail\\\";\\n        }\\n    }\\n    // 分支3：控制码A2（继电器控制，协议2-107）\\n    else if (controlCode === \\\"A2\\\") {\\n        properties.data.functionId = \\\"switchOnOff\\\";\\n        properties.data.functionName = \\\"开关阀响应\\\"; // 协议2-107：功能描述\\n        \\n        const statusCode = dataArea.substring(8, 10); // 协议2-107：开关状态码（4D/4E/8E）\\n        let valveOpResult = \\\"\\\";\\n        let currentOpenState = \\\"\\\";\\n        \\n        if (statusCode === \\\"4D\\\") {\\n            valveOpResult = \\\"断闸（断电）成功\\\"; // 协议2-107：4D=分闸成功\\n            currentOpenState = \\\"0\\\";\\n        }\\n        else if (statusCode === \\\"4E\\\") {\\n            valveOpResult = \\\"合闸（来电）成功\\\"; // 协议2-107：4E=合闸成功\\n            currentOpenState = \\\"1\\\";\\n        }\\n        else if (statusCode === \\\"8E\\\") {\\n            valveOpResult = \\\"合闸失败（剩余电量≤0）\\\"; // 协议2-107：8E=合闸失败（余额不足）\\n            currentOpenState = \\\"0\\\";\\n            // 协议2-107：余额不足触发告警\\n            properties.properties.events = [{\\n                \\\"id\\\": \\\"lowBalanceAlarm\\\",\\n                \\\"name\\\": \\\"余额不足告警\\\",\\n                \\\"value\\\": \\\"合闸失败：剩余电量≤0，无法通电\\\",\\n                \\\"level\\\": \\\"warn\\\"\\n            }];\\n        }\\n        else {\\n            valveOpResult = `未知操作结果（状态码【${statusCode}】）`;\\n            currentOpenState = \\\"未知\\\";\\n            properties.data.parseStatus = \\\"fail\\\";\\n        }\\n        \\n        properties.properties.openState = currentOpenState;\\n        properties.properties.openStateDesc = currentOpenState === \\\"1\\\" ? \\\"合闸\\\" : \\\"拉闸\\\";\\n        properties.properties.operationResult = valveOpResult;\\n    }\\n    // 分支4：未知控制码（协议未适配，仅支持A0/A2/AA）\\n    else {\\n        properties.data.functionId = \\\"unknownControlCode\\\";\\n        properties.data.functionName = \\\"未知控制码\\\";\\n        properties.data.parseStatus = \\\"fail\\\";\\n    }\\n\\n    result.push(properties);\\n    log.info(\\\"decode 完成：解析状态【{}】，功能【{}】\\\", \\n        properties.data.parseStatus, properties.data.functionId);\\n    return result;\\n};\\n\",\"provider\":\"HnDdSnj1kiQg\",\"supportMethods\":[\"encode\",\"preDecode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('HXZnfxzYMPDZ', 'ppp', NULL, 1, 'jscript', '{\"needBs4Decode\":false,\"location\":\"//解码\\nfunction decode(rawData) {\\n        var propertiesObj = {\\n            \\\"messageType\\\": \\\"PROPERTIES\\\",\\n            \\\"properties\\\": {}\\n        }\\n        var eventObj = {\\n            \\\"messageType\\\": \\\"EVENT\\\",\\n            \\\"event\\\": \\\"\\\",\\n            \\\"data\\\": {}\\n        }\\n\\n        return JSON.stringify(propertiesObj);\\n\\n    }\\n    //编码\\n    function encode(rawData) {\\n        return null\\n}\",\"provider\":\"HXZnfxzYMPDZ\"}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('hYG8ESw5YgSz', '网关', NULL, 0, 'magic', '{\"needBs4Decode\":false,\"location\":\"//编码\\nvar encode = payload => {\\n\\treturn \'\';\\n}\\n//解码\\nvar decode = payload => {\\n\\tvar propertiesObj = {\\n\\t\\t\\\"messageType\\\": \\\"PROPERTIES\\\",\\n\\t\\t\\\"properties\\\": {}\\n\\t}\\n\\tvar eventObj = {\\n\\t\\t\\\"messageType\\\": \\\"EVENT\\\",\\n\\t\\t\\\"event\\\": \\\"\\\",\\n\\t\\t\\\"data\\\": {}\\n\\t}\\n\\n\\treturn propertiesObj\\n}\",\"provider\":\"hYG8ESw5YgSz\"}', '{}', NULL, '2025-11-05 19:33:25');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('jJi6xIj0sZfc', 'UDP', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"/**\\n * magic-api 脚本 - 645协议解析（基于《单相4G蓝牙壁挂645协议_改版.pdf》修正）\\n * 功能：实现645协议与物模型的双向转换（encode：物模型→16进制报文；decode：16进制报文→物模型）\\n * 依赖：Hutool（HexUtil/JSONUtil/StrUtil/NumberUtil）、log\\n */\\nimport cn.hutool.core.util.HexUtil;\\nimport cn.hutool.core.util.StrUtil;\\nimport cn.hutool.core.util.NumberUtil;\\nimport cn.hutool.json.JSONUtil;\\nimport log;\\n\\n/**\\n * 帧头构建工具（协议2-3：帧头格式定义）\\n * 协议2-3明确：帧头 = 68（起始符） + 电表地址（12位16进制） + 68（起始符） + 控制码（2位16进制）\\n * @param {String} meterNo - 电表表号（12位16进制，大写，必传，协议1-6定义为设备唯一标识）\\n * @param {String} controlCode - 控制码（A0=数据操作/AA=事件包/A2=继电器控制，大写，协议1-7定义）\\n * @returns {String} 完整帧（16进制字符串）\\n * @throws {Error} 表号格式错误时抛出异常（协议要求12位，不符则无法构建帧头）\\n */\\nvar buildFrameHeader = (meterNo, controlCode) => {\\n    if (!meterNo || meterNo.length() !== 12) {\\n        const errMsg = `电表表号格式错误：需12位16进制，当前为【${meterNo}】`;\\n        log.error(\\\"encode 错误：{}\\\", errMsg);\\n        throw new Error(errMsg);\\n    }\\n    return `68${meterNo}68${controlCode}`;\\n};\\n\\n/**\\n * 报文预处理（协议2-3/2-9：设备标识提取规则）\\n * 协议2-3：报文第2-14位为电表地址（设备唯一标识）；协议2-9：预处理需清除空格并统一格式\\n * @param {String} payload - 完整16进制报文（可含空格，设备上报原始报文）\\n * @returns {Object} 设备基础信息（统一大写，deviceId=电表地址，productKey为固定值）\\n */\\nvar preDecode = (payload) => {\\n    const payloadClean = StrUtil.removeAll(payload, \' \'); // 协议2-9：清除报文空格，统一格式\\n    const deviceId = payloadClean.substring(2, 14); // 协议2-3：提取第2-14位作为设备标识（电表地址）\\n    return {\\n        \\\"deviceId\\\": deviceId,\\n        \\\"productKey\\\": \\\"jJi6xIj0sZfc\\\"\\n    };\\n};\\n\\n// ------------------------------ encode子函数：指令构建（按协议章节拆分） ------------------------------\\n/**\\n * 构建查询用电量指令（协议2-11：查询全部数据指令）\\n * 协议2-11定义：查询数据指令数据区固定为\\\"043335C433\\\"，功能为获取电表所有采集数据（电量、电压等）\\n * @param {String} frameHeader - 完整帧头（buildFrameHeader构建，含表号和控制码A0）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildMeterReadCmd = (frameHeader) => {\\n    const dataArea = \\\"043335C433\\\"; // 协议2-11：查询全部数据的固定数据区\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建开关阀指令（协议2-107：继电器控制指令）\\n * 协议2-107定义：分闸数据区含\\\"4D\\\"，合闸数据区含\\\"4E\\\"，数据区长度固定为11字节（0A）\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A2）\\n * @param {String} valveOn - 开关状态（0=分闸，1=合闸）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildSwitchOnOffCmd = (frameHeader, valveOn) => {\\n    const dataArea = valveOn === \\\"0\\\" \\n        ? \\\"0A35333333333333334D33\\\" // 协议2-107：分闸数据区（含状态码4D）\\n        : \\\"0A35333333333333334E33\\\"; // 协议2-107：合闸数据区（含状态码4E）\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建远程购电指令（协议2-80：4G购电指令）\\n * 协议2-80定义：数据区格式=0C3135343A + 4字节购电量（BCD+反写+加0x33） + 4字节购电序号（加0x33）\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @param {String} energy - 购电量（字符串格式，如\\\"100\\\"代表100kWh）\\n * @param {Number} purchaseId - 购电序号（递增，确保唯一性）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildPurchaseCmd = (frameHeader, energy, purchaseId) => {\\n    const energyBcd = hex_decToBcd(energy, 4, 2); // 协议1-151：电量转4字节BCD（2位小数）\\n    const energyReverse = hex_reverse(energyBcd); // 协议1-151：电量BCD反写（中间两组交换）\\n    const energyHex = hex_add33(energyReverse); // 协议1-8：发送端数据需加0x33\\n    const purchaseIdHex = hex_add33(hex_fromDecScaledLE(purchaseId + \\\"\\\", 0, 4)); // 协议2-80：购电序号转4字节（加0x33）\\n    const dataArea = `0C3135343A${energyHex}${purchaseIdHex}`; // 协议2-80：购电指令固定数据区格式\\n    log.info(\\\"购电参数转换：购电量【{}】→+0x33后【{}】，购电序号【{}】→Hex【{}】\\\", \\n        energy, energyHex, purchaseId, purchaseIdHex);\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建矫正电量指令（协议2-60：设置剩余/总电量指令）\\n * 协议2-60定义：数据区格式=0C4B493553 + 4字节总电量（BCD+反写+加0x33） + 4字节剩余电量（同规则）\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @param {String} remainEnergy - 目标剩余电量（字符串格式）\\n * @param {String} totalEnergy - 目标总电量（字符串格式）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildSetEnergyValueCmd = (frameHeader, remainEnergy, totalEnergy) => {\\n    // 协议1-151（BCD反写）+协议1-8（加0x33）：剩余电量转换\\n    const remainEnergyHex = hex_add33(hex_reverse(hex_decToBcd(remainEnergy, 4, 2)));\\n    // 协议1-151+协议1-8：总电量转换\\n    const totalEnergyHex = hex_add33(hex_reverse(hex_decToBcd(totalEnergy, 4, 2)));\\n    log.info(\\\"矫正电量转换：剩余电量【{}】→Hex【{}】，总电量【{}】→Hex【{}】\\\", \\n        remainEnergy, remainEnergyHex, totalEnergy, totalEnergyHex);\\n    const dataArea = `0C4B493553${totalEnergyHex}${remainEnergyHex}`; // 协议2-60：矫正电量固定数据区格式\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建重启设备指令（协议2-10：数据操作-重启指令）\\n * 协议2-10定义：重启指令数据区固定为\\\"044B49354A\\\"，控制码为A0\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildRestartCmd = (frameHeader) => {\\n    const dataArea = \\\"044B49354A\\\"; // 协议2-10：重启指令固定数据区\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建清零指令（协议2-10：数据操作-清零指令）\\n * 协议2-10定义：清零指令数据区与重启一致，均为\\\"044B49354A\\\"，控制码为A0\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildResetCmd = (frameHeader) => {\\n    return buildRestartCmd(frameHeader); // 协议2-10：清零与重启数据区相同，复用函数\\n};\\n\\n/**\\n * 构建上报事件指令（协议2-xx：事件上报触发指令）\\n * 协议定义：上报事件指令数据区固定为\\\"044B493549\\\"，控制码为A0\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildUpEventCmd = (frameHeader) => {\\n    const dataArea = \\\"044B493549\\\"; // 协议2-xx：上报事件固定数据区\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建扣除电量指令（协议2-xx：扣除电量指令）\\n * 协议定义：数据区格式=0C3137343A + 4字节扣电量（BCD+反写+加0x33） + 4字节扣电序号（加0x33）\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @param {String} energy - 扣电量（字符串格式）\\n * @param {Number} deductId - 扣电序号（递增）\\n * @returns {String} 完整指令体（帧头+数据区）\\n */\\nvar buildDeductEnergyCmd = (frameHeader, energy, deductId) => {\\n    // 协议1-151（BCD反写）+协议1-8（加0x33）：扣电量转换\\n    const energyHex = hex_add33(hex_reverse(hex_decToBcd(energy, 4, 2)));\\n    // 协议2-xx：扣电序号转4字节（加0x33）\\n    const deductIdHex = hex_add33(hex_fromDecScaledLE(deductId + \\\"\\\", 0, 4));\\n    log.info(\\\"扣除电量转换：电量【{}】→Hex【{}】，序号【{}】→Hex【{}】\\\", \\n        energy, energyHex, deductId, deductIdHex);\\n    const dataArea = `0C3137343A${energyHex}${deductIdHex}`; // 协议2-xx：扣除电量固定数据区格式\\n    return `${frameHeader}${dataArea}`;\\n};\\n\\n/**\\n * 构建设置4G服务器地址指令（协议2-xx：服务器地址配置指令）\\n * 协议定义：数据区格式=4B493555 + IP（ASCII→加0x33） + 0xFF（转32） + 端口（ASCII→加0x33），需计算数据长度\\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\\n * @param {String} host - 服务器IP（如\\\"192.168.1.1\\\"）\\n * @param {String} port - 服务器端口（如\\\"8080\\\"）\\n * @returns {String} 完整指令体（帧头+数据长度+数据区）\\n */\\nvar buildSetServerAddrCmd = (frameHeader, host, port) => {\\n    const hostHex = hex_add33(hex_fromAscii(host)); // 协议1-8：IP转ASCII后加0x33\\n    const portHex = hex_add33(hex_fromAscii(port)); // 协议1-8：端口转ASCII后加0x33\\n    const dot = \\\"32\\\"; // 协议隐含：0xFF+0x33=0x122→低8位为0x22→16进制32，作为IP与端口分隔符\\n    const dataArea = `4B493555${hostHex}${dot}${portHex}`; // 协议2-xx：服务器地址数据区格式\\n    const dataLenHex = hex_645MakeLen(dataArea); // 协议1-8：计算数据长度（需加0x33）\\n    return `${frameHeader}${dataLenHex}${dataArea}`;\\n};\\n\\n// ------------------------------ 核心函数：encode（物模型→16进制报文，协议2-xx） ------------------------------\\n/**\\n * 645协议encode（物模型→16进制报文）\\n * 核心逻辑：按物模型功能ID（funcId）匹配协议指令，构建帧头+数据区+CS校验+结尾16（协议1-4通用格式）\\n * @param {String} functionReqJson - 物模型JSON字符串（含function、data等）\\n * @param {Object} shadow - 设备影子（存储历史数据如purchaseTimes）\\n * @returns {String|null} 完整16进制报文（失败返回null）\\n */\\nvar encode = (functionReqJson, shadow) => {\\n    const functionReq = toJson(functionReqJson);\\n    const funcId = functionReq.getStr(\\\"function\\\");\\n    const funcData = functionReq.getObj(\\\"data\\\", {});\\n    const meterNo = funcData.getStr(\\\"meterNo\\\");\\n    \\n    // 协议2-xx：仅支持FUNCTIONS类型消息（指令下发）\\n    if (functionReq.getStr(\\\"messageType\\\") !== \\\"FUNCTIONS\\\") {\\n        const errMsg = \\\"messageType必须为FUNCTIONS，当前格式不支持\\\";\\n        log.error(\\\"encode 错误：{}\\\", errMsg);\\n        throw new Error(errMsg);\\n    }\\n    // 协议1-6：表号（meterNo）为设备唯一标识，指令下发必传\\n    if (!meterNo) {\\n        const errMsg = \\\"物模型data中必须包含meterNo（电表表号）\\\";\\n        log.error(\\\"encode 错误：{}\\\", errMsg);\\n        throw new Error(errMsg);\\n    }\\n\\n    let cmdBody = \\\"\\\";\\n    let controlCode = \\\"\\\";\\n\\n    // 分支1：查询用电量（协议2-11）\\n    if (funcId === \\\"meterRead\\\") {\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildMeterReadCmd(buildFrameHeader(meterNo, controlCode));\\n    }\\n    // 分支2：开关阀（协议2-107）\\n    else if (funcId === \\\"switchOnOff\\\") {\\n        const valveOn = funcData.getStr(\\\"valveOn\\\");\\n        controlCode = \\\"A2\\\"; // 协议2-107：继电器控制控制码\\n        cmdBody = buildSwitchOnOffCmd(buildFrameHeader(meterNo, controlCode), valveOn);\\n    }\\n    // 分支3：远程购电（协议2-80）\\n    else if (funcId === \\\"purchase\\\") {\\n        const energy = funcData.getStr(\\\"energy\\\");\\n        const inputId = funcData.getInt(\\\"purchaseId\\\") || 0;\\n        const shadowId = shadow_getVal(shadow, \\\"purchaseTimes\\\") || 0;\\n        // 取最大值+1：确保购电序号递增（协议2-80要求序号唯一）\\n        const purchaseId = NumberUtil.max(inputId, shadowId, 1) + 1;\\n        \\n        if (!energy) {\\n            throw new Error(\\\"远程购电需传入energy（购电量）\\\");\\n        }\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildPurchaseCmd(buildFrameHeader(meterNo, controlCode), energy, purchaseId);\\n    }\\n    // 分支4：矫正电量（协议2-60）\\n    else if (funcId === \\\"setEnergyValue\\\") {\\n        const remainEnergy = funcData.getStr(\\\"remainEnergy\\\");\\n        const totalEnergy = funcData.getStr(\\\"totalEnergy\\\");\\n        if (!remainEnergy || !totalEnergy) {\\n            throw new Error(\\\"矫正电量需传入remainEnergy和totalEnergy\\\");\\n        }\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildSetEnergyValueCmd(buildFrameHeader(meterNo, controlCode), remainEnergy, totalEnergy);\\n    }\\n    // 分支5：重启设备（协议2-10）\\n    else if (funcId === \\\"restart\\\") {\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildRestartCmd(buildFrameHeader(meterNo, controlCode));\\n    }\\n    // 分支6：清零（协议2-10）\\n    else if (funcId === \\\"reset\\\") {\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildResetCmd(buildFrameHeader(meterNo, controlCode));\\n    }\\n    // 分支7：上报事件（协议2-xx）\\n    else if (funcId === \\\"upEvent\\\") {\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildUpEventCmd(buildFrameHeader(meterNo, controlCode));\\n    }\\n    // 分支8：扣除电量（协议2-xx）\\n    else if (funcId === \\\"deductEnergy\\\") {\\n        const deductEnergy = funcData.getStr(\\\"energy\\\");\\n        const deductInputId = funcData.getInt(\\\"purchaseId\\\") || 0;\\n        const deductShadowId = shadow_getVal(shadow, \\\"deductTimes\\\") || 0;\\n        // 取最大值+1：确保扣电序号递增\\n        const deductId = NumberUtil.max(deductInputId, deductShadowId, 1) + 1;\\n        \\n        if (!deductEnergy) {\\n            throw new Error(\\\"扣除电量需传入energy\\\");\\n        }\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildDeductEnergyCmd(buildFrameHeader(meterNo, controlCode), deductEnergy, deductId);\\n    }\\n    // 分支9：设置4G服务器地址（协议2-xx）\\n    else if (funcId === \\\"setRemote4GServerAddr\\\") {\\n        const host = funcData.getStr(\\\"host\\\");\\n        const port = funcData.getStr(\\\"port\\\");\\n        const sign = funcData.getStr(\\\"sign\\\");\\n        \\n        if (!host || !port) {\\n            throw new Error(\\\"设置服务器地址需传入host和port\\\");\\n        }\\n        // 协议隐含：签名验证（防止恶意修改地址）\\n        if (sign !== \\\"18160222\\\") {\\n            log.warn(\\\"encode 警告：服务器地址设置签名错误\\\");\\n            cmdBody = buildSetServerAddrCmd(buildFrameHeader(meterNo, \\\"A0\\\"), host, port) + \\\"11\\\";\\n            return cmdBody;\\n        }\\n        controlCode = \\\"A0\\\"; // 协议2-10：数据操作控制码\\n        cmdBody = buildSetServerAddrCmd(buildFrameHeader(meterNo, controlCode), host, port);\\n    }\\n    // 分支10：自定义指令（上层传入完整16进制）\\n    else if (funcId === \\\"cmd\\\") {\\n        return funcData.getStr(\\\"hex\\\");\\n    }\\n    // 分支11：未知功能（不支持）\\n    else {\\n        log.error(\\\"encode 错误：不支持的功能ID【{}】\\\", funcId);\\n        return null;\\n    }\\n\\n    // 协议1-9：CS校验（该位之前所有数据之和对256取余）\\n    const cs = cs_check(cmdBody, 256);\\n    // 协议1-4：完整报文格式=指令体+CS+16（结尾符）\\n    const finalFrame = `${cmdBody}${cs}16`;\\n    log.info(\\\"encode 成功：功能【{}】，表号【{}】，报文【{}】\\\", funcId, meterNo, finalFrame);\\n    return finalFrame;\\n};\\n\\n// ------------------------------ 核心函数：decode（16进制报文→物模型，协议2-xx） ------------------------------\\n/**\\n * 645协议decode（16进制报文→物模型）\\n * 核心逻辑：按协议通用格式（协议1-4）提取控制码/数据区，再按控制码分支解析（A0/A2/AA）\\n * @param {String} payload - 完整16进制报文（设备上报原始报文）\\n * @param {Object} context - 上下文（预留，暂未使用）\\n * @returns {Array} 解析结果（含PROPERTIES对象，data字段存指令标识，properties存设备属性）\\n */\\nvar decode = (payload, context) => {\\n    const result = [];\\n    const payloadClean = StrUtil.removeAll(payload, \' \').toUpperCase();;\\n    \\n    // 初始化返回结构：按需求将sourcePayload移至properties，data仅保留核心指令标识\\n    const properties = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": payload // 原始报文，便于溯源\\n        },\\n        \\\"data\\\": { // 仅保留指令核心标识，与设备属性分离\\n            \\\"functionId\\\": \\\"\\\",\\n            \\\"functionName\\\": \\\"\\\",\\n            \\\"parseStatus\\\": \\\"success\\\"\\n        }\\n    };\\n\\n    // 协议1-4：通用报文格式要求最小长度为10字节（20位16进制），不足则解析失败\\n    if (payloadClean.length() < 20) {\\n        properties.data.parseStatus = \\\"fail\\\";\\n        properties.data.functionName = \\\"报文解析失败\\\";\\n        properties.data.error = \\\"报文长度不足（最小需10字节=20位16进制）\\\";\\n        result.push(properties);\\n        return result;\\n    }\\n\\n    // 协议1-4：提取通用核心字段（仅内部解析用，不对外暴露）\\n    const controlCode = payloadClean.substring(16, 18); // 控制码：第16-18位（协议1-7）\\n    const dataLenHex = payloadClean.substring(18, 20); // 数据长度：第18-20位（协议1-8）\\n    const dataLen = Integer.parseInt(dataLenHex, 16); // 数据长度转十进制（需减0x33，此处内部解析已处理）\\n    const dataArea = payloadClean.substring(20, 20 + dataLen * 2); // 数据区：第20位后（协议1-4）\\n    const di = hex_sub33(dataArea.substring(0, 8)); // DI码：数据区前8位-0x33（协议2-10：数据操作标识）\\n\\n    // 分支1：控制码AA（事件包，协议2-120）\\n    if (controlCode === \\\"AA\\\") {\\n        const eventHead = dataArea.substring(0, 8); // 事件头：数据区前8位（协议2-120）\\n        \\n        // 子分支1.1：注册包（协议2-121）\\n        if (eventHead === \\\"AAAAAA01\\\" && dataArea.length() > 8) {\\n            properties.data.functionId = \\\"deviceRegister\\\";\\n            properties.data.functionName = \\\"设备注册\\\"; // 协议2-121：注册包功能描述\\n            \\n            const jsonHex = dataArea.substring(8); // JSON数据区：事件头后（协议2-121）\\n            const jsonStr = HexUtil.decodeHexStr(jsonHex).replaceAll(\\\"(\\\\\\\\w+):\\\", \\\"\\\\\\\"$1\\\\\\\":\\\"); // 修复JSON格式\\n            const deviceInfo = JSONUtil.parseObj(jsonStr);\\n\\n            // 协议2-121：注册包返回设备基础信息（IMEI/ICCID/信号等）\\n            properties.properties.imei = deviceInfo.getStr(\\\"imei\\\");\\n            properties.properties.iccid = deviceInfo.getStr(\\\"iccid\\\");\\n            properties.properties.csq = deviceInfo.getInt(\\\"csq\\\");\\n            properties.properties.firmwareVersion = deviceInfo.getStr(\\\"ver\\\");\\n            properties.properties.signalDesc = csq(deviceInfo.getInt(\\\"csq\\\"));\\n        }\\n        // 子分支1.2：心跳包（协议2-127）\\n        else if (eventHead === \\\"AAAAAA02\\\") {\\n            properties.data.functionId = \\\"heartbeat\\\";\\n            properties.data.functionName = \\\"设备心跳\\\"; // 协议2-127：心跳包功能描述\\n        }\\n        // 子分支1.3：未知事件（协议未适配）\\n        else {\\n            properties.data.functionId = \\\"unknownEvent\\\";\\n            properties.data.functionName = \\\"未知事件\\\";\\n            properties.data.parseStatus = \\\"fail\\\";\\n        }\\n    }\\n    // 分支2：控制码A0（数据操作，协议2-10）\\n    else if (controlCode === \\\"A0\\\") {\\n        // 子分支2.1：查询用电量响应（DI=00029100，协议2-11）\\n        if (di === \\\"00029100\\\") {\\n            properties.data.functionId = \\\"meterRead\\\";\\n            properties.data.functionName = \\\"读表（查询全部数据）\\\"; // 协议2-11：功能描述\\n            \\n            // 协议1-151：电量解析（反写+减0x33+除以100，2位小数）\\n            properties.properties.remainEnergy = NumberUtil.div(\\n                Integer.parseInt(reverseTwoDigit(hex_sub33(dataArea.substring(10, 18)))),\\n                100,\\n                2\\n            );\\n            properties.properties.totalEnergy = NumberUtil.div(\\n                Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(18, 26)))),\\n                100,\\n                2\\n            );\\n            // 协议1-153：电压解析（反写+减0x33+除以10，1位小数）\\n            properties.properties.voltage = NumberUtil.div(\\n                Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(26, 34)))),\\n                10,\\n                1\\n            );\\n            // 协议1-153：电流解析（反写+减0x33+除以1000，3位小数）\\n            properties.properties.current = NumberUtil.div(\\n                Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(34, 42)))),\\n                1000,\\n                3\\n            );\\n            // 协议1-153：功率/功率因子解析（反写+减0x33）\\n            properties.properties.power = Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(42, 50))));\\n            properties.properties.totalPower = Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(50, 58))));\\n            properties.properties.powerFactor = Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(58, 62))));\\n            // 协议1-153：信号/开关状态/设备信息解析\\n            properties.properties.csq = Integer.parseInt(dataArea.substring(62, 64));\\n            properties.properties.imei = dataArea.substring(66, 82);\\n            properties.properties.iccid = dataArea.substring(82, 102);\\n            properties.properties.firmwareVersion = hex_toAscii(dataArea.substring(102, 122));\\n            properties.properties.purchaseTimes = Integer.parseInt(hex_sub33(dataArea.substring(122, 130)), 16);\\n            properties.properties.csqDesc = csq(properties.properties.csq);\\n            properties.properties.openState = hex_sub33(dataArea.substring(64, 66)) === \\\"1B\\\" ? 1 : 0; // 协议1-153：1B=合闸\\n            properties.properties.openStateDesc = properties.properties.openState === 1 ? \\\"合闸\\\" : \\\"拉闸\\\";\\n        }\\n        // 子分支2.2：远程购电响应（DI=FE020107/FE030107，协议2-80）\\n        else if (di===\\\"FE020107\\\" ||di===\\\"FE030107\\\") {\\n            properties.data.functionId = \\\"purchase\\\";\\n            properties.data.functionName = \\\"远程购电响应\\\"; // 协议2-80：功能描述\\n            const purchaseData = dataArea.substring(8); // 购电数据区：DI码后（协议2-80）\\n            \\n            // 协议2-80：购电响应数据解析（反写+减0x33+除以100）\\n            properties.properties.totalEnergy = NumberUtil.div(\\n                Integer.parseInt(hex_reverse(hex_sub33(purchaseData.substring(0, 8)))),\\n                100,\\n                2\\n            );\\n            const remainEnergyRaw = NumberUtil.div(\\n                Integer.parseInt(hex_reverse(hex_sub33(purchaseData.substring(8, 16)))),\\n                100,\\n                2\\n            );\\n            properties.properties.purchaseTimes = Integer.parseInt(hex_sub33(purchaseData.substring(16, 24)), 16);\\n            const zheng = Integer.parseInt(hex_reverse(hex_sub33(purchaseData.substring(24, 32)))); // 剩余电量正负标识\\n            properties.properties.remainEnergy = zheng === 0 ? remainEnergyRaw : -remainEnergyRaw;\\n        }\\n        // 子分支2.3：扣除电量响应（DI=FE040107，协议2-xx）\\n        else if (di === \\\"FE040107\\\") {\\n            properties.data.functionId = \\\"deductEnergy\\\";\\n            properties.data.functionName = \\\"扣除电量响应\\\"; // 协议2-xx：功能描述\\n            \\n            const deductData = dataArea.substring(8); // 扣电数据区：DI码后\\n            // 协议2-xx：扣电响应数据解析（反写+减0x33+除以100）\\n            const remainEnergyRaw = NumberUtil.div(\\n                Integer.parseInt(reverseTwoDigit(hex_sub33(deductData.substring(0, 8)))),\\n                100,\\n                2\\n            );\\n            properties.properties.totalEnergy = NumberUtil.div(\\n                Integer.parseInt(hex_reverse(hex_sub33(deductData.substring(8, 16)))),\\n                100,\\n                2\\n            );\\n            properties.properties.deductTimes = Integer.parseInt(hex_sub33(deductData.substring(16, 24)), 16);\\n            const zheng = Integer.parseInt(hex_reverse(hex_sub33(deductData.substring(24, 32)))); // 剩余电量正负标识\\n            properties.properties.remainEnergy = zheng === 0 ? remainEnergyRaw : -remainEnergyRaw;\\n        }\\n        // 子分支2.4：矫正电量响应（DI=18160220，协议2-60）\\n        else if (di === \\\"18160220\\\") {\\n            properties.data.functionId = \\\"setEnergyValue\\\";\\n            properties.data.functionName = \\\"矫正电量响应\\\"; // 协议2-60：功能描述\\n            \\n            const flag = hex_sub33(dataArea.substring(8, 10)); // 协议2-60：执行结果标识（01=成功，其他=失败）\\n            properties.properties.operationResult = flag === \\\"01\\\" ? \\\"成功\\\" : \\\"失败\\\";\\n        }\\n        // 子分支2.5：上报事件响应（DI=18160216，协议2-xx）\\n        else if (di === \\\"18160216\\\") {\\n            properties.data.functionId = \\\"upEvent\\\";\\n            properties.data.functionName = \\\"上报事件响应\\\"; // 协议2-xx：功能描述\\n            \\n            const flag = hex_sub33(dataArea.substring(8, 10)); // 执行结果标识（01=成功）\\n            properties.properties.operationResult = flag === \\\"01\\\" ? \\\"成功\\\" : \\\"失败\\\";\\n        }\\n        // 子分支2.6：写入表号响应（DI=18160215，协议2-21）\\n        else if (di === \\\"18160215\\\") {\\n            properties.data.functionId = \\\"writeMeterNo\\\";\\n            properties.data.functionName = \\\"写入表号响应\\\"; // 协议2-21：功能描述\\n            \\n            const flag = hex_sub33(dataArea.substring(8, 10)); // 协议2-21：执行结果标识（01=成功）\\n            properties.properties.operationResult = flag === \\\"01\\\" ? \\\"成功\\\" : \\\"失败\\\";\\n            properties.properties.meterNo = dataArea.substring(12, 24); // 协议2-21：返回写入的表号\\n        }\\n        // 子分支2.7：重启响应（DI=18160217，协议2-10）\\n        else if (di === \\\"18160217\\\") {\\n            properties.data.functionId = \\\"restart\\\";\\n            properties.data.functionName = \\\"重启响应\\\"; // 协议2-10：功能描述\\n            \\n            const flag = hex_sub33(dataArea.substring(8, 10)); // 协议2-10：执行结果标识（01=成功）\\n            properties.properties.operationResult = flag === \\\"01\\\" ? \\\"成功\\\" : \\\"失败\\\";\\n        }\\n        // 子分支2.8：查询设备状态响应（DI=00029200/00029300，协议2-16）\\n        else if (di===\\\"00029200\\\" ||di===\\\"00029300\\\") {\\n            properties.data.functionId = \\\"queryDeviceStatus\\\";\\n            properties.data.functionName = \\\"查询设备状态\\\"; // 协议2-16：功能描述\\n            properties.properties.chipState = dataArea.substring(28, 30); // 协议2-16：计量芯片状态\\n        }\\n        // 子分支2.9：未知数据操作（协议未适配）\\n        else {\\n            properties.data.functionId = \\\"unknownDataOperation\\\";\\n            properties.data.functionName = \\\"未知数据操作\\\";\\n            properties.data.parseStatus = \\\"fail\\\";\\n        }\\n    }\\n    // 分支3：控制码A2（继电器控制，协议2-107）\\n    else if (controlCode === \\\"A2\\\") {\\n        properties.data.functionId = \\\"switchOnOff\\\";\\n        properties.data.functionName = \\\"开关阀响应\\\"; // 协议2-107：功能描述\\n        \\n        const statusCode = dataArea.substring(8, 10); // 协议2-107：开关状态码（4D/4E/8E）\\n        let valveOpResult = \\\"\\\";\\n        let currentOpenState = \\\"\\\";\\n        \\n        if (statusCode === \\\"4D\\\") {\\n            valveOpResult = \\\"断闸（断电）成功\\\"; // 协议2-107：4D=分闸成功\\n            currentOpenState = \\\"0\\\";\\n        }\\n        else if (statusCode === \\\"4E\\\") {\\n            valveOpResult = \\\"合闸（来电）成功\\\"; // 协议2-107：4E=合闸成功\\n            currentOpenState = \\\"1\\\";\\n        }\\n        else if (statusCode === \\\"8E\\\") {\\n            valveOpResult = \\\"合闸失败（剩余电量≤0）\\\"; // 协议2-107：8E=合闸失败（余额不足）\\n            currentOpenState = \\\"0\\\";\\n            // 协议2-107：余额不足触发告警\\n            properties.properties.events = [{\\n                \\\"id\\\": \\\"lowBalanceAlarm\\\",\\n                \\\"name\\\": \\\"余额不足告警\\\",\\n                \\\"value\\\": \\\"合闸失败：剩余电量≤0，无法通电\\\",\\n                \\\"level\\\": \\\"warn\\\"\\n            }];\\n        }\\n        else {\\n            valveOpResult = `未知操作结果（状态码【${statusCode}】）`;\\n            currentOpenState = \\\"未知\\\";\\n            properties.data.parseStatus = \\\"fail\\\";\\n        }\\n        \\n        properties.properties.openState = currentOpenState;\\n        properties.properties.openStateDesc = currentOpenState === \\\"1\\\" ? \\\"合闸\\\" : \\\"拉闸\\\";\\n        properties.properties.operationResult = valveOpResult;\\n    }\\n    // 分支4：未知控制码（协议未适配，仅支持A0/A2/AA）\\n    else {\\n        properties.data.functionId = \\\"unknownControlCode\\\";\\n        properties.data.functionName = \\\"未知控制码\\\";\\n        properties.data.parseStatus = \\\"fail\\\";\\n    }\\n\\n    result.push(properties);\\n    log.info(\\\"decode 完成：解析状态【{}】，功能【{}】\\\", \\n        properties.data.parseStatus, properties.data.functionId);\\n    return result;\\n};\\n\",\"provider\":\"jJi6xIj0sZfc\",\"supportMethods\":[\"encode\",\"preDecode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('jt808', 'jt808', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"import cn.hutool.core.util.HexUtil;\\nimport cn.hutool.core.date.DateUtil;\\nimport cn.hutool.core.util.StrUtil;\\nimport cn.hutool.core.util.NumberUtil;\\n\\nimport cn.hutool.json.JSONUtil;\\nimport log;\\n\\n\\n/**\\n * 构建JT808消息头（修复：终端手机号直接用BCD编码，不额外转换）\\n * @param {String} msgId - 消息ID（8100=注册应答）\\n * @param {String} terminalPhone - 终端手机号（12位数字，如018220444386）\\n * @param {Integer} msgBodyLen - 消息体长度（字节，严格按选中协议计算）\\n * @param {String} msgSeq - 消息流水号（4位16进制，=终端注册流水号）\\n * @returns {String} 12字节消息头（24位16进制，符合选中协议）\\n */\\nvar buildCommonHeader = (msgId, terminalPhone, msgBodyLen, msgSeq) => {\\n    // 1. 消息体属性：低10位=消息体长度，高6位=0（严格按选中协议）\\n    const msgBodyProps = StrUtil.padPre(msgBodyLen + \\\"\\\", 4, \'0\');\\n    // 2. 终端手机号：直接用12位数字作为BCD编码（无需hex_even转换，避免破坏BCD格式）\\n    const phoneBcd = StrUtil.padPre(terminalPhone, 12, \'0\'); // 确保12位，补前导0\\n    // 3. 组装消息头：消息ID(4)+属性(4)+手机号(12)+流水号(4)=24位16进制\\n    const msgHeader = msgId + msgBodyProps + phoneBcd + msgSeq;\\n    log.debug(\\\"构建消息头：msgId【{}】，消息体长度【{}】字节，流水号【{}】，手机号BCD【{}】\\\",\\n        msgId, msgBodyLen, msgSeq, phoneBcd);\\n    return msgHeader;\\n};\\nvar directDescParse = (directionVal) =>{\\n    var directionDesc = \\\"北\\\"; // 默认北方\\n    if (directionVal >= 0 && directionVal < 23) {\\n        directionDesc = \\\"北\\\";\\n    } else if (directionVal >= 23 && directionVal < 68) {\\n        directionDesc = \\\"东北\\\";\\n    } else if (directionVal >= 68 && directionVal < 113) {\\n        directionDesc = \\\"东\\\";\\n    } else if (directionVal >= 113 && directionVal < 158) {\\n        directionDesc = \\\"东南\\\";\\n    } else if (directionVal >= 158 && directionVal < 203) {\\n        directionDesc = \\\"南\\\";\\n    } else if (directionVal >= 203 && directionVal < 248) {\\n        directionDesc = \\\"西南\\\";\\n    } else if (directionVal >= 248 && directionVal < 293) {\\n        directionDesc = \\\"西\\\";\\n    } else if (directionVal >= 293 && directionVal < 338) {\\n        directionDesc = \\\"西北\\\";\\n    } else if (directionVal >= 338 && directionVal <= 359) {\\n        directionDesc = \\\"北\\\";\\n    }\\n    return directionDesc;\\n}\\nvar preDecode = (payload) => {\\n    payloadClean = StrUtil.removeAll(payload, \' \').toUpperCase();\\n    payloadClean = payloadClean.replaceAll(\\\"7D02\\\", \\\"7E\\\").replaceAll(\\\"7D01\\\", \\\"7D\\\");\\n    const msgHeader = payloadClean.substring(2, 26); // 起始符2位 + 消息头24位 = 2-26位\\n    const terminalPhoneHex = msgHeader.substring(8, 20); // 终端手机号（8-20位，6字节BCD）\\n    return {\\n        \\\"deviceId\\\": terminalPhoneHex,\\n        \\\"productKey\\\": \\\"jt808\\\"\\n    };\\n};\\n// ------------------------------ 公共工具函数（适配厂家协议） ------------------------------\\nvar bcdToPhone = (bcdHex) => {\\n    if (StrUtil.isBlank(bcdHex) || bcdHex.length() !== 12) {\\n        log.error(\\\"BCD转手机号失败：输入不是12位16进制（实际{}位）\\\", bcdHex.length());\\n        return \\\"\\\";\\n    }\\n    var phone = hex_bcdToDec(bcdHex, 0);\\n    phone = phone.replace(/[^0-9]/g, \'\');\\n    return StrUtil.padPre(phone, 12, \'0\').substring(0, 12);\\n};\\n\\nvar hexToAscii = (hex) => {\\n    if (StrUtil.isBlank(hex) || hex.length() % 2 !== 0) {\\n        return \\\"\\\";\\n    }\\n    return hex_toAscii(hex);\\n};\\nvar calcCheckCode = (data) => {\\n    if (StrUtil.isBlank(data) || data.length() % 2 !== 0) {\\n        log.error(\\\"校验码计算失败：输入不是有效16进制字符串（长度{}位）\\\", data.length());\\n        return \\\"00\\\";\\n    }\\n    return checkCRCTwoDigit(data).toUpperCase();\\n};\\n\\nvar isValidLatLng = (lat, lng) => {\\n    if (lat == null || lng == null) {\\n        return false;\\n    }\\n    if (lat < -90 || lat > 90) {\\n        return false;\\n    }\\n    if (lng < -180 || lng > 180) {\\n        return false;\\n    }\\n    return true;\\n};\\n\\n\\n\\nvar buildQueryLocationCmd = (terminalPhone, shadow) => {\\n    const msgId = \\\"8201\\\";\\n    const msgBody = \\\"\\\";\\n    // 使用randomSign()生成流水号\\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()),2);\\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBody.length() / 2, msgSeq);\\n    const msgHeaderBody = msgHeader + msgBody;\\n    const checkCode = calcCheckCode(msgHeaderBody);\\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\\n    log.info(\\\"构建查询位置指令：终端手机号【{}】，流水号【{}】，报文【{}】\\\", terminalPhone, msgSeq, finalFrame);\\n    return finalFrame;\\n};\\n\\nvar buildSetReportStrategyCmd = (terminalPhone, strategyType, timeInterval, distanceInterval, shadow) => {\\n    const msgId = \\\"8103\\\";\\n    let msgBody = \\\"03\\\";\\n    msgBody += \\\"0020000004\\\" + StrUtil.padPre(Integer.toHexString(strategyType).toUpperCase(), 8, \'0\');\\n    msgBody += \\\"0029000004\\\" + StrUtil.padPre(Integer.toHexString(timeInterval).toUpperCase(), 8, \'0\');\\n    msgBody += \\\"002C000004\\\" + StrUtil.padPre(Integer.toHexString(distanceInterval).toUpperCase(), 8, \'0\');\\n\\n    // 使用randomSign()生成流水号\\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()),2);\\n\\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBody.length() / 2, msgSeq);\\n    const msgHeaderBody = msgHeader + msgBody;\\n    const checkCode = calcCheckCode(msgHeaderBody);\\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\\n    log.info(\\\"构建设置汇报策略指令：终端手机号【{}】，策略【{}】，定时【{}s】，定距【{}m】，流水号【{}】，报文【{}】\\\",\\n        terminalPhone, strategyType, timeInterval, distanceInterval, msgSeq, finalFrame);\\n    return finalFrame;\\n};\\n\\nvar buildTempTrackCmd = (terminalPhone, interval, validTime, shadow) => {\\n    const msgId = \\\"8202\\\";\\n    let msgBody = \\\"\\\";\\n    msgBody += StrUtil.padPre(Integer.toHexString(interval).toUpperCase(), 4, \'0\');\\n    msgBody += StrUtil.padPre(Integer.toHexString(validTime).toUpperCase(), 8, \'0\');\\n\\n    // 使用randomSign()生成流水号\\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()),2);\\n\\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBody.length() / 2, msgSeq);\\n    const msgHeaderBody = msgHeader + msgBody;\\n    const checkCode = calcCheckCode(msgHeaderBody);\\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\\n    log.info(\\\"构建临时跟踪指令：终端手机号【{}】，间隔【{}s】，有效期【{}s】，流水号【{}】，报文【{}】\\\",\\n        terminalPhone, interval, validTime, msgSeq, finalFrame);\\n    return finalFrame;\\n};\\n\\n/**\\n * 构建文本信息下发指令（0x8300，JT/T 808-2013 3.9）\\n * @param {String} terminalPhone - 终端手机号（12位）\\n * @param {String} textMessage - 文本信息（字符串，最长102字节，GBK编码）\\n * @param {Integer} flag - 标志位（BYTE）：bit0=紧急(1), bit2=显示器显示(4), bit3=TTS播读(8), bit4=广告屏显示(16)\\n * @param {Object} shadow - 影子对象\\n * @returns {String} 完整指令报文\\n */\\nvar buildTextMessageCmd = (terminalPhone, textMessage, flag, shadow) => {\\n    const msgId = \\\"8300\\\";\\n    let msgBody = \\\"\\\";\\n    \\n    // 1. 标志位（BYTE，1字节）\\n    const flagByte = flag || 0; // 默认0，不设置任何标志\\n    msgBody += StrUtil.padPre(Integer.toHexString(flagByte).toUpperCase(), 2, \'0\');\\n    \\n    // 2. 文本信息（STRING，最长102字节，GBK编码）\\n    if (StrUtil.isBlank(textMessage)) {\\n        throw new Error(\\\"文本信息不能为空\\\");\\n    }\\n    \\n    // 将文本转换为GBK编码的16进制字符串\\n    const textHex = hex_fromGBK(textMessage);\\n    \\n    // 校验长度（最长102字节=204位16进制）\\n    if (textHex.length() > 204) {\\n        log.warn(\\\"文本信息长度超过102字节（实际{}字节），将截断\\\", textHex.length() / 2);\\n        msgBody += textHex.substring(0, 204);\\n    } else {\\n        msgBody += textHex;\\n    }\\n    \\n    // 使用randomSign()生成流水号\\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()), 2); \\n    \\n    // 计算消息体长度（字节）\\n    const msgBodyLen = msgBody.length() / 2;\\n    \\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, msgSeq);\\n    const msgHeaderBody = msgHeader + msgBody;\\n    const checkCode = calcCheckCode(msgHeaderBody);\\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\\n    \\n    log.info(\\\"构建文本信息下发指令：终端手机号【{}】，文本【{}】，标志位【{}】，流水号【{}】，报文【{}】\\\",\\n        terminalPhone, textMessage, flagByte, msgSeq, finalFrame);\\n    return finalFrame;\\n};\\n/**\\n * 构建一键重启指令（0x8155，JT/T 808-2013 3.5）- 修复：流水号格式+消息体属性\\n * @param {String} terminalPhone - 终端手机号（12位）\\n * @param {Object} shadow - 影子对象\\n * @returns {String} 完整指令报文\\n */\\nvar buildRestartCmd = (terminalPhone, shadow) => {\\n    const msgId = \\\"8155\\\";\\n    const msgBody = \\\"\\\"; // 文档要求消息体为空，无需修改\\n    \\n    // 修复核心1：对齐queryLocation的流水号生成逻辑，强制转为2字节16进制（4位）\\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()), 2); \\n    \\n    // 修复核心2：明确消息体长度=0，确保消息体属性为0000（文档强制要求）\\n    const msgBodyLen = 0;\\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, msgSeq);\\n    \\n    const msgHeaderBody = msgHeader + msgBody;\\n    const checkCode = calcCheckCode(msgHeaderBody);\\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\\n    \\n    log.info(\\\"构建一键重启指令：终端手机号【{}】，流水号【{}】，报文【{}】\\\",\\n        terminalPhone, msgSeq, finalFrame);\\n    return finalFrame;\\n};\\n\\n// ------------------------------ 新增：应答报文构建工具函数（基于厂家文档） ------------------------------\\n/**\\n * 构建平台通用应答报文（0x8001，JT/T 808-2013 2.2）- 修复参数缺失\\n * @param {String} terminalPhone - 终端手机号（12位）\\n * @param {String} respSeq - 应答流水号（=终端消息流水号，选中协议核心要求）\\n * @param {String} respMsgId - 应答目标消息ID（如0x0102→\\\"0102\\\"）\\n * @param {String} resultCode - 结果码（00=成功等，选中协议取值）\\n * @returns {String} 完整应答报文\\n */\\nvar buildPlatformCommonReply = (terminalPhone, respSeq, respMsgId, resultCode) => {\\n    const msgId = \\\"8001\\\"; // 平台通用应答消息ID\\n    // 1. 按选中协议组装消息体：应答流水号(4)+目标消息ID(4)+结果码(2)\\n    const msgBody = respSeq + respMsgId + resultCode;\\n    // 2. 计算消息体长度（字节）\\n    const msgBodyLen = msgBody.length() / 2;\\n    // 3. 修复：传入第4参数respSeq（=终端流水号，符合选中协议“应答流水号=终端消息流水号”）\\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, respSeq);\\n    // 4. 计算校验码（消息头+消息体，符合选中协议校验规则）\\n    const checkCode = calcCheckCode(msgHeader + msgBody);\\n    const replyFrame = `7E${msgHeader}${msgBody}${checkCode}7E`;\\n\\n    log.info(\\\"构建平台通用应答：终端【{}】，流水号【{}】，目标ID【{}】，报文【{}】\\\",\\n        terminalPhone, respSeq, respMsgId, replyFrame);\\n    return replyFrame;\\n};\\n/**\\n * 构建终端注册应答报文（完全遵循选中协议）\\n * @param {String} terminalPhone - 终端手机号（12位数字，如018220444386）\\n * @param {String} respSeq - 应答流水号（4位16进制，=终端注册流水号，选中协议核心要求）\\n * @param {String} resultCode - 结果码（2位16进制，00=成功，01=车辆已注册等，选中协议取值）\\n * @param {String} authCode - 鉴权码（16进制字符串，仅resultCode=00时传入，长度≤20字节）\\n * @returns {String} 完整应答报文（含7E首尾符，符合选中协议）\\n */\\nvar buildTerminalRegisterReply = (terminalPhone, respSeq, resultCode, authCode) => {\\n    const msgId = \\\"8100\\\"; // 注册应答消息ID（选中协议明确）\\n    let msgBody = \\\"\\\";\\n\\n    // 1. 按选中协议组装消息体：应答流水号(4) + 结果码(2) + 鉴权码(可选)\\n    msgBody += respSeq; // 应答流水号=终端注册流水号（选中协议核心要求）\\n    msgBody += resultCode; // 结果码（2位16进制，如00=成功）\\n    // 2. 仅结果码=00时添加鉴权码（选中协议要求）\\n    let authCodeHex = \\\"\\\";\\n    if (resultCode === \\\"00\\\" && StrUtil.isNotBlank(authCode)) {\\n        authCodeHex = authCode.toUpperCase();\\n        // 校验鉴权码长度≤20字节（选中协议要求）\\n        if (authCodeHex.length() > 40) { // 20字节=40位16进制\\n            log.error(\\\"鉴权码长度超过20字节（实际{}字节），截断为20字节\\\", authCodeHex.length() / 2);\\n            authCodeHex = authCodeHex.substring(0, 40);\\n        }\\n        msgBody += authCodeHex;\\n    }\\n\\n    // 3. 计算消息体长度（字节）：16进制位数/2\\n    const msgBodyLen = msgBody.length() / 2;\\n    // 4. 构建消息头（传入正确的消息体长度和流水号）\\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, respSeq);\\n    // 5. 计算校验码（从消息头到消息体的逐字节异或，选中协议要求）\\n    const checkCode = calcCheckCode(msgHeader + msgBody);\\n    // 6. 组装完整报文（首尾7E，无多余字符）\\n    const replyFrame = `7E${msgHeader}${msgBody}${checkCode}7E`;\\n\\n    log.info(\\\"构建注册应答：终端手机号【{}】，流水号【{}】，结果【{}】，鉴权码【{}】，报文【{}】\\\",\\n        terminalPhone, respSeq, resultCode, authCodeHex || \\\"无\\\", replyFrame);\\n    return replyFrame;\\n};\\n\\n/**\\n * 构建位置信息查询应答（0x0201，JT/T 808-2013 2.12）- 修复参数缺失\\n * @param {String} terminalPhone - 终端手机号（12位）\\n * @param {String} respSeq - 应答流水号（=平台查询指令的流水号，协议要求）\\n * @param {Object} locationData - 位置数据（含lat/lng等）\\n * @returns {String} 完整应答报文\\n */\\nvar buildLocationQueryReply = (terminalPhone, respSeq, locationData) => {\\n    const msgId = \\\"0201\\\"; // 位置查询应答消息ID\\n    // 1. 组装消息体：应答流水号(4)+位置信息体（同0x0200格式）\\n    let locationBody = \\\"\\\";\\n    locationBody += StrUtil.padPre(locationData.alarmFlag || \\\"00000000\\\", 8, \'0\');\\n    locationBody += StrUtil.padPre(locationData.status || \\\"00000000\\\", 8, \'0\');\\n    locationBody += StrUtil.padPre(locationData.latHex || \\\"00000000\\\", 8, \'0\');\\n    locationBody += StrUtil.padPre(locationData.lngHex || \\\"00000000\\\", 8, \'0\');\\n    locationBody += StrUtil.padPre(locationData.altitude || \\\"0000\\\", 4, \'0\');\\n    locationBody += StrUtil.padPre(locationData.speed || \\\"0000\\\", 4, \'0\');\\n    locationBody += StrUtil.padPre(locationData.direction || \\\"0000\\\", 4, \'0\');\\n    locationBody += locationData.timeBcd || \\\"251117100000\\\";\\n    const msgBody = respSeq + locationBody;\\n\\n    // 2. 计算消息体长度（字节）\\n    const msgBodyLen = msgBody.length() / 2;\\n    // 3. 修复：传入第4参数respSeq（=平台查询指令的流水号，确保终端识别应答归属）\\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, respSeq);\\n    // 4. 计算校验码\\n    const checkCode = calcCheckCode(msgHeader + msgBody);\\n    const replyFrame = `7E${msgHeader}${msgBody}${checkCode}7E`;\\n\\n    log.info(\\\"构建位置查询应答：终端【{}】，流水号【{}】，位置（{}°N, {}°E），报文【{}】\\\",\\n        terminalPhone, respSeq, locationData.lat, locationData.lng, replyFrame);\\n    return replyFrame;\\n};\\nvar buildDeviceConfigCmd = (terminalPhone, fId, fValue, shadow) => {\\n    const msgId = \\\"8103\\\";\\n    let msgBody = \\\"\\\";\\n    \\n    // 1. 处理参数值：默认按十进制处理，转换为16进制\\n    if (StrUtil.isBlank(fValue)) {\\n        throw new Error(\\\"参数值不能为空\\\");\\n    }\\n    \\n    let paramValueHex = \\\"\\\";\\n    \\n    try {\\n        // 默认按十进制解析，直接转换为16进制\\n        const intValue = Integer.parseInt(fValue.trim());\\n        // 转换为16进制字符串，如果长度为奇数则补前导0（确保字节对齐）\\n        paramValueHex = Integer.toHexString(intValue).toUpperCase();\\n        if (paramValueHex.length() % 2 !== 0) {\\n            paramValueHex = \\\"0\\\" + paramValueHex;\\n        }\\n    } catch (e) {\\n        // 数字解析失败，按字符串处理（GBK编码）\\n        log.warn(\\\"参数值【{}】无法解析为数字，按字符串（GBK编码）处理\\\", fValue);\\n        paramValueHex = hex_fromGBK(fValue);\\n    }\\n    \\n    // 2. 计算参数长度（字节数）= 16进制字符串长度 / 2\\n    const paramLen = paramValueHex.length() / 2;\\n    \\n    // 3. 组装消息体（严格按JT808-2013 2.8节格式）\\n    msgBody += \\\"01\\\"; // 参数总数=1（单次设置1个参数，BYTE类型，2位16进制）\\n    msgBody += \\\"00\\\"; // 包参数个数：JT808-2013无此字段，固定填充00（2位16进制）\\n    // 3.2 组装参数项：参数ID（4字节=8位16进制） + 参数长度（1字节=2位16进制） + 参数值（N字节）\\n    msgBody += StrUtil.padPre(fId.toUpperCase(), 8, \'0\'); // 参数ID统一转为大写，确保8位（4字节）\\n    msgBody += StrUtil.padPre(Integer.toHexString(paramLen).toUpperCase(), 2, \'0\'); // 参数长度（2位16进制，补前导0）\\n    msgBody += paramValueHex.toUpperCase(); // 参数值16进制统一转为大写\\n    \\n    // 4. 生成消息流水号（对齐现有逻辑：2字节16进制）\\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()), 2);\\n    \\n    // 5. 计算消息体长度（字节）= 消息体16进制字符串长度 / 2\\n    const msgBodyLen = msgBody.length() / 2;\\n    log.debug(\\\"设置终端参数：终端【{}】，参数ID【{}】，参数值原始【{}】，参数值16进制【{}】，参数长度【{}】字节，消息体总长度【{}】字节\\\",\\n        terminalPhone, fId, fValue, paramValueHex, paramLen, msgBodyLen);\\n\\n    // 6. 构建消息头（复用现有buildCommonHeader函数）\\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, msgSeq);\\n\\n    // 7. 计算校验码（消息头+消息体，逐字节异或）\\n    const msgHeaderBody = msgHeader + msgBody;\\n    const checkCode = calcCheckCode(msgHeaderBody);\\n\\n    // 8. 组装完整报文（首尾符7E）\\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\\n\\n    // 9. 日志输出\\n    log.info(\\\"构建设置终端参数指令完成：终端手机号【{}】，流水号【{}】，完整报文【{}】\\\",\\n        terminalPhone, msgSeq, finalFrame);\\n\\n    return finalFrame;\\n};\\n/**\\n * 构建请求同步时间应答（0x8109，遵循你提供的规范）\\n * @param {String} terminalPhone - 终端手机号（12位，如 777777777943）\\n * @param {String} respSeq - 应答流水号=终端0x0109请求流水号（选中内容核心规则）\\n * @param {String} resultCode - 应答结果（0=成功，1=失败等，2位16进制）\\n * @returns {String} 完整0x8109应答报文（含7E首尾符）\\n */\\nvar buildTimeSyncReply = (terminalPhone, respSeq, resultCode) => {\\n    const msgId = \\\"8109\\\"; // 同步时间应答消息ID\\n    // 1. 使用Hutool获取时间参数\\n    Date now = DateUtil.date(); // 获取当前时间\\n    // 从Date对象中获取各个时间部件（Hutool方式）\\n    int year = DateUtil.thisYear(); // 如 2025\\n    int month = DateUtil.thisMonth() + 1; // 注意：Hutool的month从1开始（1-12）\\n    int day = DateUtil.dayOfMonth(now); // 1-31\\n    int hour = DateUtil.hour(now, true); // 0-23 (true表示24小时制)\\n    int minute = DateUtil.minute(now); // 0-59\\n    int second = DateUtil.second(now); // 0-59\\n\\n    // 1.1 年（WORD=2字节：高字节=年//256，低字节=年%256，16进制）\\n    const yearHigh = StrUtil.padPre(Integer.toHexString(year >> 8).toUpperCase(), 2, \'0\');\\n    const yearLow = StrUtil.padPre(Integer.toHexString(year & 0xFF).toUpperCase(), 2, \'0\');\\n    const yearHex = yearHigh + yearLow; // 如 2025→07E9（0x07=2025//256，0xE9=2025%256）\\n\\n    // 1.2 月/日/时/分/秒（各1字节，16进制补0）\\n    const monthHex = StrUtil.padPre(Integer.toHexString(month).toUpperCase(), 2, \'0\');\\n    const dayHex = StrUtil.padPre(Integer.toHexString(day).toUpperCase(), 2, \'0\');\\n    const hourHex = StrUtil.padPre(Integer.toHexString(hour).toUpperCase(), 2, \'0\');\\n    const minuteHex = StrUtil.padPre(Integer.toHexString(minute).toUpperCase(), 2, \'0\');\\n    const secondHex = StrUtil.padPre(Integer.toHexString(second).toUpperCase(), 2, \'0\');\\n\\n    // 1.3 应答结果（1字节，2位16进制）\\n    const resultCodeHex = StrUtil.padPre(resultCode, 2, \'0\');\\n\\n    // 1.4 组装消息体（共8字节=16位16进制）\\n    const msgBody = yearHex + monthHex + dayHex + hourHex + minuteHex + secondHex + resultCodeHex;\\n\\n    // 2. 计算消息体长度（8字节）\\n    const msgBodyLen = 8;\\n\\n    // 3. 构建消息头（调用现有buildCommonHeader，传入4个参数）\\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, respSeq);\\n\\n    // 4. 计算校验码（消息头+消息体）\\n    const checkCode = calcCheckCode(msgHeader + msgBody);\\n\\n    // 5. 组装完整报文（含7E首尾符）\\n    const replyFrame = `7E${msgHeader}${msgBody}${checkCode}7E`;\\n\\n    log.info(\\\"构建 0x8109 同步时间应答：终端【{}】，时间【${year}-${month}-${day} ${hour}:${minute}:${second}】，报文【{}】\\\",\\n        terminalPhone, replyFrame);\\n    return replyFrame;\\n};\\n\\n// ------------------------------ 核心函数：encode（不变） ------------------------------\\nvar encode = (functionReqJson, shadow) => {\\n    const functionReq = JSONUtil.parseObj(functionReqJson);\\n    const msgType = functionReq.getStr(\\\"messageType\\\");\\n    const funcId = functionReq.getStr(\\\"function\\\");\\n    const funcData = functionReq.getObj(\\\"data\\\", {});\\n\\n    if (msgType !== \\\"FUNCTIONS\\\") {\\n        const errMsg = `不支持的消息类型【${msgType}】，仅支持FUNCTIONS`;\\n        log.error(\\\"encode 错误：{}\\\", errMsg);\\n        throw new Error(errMsg);\\n    }\\n    const terminalPhone = funcData.getStr(\\\"terminalPhone\\\");\\n    let finalFrame = null;\\n    if (funcId === \\\"queryLocation\\\") {\\n        finalFrame = buildQueryLocationCmd(terminalPhone, shadow);\\n    } else if (funcId === \\\"setLocationReportStrategy\\\") {\\n        const strategyType = funcData.getStr(\\\"strategyType\\\") || \\\"0\\\";\\n        const timeInterval = funcData.getInt(\\\"timeInterval\\\") || 60;\\n        const distanceInterval = funcData.getInt(\\\"distanceInterval\\\") || 100;\\n        finalFrame = buildSetReportStrategyCmd(terminalPhone, strategyType, timeInterval, distanceInterval, shadow);\\n    } else if (funcId === \\\"tempLocationTrack\\\") {\\n        const interval = funcData.getInt(\\\"interval\\\") || 0;\\n        const validTime = funcData.getInt(\\\"validTime\\\") || 3600;\\n        finalFrame = buildTempTrackCmd(terminalPhone, interval, validTime, shadow);\\n    } else if (funcId === \\\"cmd\\\") {\\n        const hexCmd = funcData.getStr(\\\"hexCmd\\\") || \\\"\\\";\\n        if (StrUtil.isBlank(hexCmd)) {\\n            throw new Error(\\\"透传指令需传入hexCmd（十六进制指令）\\\");\\n        }\\n        finalFrame = hexCmd;\\n    } else if (funcId === \\\"sendTextMessage\\\") {\\n        const textMessage = funcData.getStr(\\\"textMessage\\\") || \\\"\\\";\\n        // 标志位：枚举类型，value为字符串，需要转换为整数\\n        const flagStr = funcData.getStr(\\\"flag\\\");\\n        const flag = flagStr ? Integer.parseInt(flagStr) : 0; // 标志位，默认0\\n        finalFrame = buildTextMessageCmd(terminalPhone, textMessage, flag, shadow);\\n    } else if (funcId === \\\"restart\\\" || funcId === \\\"oneKeyRestart\\\") {\\n        finalFrame = buildRestartCmd(terminalPhone, shadow);\\n    } \\n    else if (funcId === \\\"deviceConfig\\\") {\\n        // 从物模型请求data中提取参数（与优化后的buildSetTerminalParamCmd参数对应）\\n        const fId = funcData.getStr(\\\"fId\\\"); // 8位16进制参数ID（如\\\"0001\\\"）\\n        const fValue = funcData.getStr(\\\"fValue\\\"); // 已处理的参数值16进制（如\\\"0000003C\\\"）\\n        finalFrame = buildDeviceConfigCmd(\\n            terminalPhone, // 终端手机号\\n            fId,           // 8位16进制参数ID\\n            fValue,        // 已处理的参数值16进制\\n            shadow         // 影子对象（预留）\\n        );\\n    }  else {\\n        const errMsg = `不支持的功能ID【${funcId}】`;\\n        log.error(\\\"encode 错误：{}\\\", errMsg);\\n        throw new Error(errMsg);\\n    }\\n\\n    log.info(\\\"encode 成功：功能【{}】，终端手机号【{}】，最终报文【{}】\\\", funcId, terminalPhone, finalFrame);\\n    return finalFrame;\\n};\\n\\n// ------------------------------ 核心函数：decode（终极修复） ------------------------------\\nvar decode = (payload, context) => {\\n    const result = [];\\n    let payloadClean = \\\"\\\";\\n\\n    try {\\n        // 1. 报文预处理\\n        payloadClean = StrUtil.removeAll(payload, \' \').toUpperCase();\\n        payloadClean = payloadClean.replaceAll(\\\"7D02\\\", \\\"7E\\\").replaceAll(\\\"7D01\\\", \\\"7D\\\");\\n\\n        // 2. 基础校验（仅保留首尾7E和最小长度校验）\\n        if (!payloadClean.startsWith(\\\"7E\\\") || !payloadClean.endsWith(\\\"7E\\\")) {\\n            throw new Error(`报文首尾标志错误（需7E，实际首：${payloadClean.substring(0,2)}，尾：${payloadClean.substring(payloadClean.length()-2)}）`);\\n        }\\n        if (payloadClean.length() < 30) { // 最小帧：7E+12字节消息头+0体+1校验码+7E=30位16进制\\n            throw new Error(`报文长度不足（实际${payloadClean.length()}位，最小30位）`);\\n        }\\n\\n        // 3. 提取消息头（厂家文档12字节=24位16进制）\\n        const msgHeader = payloadClean.substring(2, 26); // 起始符2位 + 消息头24位 = 2-26位\\n        const msgId = msgHeader.substring(0, 4); // 消息ID（0-4位）\\n        const msgBodyProps = msgHeader.substring(4, 8); // 消息体属性（4-8位）\\n        const msgBodyLen = Integer.parseInt(msgBodyProps, 16) & 0x3FF; // 消息体长度（低10位）\\n        const terminalPhoneHex = msgHeader.substring(8, 20); // 终端手机号（8-20位，6字节BCD）\\n        const msgSeq = msgHeader.substring(20, 24); // 消息流水号（20-24位）\\n\\n        // 4. 解析终端手机号\\n        const terminalPhone = bcdToPhone(terminalPhoneHex);\\n        if (terminalPhone.length() !== 12) {\\n            throw new Error(`终端手机号解析错误（BCD：${terminalPhoneHex}，转义后：${terminalPhone}）`);\\n        }\\n        const deviceId = terminalPhone;\\n\\n        // 5. 初始化返回结构\\n        const properties = {\\n            \\\"messageType\\\": \\\"PROPERTIES\\\",\\n            \\\"deviceId\\\": deviceId,\\n            \\\"properties\\\": {\\n                \\\"sourcePayload\\\": payload,\\n                \\\"terminalPhone\\\": terminalPhone,\\n                \\\"msgId\\\": msgId,\\n                \\\"msgSeq\\\": msgSeq,\\n                \\\"parseStatus\\\": \\\"success\\\",\\n                \\\"msgBodyLength\\\": msgBodyLen\\n            },\\n            \\\"data\\\": {\\n                \\\"functionId\\\": \\\"\\\",\\n                \\\"functionName\\\": \\\"\\\"\\n            }\\n        };\\n\\n        // ------------------------------ 终极修复：按厂家协议直接提取，删除冗余判断 ------------------------------\\n        const msgBodyStart = 26; // 消息体起始位（2位起始符+24位消息头=26位16进制）\\n        const checkCodeStart = msgBodyStart + msgBodyLen * 2; // 消息体结束位=起始位+消息体16进制位数\\n        const checkCodeEnd = checkCodeStart + 2; // 校验码结束位（2位16进制）\\n\\n        // 仅保留越界防护（防止报文严重异常）\\n        if (checkCodeEnd > payloadClean.length() - 2) {\\n            throw new Error(`报文结构异常：消息体+校验码超出报文范围（需${checkCodeEnd}位16进制，实际仅${payloadClean.length()-2}位）`);\\n        }\\n\\n        // 直接提取消息体和校验码（完全按厂家协议）\\n        const msgBody = payloadClean.substring(msgBodyStart, checkCodeStart);\\n        const checkCode = payloadClean.substring(checkCodeStart, checkCodeEnd);\\n        // ------------------------------ 修复结束 ------------------------------\\n\\n        // 6. 校验码验证（可选：厂家文档要求验证，保留但允许兼容）\\n        const calcCheck = calcCheckCode(msgHeader + msgBody);\\n        if (!StrUtil.equalsIgnoreCase(checkCode, calcCheck)) {\\n            log.warn(\\\"校验码不匹配：实际{}，计算{}，继续解析核心字段\\\", checkCode, calcCheck);\\n            // 不抛出错误，避免因校验码偏差导致解析失败\\n        }\\n\\n        // 7. 按消息ID解析（终端注册0x0100，严格遵循厂家文档表6）\\n        if (msgId === \\\"0100\\\") {\\n            properties.data.functionId = \\\"terminalRegister\\\";\\n            properties.data.functionName = \\\"终端注册上报\\\";\\n            try {\\n                // 厂家文档表6：省域ID(2)+市县域ID(2)+制造商ID(5)+终端型号(20)+终端ID(7)+车牌颜色(1)+车牌(STRING)\\n                const provinceId = Integer.parseInt(msgBody.substring(0, 4), 16); // 省域ID（WORD）\\n                const cityId = Integer.parseInt(msgBody.substring(4, 8), 16); // 市县域ID（WORD）\\n                const manufacturerId = hexToAscii(msgBody.substring(8, 18)).trim(); // 制造商ID（5字节）\\n                const terminalModel = hexToAscii(msgBody.substring(18, 58)).trim(); // 终端型号（20字节）\\n                const terminalId = hexToAscii(msgBody.substring(58, 72)).trim(); // 终端ID（7字节）\\n                const plateColor = Integer.parseInt(msgBody.substring(72, 74), 16); // 车牌颜色（BYTE）\\n                properties.properties.plateNumberPayload = msgBody.substring(74);\\n                const plateNumber = hex_toGBK(msgBody.substring(74)).trim(); // 车牌（STRING）\\n\\n                // 赋值核心属性\\n                properties.properties.provinceId = provinceId;\\n                properties.properties.cityId = cityId;\\n                properties.properties.manufacturerId = manufacturerId;\\n                properties.properties.terminalModel = terminalModel;\\n                properties.properties.terminalId = terminalId;\\n                properties.properties.plateColor = plateColor;\\n                properties.properties.plateNumber = plateNumber;\\n                properties.properties.registerTime = DateUtil.now()\\n                // 3. 修复：生成终端注册应答（严格遵循选中协议）\\n                const resultCode = \\\"00\\\"; // 假设注册成功，实际需按业务逻辑判断（如查询数据库是否已注册）\\n                // 3.1 鉴权码：将终端ID转为16进制（符合STRING类型，长度≤20字节）\\n                let authCode = \\\"3132\\\"; //设备厂家说就是这个\\n                // 3.2 调用修复后的函数：传入终端流水号msgSeq（关键！）\\n                const registerReply = buildTerminalRegisterReply(\\n                    terminalPhone, // 终端手机号（12位）\\n                    msgSeq, // 应答流水号=终端注册消息的流水号（选中字段要求）\\n                    resultCode, // 结果码（00=成功）\\n                    authCode // 鉴权码（16进制，符合长度要求）\\n                );\\n                properties.replyPayload = registerReply; // 赋值应答内容\\n                // ------------------------------ 应答赋值结束 ------------------------------\\n                log.info(\\\"解析终端注册成功：终端【{}】，制造商【{}】，型号【{}】，终端ID【{}】\\\",\\n                    terminalPhone, manufacturerId, terminalModel, terminalId);\\n            } catch (e) {\\n                properties.properties.parseStatus = \\\"fail\\\";\\n                properties.properties.error = `注册字段解析失败：${e.getMessage()}`;\\n                log.error(\\\"decode 注册字段错误：{}，消息体【{}】\\\", e.getMessage(), msgBody);\\n            }\\n        } // ------------------------------ 在 decode 函数的 7. 按消息ID解析 部分新增 ------------------------------\\n        else if (msgId === \\\"0704\\\") {\\n            // 批量位置数据上报（0x0704，JT/T 808-2013）\\n            properties.data.functionId = \\\"batchLocationReport\\\";\\n            properties.data.functionName = \\\"批量位置数据上报\\\";\\n            try {\\n                // 1. 解析批量数据头部（数据项数量+位置数据类型）\\n                const dataItemCount = Integer.parseInt(msgBody.substring(0, 4), 16); // WORD，数据项个数\\n                const locationType = Integer.parseInt(msgBody.substring(4, 6), 16); // BYTE，位置数据类型（0=正常位置批量汇报）\\n\\n                log.info(\\\"批量位置数据上报：终端【{}】，数据项数【{}】，类型【{}】，仅解析最后一条\\\", terminalPhone, dataItemCount, locationType);\\n\\n                // 2. 初始化变量，跳过前面的数据项，只解析最后一条\\n                var currentOffset = 6; // 当前解析偏移量（跳过前3字节：数据项数2字节+类型1字节）\\n\\n                // 3. 循环跳过前面的数据项，只解析最后一条\\n                for (i in range(0, dataItemCount - 1)) {\\n                    try {\\n                        // 3.1 解析位置数据长度（WORD，2字节）\\n                        const itemLength = Integer.parseInt(msgBody.substring(currentOffset, currentOffset + 4), 16);\\n                        currentOffset = currentOffset + 4; // 跳过长度字段\\n\\n                        // 3.2 计算单条位置数据体结束位置\\n                        const itemBodyEnd = currentOffset + itemLength * 2;\\n                        if (itemBodyEnd > msgBody.length()) {\\n                            log.warn(\\\"批量位置数据项{}超出消息体范围，跳过\\\", i + 1);\\n                            break;\\n                        }\\n                        // 如果是最后一条，则解析\\n                        if (i === dataItemCount - 1) {\\n                            const itemBody = msgBody.substring(currentOffset, itemBodyEnd);\\n\\n                            // 3.3 解析位置基础信息（同0x0200结构）\\n                            const alarmFlag = itemBody.substring(0, 8); // 报警标志（4字节）\\n                            const status = itemBody.substring(8, 16); // 状态（4字节）\\n                            const latHex = itemBody.substring(16, 24); // 纬度（4字节）\\n                            const lngHex = itemBody.substring(24, 32); // 经度（4字节）\\n                            const altitude = itemBody.substring(32, 36); // 高程（2字节）\\n                            const speed = itemBody.substring(36, 40); // 速度（2字节，1/10 km/h）\\n                            const direction = itemBody.substring(40, 44); // 方向（2字节，0-359°）\\n                            const timeBcd = itemBody.substring(44, 56); // 时间（6字节BCD）\\n\\n                            // 3.4 转换位置数据\\n                            var lat = NumberUtil.div(Integer.parseInt(latHex, 16), 1000000, 6);\\n                            var lng = NumberUtil.div(Integer.parseInt(lngHex, 16), 1000000, 6);\\n                            const statusVal = Integer.parseInt(status, 16);\\n                            if ((statusVal & 0x00000004) !== 0) {\\n                                lat = -lat;\\n                            }\\n                            if ((statusVal & 0x00000008) !== 0) {\\n                                lng = -lng;\\n                            }\\n\\n                            // 解析方向并生成描述（方向描述映射：枚举逻辑）\\n                            const directionVal = Integer.parseInt(direction, 16);\\n                            var directionDesc=directDescParse(directionVal);\\n                            // 3.5 解析附加信息（如果有）\\n                            const additionalInfoHex = itemBody.substring(56); // 附加信息起始位置\\n\\n                            if (additionalInfoHex.length() >= 4) {\\n                                var addOffset = 0;\\n                                while (addOffset < additionalInfoHex.length() - 4) {\\n                                    const addId = additionalInfoHex.substring(addOffset, addOffset + 2);\\n                                    const addLen = Integer.parseInt(additionalInfoHex.substring(addOffset + 2, addOffset + 4), 16);\\n                                    addOffset = addOffset + 4;\\n\\n                                    if (addOffset + addLen * 2 > additionalInfoHex.length()) {\\n                                        break;\\n                                    }\\n\\n                                    const addValue = additionalInfoHex.substring(addOffset, addOffset + addLen * 2);\\n                                    addOffset = addOffset + addLen * 2;\\n\\n                                    // 解析常见附加信息ID，直接赋值到properties\\n                                    if (addId === \\\"01\\\") {\\n                                        // 里程（DWORD，单位0.1km，需转换为km）\\n                                        properties.properties.mileage = NumberUtil.div(Integer.parseInt(addValue, 16), 10, 1);\\n                                    } else if (addId === \\\"02\\\") {\\n                                        properties.properties.fuel = Integer.parseInt(addValue, 16); // 油量（WORD，单位0.1L）\\n                                    } else if (addId === \\\"03\\\") {\\n                                        properties.properties.recorderSpeed = Integer.parseInt(addValue, 16); // 行驶记录仪速度（WORD，单位0.1km/h）\\n                                    } else if (addId === \\\"04\\\") {\\n                                        properties.properties.alarmEventId = Integer.parseInt(addValue, 16); // 需要人工确认报警事件ID（WORD）\\n                                    } else if (addId === \\\"30\\\") {\\n                                        properties.properties.signalStrength = Integer.parseInt(addValue, 16); // 无线通信网络信号强度（BYTE）\\n                                    } else if (addId === \\\"31\\\") {\\n                                        properties.properties.gnssCount = Integer.parseInt(addValue, 16); // GNSS定位卫星数（BYTE）\\n                                    }\\n                                }\\n                            }\\n\\n                            // 3.6 直接将位置数据赋值到properties（对齐物模型）\\n                            if (isValidLatLng(lat, lng)) {\\n                                const lnglat=`${lng},${lat}`;\\n                                properties.properties.coordinates =wgs84ToGcj02(lnglat);\\n                            }\\n                            properties.properties.altitude = Integer.parseInt(altitude, 16);\\n                            properties.properties.currentSpeed = NumberUtil.div(Integer.parseInt(speed, 16), 10, 1);\\n                            properties.properties.currentDirection = directionVal; // 方向值（0-359°）\\n                            properties.properties.currentDirectionDesc = directionDesc; // 方向描述（如\\\"东北\\\"）\\n                            const reportTime=`20${timeBcd.substring(0,2)}-${timeBcd.substring(2,4)}-${timeBcd.substring(4,6)} ${timeBcd.substring(6,8)}:${timeBcd.substring(8,10)}:${timeBcd.substring(10,12)}`;\\n                            properties.properties.reportTime = reportTime;\\n                            properties.properties.gnssState = (statusVal & 0x00000002) === 2 ? \\\"1\\\" : \\\"0\\\";\\n                            properties.properties.accState = (statusVal & 0x00000001) === 1 ? \\\"1\\\" : \\\"0\\\";\\n                            properties.properties.alarmFlag = alarmFlag;\\n                            properties.properties.status = status;\\n                            properties.ts = date_format_long(reportTime);\\n\\n                            // 新增：将经纬度、方向、速度、高度拼接成一个字段\\n                            const locationData = `${lng},${lat}#${directionDesc}#${properties.properties.currentSpeed}#${properties.properties.altitude}`;\\n                            properties.properties.locationInfo = locationData;\\n\\n                            // 解析行驶状态（bit22）\\n                            properties.properties.drivingState = (statusVal & 0x00400000) !== 0 ? \\\"1\\\" : \\\"0\\\";\\n                        } else {\\n                            // 不是最后一条，只移动偏移量\\n                            currentOffset = itemBodyEnd;\\n                        }\\n\\n                    } catch (e) {\\n                        log.error(\\\"解析批量位置数据项{}失败：{}\\\", i + 1, e.getMessage());\\n                        break;\\n                    }\\n                }\\n\\n                // 4. 赋值物模型属性（批量信息）\\n                properties.properties.batchDataItemCount = dataItemCount;\\n                properties.properties.batchLocationType = locationType;\\n                properties.properties.batchParseCount = 1; // 只解析了最后一条\\n\\n                // 5. 生成平台通用应答\\n                const batchReply = buildPlatformCommonReply(\\n                    terminalPhone,\\n                    msgSeq,\\n                    \\\"0704\\\",\\n                    \\\"00\\\"\\n                );\\n                properties.replyPayload = batchReply;\\n\\n                log.info(\\\"解析批量位置数据成功：终端【{}】，应解析【{}】条，实际解析【1】条（最后一条）\\\",\\n                    terminalPhone, dataItemCount);\\n\\n            } catch (e) {\\n                properties.properties.parseStatus = \\\"fail\\\";\\n                properties.properties.error = `批量位置数据解析失败：${e.getMessage()}`;\\n                log.error(\\\"decode 批量位置数据错误：{}，消息体【{}】\\\", e.getMessage(), msgBody);\\n            }\\n        } else if (msgId === \\\"0102\\\") {\\n            // 终端鉴权报文（0x0102，厂家文档2.7）\\n            properties.data.functionId = \\\"terminalAuth\\\";\\n            properties.data.functionName = \\\"终端鉴权上报\\\";\\n            try {\\n                // 1. 校验消息体长度（厂家文档：消息体仅含鉴权码，长度≥1字节，你的报文消息体长度2字节）\\n                const msgBodyByteLen = msgBody.length() / 2;\\n                if (msgBodyByteLen < 1) {\\n                    throw new Error(`鉴权消息体不足（实际${msgBodyByteLen}字节，需≥1字节）`);\\n                }\\n\\n                // 2. 解析鉴权码（厂家文档：终端重连后上报，与0x8100中的鉴权码一致）\\n                const authCode = msgBody; // 消息体即为鉴权码（如你的报文 msgBody=3132）\\n\\n                // 3. 赋值物模型属性（对齐你之前的物模型定义）\\n                properties.properties.terminalPhone = terminalPhone;\\n                properties.properties.authCode = authCode; // 新增鉴权码属性\\n                properties.properties.authTime = DateUtil.now(); // 鉴权时间\\n                properties.properties.gpsState = \\\"unknown\\\"; // 鉴权报文无定位状态，设为未知\\n                properties.properties.alarmStatus = []; // 鉴权报文无告警，设为空\\n\\n                // 4. 生成平台通用应答（0x8001，厂家文档2.2：终端鉴权需回复通用应答）\\n                // 在 decode 函数的 0x0102 解析分支中\\n                const authReply = buildPlatformCommonReply(\\n                    terminalPhone,\\n                    msgSeq, // 传入终端鉴权的流水号（如你的报文0001，符合选中协议）\\n                    \\\"0102\\\",\\n                    \\\"00\\\"\\n                );\\n                properties.replyPayload = authReply; // 赋值应答报文\\n\\n                // 5. 触发鉴权成功事件（对齐物模型events）\\n                const authEvent = {\\n                    \\\"messageType\\\": \\\"EVENT\\\",\\n                    \\\"deviceId\\\": deviceId,\\n                    \\\"event\\\": \\\"authSuccess\\\", // 新增鉴权成功事件（可补充到物模型）\\n                    \\\"data\\\": {\\n                        \\\"content\\\": `终端【${terminalPhone}】鉴权成功，鉴权码：${authCode}，流水号：${msgSeq}`,\\n                        \\\"timestamp\\\": System.currentTimeMillis(),\\n                        \\\"expands\\\": {\\n                            \\\"desc\\\": \\\"包含终端手机号、鉴权码、鉴权时间\\\" // 对齐物模型event字段描述\\n                        }\\n                    }\\n                };\\n                result.push(authEvent);\\n\\n                log.info(\\\"解析终端鉴权成功：终端【{}】，鉴权码【{}】，流水号【{}】\\\",\\n                    terminalPhone, authCode, msgSeq);\\n            } catch (e) {\\n                // 鉴权失败处理：生成通用应答（结果码1=失败）\\n                const errorReply = buildPlatformCommonReply(\\n                    terminalPhone,\\n                    msgSeq,\\n                    \\\"0102\\\",\\n                    \\\"01\\\" // 结果码=1（失败）\\n                );\\n                properties.replyPayload = errorReply;\\n                properties.properties.parseStatus = \\\"fail\\\";\\n                properties.properties.error = `终端鉴权解析失败：${e.getMessage()}`;\\n                log.error(\\\"decode 鉴权错误：{}，消息体【{}】\\\", e.getMessage(), msgBody);\\n            }\\n        }\\n        // ------------------------------ decode 函数新增：解析 0x0210 休眠电池电量更新 ------------------------------\\n        else if (msgId === \\\"0210\\\") {\\n            // 休眠电池电量更新（每小时发送一次，平台回复通用应答）\\n            properties.data.functionId = \\\"sleepBatteryUpdate\\\";\\n            properties.data.functionName = \\\"休眠电池电量更新\\\";\\n            try {\\n                // 1. 校验消息体长度（应为7字节：电池百分比1字节+时间6字节）\\n                if (msgBodyLen !== 7) {\\n                    throw new Error(`0x0210 消息体长度错误（实际${msgBodyLen}字节，应为7字节）`);\\n                }\\n\\n                // 2. 解析电池百分比（起始字节0，BYTE）\\n                const batteryPercent = Integer.parseInt(msgBody.substring(0, 2), 16);\\n                // 校验电池百分比范围（0-100）\\n                if (batteryPercent < 0 || batteryPercent > 100) {\\n                    log.warn(\\\"电池百分比超出正常范围（{}），但仍继续解析\\\", batteryPercent);\\n                }\\n\\n                // 3. 解析时间（起始字节1，BCD[6]）\\n                const timeBcd = msgBody.substring(2, 14); // 6字节=12位16进制\\n                // 校验时间BCD格式长度\\n                if (timeBcd.length() !== 12) {\\n                    throw new Error(`时间BCD字段长度错误（实际${timeBcd.length()}位，应为12位）`);\\n                }\\n\\n                // 4. 赋值物模型属性\\n                properties.properties.batteryPercent = batteryPercent;\\n                properties.properties.reportTime = `20${timeBcd.substring(0,2)}-${timeBcd.substring(2,4)}-${timeBcd.substring(4,6)} ${timeBcd.substring(6,8)}:${timeBcd.substring(8,10)}:${timeBcd.substring(10,12)}`;\\n                properties.ts = date_format_long(properties.properties.reportTime);\\n                // 5. 生成平台通用应答（0x8001）\\n                const batteryReply = buildPlatformCommonReply(\\n                    terminalPhone,\\n                    msgSeq,\\n                    \\\"0210\\\",\\n                    \\\"00\\\"\\n                );\\n                properties.replyPayload = batteryReply;\\n\\n                // 6. 触发电池电量更新事件\\n                const batteryEvent = {\\n                    \\\"messageType\\\": \\\"EVENT\\\",\\n                    \\\"deviceId\\\": deviceId,\\n                    \\\"event\\\": \\\"batteryUpdate\\\",\\n                    \\\"data\\\": {\\n                        \\\"content\\\": `终端【${terminalPhone}】休眠电池电量更新：${batteryPercent}%，时间${properties.properties.reportTime}`,\\n                        \\\"timestamp\\\": System.currentTimeMillis(),\\n                        \\\"expands\\\": {\\n                            \\\"desc\\\": \\\"包含电池百分比、上报时间\\\"\\n                        }\\n                    }\\n                };\\n                result.push(batteryEvent);\\n\\n                log.info(\\\"解析 0x0210 成功：终端【{}】，电池电量【{}%】，时间【{}】，应答报文【{}】\\\",\\n                    terminalPhone, batteryPercent, properties.properties.reportTime, batteryReply);\\n            } catch (e) {\\n                properties.properties.parseStatus = \\\"fail\\\";\\n                properties.properties.error = `0x0210 解析失败：${e.getMessage()}`;\\n                log.error(\\\"decode 0x0210 错误：{}，消息体【{}】\\\", e.getMessage(), msgBody);\\n            }\\n        }\\n        // ------------------------------ decode 函数新增：解析 0x0107 终端属性查询应答 ------------------------------\\n        else if (msgId === \\\"0107\\\") {\\n            properties.data.functionId = \\\"terminalPropertyReport\\\";\\n            properties.data.functionName = \\\"终端属性查询应答\\\";\\n            try {\\n                // 1. 校验消息体长度（最小应为69字节）\\n                const msgBodyByteLen = msgBody.length() / 2;\\n                if (msgBodyByteLen < 69) {\\n                    throw new Error(`终端属性消息体不足（实际${msgBodyByteLen}字节，需≥69字节）`);\\n                }\\n\\n                var offset = 0;\\n\\n                // 2. 解析终端类型（WORD，2字节）\\n                const terminalType = Integer.parseInt(msgBody.substring(offset, offset + 4), 16);\\n                offset = offset + 4;\\n\\n                // 3. 制造商ID（5字节）\\n                const manufacturerId = hexToAscii(msgBody.substring(offset, offset + 10)).trim();\\n                offset = offset + 10;\\n\\n                // 4. 终端型号（20字节）\\n                const terminalModel = hexToAscii(msgBody.substring(offset, offset + 40)).trim();\\n                offset = offset + 40;\\n\\n                // 5. 终端ID（7字节）\\n                const terminalId = hexToAscii(msgBody.substring(offset, offset + 14)).trim();\\n                offset = offset + 14;\\n\\n                // 6. 终端SIM卡ICCID（10字节BCD）\\n                const iccidBcd = msgBody.substring(offset, offset + 20);\\n                const iccid = hex_bcdToDec(iccidBcd, 0).replace(/[^0-9]/g, \'\');\\n                offset = offset + 20;\\n\\n                // 7. 终端硬件版本号长度（BYTE，1字节）\\n                const hwVerLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\\n                offset = offset + 2;\\n\\n                // 8. 终端硬件版本号（STRING）\\n                const hardwareVersion = hexToAscii(msgBody.substring(offset, offset + hwVerLen * 2)).trim();\\n                offset = offset + hwVerLen * 2;\\n\\n                // 9. 终端固件版本号长度（BYTE，1字节）\\n                const fwVerLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\\n                offset = offset + 2;\\n\\n                // 10. 终端固件版本号（STRING）\\n                const firmwareVersion = hexToAscii(msgBody.substring(offset, offset + fwVerLen * 2)).trim();\\n                offset = offset + fwVerLen * 2;\\n\\n                // 11. GNSS模块属性（BYTE，1字节）\\n                const gnssModuleAttr = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\\n                offset = offset + 2;\\n\\n                // 12. 通信模块属性（BYTE，1字节）\\n                const commModuleAttr = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\\n                offset = offset + 2;\\n\\n                // 解析GNSS属性\\n                const gnssSupport = (gnssModuleAttr & 0x01) === 1 ? \\\"GPS\\\" : \\\"\\\";\\n                const beidouSupport = (gnssModuleAttr & 0x02) === 2 ? \\\"北斗\\\" : \\\"\\\";\\n                const glonassSupport = (gnssModuleAttr & 0x04) === 4 ? \\\"GLONASS\\\" : \\\"\\\";\\n                const galileoSupport = (gnssModuleAttr & 0x08) === 8 ? \\\"Galileo\\\" : \\\"\\\";\\n\\n                // 组装GNSS支持列表\\n                const gnssList = [gnssSupport, beidouSupport, glonassSupport, galileoSupport].filter((item) => item !== \\\"\\\");\\n                const gnssString = gnssList.length > 0 ? gnssList.join(\\\"+\\\") : \\\"未知\\\";\\n\\n                // 解析通信模块属性\\n                const commTypeMap = {\\n                    \\\"0\\\": \\\"GPRS\\\",\\n                    \\\"1\\\": \\\"CDMA\\\",\\n                    \\\"2\\\": \\\"TD-SCDMA\\\",\\n                    \\\"3\\\": \\\"WCDMA\\\",\\n                    \\\"4\\\": \\\"CDMA2000\\\",\\n                    \\\"5\\\": \\\"TD-LTE\\\",\\n                    \\\"6\\\": \\\"FDD-LTE\\\",\\n                    \\\"7\\\": \\\"其他\\\"\\n                };\\n                const commType = commTypeMap[commModuleAttr] || `未知（${commModuleAttr}）`;\\n\\n                // 赋值物模型属性\\n                properties.properties.terminalType = terminalType;\\n                properties.properties.manufacturerId = manufacturerId;\\n                properties.properties.terminalModel = terminalModel;\\n                properties.properties.terminalId = terminalId;\\n                properties.properties.iccid = iccid;\\n                properties.properties.hardwareVersion = hardwareVersion;\\n                properties.properties.firmwareVersion = firmwareVersion;\\n                properties.properties.gnssModule = gnssString;\\n                properties.properties.commModule = commType;\\n                properties.properties.propertyReportTime = DateUtil.now();\\n\\n                // 生成平台通用应答\\n                const propertyReply = buildPlatformCommonReply(\\n                    terminalPhone,\\n                    msgSeq,\\n                    \\\"0107\\\",\\n                    \\\"00\\\"\\n                );\\n                properties.replyPayload = propertyReply;\\n\\n                // 触发终端属性上报事件\\n                const propertyEvent = {\\n                    \\\"messageType\\\": \\\"EVENT\\\",\\n                    \\\"deviceId\\\": deviceId,\\n                    \\\"event\\\": \\\"terminalPropertyReport\\\",\\n                    \\\"data\\\": {\\n                        \\\"content\\\": `终端【${terminalPhone}】上报属性：制造商【${manufacturerId}】，型号【${terminalModel}】，硬件版本【${hardwareVersion}】，固件版本【${firmwareVersion}】，GNSS【${gnssString}】，通信【${commType}】`,\\n                        \\\"timestamp\\\": System.currentTimeMillis(),\\n                        \\\"expands\\\": {\\n                            \\\"desc\\\": \\\"包含终端完整属性信息\\\"\\n                        }\\n                    }\\n                };\\n                result.push(propertyEvent);\\n\\n                log.info(\\\"解析终端属性成功：终端【{}】，制造商【{}】，型号【{}】，ICCID【{}】，硬件版本【{}】，固件版本【{}】，GNSS【{}】，通信【{}】\\\",\\n                    terminalPhone, manufacturerId, terminalModel, iccid, hardwareVersion, firmwareVersion, gnssString, commType);\\n            } catch (e) {\\n                properties.properties.parseStatus = \\\"fail\\\";\\n                properties.properties.error = `终端属性解析失败：${e.getMessage()}`;\\n                log.error(\\\"decode 终端属性错误：{}，消息体【{}】\\\", e.getMessage(), msgBody);\\n            }\\n        }\\n        // ------------------------------ decode 函数新增：解析 0x1007 时区同步指令 ------------------------------\\n        else if (msgId === \\\"1007\\\") {\\n            properties.data.functionId = \\\"timezoneSync\\\";\\n            properties.data.functionName = \\\"时区同步指令\\\";\\n            try {\\n                // 1. 解析消息体（时区偏移量，BYTE，1字节，单位：15分钟）\\n                // 时区=值*15分钟，如东八区(UTC+8)=8*4=32(0x20)\\n                const msgBodyByteLen = msgBody.length() / 2;\\n                if (msgBodyByteLen < 1) {\\n                    throw new Error(`时区同步消息体不足（实际${msgBodyByteLen}字节，需≥1字节）`);\\n                }\\n\\n                const timezoneOffset = Integer.parseInt(msgBody.substring(0, 2), 16);\\n                // 计算时区（单位：小时）\\n                const timezoneHours = NumberUtil.div(timezoneOffset * 15, 60, 1);\\n                // 判断东西时区\\n                const timezoneStr = timezoneHours >= 0 ? `UTC+${timezoneHours}` : `UTC${timezoneHours}`;\\n\\n                // 赋值物模型属性\\n                properties.properties.timezoneOffset = timezoneOffset;\\n                properties.properties.timezoneHours = timezoneHours;\\n                properties.properties.timezone = timezoneStr;\\n                properties.properties.timezoneSyncTime = DateUtil.now();\\n\\n                // 生成平台通用应答\\n                const timezoneReply = buildPlatformCommonReply(\\n                    terminalPhone,\\n                    msgSeq,\\n                    \\\"1007\\\",\\n                    \\\"00\\\"\\n                );\\n                properties.replyPayload = timezoneReply;\\n\\n                // 触发时区同步事件\\n                const timezoneEvent = {\\n                    \\\"messageType\\\": \\\"EVENT\\\",\\n                    \\\"deviceId\\\": deviceId,\\n                    \\\"event\\\": \\\"timezoneSync\\\",\\n                    \\\"data\\\": {\\n                        \\\"content\\\": `终端【${terminalPhone}】上报时区同步：${timezoneStr}（偏移量${timezoneOffset}*15分钟）`,\\n                        \\\"timestamp\\\": System.currentTimeMillis(),\\n                        \\\"expands\\\": {\\n                            \\\"desc\\\": \\\"包含时区偏移量、时区小时数\\\"\\n                        }\\n                    }\\n                };\\n                result.push(timezoneEvent);\\n\\n                log.info(\\\"解析时区同步成功：终端【{}】，时区【{}】，偏移量【{}】\\\",\\n                    terminalPhone, timezoneStr, timezoneOffset);\\n            } catch (e) {\\n                properties.properties.parseStatus = \\\"fail\\\";\\n                properties.properties.error = `时区同步解析失败：${e.getMessage()}`;\\n                log.error(\\\"decode 时区同步错误：{}，消息体【{}】\\\", e.getMessage(), msgBody);\\n            }\\n        }\\n        // ------------------------------ decode 函数新增：解析 0x0109 请求同步时间 ------------------------------\\n        else if (msgId === \\\"0109\\\") {\\n            properties.data.functionId = \\\"requestTimeSync\\\";\\n            properties.data.functionName = \\\"请求同步时间\\\";\\n            try {\\n                // 1. 校验消息体长度（选中内容：该指令无消息体，消息体长度必须为0）\\n                if (msgBodyLen !== 0) {\\n                    throw new Error(`0x0109 无效消息体（协议要求无消息体，实际${msgBodyLen}字节）`);\\n                }\\n\\n                // 2. 赋值核心属性（对齐现有解析风格，关联选中内容的“终端请求”场景）\\n                properties.properties.requestType = \\\"timeSync\\\";\\n                properties.properties.requestSeq = msgSeq; // 终端请求流水号（后续应答需复用）\\n                properties.properties.requestTime = DateUtil.now()\\n\\n                // 3. 生成 0x8109 同步时间应答（平台→终端，遵循你提供的 0x8109 规范）\\n                const timeSyncReply = buildTimeSyncReply(\\n                    terminalPhone, // 终端手机号（如 777777777943）\\n                    msgSeq, // 应答流水号=终端请求流水号（选中内容核心规则）\\n                    \\\"00\\\" // 应答结果：0=成功\\n                );\\n                properties.replyPayload = timeSyncReply; // 赋值应答报文\\n\\n                // 4. 触发时间同步请求事件\\n                const timeSyncEvent = {\\n                    \\\"messageType\\\": \\\"EVENT\\\",\\n                    \\\"deviceId\\\": deviceId,\\n                    \\\"event\\\": \\\"timeSyncRequest\\\",\\n                    \\\"data\\\": {\\n                        \\\"content\\\": `终端【${terminalPhone}】请求同步时间，流水号【${msgSeq}】`,\\n                        \\\"timestamp\\\": System.currentTimeMillis(),\\n                        \\\"expands\\\": {\\n                            \\\"desc\\\": \\\"包含终端手机号、请求流水号，平台已返回0x8109应答\\\"\\n                        }\\n                    }\\n                };\\n                result.push(timeSyncEvent);\\n\\n                log.info(\\\"解析 0x0109 成功：终端【{}】，请求流水号【{}】，应答报文【{}】\\\",\\n                    terminalPhone, msgSeq, timeSyncReply);\\n            } catch (e) {\\n                properties.properties.parseStatus = \\\"fail\\\";\\n                properties.properties.error = `0x0109 解析失败：${e.getMessage()}`;\\n                log.error(\\\"decode 0x0109 错误：{}\\\", e.getMessage());\\n            }\\n        }\\n        // ------------------------------ decode 函数中新增：解析终端位置查询应答（0x0201） ------------------------------\\n        else if (msgId === \\\"0201\\\") {\\n            // 终端位置查询应答（0x0201，JT/T 808-2013 2.12）- 对应平台查询指令（0x8201）\\n            properties.data.functionId = \\\"locationQueryReply\\\";\\n            properties.data.functionName = \\\"位置查询应答上报\\\";\\n            try {\\n                // 1. 校验消息体长度（协议要求：应答流水号2字节 + 位置信息≥28字节）\\n                const msgBodyByteLen = msgBody.length() / 2;\\n                if (msgBodyByteLen < 30) {\\n                    throw new Error(`位置查询应答体不足（实际${msgBodyByteLen}字节，需≥30字节：应答流水号2字节+位置信息28字节）`);\\n                }\\n\\n                // 2. 解析应答流水号（前2字节，4位16进制）\\n                const replySeq = msgBody.substring(0, 4);\\n                properties.properties.replySeq = replySeq;\\n\\n                // 3. 解析位置信息体（从第3字节开始，同0x0200格式，对齐协议2.10位置汇报结构）\\n                const locationBodyStart = 4; // 跳过应答流水号（4位16进制=2字节）\\n                const alarmFlag = msgBody.substring(locationBodyStart, locationBodyStart + 8); // 报警标志（4字节）\\n                const status = msgBody.substring(locationBodyStart + 8, locationBodyStart + 16); // 状态（4字节）\\n                const latHex = msgBody.substring(locationBodyStart + 16, locationBodyStart + 24); // 纬度（4字节，×10^6）\\n                const lngHex = msgBody.substring(locationBodyStart + 24, locationBodyStart + 32); // 经度（4字节，×10^6）\\n                const altitude = msgBody.substring(locationBodyStart + 32, locationBodyStart + 36); // 高程（2字节）\\n                const speed = msgBody.substring(locationBodyStart + 36, locationBodyStart + 40); // 速度（2字节，1/10 km/h）\\n                const direction = msgBody.substring(locationBodyStart + 40, locationBodyStart + 44); // 方向（2字节）\\n                const timeBcd = msgBody.substring(locationBodyStart + 44, locationBodyStart + 56); // 时间（6字节BCD，YYMMDDhhmmss）\\n\\n                // 4. 转换位置数据（符合物模型格式）\\n                let lat = NumberUtil.div(Integer.parseInt(latHex, 16), 1000000, 6); // 保留6位小数\\n                let lng = NumberUtil.div(Integer.parseInt(lngHex, 16), 1000000, 6);\\n                const statusVal = Integer.parseInt(status, 16);\\n                // 处理经纬度正负（协议2.10：bit2=纬度正负，bit3=经度正负）\\n                if ((statusVal & 0x00000004) !== 0) {\\n                    lat = -lat;\\n                }\\n                if ((statusVal & 0x00000008) !== 0) {\\n                    lng = -lng;\\n                }\\n\\n                // 5. 解析时间（BCD编码：YYMMDDhhmmss，YY是年份后两位，如25表示2025年）\\n                const year = `20${timeBcd.substring(0, 2)}`; // 年份：20 + YY\\n                const month = timeBcd.substring(2, 4); // 月份\\n                const day = timeBcd.substring(4, 6); // 日期\\n                const hour = timeBcd.substring(6, 8); // 小时\\n                const minute = timeBcd.substring(8, 10); // 分钟\\n                const second = timeBcd.substring(10, 12); // 秒\\n                const reportTime = `${year}-${month}-${day} ${hour}:${minute}:${second}`;\\n\\n                // 6. 组装位置数据对象（用于传入buildLocationQueryReply）\\n                const locationData = {\\n                    alarmFlag: alarmFlag,\\n                    status: status,\\n                    latHex: latHex,\\n                    lngHex: lngHex,\\n                    altitude: altitude,\\n                    speed: speed,\\n                    direction: direction,\\n                    timeBcd: timeBcd,\\n                    lat: lat, // 转换后的纬度（°）\\n                    lng: lng, // 转换后的经度（°）\\n                    currentSpeed: NumberUtil.div(Integer.parseInt(speed, 16), 10, 1) // 转换后的速度（km/h）\\n                };\\n\\n                // 7. 调用buildLocationQueryReply：生成结构化应答结果（或验证应答合法性）\\n                // 应答流水号=平台查询指令（0x8201）的流水号（从终端0x0201报文的消息头msgSeq提取，协议要求）\\n                const queryReplyResult = buildLocationQueryReply(\\n                    terminalPhone, // 终端手机号（12位，与查询指令一致）\\n                    msgSeq, // 应答流水号=平台查询指令的流水号（协议核心要求，类似选中内容的\\\"应答流水号关联原指令\\\"）\\n                    locationData // 解析后的位置数据\\n                );\\n\\n                // 8. 赋值物模型属性（对齐现有物模型的位置字段）\\n                if (isValidLatLng(lat, lng)) {\\n                    const lnglat=`${lng},${lat}`;\\n                    properties.properties.coordinates =wgs84ToGcj02(lnglat);\\n                }\\n                properties.properties.currentSpeed = locationData.currentSpeed;\\n                properties.properties.currentDirection = Integer.parseInt(direction, 16);\\n                properties.properties.reportTime = reportTime;\\n                properties.properties.gpsState = (statusVal & 0x00000002) === 2 ? \\\"1\\\" : \\\"0\\\"; // 定位状态\\n                properties.properties.queryReplyPayload = queryReplyResult; // 存储结构化应答结果\\n                log.info(\\\"解析位置查询应答成功：终端【{}】，应答流水号【{}】，位置（{}°N, {}°E），时间【{}】\\\",\\n                    terminalPhone, replySeq, lat, lng, reportTime);\\n            } catch (e) {\\n                properties.properties.parseStatus = \\\"fail\\\";\\n                properties.properties.error = `位置查询应答解析失败：${e.getMessage()}`;\\n                log.error(\\\"decode 位置查询应答错误：{}，消息体【{}】\\\", e.getMessage(), msgBody);\\n            }\\n\\n        } // ------------------------------ decode 函数新增：解析 0x0112 省电模式上传 ------------------------------\\n        else if (msgId === \\\"0112\\\") {\\n            properties.data.functionId = \\\"uploadPowerMode\\\";\\n            properties.data.functionName = \\\"省电模式上传（A6S特有）\\\";\\n            try {\\n                // 1. 校验消息体长度（你提供的示例消息体长度6字节=12位16进制，可按实际调整）\\n                if (msgBodyLen < 6) {\\n                    throw new Error(`0x0112 消息体不足（实际${msgBodyLen}字节，最小6字节）`);\\n                }\\n                // 2. 按你提供的规范提取字段（起始字节0-5）\\n                // 2.1 省电模式（起始字节0，BYTE=2位16进制）\\n                const powerModeHex = msgBody.substring(0, 2);\\n                const powerModeVal = Integer.parseInt(powerModeHex, 16);\\n                // 模式映射（你提供的规范：1=普通定位，2=省电1，3=省电2，4=深度省电，11=自定义）\\n                const powerModeMap = {\\n                    \\\"1\\\": \\\"普通定位（实时定位）\\\",\\n                    \\\"2\\\": \\\"省电模式1\\\",\\n                    \\\"3\\\": \\\"省电模式2\\\",\\n                    \\\"4\\\": \\\"深度省电\\\",\\n                    \\\"11\\\": \\\"自定义省电模式\\\"\\n                };\\n                const powerMode = powerModeMap[powerModeVal] || `未知模式（${powerModeVal}）`;\\n\\n                // 2.2 保留字段（起始字节1-5，5字节=10位16进制，按示例填充00）\\n                const reserved = msgBody.substring(2, 12); // 示例中 0008020000\\n\\n                // 3. 赋值核心属性（对齐A6S设备特有功能）\\n                properties.properties.powerMode = powerMode;\\n                properties.properties.powerModeCode = powerModeVal;\\n                properties.properties.reservedField = reserved;\\n                properties.properties.uploadTime = DateUtil.now();\\n\\n                // 4. 生成 0x8001 通用应答（确认已接收省电模式）\\n                const powerModeReply = buildPlatformCommonReply(\\n                    terminalPhone,\\n                    msgSeq, // 应答流水号=终端0x0112流水号\\n                    \\\"0112\\\", // 应答目标消息ID=0x0112\\n                    \\\"00\\\" // 结果码=成功\\n                );\\n                properties.replyPayload = powerModeReply;\\n\\n                // 5. 触发省电模式上传事件\\n                const powerModeEvent = {\\n                    \\\"messageType\\\": \\\"EVENT\\\",\\n                    \\\"deviceId\\\": deviceId,\\n                    \\\"event\\\": \\\"powerModeUpload\\\",\\n                    \\\"data\\\": {\\n                        \\\"content\\\": `A6S终端【${terminalPhone}】上传省电模式：${powerMode}，保留字段【${reserved}】`,\\n                        \\\"timestamp\\\": System.currentTimeMillis(),\\n                        \\\"expands\\\": {\\n                            \\\"desc\\\": \\\"A6S设备特有功能，包含省电模式类型、上传时间\\\"\\n                        }\\n                    }\\n                };\\n                result.push(powerModeEvent);\\n\\n                log.info(\\\"解析 0x0112 成功：终端【{}】，省电模式【{}】，应答报文【{}】\\\",\\n                    terminalPhone, powerMode, powerModeReply);\\n            } catch (e) {\\n                properties.properties.parseStatus = \\\"fail\\\";\\n                properties.properties.error = `0x0112 解析失败：${e.getMessage()}`;\\n                log.error(\\\"decode 0x0112 错误：{}，消息体【{}】\\\", e.getMessage(), msgBody);\\n            }\\n        } else if (msgId === \\\"0200\\\") {\\n            // 位置信息汇报（厂家文档2.10，不变）\\n            properties.data.functionId = \\\"locationReport\\\";\\n            properties.data.functionName = \\\"位置信息汇报\\\";\\n            try {\\n                const msgBodyByteLen = msgBody.length() / 2;\\n                if (msgBodyByteLen < 23) {\\n                    throw new Error(`位置消息体长度不足（实际${msgBodyByteLen}字节，需至少23字节）`);\\n                }\\n                const alarmFlagHex = msgBody.substring(0, 8);\\n                const statusHex = msgBody.substring(8, 16);\\n                const latHex = msgBody.substring(16, 24);\\n                const lngHex = msgBody.substring(24, 32);\\n                const altitudeHex = msgBody.substring(32, 36);\\n                const speedHex = msgBody.substring(36, 40);\\n                const directionHex = msgBody.substring(40, 44);\\n                const timeBcd = msgBody.substring(44, 56);\\n\\n                let lat = NumberUtil.div(Integer.parseInt(latHex, 16), 1000000, 6);\\n                let lng = NumberUtil.div(Integer.parseInt(lngHex, 16), 1000000, 6);\\n                const statusVal = Integer.parseInt(statusHex, 16);\\n                const directionVal=Integer.parseInt(directionHex, 16);\\n                if ((statusVal & 0x00000004) !== 0) {\\n                    lat = -lat;\\n                }\\n                if ((statusVal & 0x00000008) !== 0) {\\n                    lng = -lng;\\n                }\\n                if (isValidLatLng(lat, lng)) {\\n                    const lnglat=`${lng},${lat}`;\\n                    properties.properties.coordinates =wgs84ToGcj02(lnglat);\\n                }\\n                properties.properties.altitude = Integer.parseInt(altitudeHex, 16);\\n                properties.properties.currentSpeed = NumberUtil.div(Integer.parseInt(speedHex, 16), 10, 1);\\n                properties.properties.currentDirection = directionVal;\\n                properties.properties.reportTime = `20${timeBcd.substring(0,2)}-${timeBcd.substring(2,4)}-${timeBcd.substring(4,6)} ${timeBcd.substring(6,8)}:${timeBcd.substring(8,10)}:${timeBcd.substring(10,12)}`;\\n                properties.ts = date_format_long(properties.properties.reportTime);\\n                var directionDesc=directDescParse(directionVal);\\n\\n\\n                // 新增：将经纬度、方向、速度、高度拼接成一个字段\\n               // 新增：将经纬度、方向、速度、高度拼接成一个字段\\n                const locationData = `${lng},${lat}#${directionDesc}#${properties.properties.currentSpeed}#${properties.properties.altitude}`;\\n                properties.properties.locationInfo = locationData;\\n\\n                // 状态位解析\\n                properties.properties.accState = (statusVal & 0x00000001) === 1 ? \\\"1\\\" : \\\"0\\\";\\n                properties.properties.gnssState = (statusVal & 0x00000002) === 2 ? \\\"1\\\" : \\\"0\\\";\\n                properties.properties.drivingState = (statusVal & 0x00400000) === 0x00400000 ? \\\"1\\\" : \\\"0\\\";\\n\\n                // 生成 0x8001 通用应答（确认已接收位置信息汇报）\\n                const locationReply = buildPlatformCommonReply(\\n                    terminalPhone,\\n                    msgSeq, // 应答流水号=终端0x0200流水号\\n                    \\\"0200\\\", // 应答目标消息ID=0x0200\\n                    \\\"00\\\" // 结果码=成功\\n                );\\n                properties.replyPayload = locationReply;\\n\\n                log.info(\\\"解析位置汇报成功：终端【{}】，位置（{}°N, {}°E），速度【{}km/h】\\\",\\n                    terminalPhone, lat, lng, properties.properties.currentSpeed);\\n            } catch (e) {\\n                properties.properties.parseStatus = \\\"fail\\\";\\n                properties.properties.error = `位置字段解析失败：${e.getMessage()}`;\\n                log.error(\\\"decode 位置字段错误：{}\\\", e.getMessage());\\n                \\n                // 解析失败时也生成通用应答（结果码1=失败）\\n                const errorReply = buildPlatformCommonReply(\\n                    terminalPhone,\\n                    msgSeq,\\n                    \\\"0200\\\",\\n                    \\\"01\\\" // 结果码=1（失败）\\n                );\\n                properties.replyPayload = errorReply;\\n            }\\n        }\\n        // ------------------------------ decode 新增：解析 0x1107 上传ICCID（支持字母） ------------------------------\\n        else if (msgId === \\\"1107\\\") {\\n            properties.data.functionId = \\\"uploadICCID\\\";\\n            properties.data.functionName = \\\"上传ICCID\\\";\\n            try {\\n                var offset = 0;\\n                // 1. ICCID 长度（BYTE）\\n                if (msgBody.length() < 2) {\\n                    throw new Error(\\\"0x1107 消息体不足以读取ICCID长度\\\");\\n                }\\n                const iccidLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\\n                offset = offset + 2;\\n                // 2. ICCID 内容（STRING，长度=iccidLen）\\n                if (offset + iccidLen * 2 > msgBody.length()) {\\n                    throw new Error(\\\"0x1107 ICCID长度超出消息体范围\\\");\\n                }\\n                const iccidHex = msgBody.substring(offset, offset + iccidLen * 2);\\n                const iccidStr = hexToAscii(iccidHex).trim();\\n                offset = offset + iccidLen * 2;\\n\\n                // 3. 设备型号长度（BYTE）\\n                if (offset + 2 > msgBody.length()) {\\n                    throw new Error(\\\"0x1107 消息体不足以读取设备型号长度\\\");\\n                }\\n                const modelLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\\n                offset = offset + 2;\\n                // 4. 设备型号（STRING）\\n                if (offset + modelLen * 2 > msgBody.length()) {\\n                    throw new Error(\\\"0x1107 设备型号长度超出消息体范围\\\");\\n                }\\n                const modelHex = msgBody.substring(offset, offset + modelLen * 2);\\n                const deviceModel = hexToAscii(modelHex).trim();\\n                offset = offset + modelLen * 2;\\n\\n                // 5. 版本号长度（BYTE）\\n                if (offset + 2 > msgBody.length()) {\\n                    throw new Error(\\\"0x1107 消息体不足以读取版本号长度\\\");\\n                }\\n                const verLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\\n                offset = offset + 2;\\n                // 6. 版本号（STRING）\\n                if (offset + verLen * 2 > msgBody.length()) {\\n                    throw new Error(\\\"0x1107 版本号长度超出消息体范围\\\");\\n                }\\n                const verHex = msgBody.substring(offset, offset + verLen * 2);\\n                const versionStr = hexToAscii(verHex).trim();\\n                offset = offset + verLen * 2;\\n\\n                // 7. 赋值物模型属性\\n                properties.properties.iccid = iccidStr; // 支持字母\\n                properties.properties.deviceModel = deviceModel;\\n                properties.properties.firmwareVersion = versionStr;\\n                properties.properties.iccidUploadTime = DateUtil.now();\\n\\n                // 8. 平台通用应答（0x8001）\\n                const iccidReply = buildPlatformCommonReply(\\n                    terminalPhone,\\n                    msgSeq,\\n                    \\\"1107\\\",\\n                    \\\"00\\\"\\n                );\\n                properties.replyPayload = iccidReply;\\n                log.info(\\\"解析 0x1107 成功：终端【{}】，ICCID【{}】，型号【{}】，版本【{}】\\\",\\n                    terminalPhone, iccidStr, deviceModel, versionStr);\\n            } catch (e) {\\n                properties.properties.parseStatus = \\\"fail\\\";\\n                properties.properties.error = `0x1107 解析失败：${e.getMessage()}`;\\n                log.error(\\\"decode 0x1107 错误：{}，消息体【{}】\\\", e.getMessage(), msgBody);\\n            }\\n        }\\n        else if (msgId === \\\"0002\\\") {\\n            // 终端心跳（厂家文档2.3）\\n            properties.data.functionId = \\\"heartbeat\\\";\\n            properties.data.functionName = \\\"终端心跳\\\";\\n            properties.properties.heartbeatTime = DateUtil.now();\\n\\n            // 构建平台通用应答（0x8001）\\n            const heartbeatReply = buildPlatformCommonReply(\\n                terminalPhone,\\n                msgSeq,\\n                \\\"0002\\\",\\n                \\\"00\\\"\\n            );\\n            properties.replyPayload = heartbeatReply;\\n            log.info(\\\"解析终端心跳成功：终端【{}】，应答【{}】\\\", terminalPhone, heartbeatReply);\\n        } else if (msgId === \\\"0001\\\") {\\n            // 终端通用应答（厂家文档2.1）\\n            properties.data.functionId = \\\"terminalResponse\\\";\\n            properties.data.functionName = \\\"终端通用应答\\\";\\n            try {\\n                const respSeq = msgBody.substring(0, 4);\\n                const respMsgId = msgBody.substring(4, 8);\\n                const resultCode = msgBody.substring(8, 10);\\n                const resultDescMap = {\\n                    \\\"00\\\": \\\"成功\\\",\\n                    \\\"01\\\": \\\"失败\\\",\\n                    \\\"02\\\": \\\"消息有误\\\",\\n                    \\\"03\\\": \\\"不支持\\\"\\n                };\\n                const resultDesc = resultDescMap[resultCode] || `未知结果（${resultCode}）`;\\n\\n                properties.properties.respMsgSeq = respSeq;\\n                properties.properties.respTargetMsgId = respMsgId;\\n                properties.properties.operationResult = resultDesc;\\n                log.info(\\\"解析终端应答成功：终端【{}】，应答消息ID【{}】，结果【{}】\\\",\\n                    terminalPhone, respMsgId, resultDesc);\\n            } catch (e) {\\n                properties.properties.parseStatus = \\\"fail\\\";\\n                properties.properties.error = `应答字段解析失败：${e.getMessage()}`;\\n                log.error(\\\"decode 应答字段错误：{}\\\", e.getMessage());\\n            }\\n        }else if (msgId === \\\"0808\\\") {\\n            properties.data.functionId = \\\"jt808\\\";\\n            properties.data.functionName = \\\"jt808标识协议\\\";\\n            log.info(\\\"标准808协议，无需回复：终端【{}】\\\",terminalPhone);\\n        } else {\\n            properties.data.functionId = \\\"unknownMsgId\\\";\\n            properties.data.functionName = \\\"未知消息ID\\\";\\n            properties.properties.parseStatus = \\\"fail\\\";\\n            properties.properties.error = `不支持的消息ID【${msgId}】`;\\n            log.warn(\\\"decode 未知消息ID：终端【{}】，消息ID【{}】\\\", terminalPhone, msgId);\\n            \\n            // 生成平台通用应答（0x8001），结果码00表示成功（避免终端因收到不支持应答而掉线）\\n            const unknownReply = buildPlatformCommonReply(\\n                terminalPhone,\\n                msgSeq,\\n                msgId,\\n                \\\"00\\\" // 结果码00=成功（即使不支持该消息ID，也返回成功以保持连接）\\n            );\\n            properties.replyPayload = unknownReply;\\n            log.info(\\\"已返回通用应答（成功）：终端【{}】，消息ID【{}】，应答报文【{}】\\\", terminalPhone, msgId, unknownReply);\\n        }\\n\\n        // 8. 组装结果\\n        result.push(properties);\\n    } catch (e) {\\n        const errProps = {\\n            \\\"messageType\\\": \\\"PROPERTIES\\\",\\n            \\\"deviceId\\\": \\\"unknown\\\",\\n            \\\"properties\\\": {\\n                \\\"sourcePayload\\\": payload,\\n                \\\"payloadClean\\\": payloadClean,\\n                \\\"parseStatus\\\": \\\"fail\\\",\\n                \\\"error\\\": e.getMessage()\\n            },\\n            \\\"data\\\": {\\n                \\\"functionId\\\": \\\"decodeFail\\\",\\n                \\\"functionName\\\": \\\"报文解析失败\\\"\\n            }\\n        };\\n        result.push(errProps);\\n        log.error(\\\"decode 全局错误：{}\\\", e.getMessage());\\n    }\\n\\n    // log.info(\\\"decode 完成：终端手机号【{}】，返回数据条数【{}】\\\",\\n    //     result[0].properties.terminalPhone || \\\"unknown\\\", result.length);\\n    return result;\\n};\",\"provider\":\"jt808\",\"supportMethods\":[\"encode\",\"preDecode\",\"decode\"]}', '{}', NULL, '2025-11-13 08:46:40');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('lB0Tl1rgf8uz', '自定义MQTT', '不要改哦', 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"import cn.hutool.json.JSONUtil\\nimport cn.hutool.core.util.StrUtil\\n/**\\n * 预解码：提取设备身份标识\\n * @param {String} payload 设备原始报文（可能是二进制、JSON、16进制字符串等）\\n * @param {String} context 对于这里就是topic\\n * @returns {Object} {deviceId, productKey}\\n */\\nvar preDecode = (payload,context) => {\\n    var deviceId;\\n    context=StrUtil.str(context);\\n    //topic格式五花八门，比如这种$third/zxc/abc1233321\\n    if(context.contains(\\\"/\\\")){\\n        var parts=context.split(\\\"\\\\\\\\/\\\");\\n        deviceId = parts[parts.length - 1];\\n    }\\n    //可能deviceId来自消息体\\n    else if(JSONUtil.isTypeJSON(payload)){\\n        payload=toJson(payload);\\n        device=payload.deviceId;\\n    }\\n    if(deviceId==null){\\n        //没解出来，不执行了\\n        return null;\\n    }\\n    var rs = {\\n        \\\"deviceId\\\": deviceId\\n    };\\n    // TODO：解析设备标识\\n    return rs;\\n};\\n\\n/**\\n * 编码：平台指令转设备格式\\n * @param {Object} payload 平台指令\\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\\n */\\nvar encode = payload => {\\n    return payload;\\n};\\n\\n/**\\n * 解码：设备数据转平台格式\\n * @param {String} payload 设备原始报文（二进制、JSON、16进制字符串等）\\n * @returns {Array} 平台标准消息数组，每个元素结构：\\n *   [\\n *     {\\n *       messageType: \\\"PROPERTIES\\\", // 属性类型\\n *       properties: {} // 解析后的属性键值对（根据物模型动态调整）\\n *     },\\n *     {\\n *       messageType: \\\"EVENT\\\", // 事件类型\\n *       event: \\\"\\\", // 事件名称\\n *       data: {} // 事件参数\\n *     }\\n *   ]\\n */\\nvar decode = payload => {\\n    var rs = [];\\n    // 属性\\n    var properties = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {}\\n    };\\n    if(JSONUtil.isTypeJSON(payload)){\\n        properties.properties=toJson(payload);\\n    }else{\\n        properties.properties.sourcePayload=payload;\\n    }\\n    properties.replyPayload=randomSign();\\n    //properties.downTopic=\\\"$third/down/abc1233321\\\";\\n    // rs.push(properties);\\n    \\n    // 事件\\n    var event = {\\n        \\\"messageType\\\": \\\"EVENT\\\",\\n        \\\"event\\\": \\\"\\\",\\n        \\\"data\\\": {}\\n    };\\n    // rs.push(event);\\n    \\n    return properties;\\n};\\n\",\"provider\":\"lB0Tl1rgf8uz\",\"supportMethods\":[\"encode\",\"preDecode\",\"decode\"]}', '{}', '1.2.0', '2025-11-26 17:31:20');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('lipSSVUj9XLt', '1', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"//16进制ASCII转STRING\\nvar hex2str = stringhex => {\\n\\n    var i = 0\\n    var asciidata = \\\"\\\"\\n    while (i < stringhex.length()) {\\n        asciidata += (String.valueOf(Integer.parseInt(stringhex.substring(i, i + 2), 16)) + \\\",\\\")\\n        i += 2\\n    }\\n    asciidata = asciidata.substring(0, asciidata.length() - 1)\\n    return asciiToString(asciidata)\\n}\\n//大小端转换\\nvar reverseStr = data => {\\n    var rData = \\\"\\\"\\n    if (data.length() >= 0) {\\n        let seq = data.length()\\n        while (seq > 0) {\\n            rData += data.substring(seq - 2, seq)\\n            seq = seq - 2\\n        }\\n    }\\n    return rData\\n}\\n//和校验计算\\nvar check_CS = strData => {\\n    let i = 0\\n    let accum = 0\\n    while (i < strData.length()) {\\n        accum += Integer.parseInt(strData.substring(i, i + 2), 16)\\n        i += 2\\n    }\\n    let l = Integer.toHexString(accum).length()\\n    return Integer.toHexString(accum).substring(l - 2, l).toUpperCase()\\n}\\n//数据转换 倒转 -33\\nvar transform = str => {\\n    let i = 0\\n    let result = \'\'\\n    str = reverseTwoDigit(str)\\n    while (i < str.length()) {\\n        if (str.substring(i, 2 + i) == \'33\') {\\n            i += 2\\n            result += \'00\'\\n        } else {\\n            let value = Integer.parseInt(str.substring(i, 2 + i), 16) - 0x33;\\n            i += 2\\n            result += String.format(\'%02X\', value)\\n        }\\n    }\\n    return Integer.parseInt(result, 10)\\n}\\n//+0x33方法\\nvar dataplus = strData => {\\n    let sData = \'\'\\n    let i = 0\\n    let pData = 0\\n    while (i < strData.length()) {\\n        pData = (Integer.parseInt(strData.substring(i, i + 2), 16) + 0x33) & 0b11111111\\n        sData += String.format(\'%02X\', pData)\\n        i += 2\\n    }\\n    return sData\\n}\\n// 解析电表数据（根据表1格式）\\nvar parseMeterData = data => {\\n    const fields = {\\n        // 剩余电量正负：02=正，82=负\\n        polarity: data.substring(0, 2) === \'82\' ? \'负\' : \'正\',\\n        \\n        // 剩余电量（反写处理，单位kWh）\\n        remaining: Float.parseFloat(reverseStr(data.substring(2, 10)), 10) / 1000,\\n        \\n        // 总电量（反写处理，单位kWh）\\n        total: Float.parseFloat(reverseStr(data.substring(10, 18)), 10) / 1000,\\n        \\n        // 电压（单位V）\\n        voltage: Float.parseFloat(reverseStr(data.substring(18, 26)), 10) / 10,\\n        \\n        // 电流（单位A）\\n        current: Float.parseFloat(reverseStr(data.substring(26, 34)), 10) / 1000,\\n        \\n        // 有功功率（单位W）\\n        power: Float.parseFloat(reverseStr(data.substring(34, 42)), 10) / 10,\\n        \\n        // 功率因数\\n        powerFactor: Float.parseFloat(reverseStr(data.substring(42, 46)), 10) / 1000,\\n        \\n        // 信号强度（蓝牙连接时为0）\\n        signal: Float.parseFloat(data.substring(46, 48), 16),\\n        \\n        // 继电器状态：1B=合闸，1A=开闸\\n        relay: data.substring(48, 50) === \'1B\' ? \'合闸\' : \'开闸\',\\n        \\n        // IMEI（16字符）\\n        imei: hex2str(data.substring(50, 66)),\\n        \\n        // ICCID（20字符）\\n        iccid: hex2str(data.substring(66, 86)),\\n        \\n        // 版本号\\n        version: hex2str(data.substring(86))\\n    };\\n    return fields;\\n};\\n\\nvar preDecode = payload => {\\n    // 从报文中提取设备ID（地址域）\\n    const deviceId = payload.substring(2, 14);\\n    return {\\n        \\\"deviceId\\\": deviceId,\\n        \\\"productKey\\\": \\\"HnDdSnj1kiQg\\\"\\n    };\\n};\\n\\nvar decode = (payload, context) => {\\n    const result = [];\\n    const properties = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"originalMessage\\\": payload,\\n            \\\"meterNo\\\": payload.substring(2, 14) // 提取电表地址\\n        }\\n    };\\n\\n    // 基本帧结构验证\\n    if (!payload.startsWith(\'68\') || !payload.endsWith(\'16\')) {\\n        properties.properties.error = \\\"无效的帧格式\\\";\\n        result.push(properties);\\n        return result;\\n    }\\n\\n    try {\\n        // 提取控制码\\n        const controlCode = payload.substring(16, 18);\\n        properties.properties.controlCode = controlCode;\\n        \\n        // 提取数据长度（字节数）\\n        const dataLenBytes = Integer.parseInt(payload.substring(18, 20), 16);\\n        const dataFieldHex = payload.substring(20, 20 + dataLenBytes * 2);\\n        \\n        // 事件包（AA控制码）不需要减0x33\\n        if (controlCode === \'aa\') {\\n            properties.properties.messageType = \\\"事件包\\\";\\n            \\n            // 检查事件类型（前6个字符）\\n            const eventType = dataFieldHex.substring(0, 6);\\n            \\n            // 注册包（AAAAAAAA01开头）\\n            if (eventType === \'aaaaaa\' && dataFieldHex.substring(6, 8) === \'01\') {\\n                properties.properties.eventType = \\\"注册包\\\";\\n                \\n                // 注册包有JSON数据（从第4字节开始）\\n                if (dataLenBytes > 4) {\\n                    const jsonHex = dataFieldHex.substring(8); // 跳过前4字节\\n                    const jsonStr = hex2str(jsonHex);\\n                    const zxcJson = jsonStr.replaceAll(\\\"(\\\\\\\\w+)\\\", \\\"\\\\\\\"$1\\\\\\\"\\\");\\n                    const eventData = JSONUtil.parseObj(zxcJson);\\n                    properties.properties.signalStrength = eventData.csq;\\n                    properties.properties.imei = eventData.imei;\\n                    properties.properties.iccid = eventData.iccid;\\n                    properties.properties.firmwareVersion = eventData.ver;\\n                }\\n            } \\n            // 心跳包（AAAAAAAA02）\\n            else if (eventType === \'aaaaaa\' && dataFieldHex.substring(6, 8) === \'02\') {\\n                properties.properties.eventType = \\\"心跳包\\\";\\n            }\\n            // OTA指令（AAAAAAAAAA）\\n            else if (dataFieldHex === \'aaaaaaaa\') {\\n                properties.properties.eventType = \\\"OTA指令\\\";\\n            }\\n            else {\\n                properties.properties.eventType = \\\"未知事件类型\\\";\\n                properties.properties.eventData = dataFieldHex;\\n            }\\n        } \\n        // 数据操作（A0控制码）需要减0x33\\n        else if (controlCode === \'a0\') {\\n            // 减0x33得到真实数据\\n            const realData = subtract33(dataFieldHex);\\n            \\n            // 检查数据标识符（DI）\\n            const di = realData.substring(0, 8);\\n            \\n            // 查询全部数据（00029100）\\n            if (di === \'00029100\') {\\n                properties.properties = {\\n                    ...properties.properties,\\n                    \\\"messageType\\\": \\\"电表数据\\\",\\n                    ...parseMeterData(realData.substring(8))\\n                };\\n            }\\n            // 其他指令可以在这里扩展...\\n            else {\\n                properties.properties.messageType = \\\"数据操作指令\\\";\\n                properties.properties.diCode = di;\\n            }\\n        }\\n        // 其他控制码\\n        else {\\n            properties.properties.messageType = \\\"未知控制码\\\";\\n        }\\n    } catch (e) {\\n        properties.properties.error = \\\"解析错误: \\\" + e.message;\\n    }\\n\\n    result.push(properties);\\n    return result;\\n};\\n\\n\",\"provider\":\"lipSSVUj9XLt\",\"supportMethods\":[\"preDecode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('lWAUlCmM53UF', '485网关TCP', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"/**\\n * 预解码：提取设备身份标识\\n * @param {String} payload 设备原始报文（可能是二进制、JSON、16进制字符串等）\\n * @returns {Object} {deviceId, productKey}\\n */\\nvar preDecode =  (payload, context) => {\\n    var IMEI=hex_toAscii(payload);\\n     var rs = {\\n        \\\"productKey\\\": \\\"lWAUlCmM53UF\\\"\\n    };\\n    if(IMEI.length()===15 && IMEI.startsWith(\\\"86\\\")){\\n     rs.deviceId=IMEI\\n     return rs;\\n    }\\n    // TODO：解析设备标识\\n    return null;\\n};\\n\\n/**\\n * 编码：平台指令转设备格式\\n * @param {Object} payload 平台指令\\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\\n */\\nvar encode = (payload, context) => {\\n    var result = \\\"\\\";\\n    // TODO：实现编码逻辑\\n    return result;\\n};\\n\\nvar decode = (payload, context) => {\\n    const pts = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\\"sourcePayload\\\":payload}\\n    };\\n    const hexSource = hex_toAscii(payload);\\n    if (isJson(hexSource)) {\\n        pts.properties = toJson(hexSource);\\n   \\n    }else if(hexSource.startsWith(\\\"HEART\\\")){\\n         //DTU配置的心跳内容：HEART|$(IMEI)|$(CSQ)|$(TIMESTAMP)|$(GPS)|$(ICCID)|$(IMSI)\\n        //解析网关自身的心跳\\n        const parts = hexSource.split(\\\"\\\\\\\\|\\\");\\n        if (parts.length >= 7) {\\n            pts.properties = {\\n                \\\"imei\\\": parts[1],\\n                \\\"csq\\\": Integer.parseInt(parts[2]),  // 信号强度\\n                \\\"timestamp\\\": parts[3],\\n                \\\"gps\\\": parts[4],\\n                \\\"iccid\\\": parts[5],\\n                \\\"imsi\\\": parts[6]\\n            };\\n            // 解析GPS坐标（经度,纬度）\\n            const gpsCoords = parts[4].split(\\\",\\\");\\n            if (gpsCoords.length === 2) {\\n                pts.properties.longitude = gpsCoords[0];  // 经度\\n                pts.properties.latitude = gpsCoords[1];   // 纬度\\n            }\\n        }\\n    } else {\\n        // 解析Modbus从站地址并关联子设备\\n        if(isModbusTcp(hexSource)){\\n            const addr = Integer.parseInt(hexSource.substring(12, 14));\\n            pts.subDevice = { \\\"slaveAddress\\\": addr };\\n            return pts;\\n        }\\n        else if(isModbusRtu(hexSource)){\\n            const addr = Integer.parseInt(hexSource.substring(0, 2));\\n            pts.subDevice = { \\\"slaveAddress\\\": addr };\\n            return pts;\\n        }else{\\n             pts.properties.hexPayload =hexSource\\n        }\\n\\n      \\n    }\\n    // 网关与子设备解析：通过从站地址匹配子设备物模型（复用现有服务）\\n    // ICodecService.decode(\\\"HnDdSnj1kiQg\\\", payload)\\n    return [pts];\\n};\",\"provider\":\"lWAUlCmM53UF\",\"supportMethods\":[\"encode\",\"preDecode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('mVnhk9Vk40Ga', '三色声光报警器', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"/**\\n * 解码：Modbus RTU报文转物模型属性/事件\\n * @param {string} payload - 原始ASCII报文\\n * @param {object} context - 上下文\\n * @returns {string} 物模型JSON字符串\\n */\\nvar decode = (payload, context) => {\\n    //容兼TCP-HEX和ModbusRTU\\n    var asciiPayload;\\n    var payloadHex;\\n    //如果是Modbus-TCP-HEX模式\\n    if(hex_isAsciiPrintable(payload)){\\n      // 1. ASCII转16进制，提取有效数据\\n      asciiPayload = hex_toAscii(payload);\\n      payloadHex = asciiPayload.substring(12, asciiPayload.length());\\n    }//Modbus-RTU格式\\n    else{\\n      payloadHex= payload;\\n    }\\n    payloadHex=payloadHex.toUpperCase();\\n    var result = [];\\n\\n    // 2. 基础对象初始化\\n    var propertiesObj = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"deviceId\\\": \\\"\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": payload,\\n            \\\"protectionLevel\\\": \\\"IPX65\\\",\\n            \\\"firmwareVersion\\\": \\\"V1.3\\\",\\n            \\\"audioFormat\\\": \\\"MP3(≤192Kbps)、WAV\\\",\\n            \\\"memoryCapacity\\\": \\\"4M\\\",\\n            \\\"commStatus\\\": \\\"1\\\"\\n        }\\n    };\\n    var eventObj = {\\n        \\\"messageType\\\": \\\"EVENT\\\",\\n        \\\"deviceId\\\": \\\"\\\",\\n        \\\"event\\\": \\\"\\\",\\n        \\\"data\\\": {}\\n    };\\n\\n    // 3. 报文长度校验\\n    if (payloadHex.length() < 8) {\\n        propertiesObj.properties.commStatus = \\\"0\\\";\\n        eventObj.event = \\\"commErrorAlarm\\\";\\n        eventObj.data = {\\\"content\\\": \\\"报文长度不足8字符，通信异常\\\"};\\n        result.push(propertiesObj);\\n        result.push(eventObj);\\n        return JSON.stringify(result);\\n    }\\n\\n    // 4. 提取核心字段\\n    var slaveAddrHex = payloadHex.substring(0, 2); // 从站地址（1字节）\\n    var funcCodeHex = payloadHex.substring(2, 4); // 功能码（1字节）\\n    var dataHex = payloadHex.substring(4, payloadHex.length()); // 数据区（排除CRC）\\n    propertiesObj.deviceId = slaveAddrHex;\\n    eventObj.deviceId = slaveAddrHex;\\n    propertiesObj.properties.device485Addr = Integer.parseInt(slaveAddrHex, 16);\\n\\n    // 5. 解析功能码03（查询响应）\\n    if (funcCodeHex === \\\"03\\\") {\\n        // 5.1 查询播放状态（0x42）\\n        if (dataHex.substring(0, 4) === \\\"0042\\\") {\\n            var playStateCode = dataHex.substring(6, 8);\\n            propertiesObj.properties.currentPlayState = playStateCode;\\n        }\\n        // 5.2 查询当前音量（0x43）\\n        if (dataHex.substring(0, 4) === \\\"02DE\\\") {\\n            var volume = Integer.parseInt(dataHex.substring(4, 6), 16);\\n            propertiesObj.properties.alarmVolume = volume;\\n            propertiesObj.properties.currentVolume = volume;\\n        }\\n        // 5.3 查询声光状态（0x70）\\n        if (dataHex.substring(0, 4) === \\\"0070\\\") {\\n            var lightStateCode = dataHex.substring(6, 8);\\n            propertiesObj.properties.currentLightMode = lightStateCode;\\n            var audioState = Integer.parseInt(dataHex.substring(4, 6), 16) === 0 ? \\\"无播放\\\" : \\\"播放中\\\";\\n            propertiesObj.properties.audioState = audioState;\\n        }\\n        // 5.4 查询总文件数（0x49）\\n        if (dataHex.substring(0, 4) === \\\"0049\\\") {\\n            var totalFile = Integer.parseInt(dataHex.substring(4, 8), 16);\\n            propertiesObj.properties.totalFileCount = totalFile;\\n        }\\n        // 5.5 查询当前曲目（0x4D）\\n        if (dataHex.substring(0, 4) === \\\"004D\\\") {\\n            var currentSeq = Integer.parseInt(dataHex.substring(4, 8), 16);\\n            propertiesObj.properties.currentFileSeq = currentSeq;\\n        }\\n        result.push(propertiesObj);\\n    }\\n\\n    // 6. 解析功能码06（控制响应）\\n    if (funcCodeHex === \\\"06\\\") {\\n        // 6.1 设定音量响应（0x06）\\n        if (dataHex.substring(0, 4) === \\\"0006\\\") {\\n            var volume = Integer.parseInt(dataHex.substring(6, 8), 16);\\n            propertiesObj.properties.alarmVolume = volume;\\n        }\\n        // 6.2 设定波特率响应（0x0B）\\n        if (dataHex.substring(0, 4) === \\\"000B\\\") {\\n            var baudCode = dataHex.substring(6, 8);\\n            var baudMap = {\\\"01\\\":\\\"9600\\\",\\\"02\\\":\\\"19200\\\",\\\"03\\\":\\\"38400\\\",\\\"04\\\":\\\"57600\\\",\\\"05\\\":\\\"115200\\\",\\\"06\\\":\\\"256000\\\",\\\"07\\\":\\\"35250\\\",\\\"09\\\":\\\"4800\\\"};\\n            propertiesObj.properties.serialBaudRate = baudMap[baudCode] || \\\"9600\\\";\\n        }\\n        // 6.3 设定设备地址响应（0xC0）\\n        if (dataHex.substring(0, 4) === \\\"00C0\\\") {\\n            var newAddr = Integer.parseInt(dataHex.substring(6, 8), 16);\\n            propertiesObj.properties.device485Addr = newAddr;\\n        }\\n        // 6.4 单独控制警灯响应（0xC2）\\n        if (dataHex.substring(0, 4) === \\\"00C2\\\") {\\n            var lightMode = dataHex.substring(6, 8);\\n            propertiesObj.properties.currentLightMode = lightMode;\\n        }\\n        result.push(propertiesObj);\\n    }\\n\\n    // 7. 通信异常处理\\n    if (funcCodeHex === \\\"83\\\" || funcCodeHex === \\\"86\\\") { // 功能码错误响应\\n        propertiesObj.properties.commStatus = \\\"0\\\";\\n        eventObj.event = \\\"commErrorAlarm\\\";\\n        eventObj.data = {\\\"content\\\": \\\"设备返回错误响应，功能码：\\\" + funcCodeHex};\\n        result.push(propertiesObj);\\n        result.push(eventObj);\\n    }\\n\\n    return result;\\n};\\n\\n/**\\n * 编码：物模型Function调用转Modbus RTU指令\\n * @param {string} payload - 物模型JSON\\n * @returns {string} 16进制指令（含CRC）\\n */\\nvar encode = (payload) => {\\n    var obj = toJson(payload);\\n    var funcId = obj.function;\\n    var params = obj.data;\\n    var slaveAddr = params.slaveAddress || \\\"01\\\";\\n    // 从站地址转2位16进制\\n    slaveAddr = modbus_addr(slaveAddr);\\n    var modbusFrame = \\\"\\\";\\n\\n    // 1. 0x0F：指定文件夹文件名播放\\n    if (funcId === \\\"playByFolderFile\\\") {\\n        var folderHex = hex_padLeft(hex_even(params.folderNum+\\\"\\\"),1,\\\"0\\\") || \\\"00\\\";\\n        var fileHex =hex_padLeft(hex_even(params.fileNum+\\\"\\\"),1,\\\"0\\\"); \\n        var lightCtrl = params.lightCtrlCode || \\\"00\\\";\\n        var cmdBody = slaveAddr + \\\"06\\\" + lightCtrl + \\\"0F\\\" + folderHex + fileHex;\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 2. 0x01/0x02：下一曲/上一曲\\n    if (funcId === \\\"controlPlayNextPrev\\\") {\\n        var ctrlCode = params.controlType;\\n        var cmdBody = slaveAddr + \\\"0600\\\" + ctrlCode + \\\"0000\\\";\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 3. 0x03：根目录指定顺序曲目播放\\n    if (funcId === \\\"playByRootSeq\\\") {\\n        var seqHex = hex_padLeft(hex_even(params.seqNum+\\\"\\\"),2,\\\"0\\\");\\n        var lightCtrl = params.lightCtrlCode || \\\"00\\\";\\n        var cmdBody = slaveAddr + \\\"06\\\" + lightCtrl + \\\"03\\\" + seqHex;\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 4. 0x04/0x05：音量加/减\\n    if (funcId === \\\"adjustVolumeStep\\\") {\\n        var adjustCode = params.adjustType;\\n        var cmdBody = slaveAddr + \\\"0600\\\" + adjustCode + \\\"0000\\\";\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 5. 0x06：指定音量设置\\n    if (funcId === \\\"setVolumeLevel\\\") {\\n        var volumeHex = hex_padLeft(hex_even(params.volumeLevel+\\\"\\\"),1,\\\"0\\\");\\n        var cmdBody = slaveAddr + \\\"06000600\\\" + volumeHex;\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 6. 0x08：单曲循环指定曲目\\n    if (funcId === \\\"loopSingleTrack\\\") {\\n        var trackHex =hex_padLeft(hex_even(params.trackNum+\\\"\\\"),1,\\\"0\\\");\\n        var cmdBody = slaveAddr + \\\"06000800\\\" + trackHex;\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 7. 0x09：指定播放设备\\n    if (funcId === \\\"setPlayDevice\\\") {\\n        var deviceCode = params.deviceType;\\n        var cmdBody = slaveAddr + \\\"06000900\\\" + deviceCode;\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 8. 0x0B：设定波特率\\n    if (funcId === \\\"setSerialBaudRate\\\") {\\n        var baudCode = params.baudCode;\\n        var cmdBody = slaveAddr + \\\"06000B00\\\" + baudCode;\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 9. 0x0C：芯片复位\\n    if (funcId === \\\"resetChip\\\") {\\n        var cmdBody = slaveAddr + \\\"06000C0000\\\";\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 10. 0x0D/0x0E：播放/暂停\\n    if (funcId === \\\"controlPlayPause\\\") {\\n        var ctrlCode = params.controlType;\\n        var cmdBody = slaveAddr + \\\"0600\\\" + ctrlCode + \\\"0000\\\";\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 11. 0x10：指定文件夹文件循环播放\\n    if (funcId === \\\"loopPlayByFolderFile\\\") {\\n        var folderHex =hex_padLeft(hex_even(params.folderNum+\\\"\\\"),1,\\\"0\\\");\\n        var fileHex = hex_padLeft(hex_even(params.fileNum+\\\"\\\"),1,\\\"0\\\");\\n        var cmdBody = slaveAddr + \\\"060010\\\" + folderHex + fileHex;\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 12. 0x11：全部曲目循环控制\\n    if (funcId === \\\"controlAllTracksLoop\\\") {\\n        var loopCode = params.loopSwitch;\\n        var cmdBody = slaveAddr + \\\"06001100\\\" + loopCode;\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 13. 0x16：停止播放\\n    if (funcId === \\\"stopCurrentPlay\\\") {\\n        var cmdBody = slaveAddr + \\\"0600160001\\\";\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 14. 0x17：指定文件夹循环播放\\n    if (funcId === \\\"loopPlayByFolder\\\") {\\n        var folderHex =hex_padLeft(hex_even(params.folderNum+\\\"\\\"),1,\\\"0\\\");\\n        var cmdBody = slaveAddr + \\\"06001700\\\" + folderHex;\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 15. 0x18：随机播放\\n    if (funcId === \\\"controlRandomPlay\\\") {\\n        var cmdBody = slaveAddr + \\\"0600180000\\\";\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 16. 0x19：当前曲目循环控制\\n    if (funcId === \\\"controlCurrentTrackLoop\\\") {\\n        var loopCode = params.loopSwitch;\\n        var cmdBody = slaveAddr + \\\"06001900\\\" + loopCode;\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 17. 0xC0：设定设备485地址\\n    if (funcId === \\\"setDevice485Addr\\\") {\\n        var newAddrHex =hex_padLeft(hex_even(params.newAddr+\\\"\\\"),1,\\\"0\\\"); \\n        var cmdBody = slaveAddr + \\\"0600C000\\\" + newAddrHex;\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 18. 0xC2：单独控制警灯\\n    if (funcId === \\\"controlLightAlone\\\") {\\n        var lightCode = params.lightMode;\\n        var cmdBody = slaveAddr + \\\"0600C200\\\" + lightCode;\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 19. 查询播放状态（0x42）\\n    if (funcId === \\\"queryPlayState\\\") {\\n        var cmdBody = slaveAddr + \\\"0300420001\\\";\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 20. 查询当前音量（0x43）\\n    if (funcId === \\\"queryCurrentVolume\\\") {\\n        var cmdBody = slaveAddr + \\\"0300430001\\\";\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    // 21. 查询声光状态（0x70）\\n    if (funcId === \\\"queryAudioLightState\\\") {\\n        var cmdBody = slaveAddr + \\\"0300700001\\\";\\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\\n    }\\n\\n    return modbusFrame;\\n};\",\"provider\":\"mVnhk9Vk40Ga\",\"supportMethods\":[\"encode\",\"decode\"]}', '{}', NULL, '2025-11-01 15:23:54');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('p0B2kKqdJD8M', '光照温湿度子设备-MQTT', 'DTU-MQTT通道的Modbus温湿度光照子设备', 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"import cn.hutool.core.util.NumberUtil;\\nimport log;\\n\\n\\n/**\\n * 获取湿度描述信息\\n * @param {number} humidity - 湿度值（%RH）\\n * @returns {string} 人性化描述\\n */\\nconst getHumidityDescription = (humidity) => {\\n    if (humidity < 0 || humidity > 100) {\\n        return \\\"湿度传感器数据异常\\\";\\n    }\\n    if (humidity < 20) {\\n        return \\\"空气非常干燥，建议使用加湿器\\\";\\n    }\\n    if (humidity < 40) {\\n        return \\\"空气偏干燥，适当补水\\\";\\n    }\\n    if (humidity < 60) {\\n        return \\\"湿度舒适，适宜居住\\\";\\n    }\\n    if (humidity < 80) {\\n        return \\\"湿度适中，体感舒适\\\";\\n    }\\n    if (humidity < 90) {\\n        return \\\"湿度较高，建议适当通风\\\";\\n    }\\n    return \\\"湿重环境，注意防潮除湿\\\";\\n};\\n\\n/**\\n * 获取温度描述信息\\n * @param {number} temperature - 温度值（℃）\\n * @returns {string} 人性化描述\\n */\\nconst getTemperatureDescription = (temperature) => {\\n    if (temperature < -40 || temperature > 125) {\\n        return \\\"温度传感器数据异常\\\";\\n    }\\n    if (temperature < 0) {\\n        return \\\"极寒环境，注意防冻保暖\\\";\\n    }\\n    if (temperature < 10) {\\n        return \\\"天气寒冷，请添衣保暖\\\";\\n    }\\n    if (temperature < 18) {\\n        return \\\"温度凉爽，适宜活动\\\";\\n    }\\n    if (temperature < 26) {\\n        return \\\"温度舒适，体感宜人\\\";\\n    }\\n    if (temperature < 30) {\\n        return \\\"温度适中，注意补水\\\";\\n    }\\n    if (temperature < 35) {\\n        return \\\"天气炎热，注意防暑降温\\\";\\n    }\\n    return \\\"高温环境，避免长时间户外活动\\\";\\n};\\n\\n/**\\n * 获取光照强度描述信息\\n * @param {number} illumination - 光照值（LUX）\\n * @returns {string} 人性化描述\\n */\\nconst getIlluminationDescription = (illumination) => {\\n    if (illumination < 0 || illumination > 65535) {\\n        return \\\"光照传感器数据异常\\\";\\n    }\\n    if (illumination < 10) {\\n        return \\\"环境黑暗，建议开启照明\\\";\\n    }\\n    if (illumination < 100) {\\n        return \\\"光线昏暗，适合休息\\\";\\n    }\\n    if (illumination < 500) {\\n        return \\\"光线柔和，适宜阅读\\\";\\n    }\\n    if (illumination < 1000) {\\n        return \\\"光照适中，舒适自然\\\";\\n    }\\n    if (illumination < 3000) {\\n        return \\\"光线充足，适宜工作\\\";\\n    }\\n    if (illumination < 10000) {\\n        return \\\"光照强烈，注意防晒\\\";\\n    }\\n    return \\\"强光环境，建议采取防护措施\\\";\\n};\\n\\n/**\\n * 获取综合舒适度评价\\n * @param {number} humidity - 湿度\\n * @param {number} temperature - 温度\\n * @param {number} illumination - 光照\\n * @returns {string} 综合舒适度描述\\n */\\nconst getOverallComfortLevel = (humidity, temperature, illumination) => {\\n    // 舒适度评分（简单的加权计算）\\n    let comfortScore = 0;\\n    \\n    // 温度舒适度评分（最重要）\\n    if (temperature >= 18 && temperature <= 26) {\\n        comfortScore += 40;\\n    } else if (temperature >= 15 && temperature <= 28) {\\n        comfortScore += 30;\\n    } else if (temperature >= 10 && temperature <= 30) {\\n        comfortScore += 20;\\n    } else {\\n        comfortScore += 10;\\n    }\\n\\n    // 湿度舒适度评分\\n    if (humidity >= 40 && humidity <= 60) {\\n        comfortScore += 30;\\n    } else if (humidity >= 30 && humidity <= 70) {\\n        comfortScore += 20;\\n    } else {\\n        comfortScore += 10;\\n    }\\n\\n    // 光照舒适度评分\\n    if (illumination >= 100 && illumination <= 1000) {\\n        comfortScore += 30;\\n    } else if (illumination >= 50 && illumination <= 3000) {\\n        comfortScore += 20;\\n    } else {\\n        comfortScore += 10;\\n    }\\n\\n    // 根据总分返回描述\\n    if (comfortScore >= 90) {\\n        return \\\"环境非常舒适，适宜长时间停留\\\";\\n    }\\n    if (comfortScore >= 70) {\\n        return \\\"环境舒适，体感良好\\\";\\n    }\\n    if (comfortScore >= 50) {\\n        return \\\"环境一般，部分指标需优化\\\";\\n    }\\n    return \\\"环境不适，建议调整温湿度或光照条件\\\";\\n};\\nvar encode = (functionReqJson, shadow) => {\\n   \\n};\\n\\n// ------------------------------ 核心函数：decode（16进制报文→物模型） ------------------------------\\n/**\\n * decode逻辑：解析设备返回的Modbus RTU报文，转换为物模型属性\\n * @param {String} payload - 设备上报原始16进制报文\\n * @param {Object} context - 上下文（暂未使用）\\n * @returns {Array} 解析结果（含PROPERTIES对象，含传感数据与事件）\\n */\\nvar decode = (payload, context) => {\\n    const corePayload = payload.substring(12,payload.length());\\n    const properties = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": payload\\n        }\\n    };\\n    const slaveAddrHex = corePayload.substring(0, 2);\\n    const slaveAddr = Integer.parseInt(slaveAddrHex, 16);\\n    const funcCode = corePayload.substring(2, 4);\\n    // 数据长度（4-6位，规格书2-50：数据长度1字节）\\n    const dataLenHex = corePayload.substring(4, 6);\\n    const dataLen = Integer.parseInt(dataLenHex, 16);\\n     // 4. 解析传感数据（对照规格书2-53寄存器地址表）\\n    const dataArea = corePayload.substring(6, 6 + dataLen * 2); // 数据区（6-38位，16字节）\\n\\n    // 4.1 湿度解析（000H寄存器，数据区0-3位，规格书2-53：湿度存储于40001）\\n    const humidityHex = dataArea.substring(0, 4);\\n    const humidityRaw = Integer.parseInt(humidityHex, 16);\\n    const humidity = NumberUtil.div(humidityRaw, 10, 1); // 0.1%RH单位换算为%RH\\n    // 验证范围（规格书2-43：湿度0%RH~100%RH）\\n    if (humidity >= 0 && humidity <= 100) {\\n        properties.properties.humidity = humidity;\\n        properties.properties.humidityDesc = getHumidityDescription(humidity);\\n    } \\n    // 4.2 温度解析（0001H寄存器，数据区4-7位，规格书2-53：温度存储于40002）\\n    const tempHex = dataArea.substring(4, 8);\\n    const tempRaw = Integer.parseInt(tempHex, 16);\\n    const temperature = NumberUtil.div(tempRaw, 10, 1); // 0.1℃单位换算为℃\\n    // 验证范围（规格书2-43：温度-40℃~125℃）\\n    if (temperature >= -40 && temperature <= 125) {\\n        properties.properties.temperature = temperature;\\n        properties.properties.temperatureDesc = getTemperatureDescription(temperature);\\n    }\\n    // 4.3 光照强度解析（0007H寄存器，数据区28-31位，规格书2-53：光照存储于40008）\\n    const illuHex = dataArea.substring(28, 32);\\n    const illumination = Integer.parseInt(illuHex, 16);\\n    // 验证范围（规格书2-43：光照0~65535 LUX）\\n    if (illumination >= 0 && illumination <= 65535) {\\n        properties.properties.illumination = illumination;\\n        properties.properties.illuminationDesc = getIlluminationDescription(illumination);\\n\\n\\n    }\\n    if(illumination&&temperature&&humidity){\\n        properties.properties.overallComfort = getOverallComfortLevel(humidity, temperature, illumination);\\n    }\\n    return properties;\\n};\",\"provider\":\"p0B2kKqdJD8M\",\"supportMethods\":[\"encode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('Pnoa2nyglhca', 'test22', 'testxxxxx', 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"// 编码22\\nvar encode = payload => {\\n\\treturn \'\';\\n}\\n//解码\\nvar decode = payload => {\\n\\tvar propertiesObj = {\\n\\t\\t\\\"messageType\\\": \\\"PROPERTIES\\\",\\n\\t\\t\\\"properties\\\": {}\\n\\t}\\n\\tvar eventObj = {\\n\\t\\t\\\"messageType\\\": \\\"EVENT\\\",\\n\\t\\t\\\"event\\\": \\\"\\\",\\n\\t\\t\\\"data\\\": {}\\n\\t}\\n\\n\\treturn propertiesObj\\n}\",\"provider\":\"Pnoa2nyglhca\",\"supportMethods\":[\"encode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('RpZ3VQIa6YE2', '485网关MQTT', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"//编码\\nvar encode = payload => {\\n\\treturn \'\';\\n}\\n//解码\\nvar decode = (payload, context) => {\\n    // 判断是否是MQTT协议层的心跳包（PINGREQ/PINGRESP）\\n    // \\\"70696e67\\\" 是 \\\"ping\\\" 的十六进制表示，可能是应用层自定义心跳\\n    if (payload === \\\"70696e67\\\") {\\n        return null; // 过滤掉基础的ping心跳，不进行业务处理\\n    }\\n    \\n    const pts = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": payload // 原始报文，便于溯源\\n        }\\n    };\\n    \\n    // 将十六进制payload转换为ASCII字符串\\n    var hexSource = payload;\\n    \\n    // 优先判断是否是HEART格式的心跳[6](@ref)\\n    if (hexSource.startsWith(\\\"HEART\\\")) {\\n        // DTU配置的心跳内容：HEART|$(IMEI)|$(CSQ)|$(TIMESTAMP)|$(GPS)|$(ICCID)|$(IMSI)\\n        // 解析网关自身的心跳[1,3](@ref)\\n        const parts = hexSource.split(\\\"\\\\\\\\|\\\");\\n        if (parts.length >= 7) {\\n            pts.properties = {\\n                \\\"imei\\\": parts[1],\\n                \\\"csq\\\": Integer.parseInt(parts[2]),  // 信号强度\\n                \\\"timestamp\\\": parts[3],\\n                \\\"gps\\\": parts[4],\\n                \\\"iccid\\\": parts[5],\\n                \\\"imsi\\\": parts[6],\\n                \\\"heartbeatType\\\": \\\"DTU_HEART\\\"  // 标记为DTU心跳类型\\n            };\\n            \\n            // 解析GPS坐标（经度,纬度）\\n            const gpsCoords = parts[4].split(\\\",\\\");\\n            if (gpsCoords.length === 2) {\\n               // pts.properties.longitude = gpsCoords[0];  // 经度\\n              //  pts.properties.latitude = gpsCoords[1];   // 纬度\\n            }\\n        }\\n    } \\n    // 如果不是HEART心跳，尝试解析为JSON格式[5](@ref)\\n    else if (isJson(hexSource)) {\\n        pts.properties = toJson(hexSource);\\n    }\\n    // 最后尝试解析Modbus从站数据\\n    else {\\n        // 解析Modbus从站地址并关联子设备\\n        // 从十六进制报文中提取从站地址（位置12-13字节）\\n        const addr = Integer.parseInt(payload.substring(12, 14), 16); // 使用16进制解析\\n        pts.subDevice = { \\n            \\\"slaveAddress\\\": addr,\\n            \\\"protocol\\\": \\\"ModbusRTU\\\"\\n        };\\n        \\n        // 保留原始数据用于后续解析\\n        pts.properties.modbusRawData = payload;\\n    }\\n    \\n    return [pts]; // 返回数组格式与TCP版本保持一致\\n};\",\"provider\":\"RpZ3VQIa6YE2\",\"supportMethods\":[\"encode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('uMOC7f8Y2wSe', '123', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"//编码\\nvar encode = payload => {\\n\\treturn \'\';\\n}\\n//解码\\nvar decode = payload => {\\n\\tvar propertiesObj = {\\n\\t\\t\\\"messageType\\\": \\\"PROPERTIES\\\",\\n\\t\\t\\\"properties\\\": {}\\n\\t}\\n\\tvar eventObj = {\\n\\t\\t\\\"messageType\\\": \\\"EVENT\\\",\\n\\t\\t\\\"event\\\": \\\"\\\",\\n\\t\\t\\\"data\\\": {}\\n\\t}\\n\\n\\treturn propertiesObj\\n}\",\"provider\":\"uMOC7f8Y2wSe\"}', '{}', NULL, '2025-11-17 11:53:49');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('V2Yvb7DN6o0N', '测试协议', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"//编码\\nvar encode = payload => {\\n\\treturn \'\';\\n}\\n//解码\\nvar decode = payload => {\\n\\tvar propertiesObj = {\\n\\t\\t\\\"messageType\\\": \\\"PROPERTIES\\\",\\n\\t\\t\\\"properties\\\": {}\\n\\t}\\n\\tvar eventObj = {\\n\\t\\t\\\"messageType\\\": \\\"EVENT\\\",\\n\\t\\t\\\"event\\\": \\\"\\\",\\n\\t\\t\\\"data\\\": {}\\n\\t}\\n\\n\\treturn propertiesObj\\n}\",\"provider\":\"V2Yvb7DN6o0N\"}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('w4UMlGXTEX8O', '南昌', NULL, 1, 'jscript', '{\"needBs4Decode\":false,\"location\":\"//解码\\nfunction decode(rawData) {\\n        var propertiesObj = {\\n            \\\"messageType\\\": \\\"PROPERTIES\\\",\\n            \\\"properties\\\": {}\\n        }\\n        var eventObj = {\\n            \\\"messageType\\\": \\\"EVENT\\\",\\n            \\\"event\\\": \\\"\\\",\\n            \\\"data\\\": {}\\n        }\\n\\n        return JSON.stringify(propertiesObj);\\n\\n    }\\n    //编码\\n    function encode(rawData) {\\n        return null\\n}\",\"provider\":\"w4UMlGXTEX8O\"}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('xbE2CHuBdtBB', 'Modbus-MQTT-RTU', 'DTU-MQTT通道', 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"//编码\\nvar encode = payload => {\\n\\treturn \'\';\\n}\\n//解码\\nvar decode = (payload, context) => {\\n    // 判断是否是MQTT协议层的心跳包（PINGREQ/PINGRESP）\\n    // \\\"70696e67\\\" 是 \\\"ping\\\" 的十六进制表示，可能是应用层自定义心跳\\n    if (payload === \\\"70696e67\\\") {\\n        return null; // 过滤掉基础的ping心跳，不进行业务处理\\n    }\\n    \\n    const pts = {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": payload // 原始报文，便于溯源\\n        }\\n    };\\n    \\n    // 将十六进制payload转换为ASCII字符串\\n    var hexSource = payload;\\n    \\n    // 优先判断是否是HEART格式的心跳[6](@ref)\\n    if (hexSource.startsWith(\\\"HEART\\\")) {\\n        // DTU配置的心跳内容：HEART|$(IMEI)|$(CSQ)|$(TIMESTAMP)|$(GPS)|$(ICCID)|$(IMSI)\\n        // 解析网关自身的心跳[1,3](@ref)\\n        const parts = hexSource.split(\\\"\\\\\\\\|\\\");\\n        if (parts.length >= 7) {\\n            pts.properties = {\\n                \\\"imei\\\": parts[1],\\n                \\\"csq\\\": Integer.parseInt(parts[2]),  // 信号强度\\n                \\\"timestamp\\\": parts[3],\\n                \\\"gps\\\": parts[4],\\n                \\\"iccid\\\": parts[5],\\n                \\\"imsi\\\": parts[6],\\n                \\\"heartbeatType\\\": \\\"DTU_HEART\\\"  // 标记为DTU心跳类型\\n            };\\n            \\n            // 解析GPS坐标（经度,纬度）\\n            const gpsCoords = parts[4].split(\\\",\\\");\\n            if (gpsCoords.length === 2) {\\n               //pts.properties.longitude = gpsCoords[0];  // 经度\\n              //  pts.properties.latitude = gpsCoords[1];   // 纬度\\n            }\\n        }\\n    } \\n    // 如果不是HEART心跳，尝试解析为JSON格式[5](@ref)\\n    else if (isJson(hexSource)) {\\n        pts.properties = toJson(hexSource);\\n    }\\n    // 最后尝试解析Modbus从站数据\\n    else {\\n        // 解析Modbus从站地址并关联子设备\\n        // 从十六进制报文中提取从站地址（位置0-2字节）,因为这里是RTU，没有前面6个字节的报文头\\n        const addr = Integer.parseInt(payload.substring(0, 2), 16); // 使用16进制解析\\n        pts.subDevice = { \\n            \\\"slaveAddress\\\": addr\\n        };\\n    }\\n    \\n    return [pts]; // 返回数组格式与TCP版本保持一致\\n};\\n\",\"provider\":\"xbE2CHuBdtBB\",\"supportMethods\":[\"encode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('xCKhOuheCMnV', '电磁驱动', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"//编码\\nvar encode = payload => {\\n\\treturn \'\';\\n}\\n//解码\\nvar decode = payload => {\\n\\tvar propertiesObj = {\\n\\t\\t\\\"messageType\\\": \\\"PROPERTIES\\\",\\n\\t\\t\\\"properties\\\": {}\\n\\t}\\n\\tvar eventObj = {\\n\\t\\t\\\"messageType\\\": \\\"EVENT\\\",\\n\\t\\t\\\"event\\\": \\\"\\\",\\n\\t\\t\\\"data\\\": {}\\n\\t}\\n\\n\\treturn propertiesObj\\n}\",\"provider\":\"xCKhOuheCMnV\"}', '{}', NULL, '2025-11-06 09:44:55');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('Xtu3ErgfePF7', '测试开关面板', NULL, 1, 'magic', '{\"needBs4Decode\":false,\"location\":\"import log;\\n\\n// 16进制转10进制数字\\nvar hexToInt = hex => {\\n  return Integer.parseInt(hex, 16);\\n};\\n// 预解码，解析上报的设备编号 deviceId\\nvar preDecode = payload => {\\n    var result = {}\\n    var payloadHex = payload.toUpperCase() // 转为大写\\n    // 校验报文长度和帧头\\n    if (payloadHex.length() >= 18 && payloadHex.substring(0, 4) === \\\"A5A5\\\") {\\n        // 从第5位开始取4字节（8个字符）作为 deviceId\\n        result.deviceId = payloadHex.substring(4, 12)\\n    }\\n    return result\\n}\\n\\nvar decode =(payload,context) => {\\n  log.info(\\\"进入编解码,payload={},context={}\\\",payload,context)\\n  var result = [];\\n  var payloadHex =payload.toUpperCase();\\n  var propertiesObj = { \\\"messageType\\\": \\\"PROPERTIES\\\", \\\"properties\\\": {} };\\n  var eventObj = { \\\"messageType\\\": \\\"EVENT\\\", \\\"event\\\": \\\"\\\", \\\"data\\\": {} };\\n\\n  // 验证帧头帧尾\\n  if (payloadHex.substring(0, 4) != \\\"A5A5\\\" || payloadHex.substring(payloadHex.length() - 4) != \\\"5A5A\\\") {\\n    return jsonToStr([{ \\\"error\\\": \\\"无效帧格式\\\" }]);\\n  }\\n\\n  // 提取核心字段\\n  var deviceId = payloadHex.substring(4, 8); // 设备ID（4字节）\\n  var cmdCode = payloadHex.substring(8, 10); // 命令码（1字节）\\n  var dataLen = hexToInt(payloadHex.substring(10, 12)); // 数据长度\\n  var dataHex = payloadHex.substring(12, 12 + dataLen * 2); // 数据区\\n  var checksum = payloadHex.substring(12 + dataLen * 2, 14 + dataLen * 2); // 校验和\\n\\n  // 设备ID存入所有对象\\n  propertiesObj.deviceId = deviceId;\\n  eventObj.deviceId = deviceId;\\n  //验证新内容\\n  propertiesObj.context=context;\\n  propertiesObj.tcpEncode = \'HEX\';\\n  propertiesObj.replyPayload = \'727270632C676574637371\'\\n  // 1. 属性上报（命令码01）\\n  if (cmdCode == \\\"01\\\" && dataLen == 7) {\\n    // 解析开关状态（01=开，00=关）\\n    propertiesObj.properties.powerState = dataHex.substring(0, 2) == \\\"01\\\" ? \\\"01\\\" : \\\"00\\\";\\n    // 解析电流（2字节，单位0.01A）\\n    var currentHex = dataHex.substring(2, 6);\\n    propertiesObj.properties.current = (hexToInt(currentHex) * 0.01).toFixed(2);\\n    // 解析电压（2字节，单位0.1V）\\n    var voltageHex = dataHex.substring(6, 10);\\n    propertiesObj.properties.voltage = (hexToInt(voltageHex) * 0.1).toFixed(1);\\n    // 解析功率（2字节，单位1W）\\n    var powerHex = dataHex.substring(10, 14);\\n    propertiesObj.properties.power = hexToInt(powerHex).toString();\\n    // 加入结果集\\n    result.push(propertiesObj);\\n  }\\n\\n  // 2. 事件上报（命令码02）\\n  if (cmdCode == \\\"02\\\" && dataLen >= 3) {\\n    // 事件类型（01=过载，02=过压，03=上线，04=下线）\\n    var eventType = dataHex.substring(0, 2);\\n    if (eventType == \\\"01\\\") {\\n      eventObj.event = \\\"overload\\\";\\n      eventObj.data.overload = hexToInt(dataHex.substring(2, 6)) + \\\"W\\\"; // 过载功率\\n    }\\n    if (eventType == \\\"03\\\") {\\n      eventObj.event = \\\"online\\\";\\n      eventObj.data.online = \\\"设备上线\\\";\\n    }\\n    if (eventType == \\\"04\\\") {\\n      eventObj.event = \\\"offline\\\";\\n      eventObj.data.offline = \\\"设备下线\\\";\\n    }\\n    result.push(eventObj);\\n  }\\n\\n  // 3. 响应报文（命令码04）\\n  if (cmdCode == \\\"04\\\" && dataLen == 1) {\\n    var replyObj = {\\n      \\\"messageType\\\": \\\"REPLY\\\",\\n      \\\"function\\\": \\\"switch\\\",\\n      \\\"data\\\": { \\\"result\\\": dataHex == \\\"00\\\" ? \\\"success\\\" : \\\"fail\\\" }\\n    };\\n    replyObj.deviceId = deviceId;\\n    result.push(replyObj);\\n  }\\n\\n  return jsonToStr(result);\\n};\\n\\nvar encode = payload => {\\n  var obj = toJson(payload);\\n  var deviceId = obj.data.deviceId; // 设备ID（4位16进制，如\\\"0001\\\"）\\n  var func = obj.function;\\n  var params = obj.data;\\n\\n  // 控制开关（function=switch）\\n  if (func == \\\"switch\\\") {\\n    var state = params.state; // 目标状态：01=开，00=关\\n    if (state != \\\"01\\\" && state != \\\"00\\\") {\\n      return \\\"\\\"; // 无效状态，返回空\\n    }\\n\\n    // 数据区：控制类型(01)+目标状态\\n    var dataHex = \\\"01\\\" + state;\\n    var dataLen = dataHex.length() / 2; // 数据长度（字节数）\\n    var cmdCode = \\\"03\\\"; // 控制指令命令码\\n\\n    // 拼接完整报文（无校验和）\\n    var frame = \\\"A5A5\\\" + \\n                deviceId + \\n                cmdCode + \\n                Integer.toHexString(dataLen) + // 数据长度（1位16进制）\\n                dataHex + \\n                \\\"5A5A\\\";\\n\\n    return frame.toUpperCase(); // 转为大写16进制\\n  }\\n\\n  return \\\"\\\"; // 不支持的指令\\n};\\n\\n//预解码，得到deviceId\\n// return preDecode(\\\"A5A5000101070105DC08F004B05A5A\\\")\\n//属性上报报文\\nreturn decode(\'A5A5000101070105DC08F004B07A5A5A\');\\n\\n//过载事件报文\\n// return decode(\\\"A5A5000102030104B0F35A5A\\\")\\n\\n\\n// return encode(\'{\\\"deviceId\\\": \\\"0001\\\",\\\"function\\\": \\\"switch\\\",\\\"data\\\": { \\\"state\\\": \\\"01\\\" }}\')\\n\\n\\n// return encode(\'{\\\"messageType\\\":\\\"FUNCTIONS\\\",\\\"function\\\":\\\"switch\\\",\\\"data\\\":{\\\"deviceId\\\":\\\"00010107\\\",\\\"state\\\":\\\"01\\\"}}\')\",\"provider\":\"Xtu3ErgfePF7\",\"supportMethods\":[\"encode\",\"preDecode\",\"decode\"]}', '{}', NULL, '2025-10-03 22:02:33');
INSERT INTO `iot_device_protocol` (`id`, `name`, `description`, `state`, `type`, `configuration`, `example`, `version`, `create_time`) VALUES ('ZmkyVdSec0av', 'ces', NULL, 0, 'magic', '{\"needBs4Decode\":false,\"location\":\"//编码\\nvar encode = payload => {\\n\\treturn \'\';\\n}\\n//解码\\nvar decode = payload => {\\n\\tvar propertiesObj = {\\n\\t\\t\\\"messageType\\\": \\\"PROPERTIES\\\",\\n\\t\\t\\\"properties\\\": {}\\n\\t}\\n\\tvar eventObj = {\\n\\t\\t\\\"messageType\\\": \\\"EVENT\\\",\\n\\t\\t\\\"event\\\": \\\"\\\",\\n\\t\\t\\\"data\\\": {}\\n\\t}\\n\\n\\treturn propertiesObj\\n}\",\"provider\":\"ZmkyVdSec0av\"}', '{}', NULL, '2025-11-19 17:21:18');
COMMIT;

-- ----------------------------
-- Table structure for iot_device_rule_log
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_rule_log`;
CREATE TABLE `iot_device_rule_log` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `c_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '业务ID',
  `c_name` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '业务名称',
  `c_status` tinyint unsigned DEFAULT NULL COMMENT '执行状态：0-有失败、1-成功，2-失败',
  `c_type` tinyint unsigned DEFAULT NULL COMMENT '1-场景联动，2-数据流转',
  `conditions` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '条件',
  `c_device_meta` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '设备原始参数',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,
  `create_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '',
  `create_time` datetime DEFAULT NULL,
  `update_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  KEY `idx_cid` (`c_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;

-- ----------------------------
-- Records of iot_device_rule_log
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_shadow
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_shadow`;
CREATE TABLE `iot_device_shadow` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `iot_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '本平台设备唯一标识符',
  `product_key` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '产品Key',
  `device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '设备自身序号',
  `ext_device_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '第三方平台设备ID唯一标识符',
  `active_time` datetime DEFAULT NULL COMMENT '激活时间',
  `online_time` datetime DEFAULT NULL COMMENT '在线时间',
  `last_time` datetime DEFAULT NULL COMMENT '最后通信时间',
  `metadata` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '影子数据',
  `instance` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '0' COMMENT '实例名称',
  `update_date` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `version` int unsigned DEFAULT '0' COMMENT '版本',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `dev_iot_id` (`iot_id`) USING BTREE,
  KEY `idx_pk_did` (`product_key`,`device_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=28 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备影子表';

-- ----------------------------
-- Records of iot_device_shadow
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (1, 'p0B2kKqdJD8M860048070262660-2', 'p0B2kKqdJD8M', '860048070262660-2', '860048070262660', '2025-11-13 21:04:26', '2025-11-13 21:03:11', '2025-12-09 14:49:58', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"000300000013020310027500A20000000000000000000007A6\",\"humidity\":62.9,\"humidityDesc\":\"湿度适中，体感舒适\",\"temperature\":16.2,\"temperatureDesc\":\"温度凉爽，适宜活动\",\"illumination\":1958,\"illuminationDesc\":\"光线充足，适宜工作\",\"overallComfort\":\"环境舒适，体感良好\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1765262881},\"humidity\":{\"timestamp\":1765262881},\"humidityDesc\":{\"timestamp\":1765262881},\"temperature\":{\"timestamp\":1765262881},\"temperatureDesc\":{\"timestamp\":1765262881},\"illumination\":{\"timestamp\":1765262881},\"illuminationDesc\":{\"timestamp\":1765262881},\"overallComfort\":{\"timestamp\":1765262881}}},\"timestamp\":1765262881,\"version\":12008}', '1938504461874020352', '2025-12-09 14:49:58', 12008);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (2, 'RpZ3VQIa6YE2860048070262660', 'RpZ3VQIa6YE2', '860048070262660', NULL, '2025-11-13 21:04:26', '2025-11-13 21:03:11', '2025-12-09 14:56:54', '{\"state\":{\"desired\":{},\"reported\":{\"imei\":\"860048070262660\",\"csq\":31,\"timestamp\":\"1764856486\",\"gps\":\"120.1714592,30.2145108\",\"iccid\":\"89861125206094826437\",\"imsi\":\"460113960067207\",\"heartbeatType\":\"DTU_HEART\",\"sourcePayload\":\"0006000000050903020040\",\"modbusRawData\":\"0006000000050903020040\"}},\"metadata\":{\"desired\":{},\"reported\":{\"imei\":{\"timestamp\":1764856505},\"csq\":{\"timestamp\":1764856505},\"timestamp\":{\"timestamp\":1764856505},\"gps\":{\"timestamp\":1764856505},\"iccid\":{\"timestamp\":1764856505},\"imsi\":{\"timestamp\":1764856505},\"heartbeatType\":{\"timestamp\":1764856505},\"sourcePayload\":{\"timestamp\":1765263363},\"modbusRawData\":{\"timestamp\":1765263363}}},\"timestamp\":1765263363,\"version\":30737}', '1980473592185585664', '2025-12-09 14:56:54', 30737);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (3, 'mVnhk9Vk40Ga860048070262660-1', 'mVnhk9Vk40Ga', '860048070262660-1', '860048070262660', '2025-11-13 21:04:26', '2025-11-13 21:03:08', '2025-11-22 12:34:00', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"30303036303030303030303530313033303244453145\",\"protectionLevel\":\"IPX65\",\"firmwareVersion\":\"V1.3\",\"audioFormat\":\"MP3(≤192Kbps)、WAV\",\"memoryCapacity\":\"4M\",\"commStatus\":\"1\",\"device485Addr\":1,\"alarmVolume\":30,\"currentVolume\":30}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1763785802},\"protectionLevel\":{\"timestamp\":1763785802},\"firmwareVersion\":{\"timestamp\":1763785802},\"audioFormat\":{\"timestamp\":1763785802},\"memoryCapacity\":{\"timestamp\":1763785802},\"commStatus\":{\"timestamp\":1763785802},\"device485Addr\":{\"timestamp\":1763785802},\"alarmVolume\":{\"timestamp\":1763785802},\"currentVolume\":{\"timestamp\":1763785802}}},\"timestamp\":1763785802,\"version\":5201}', NULL, '2025-11-22 12:34:00', 5201);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (4, '3QAz7HuahAGN89861590112330001924-2', '3QAz7HuahAGN', '89861590112330001924-2', '89861590112330001924', '2025-11-13 21:04:26', '2025-11-13 21:03:11', '2025-12-02 23:29:27', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"02031003870092000000000000000000000001205D\",\"humidity\":90.3,\"humidityDesc\":\"湿重环境，注意防潮除湿\",\"temperature\":14.6,\"temperatureDesc\":\"温度凉爽，适宜活动\",\"illumination\":1,\"illuminationDesc\":\"环境黑暗，建议开启照明\",\"overallComfort\":\"环境不适，建议调整温湿度或光照条件\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1764606480},\"humidity\":{\"timestamp\":1764606480},\"humidityDesc\":{\"timestamp\":1764606480},\"temperature\":{\"timestamp\":1764606480},\"temperatureDesc\":{\"timestamp\":1764606480},\"illumination\":{\"timestamp\":1764606480},\"illuminationDesc\":{\"timestamp\":1764606480},\"overallComfort\":{\"timestamp\":1764606480}}},\"timestamp\":1764606480,\"version\":8880}', '1938504461874020352', '2025-12-02 23:29:27', 8880);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (5, 'bKFSm8yKgyGS860048070262660-2', 'bKFSm8yKgyGS', '860048070262660-2', '860048070262660', '2025-11-13 21:04:26', '2025-11-13 21:03:08', '2025-12-09 14:49:58', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"000300000013020310027500A20000000000000000000007A6\",\"humidity\":62.9,\"humidityDesc\":\"湿度适中，体感舒适\",\"temperature\":16.2,\"temperatureDesc\":\"温度凉爽，适宜活动\",\"illumination\":1958,\"illuminationDesc\":\"光线充足，适宜工作\",\"overallComfort\":\"环境舒适，体感良好\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1765262882},\"humidity\":{\"timestamp\":1765262882},\"humidityDesc\":{\"timestamp\":1765262882},\"temperature\":{\"timestamp\":1765262882},\"temperatureDesc\":{\"timestamp\":1765262882},\"illumination\":{\"timestamp\":1765262882},\"illuminationDesc\":{\"timestamp\":1765262882},\"overallComfort\":{\"timestamp\":1765262882}}},\"timestamp\":1765262882,\"version\":11945}', '1938504461874020352', '2025-12-09 14:49:58', 11945);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (6, 'jt808085530427757', 'jt808', '085530427757', NULL, '2025-11-13 21:04:26', '2025-11-13 21:02:43', '2025-11-20 10:46:08', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"7e0200005e085530427757003500000180004c000201ccf6cd072a4db100190011004f25112010443801040000045d30011f31011be4020101e60100e7080000000400000000f50101fb0100eb1d00060089ffffefff000600c5fe7fffef0006002d00000000000300a801b77e\",\"terminalPhone\":\"085530427757\",\"msgId\":\"0200\",\"msgSeq\":\"0035\",\"parseStatus\":\"success\",\"msgBodyLength\":94,\"heartbeatTime\":\"2025-11-20 07:53:48\",\"authCode\":\"3132\",\"authTime\":\"2025-11-20 10:42:03\",\"gpsState\":\"unknown\",\"alarmStatus\":[],\"timezoneOffset\":64,\"timezoneHours\":16,\"timezone\":\"UTC+16.0\",\"timezoneSyncTime\":\"2025-11-20 10:42:03\",\"requestType\":\"timeSync\",\"requestSeq\":\"002B\",\"requestTime\":\"2025-11-20 10:42:03\",\"replyPayload\":\"7E8109000808553042775700AD1616161616161600347E\",\"currentLat\":30.157428,\"currentLng\":120.199264,\"altitude\":25,\"currentSpeed\":1.7,\"currentDirection\":79,\"reportTime\":\"2025-11-20 10:44:38\",\"accState\":\"0\",\"gnssState\":\"1\",\"drivingState\":\"1\",\"queryReplyPayload\":\"7E02010030085530427757004A004A00000100004C000001CD17CF07299867000000000000251117190826A07E\",\"mileage\":111.6,\"signalStrength\":20,\"gnssCount\":25,\"alarmFlag\":\"00000180\",\"status\":\"004C0002\",\"batchDataItemCount\":2,\"batchLocationType\":1,\"batchParseCount\":1,\"powerMode\":\"未知模式（1）\",\"powerModeCode\":1,\"reservedField\":\"0000000000\",\"uploadTime\":\"2025-11-20 10:36:02\",\"terminalType\":0,\"manufacturerId\":\"\",\"terminalModel\":\"D5Z\",\"terminalId\":\"\",\"iccid\":\"898608851925D2047104\",\"hardwareVersion\":\"\",\"firmwareVersion\":\"XC1602S-JX-A18R 2025/03/04 14:04\",\"gnssModule\":\"GPS+北斗\",\"commModule\":\"未知（1）\",\"propertyReportTime\":\"2025-11-20 10:36:02\",\"error\":\"不支持的消息ID【1300】\",\"payloadClean\":\"7E070401AF0855304277570004000401006900000000004C000201CC3702072A182B0000017D3F2511171819040104000001F9300119310111E4020064E60100E7080000000400000000FB0100EB2B000C00B2898608851925D204710400060089FFFFFFFF000600C5FE7FFFEF0006002D0000358E000300A837006900000000004C000201CC3D9C072A0E09000000E9012C2511171819230104000001FC30011731010FE4020064E60100E7080000000400000000FB0100EB2B000C00B2898608851925D204710400060089FFFFFFFF000600C5FE7FFFEF0006002D000034A8000300A837006900000000004C000201CC3DEC072A0D9E0000004E01362511171819320104000001FC30011C31010EE4020064E60100E7080000000400000000FB0100EB2B000C00B2898608851925D204710400060089FFFFFFFF000600C5FE7FFFEF0006002D000034A8000300A837006900000000004C000201CC3E7B072A0CF6000000EF01362511171819360104000001FC30011D31010EE4020064E60100E7080000000400000000FB0100EB2B000C00B2898608851925D204710400060089FFFFFFFF000600C5FE7FFFEF0006002D000034A8000300A837C97E\",\"latitude\":30.218244,\"longitude\":120.166389,\"coordinates\":\"120.217440,30.207308\",\"currentDirectionDesc\":\"东北\",\"plateNumberPayload\":\"D4C1423838383838\",\"provinceId\":42,\"cityId\":2130,\"plateColor\":255,\"plateNumber\":\"粤B88888\",\"registerTime\":\"2025-11-20 10:36:00\",\"time\":61721328594000,\"locationInfo\":\"120.212913,30.209741#东#1.7#25\",\"batteryPercent\":58,\"replySeq\":\"0008\",\"deviceModel\":\"D5Z\",\"iccidUploadTime\":\"2025-11-20 10:36:03\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1763606679},\"terminalPhone\":{\"timestamp\":1763606679},\"msgId\":{\"timestamp\":1763606679},\"msgSeq\":{\"timestamp\":1763606679},\"parseStatus\":{\"timestamp\":1763606679},\"msgBodyLength\":{\"timestamp\":1763606679},\"heartbeatTime\":{\"timestamp\":1763596428},\"authCode\":{\"timestamp\":1763606523},\"authTime\":{\"timestamp\":1763606523},\"gpsState\":{\"timestamp\":1763606523},\"alarmStatus\":{\"timestamp\":1763606523},\"timezoneOffset\":{\"timestamp\":1763606523},\"timezoneHours\":{\"timestamp\":1763606523},\"timezone\":{\"timestamp\":1763606523},\"timezoneSyncTime\":{\"timestamp\":1763606523},\"requestType\":{\"timestamp\":1763606523},\"requestSeq\":{\"timestamp\":1763606523},\"requestTime\":{\"timestamp\":1763606523},\"replyPayload\":{\"timestamp\":1763080715},\"currentLat\":{\"timestamp\":1763080121},\"currentLng\":{\"timestamp\":1763080121},\"altitude\":{\"timestamp\":1763606679},\"currentSpeed\":{\"timestamp\":1763606679},\"currentDirection\":{\"timestamp\":1763606679},\"reportTime\":{\"timestamp\":1763606679},\"accState\":{\"timestamp\":1763606679},\"gnssState\":{\"timestamp\":1763606679},\"drivingState\":{\"timestamp\":1763606679},\"queryReplyPayload\":{\"timestamp\":1763377706},\"mileage\":{\"timestamp\":1763606526},\"signalStrength\":{\"timestamp\":1763606526},\"gnssCount\":{\"timestamp\":1763606526},\"alarmFlag\":{\"timestamp\":1763606526},\"status\":{\"timestamp\":1763606526},\"batchDataItemCount\":{\"timestamp\":1763606526},\"batchLocationType\":{\"timestamp\":1763606526},\"batchParseCount\":{\"timestamp\":1763606526},\"powerMode\":{\"timestamp\":1763606162},\"powerModeCode\":{\"timestamp\":1763606162},\"reservedField\":{\"timestamp\":1763606162},\"uploadTime\":{\"timestamp\":1763606162},\"terminalType\":{\"timestamp\":1763606163},\"manufacturerId\":{\"timestamp\":1763606163},\"terminalModel\":{\"timestamp\":1763606163},\"terminalId\":{\"timestamp\":1763606163},\"iccid\":{\"timestamp\":1763606163},\"hardwareVersion\":{\"timestamp\":1763606163},\"firmwareVersion\":{\"timestamp\":1763606163},\"gnssModule\":{\"timestamp\":1763606163},\"commModule\":{\"timestamp\":1763606163},\"propertyReportTime\":{\"timestamp\":1763606163},\"error\":{\"timestamp\":1763520041},\"payloadClean\":{\"timestamp\":1763389694},\"latitude\":{\"timestamp\":1763278883},\"longitude\":{\"timestamp\":1763278883},\"coordinates\":{\"timestamp\":1763606679},\"currentDirectionDesc\":{\"timestamp\":1763606526},\"plateNumberPayload\":{\"timestamp\":1763606160},\"provinceId\":{\"timestamp\":1763606160},\"cityId\":{\"timestamp\":1763606160},\"plateColor\":{\"timestamp\":1763606160},\"plateNumber\":{\"timestamp\":1763606160},\"registerTime\":{\"timestamp\":1763606160},\"time\":{\"timestamp\":1763184595},\"locationInfo\":{\"timestamp\":1763606679},\"batteryPercent\":{\"timestamp\":1763595527},\"replySeq\":{\"timestamp\":1763377706},\"deviceModel\":{\"timestamp\":1763606163},\"iccidUploadTime\":{\"timestamp\":1763606163}}},\"timestamp\":1763606679,\"version\":5819}', NULL, '2025-11-20 10:46:08', 5819);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (7, 'lWAUlCmM53UF860048070262660', 'lWAUlCmM53UF', '860048070262660', NULL, '2025-11-13 21:04:26', '2025-11-13 21:03:08', '2025-12-09 14:54:58', '{\"state\":{\"desired\":{},\"reported\":{\"imei\":\"860048070262660\",\"csq\":31,\"timestamp\":\"1765263222\",\"gps\":\"120.1673256,30.2160712\",\"iccid\":\"89861125206094826437\",\"imsi\":\"460113960067207\",\"longitude\":\"120.1673256\",\"latitude\":\"30.2160712\",\"sourcePayload\":\"30303034303030303030303530393033303230303430\",\"hexPayload\":\"860048070262660\"}},\"metadata\":{\"desired\":{},\"reported\":{\"imei\":{\"timestamp\":1765263222},\"csq\":{\"timestamp\":1765263222},\"timestamp\":{\"timestamp\":1765263222},\"gps\":{\"timestamp\":1765263222},\"iccid\":{\"timestamp\":1765263222},\"imsi\":{\"timestamp\":1765263222},\"longitude\":{\"timestamp\":1765263222},\"latitude\":{\"timestamp\":1765263222},\"sourcePayload\":{\"timestamp\":1765263244},\"hexPayload\":{\"timestamp\":1765263107}}},\"timestamp\":1765263244,\"version\":46283}', '1938504461874020352', '2025-12-09 14:54:58', 46283);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (9, 'xbE2CHuBdtBB89861590112330001924', 'xbE2CHuBdtBB', '89861590112330001924', NULL, '2025-11-13 21:04:26', '2025-11-13 21:03:11', '2025-12-03 03:15:58', '{\"state\":{\"desired\":{},\"reported\":{\"imei\":\"860048070262660\",\"csq\":31,\"timestamp\":\"1764520259\",\"gps\":\"120.1675340,30.2128063\",\"iccid\":\"89861590112330001924\",\"imsi\":\"460150057031992\",\"heartbeatType\":\"DTU_HEART\",\"sourcePayload\":\"09030200405875\"}},\"metadata\":{\"desired\":{},\"reported\":{\"imei\":{\"timestamp\":1764520259},\"csq\":{\"timestamp\":1764520259},\"timestamp\":{\"timestamp\":1764520259},\"gps\":{\"timestamp\":1764520259},\"iccid\":{\"timestamp\":1764520259},\"imsi\":{\"timestamp\":1764520259},\"heartbeatType\":{\"timestamp\":1764520259},\"sourcePayload\":{\"timestamp\":1764606483}}},\"timestamp\":1764606483,\"version\":24157}', '1938504461874020352', '2025-12-03 03:15:58', 24157);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (10, 'HnDdSnj1kiQg250707ea8dda', 'HnDdSnj1kiQg', '250707ea8dda', NULL, '2025-11-13 21:04:26', '2025-11-13 21:02:56', '2025-12-09 15:01:54', '{\"state\":{\"desired\":{\"meterNo\":\"250707ea8dda\",\"host\":\"HnDdSnj1kiQg.tcp.192886.xyz\",\"port\":\"19999\",\"sign\":\"wasu\",\"overVoltage\":\"25\",\"overCurrent\":\"25\",\"lowBalance\":\"25\"},\"reported\":{\"sourcePayload\":\"68250707ea8dda68aa04aaaaaa020216\",\"remainEnergy\":1016,\"totalEnergy\":999,\"voltage\":224.8,\"current\":0.008,\"power\":0,\"totalPower\":0,\"powerFactor\":0,\"csq\":31,\"imei\":\"0866560088356841\",\"iccid\":\"89861125215083439128\",\"firmwareVersion\":\"CFX01S0018\",\"purchaseTimes\":166,\"csqDesc\":\"极好\",\"openState\":0,\"openStateDesc\":\"拉闸\",\"signalDesc\":\"极好\",\"operationResult\":\"断闸（断电）成功\"}},\"metadata\":{\"desired\":{\"meterNo\":{\"timestamp\":1763270547},\"host\":{\"timestamp\":1763270547},\"port\":{\"timestamp\":1763270547},\"sign\":{\"timestamp\":1763270547},\"overVoltage\":{\"timestamp\":1763710413},\"overCurrent\":{\"timestamp\":1763710413},\"lowBalance\":{\"timestamp\":1763710413}},\"reported\":{\"sourcePayload\":{\"timestamp\":1765263657},\"remainEnergy\":{\"timestamp\":1765263636},\"totalEnergy\":{\"timestamp\":1765263636},\"voltage\":{\"timestamp\":1765263636},\"current\":{\"timestamp\":1765263636},\"power\":{\"timestamp\":1765263636},\"totalPower\":{\"timestamp\":1765263636},\"powerFactor\":{\"timestamp\":1765263636},\"csq\":{\"timestamp\":1765263636},\"imei\":{\"timestamp\":1765263636},\"iccid\":{\"timestamp\":1765263636},\"firmwareVersion\":{\"timestamp\":1765263636},\"purchaseTimes\":{\"timestamp\":1765263636},\"csqDesc\":{\"timestamp\":1765263636},\"openState\":{\"timestamp\":1765263636},\"openStateDesc\":{\"timestamp\":1765263636},\"signalDesc\":{\"timestamp\":1764982350},\"operationResult\":{\"timestamp\":1765261804}}},\"timestamp\":1765263657,\"version\":23381}', '1938504461874020352', '2025-12-09 15:01:54', 23381);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (11, 'FzpVZ9unsUvU860048070262660-9', 'FzpVZ9unsUvU', '860048070262660-9', '860048070262660', '2025-11-13 21:04:26', '2025-11-13 21:03:08', '2025-12-09 14:44:58', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"0006000000050903020040\",\"protectionLevel\":\"IPX54\",\"firmwareVersion\":\"V1.0\",\"currentLightColor\":0,\"currentFlashMode\":4,\"lightStatus\":\"常亮\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1765262643},\"protectionLevel\":{\"timestamp\":1765262643},\"firmwareVersion\":{\"timestamp\":1765262643},\"currentLightColor\":{\"timestamp\":1765262643},\"currentFlashMode\":{\"timestamp\":1765262643},\"lightStatus\":{\"timestamp\":1765262643}}},\"timestamp\":1765262643,\"version\":12890}', NULL, '2025-12-09 14:44:58', 12890);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (12, '68beda0c1c9e0d2b7943b826865098070326549', '68beda0c1c9e0d2b7943b826', '865098070326549', 'd4c7040bb7e24778b4d6fc0e13f05a33', '2025-11-14 07:13:07', '2025-11-14 07:12:15', '2025-12-09 03:09:49', '{\"state\":{\"desired\":{},\"reported\":{\"waterState\":false,\"battery\":100,\"csq\":99}},\"metadata\":{\"desired\":{},\"reported\":{\"waterState\":{\"timestamp\":1765220887},\"battery\":{\"timestamp\":1765220887},\"csq\":{\"timestamp\":1765220887}}},\"timestamp\":1765220887,\"version\":22}', '1938504461874020352', '2025-12-09 03:09:49', 22);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (13, 'jt808018220444386', 'jt808', '018220444386', NULL, '2025-11-16 09:59:35', '2025-11-16 09:59:05', '2025-12-09 14:51:54', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"7e0200006b01822044438600a900000000000c000001ccf35e072a5c160000000000002512091451090104000008fb300113310100e4020064e60100e7080000000600000000f50101fb0100eb2a00060089fffffffd000600c5feffffe70006002d0000cba0000300a864000b00d801cc0058120b8d5b04687e\",\"terminalPhone\":\"018220444386\",\"msgId\":\"0200\",\"msgSeq\":\"00A9\",\"parseStatus\":\"success\",\"msgBodyLength\":107,\"authCode\":\"3132\",\"authTime\":\"2025-12-09 10:46:02\",\"gpsState\":\"unknown\",\"alarmStatus\":[],\"timezoneOffset\":64,\"timezoneHours\":16,\"timezone\":\"UTC+16.0\",\"timezoneSyncTime\":\"2025-12-07 10:45:01\",\"requestType\":\"timeSync\",\"requestSeq\":\"0002\",\"requestTime\":\"2025-12-09 10:46:03\",\"powerMode\":\"未知模式（1）\",\"powerModeCode\":1,\"reservedField\":\"0000000000\",\"uploadTime\":\"2025-12-09 10:46:04\",\"terminalType\":0,\"manufacturerId\":\"\",\"terminalModel\":\"A18\",\"terminalId\":\"\",\"iccid\":\"898608851925D2047103\",\"hardwareVersion\":\"\",\"firmwareVersion\":\"XC1602S-JX-A18R 2024/10/07 15:52\",\"gnssModule\":\"GPS+北斗\",\"commModule\":\"未知（1）\",\"propertyReportTime\":\"2025-12-09 10:46:04\",\"error\":\"java.lang.Error: 报文结构异常：消息体+校验码超出报文范围（需216位16进制，实际仅214位）\",\"latitude\":30.216615,\"longitude\":120.16835,\"coordinates\":\"120.221117,30.206424\",\"altitude\":0,\"currentSpeed\":0,\"currentDirection\":0,\"reportTime\":\"2025-12-09 14:51:09\",\"locationInfo\":\"120.216598,30.208862#北#0.0#0\",\"accState\":\"0\",\"gnssState\":\"0\",\"drivingState\":\"0\",\"mileage\":145.9,\"signalStrength\":31,\"gnssCount\":27,\"currentDirectionDesc\":\"东南\",\"alarmFlag\":\"00000000\",\"status\":\"004C0002\",\"batchDataItemCount\":1,\"batchLocationType\":1,\"batchParseCount\":1,\"heartbeatTime\":\"2025-12-09 14:50:10\",\"queryReplyPayload\":\"7E0201003001822044438601D801D800000000004C000001CD0AAA07299D34001F000000002511301711248F7E\",\"payloadClean\":\"7E0200005E01822044438603FC00000000004C000201CD03FB07299000004E007D3825120308122901040000069C30011F31011CE4020064E60100E7080000000400000000F50101FB0100EB1D00060089FFFFFFFF000600C5FE7FFFEF0006002D0000C368000300A864307E\",\"plateNumberPayload\":\"D4C1423838383838\",\"provinceId\":42,\"cityId\":2130,\"plateColor\":255,\"plateNumber\":\"粤B88888\",\"registerTime\":\"2025-11-20 10:35:29\",\"batteryPercent\":100,\"deviceModel\":\"A18\",\"iccidUploadTime\":\"2025-12-09 10:46:04\",\"replySeq\":\"0002\",\"respMsgSeq\":\"0017\",\"respTargetMsgId\":\"8103\",\"operationResult\":\"失败\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1765263070},\"terminalPhone\":{\"timestamp\":1765263070},\"msgId\":{\"timestamp\":1765263070},\"msgSeq\":{\"timestamp\":1765263070},\"parseStatus\":{\"timestamp\":1765263070},\"msgBodyLength\":{\"timestamp\":1765263070},\"authCode\":{\"timestamp\":1765248363},\"authTime\":{\"timestamp\":1765248363},\"gpsState\":{\"timestamp\":1765248363},\"alarmStatus\":{\"timestamp\":1765248363},\"timezoneOffset\":{\"timestamp\":1765075501},\"timezoneHours\":{\"timestamp\":1765075501},\"timezone\":{\"timestamp\":1765075501},\"timezoneSyncTime\":{\"timestamp\":1765075501},\"requestType\":{\"timestamp\":1765248363},\"requestSeq\":{\"timestamp\":1765248363},\"requestTime\":{\"timestamp\":1765248363},\"powerMode\":{\"timestamp\":1765248364},\"powerModeCode\":{\"timestamp\":1765248364},\"reservedField\":{\"timestamp\":1765248364},\"uploadTime\":{\"timestamp\":1765248364},\"terminalType\":{\"timestamp\":1765248364},\"manufacturerId\":{\"timestamp\":1765248364},\"terminalModel\":{\"timestamp\":1765248364},\"terminalId\":{\"timestamp\":1765248364},\"iccid\":{\"timestamp\":1765248365},\"hardwareVersion\":{\"timestamp\":1765248364},\"firmwareVersion\":{\"timestamp\":1765248365},\"gnssModule\":{\"timestamp\":1765248364},\"commModule\":{\"timestamp\":1765248364},\"propertyReportTime\":{\"timestamp\":1765248364},\"error\":{\"timestamp\":1764720750},\"latitude\":{\"timestamp\":1763289632},\"longitude\":{\"timestamp\":1763289632},\"coordinates\":{\"timestamp\":1765263070},\"altitude\":{\"timestamp\":1765263070},\"currentSpeed\":{\"timestamp\":1765263070},\"currentDirection\":{\"timestamp\":1765263070},\"reportTime\":{\"timestamp\":1765263070},\"locationInfo\":{\"timestamp\":1765263070},\"accState\":{\"timestamp\":1765263070},\"gnssState\":{\"timestamp\":1765263070},\"drivingState\":{\"timestamp\":1765263070},\"mileage\":{\"timestamp\":1764474948},\"signalStrength\":{\"timestamp\":1764474948},\"gnssCount\":{\"timestamp\":1764474948},\"currentDirectionDesc\":{\"timestamp\":1764474948},\"alarmFlag\":{\"timestamp\":1764474948},\"status\":{\"timestamp\":1764474948},\"batchDataItemCount\":{\"timestamp\":1764474948},\"batchLocationType\":{\"timestamp\":1764474948},\"batchParseCount\":{\"timestamp\":1764474948},\"heartbeatTime\":{\"timestamp\":1765263010},\"queryReplyPayload\":{\"timestamp\":1764493885},\"payloadClean\":{\"timestamp\":1764720750},\"plateNumberPayload\":{\"timestamp\":1763606129},\"provinceId\":{\"timestamp\":1763606129},\"cityId\":{\"timestamp\":1763606129},\"plateColor\":{\"timestamp\":1763606129},\"plateNumber\":{\"timestamp\":1763606129},\"registerTime\":{\"timestamp\":1763606129},\"batteryPercent\":{\"timestamp\":1765260064},\"deviceModel\":{\"timestamp\":1765248365},\"iccidUploadTime\":{\"timestamp\":1765248365},\"replySeq\":{\"timestamp\":1764493885},\"respMsgSeq\":{\"timestamp\":1763530779},\"respTargetMsgId\":{\"timestamp\":1763530779},\"operationResult\":{\"timestamp\":1763530779}}},\"timestamp\":1765263070,\"version\":24626}', NULL, '2025-12-09 14:51:54', 24626);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (14, 'jt808037270735873', 'jt808', '037270735873', NULL, '2025-11-16 12:43:38', '2025-11-16 12:43:03', '2025-11-28 18:11:26', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"7e02000075037270735873001600000000000c000001cd1884072999a000000000000025112717020701040000005230011d310100e4020161e50100e60100e7080080000600000000ec2324b8dabe7f20da0255c382e3bec7c83a3517da9dc614d8648bca93c570378ee3bc91c3e10c01cc00000027ba00960d4300f50101fb0101aa7e\",\"terminalPhone\":\"037270735873\",\"msgId\":\"0200\",\"msgSeq\":\"0016\",\"parseStatus\":\"success\",\"msgBodyLength\":117,\"plateNumberPayload\":\"D4C1423838383838\",\"provinceId\":42,\"cityId\":2130,\"manufacturerId\":\"\",\"terminalModel\":\"X1\",\"terminalId\":\"\",\"plateColor\":255,\"plateNumber\":\"粤B88888\",\"registerTime\":\"2025-11-17 18:31:55\",\"authCode\":\"3132\",\"authTime\":\"2025-11-27 16:00:46\",\"gpsState\":\"unknown\",\"alarmStatus\":[],\"timezoneOffset\":64,\"timezoneHours\":16,\"timezone\":\"UTC+16.0\",\"timezoneSyncTime\":\"2025-11-27 16:00:47\",\"requestType\":\"timeSync\",\"requestSeq\":\"0002\",\"requestTime\":\"2025-11-27 16:00:47\",\"powerMode\":\"未知模式（7）\",\"powerModeCode\":7,\"reservedField\":\"00B4000000\",\"uploadTime\":\"2025-11-27 16:00:47\",\"terminalType\":0,\"iccid\":\"89860804042390039828\",\"hardwareVersion\":\"\",\"firmwareVersion\":\"XC1606S-X1 2024/12/18 14:06\",\"gnssModule\":\"GPS+北斗\",\"commModule\":\"未知（1）\",\"propertyReportTime\":\"2025-11-27 16:00:48\",\"error\":\"不支持的消息ID【1300】\",\"latitude\":30.218267,\"longitude\":120.166244,\"coordinates\":\"120.171471,30.216017\",\"altitude\":0,\"currentSpeed\":0,\"currentDirection\":0,\"reportTime\":\"2025-11-27 17:02:07\",\"locationInfo\":\"120.166816,30.218372#北#0.0#0\",\"accState\":\"0\",\"gnssState\":\"0\",\"drivingState\":\"0\",\"mileage\":0,\"signalStrength\":31,\"gnssCount\":6,\"currentDirectionDesc\":\"西北\",\"alarmFlag\":\"00000000\",\"status\":\"004C0002\",\"batchDataItemCount\":1,\"batchLocationType\":1,\"batchParseCount\":1,\"heartbeatTime\":\"2025-11-27 17:01:49\",\"batteryPercent\":1,\"queryReplyPayload\":\"7E0201003003727073587300F000F000000000004C000001CC2E91072A14F3000000000000251118110652F77E\",\"deviceModel\":\"X1\",\"iccidUploadTime\":\"2025-11-27 16:00:50\",\"replySeq\":\"000E\",\"respMsgSeq\":\"0027\",\"respTargetMsgId\":\"8103\",\"operationResult\":\"失败\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1764234128},\"terminalPhone\":{\"timestamp\":1764234128},\"msgId\":{\"timestamp\":1764234128},\"msgSeq\":{\"timestamp\":1764234128},\"parseStatus\":{\"timestamp\":1764234128},\"msgBodyLength\":{\"timestamp\":1764234128},\"plateNumberPayload\":{\"timestamp\":1763375515},\"provinceId\":{\"timestamp\":1763375515},\"cityId\":{\"timestamp\":1763375515},\"manufacturerId\":{\"timestamp\":1764230448},\"terminalModel\":{\"timestamp\":1764230448},\"terminalId\":{\"timestamp\":1764230448},\"plateColor\":{\"timestamp\":1763375515},\"plateNumber\":{\"timestamp\":1763375515},\"registerTime\":{\"timestamp\":1763375515},\"authCode\":{\"timestamp\":1764230447},\"authTime\":{\"timestamp\":1764230447},\"gpsState\":{\"timestamp\":1764230447},\"alarmStatus\":{\"timestamp\":1764230447},\"timezoneOffset\":{\"timestamp\":1764230447},\"timezoneHours\":{\"timestamp\":1764230447},\"timezone\":{\"timestamp\":1764230447},\"timezoneSyncTime\":{\"timestamp\":1764230447},\"requestType\":{\"timestamp\":1764230447},\"requestSeq\":{\"timestamp\":1764230447},\"requestTime\":{\"timestamp\":1764230447},\"powerMode\":{\"timestamp\":1764230448},\"powerModeCode\":{\"timestamp\":1764230448},\"reservedField\":{\"timestamp\":1764230448},\"uploadTime\":{\"timestamp\":1764230448},\"terminalType\":{\"timestamp\":1764230448},\"iccid\":{\"timestamp\":1764230450},\"hardwareVersion\":{\"timestamp\":1764230448},\"firmwareVersion\":{\"timestamp\":1764230450},\"gnssModule\":{\"timestamp\":1764230448},\"commModule\":{\"timestamp\":1764230448},\"propertyReportTime\":{\"timestamp\":1764230448},\"error\":{\"timestamp\":1763430105},\"latitude\":{\"timestamp\":1763289497},\"longitude\":{\"timestamp\":1763289497},\"coordinates\":{\"timestamp\":1764234128},\"altitude\":{\"timestamp\":1764234128},\"currentSpeed\":{\"timestamp\":1764234128},\"currentDirection\":{\"timestamp\":1764234128},\"reportTime\":{\"timestamp\":1764234128},\"locationInfo\":{\"timestamp\":1764234128},\"accState\":{\"timestamp\":1764234128},\"gnssState\":{\"timestamp\":1764234128},\"drivingState\":{\"timestamp\":1764234128},\"mileage\":{\"timestamp\":1763430259},\"signalStrength\":{\"timestamp\":1763430259},\"gnssCount\":{\"timestamp\":1763430259},\"currentDirectionDesc\":{\"timestamp\":1763430259},\"alarmFlag\":{\"timestamp\":1763430259},\"status\":{\"timestamp\":1763430259},\"batchDataItemCount\":{\"timestamp\":1763430259},\"batchLocationType\":{\"timestamp\":1763430259},\"batchParseCount\":{\"timestamp\":1763430259},\"heartbeatTime\":{\"timestamp\":1764234109},\"batteryPercent\":{\"timestamp\":1763500604},\"queryReplyPayload\":{\"timestamp\":1763435214},\"deviceModel\":{\"timestamp\":1764230450},\"iccidUploadTime\":{\"timestamp\":1764230450},\"replySeq\":{\"timestamp\":1763435214},\"respMsgSeq\":{\"timestamp\":1763453625},\"respTargetMsgId\":{\"timestamp\":1763453625},\"operationResult\":{\"timestamp\":1763453625}}},\"timestamp\":1764234128,\"version\":1053}', NULL, '2025-11-28 18:11:26', 1053);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (15, 'jt808069509769807', 'jt808', '069509769807', NULL, '2025-11-16 12:48:38', '2025-11-16 12:46:52', '2025-12-09 14:36:54', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"7e000200000695097698072b73297e\",\"terminalPhone\":\"069509769807\",\"msgId\":\"0002\",\"msgSeq\":\"2B73\",\"parseStatus\":\"success\",\"msgBodyLength\":0,\"plateNumberPayload\":\"00\",\"provinceId\":44,\"cityId\":303,\"manufacturerId\":\"00001\",\"terminalModel\":\"D9_A\",\"terminalId\":\"9769807\",\"plateColor\":0,\"plateNumber\":\"\",\"registerTime\":\"2025-11-20 10:35:09\",\"authCode\":\"3132\",\"authTime\":\"2025-12-09 08:00:38\",\"gpsState\":\"unknown\",\"alarmStatus\":[],\"heartbeatTime\":\"2025-12-09 14:35:40\",\"error\":\"java.lang.Error: 报文首尾标志错误（需7E，实际首：14，尾：CB）\",\"payloadClean\":\"14E50101E4020064F00204F2F50101E70800000004000000008A7E7E0200003A069509769807000D00000000004C000301CD17CB\",\"iccid\":\"89860412102580055045\",\"deviceModel\":\"D9_A\",\"firmwareVersion\":\"D9_A_V1.21\",\"iccidUploadTime\":\"2025-12-09 08:00:39\",\"batteryPercent\":100,\"reportTime\":\"2025-12-09 13:47:02\",\"coordinates\":\"120.203691,30.154869\",\"altitude\":18,\"currentSpeed\":0,\"currentDirection\":218,\"locationInfo\":\"120.199134,30.157285#西南#0.0#18\",\"accState\":\"0\",\"gnssState\":\"1\",\"drivingState\":\"0\",\"signalStrength\":58,\"gnssCount\":20,\"currentDirectionDesc\":\"东南\",\"alarmFlag\":\"00000000\",\"status\":\"004C0003\",\"batchDataItemCount\":2,\"batchLocationType\":1,\"batchParseCount\":1,\"respMsgSeq\":\"0039\",\"respTargetMsgId\":\"8300\",\"operationResult\":\"成功\",\"powerMode\":\"未知模式（1）\",\"powerModeCode\":1,\"reservedField\":\"0000000000\",\"uploadTime\":\"2025-12-09 08:00:39\",\"replySeq\":\"000C\",\"queryReplyPayload\":\"7E02010030069509769807001E001E00000000000C000201CD17CB0729986F0014000001302511192002339E7E\",\"timezoneOffset\":64,\"timezoneHours\":16,\"timezone\":\"UTC+16.0\",\"timezoneSyncTime\":\"2025-11-20 10:35:12\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1765262140},\"terminalPhone\":{\"timestamp\":1765262140},\"msgId\":{\"timestamp\":1765262140},\"msgSeq\":{\"timestamp\":1765262140},\"parseStatus\":{\"timestamp\":1765262140},\"msgBodyLength\":{\"timestamp\":1765262140},\"plateNumberPayload\":{\"timestamp\":1763606109},\"provinceId\":{\"timestamp\":1763606109},\"cityId\":{\"timestamp\":1763606109},\"manufacturerId\":{\"timestamp\":1763606109},\"terminalModel\":{\"timestamp\":1763606109},\"terminalId\":{\"timestamp\":1763606109},\"plateColor\":{\"timestamp\":1763606109},\"plateNumber\":{\"timestamp\":1763606109},\"registerTime\":{\"timestamp\":1763606109},\"authCode\":{\"timestamp\":1765238438},\"authTime\":{\"timestamp\":1765238438},\"gpsState\":{\"timestamp\":1765238438},\"alarmStatus\":{\"timestamp\":1765238438},\"heartbeatTime\":{\"timestamp\":1765262140},\"error\":{\"timestamp\":1763552294},\"payloadClean\":{\"timestamp\":1763552294},\"iccid\":{\"timestamp\":1765238439},\"deviceModel\":{\"timestamp\":1765238439},\"firmwareVersion\":{\"timestamp\":1765238439},\"iccidUploadTime\":{\"timestamp\":1765238439},\"batteryPercent\":{\"timestamp\":1765259224},\"reportTime\":{\"timestamp\":1765259224},\"coordinates\":{\"timestamp\":1765240920},\"altitude\":{\"timestamp\":1765240920},\"currentSpeed\":{\"timestamp\":1765240920},\"currentDirection\":{\"timestamp\":1765240920},\"locationInfo\":{\"timestamp\":1765240920},\"accState\":{\"timestamp\":1765240920},\"gnssState\":{\"timestamp\":1765240920},\"drivingState\":{\"timestamp\":1765240920},\"signalStrength\":{\"timestamp\":1765167324},\"gnssCount\":{\"timestamp\":1765167324},\"currentDirectionDesc\":{\"timestamp\":1765167324},\"alarmFlag\":{\"timestamp\":1765167324},\"status\":{\"timestamp\":1765167324},\"batchDataItemCount\":{\"timestamp\":1765167324},\"batchLocationType\":{\"timestamp\":1765167324},\"batchParseCount\":{\"timestamp\":1765167324},\"respMsgSeq\":{\"timestamp\":1763467138},\"respTargetMsgId\":{\"timestamp\":1763467138},\"operationResult\":{\"timestamp\":1763467138},\"powerMode\":{\"timestamp\":1765238439},\"powerModeCode\":{\"timestamp\":1765238439},\"reservedField\":{\"timestamp\":1765238439},\"uploadTime\":{\"timestamp\":1765238439},\"replySeq\":{\"timestamp\":1763553755},\"queryReplyPayload\":{\"timestamp\":1763553755},\"timezoneOffset\":{\"timestamp\":1763606112},\"timezoneHours\":{\"timestamp\":1763606112},\"timezone\":{\"timestamp\":1763606112},\"timezoneSyncTime\":{\"timestamp\":1763606112}}},\"timestamp\":1765262140,\"version\":12921}', NULL, '2025-12-09 14:36:54', 12921);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (16, 'HnDdSnj1kiQg241031d76ca4', 'HnDdSnj1kiQg', '241031d76ca4', NULL, '2025-11-16 13:48:38', '2025-11-16 13:46:55', '2025-11-16 13:48:38', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"68241031d76ca468aa04aaaaaa02ca16\",\"imei\":\"0860608079543251\",\"iccid\":\"89861125206084442724\",\"csq\":31,\"firmwareVersion\":\"CFX01S0018\",\"signalDesc\":\"极好\",\"remainEnergy\":10,\"totalEnergy\":0,\"voltage\":225.8,\"current\":0.009,\"power\":0,\"totalPower\":0,\"powerFactor\":0,\"purchaseTimes\":0,\"csqDesc\":\"极好\",\"openState\":1,\"openStateDesc\":\"合闸\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1763272009},\"imei\":{\"timestamp\":1763272003},\"iccid\":{\"timestamp\":1763272003},\"csq\":{\"timestamp\":1763272003},\"firmwareVersion\":{\"timestamp\":1763272003},\"signalDesc\":{\"timestamp\":1763271908},\"remainEnergy\":{\"timestamp\":1763272003},\"totalEnergy\":{\"timestamp\":1763272003},\"voltage\":{\"timestamp\":1763272003},\"current\":{\"timestamp\":1763272003},\"power\":{\"timestamp\":1763272003},\"totalPower\":{\"timestamp\":1763272003},\"powerFactor\":{\"timestamp\":1763272003},\"purchaseTimes\":{\"timestamp\":1763272003},\"csqDesc\":{\"timestamp\":1763272003},\"openState\":{\"timestamp\":1763272003},\"openStateDesc\":{\"timestamp\":1763272003}}},\"timestamp\":1763272009,\"version\":4}', NULL, '2025-11-16 13:48:38', NULL);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (17, 'HnDdSnj1kiQg250707bcaca3', 'HnDdSnj1kiQg', '250707bcaca3', NULL, '2025-11-16 13:56:25', '2025-11-16 13:55:45', '2025-11-16 13:56:25', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"68250707bcaca368a0413335c433353343333333333333735533334533333333333333333333333333314e0866560088473422898611252150834067474346583031533030313833333333ee16\",\"imei\":\"0866560088473422\",\"iccid\":\"89861125215083406747\",\"csq\":31,\"firmwareVersion\":\"CFX01S0018\",\"signalDesc\":\"极好\",\"remainEnergy\":10,\"totalEnergy\":0,\"voltage\":224,\"current\":0.012,\"power\":0,\"totalPower\":0,\"powerFactor\":0,\"purchaseTimes\":0,\"csqDesc\":\"极好\",\"openState\":1,\"openStateDesc\":\"合闸\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1763272534},\"imei\":{\"timestamp\":1763272534},\"iccid\":{\"timestamp\":1763272534},\"csq\":{\"timestamp\":1763272534},\"firmwareVersion\":{\"timestamp\":1763272534},\"signalDesc\":{\"timestamp\":1763272497},\"remainEnergy\":{\"timestamp\":1763272534},\"totalEnergy\":{\"timestamp\":1763272534},\"voltage\":{\"timestamp\":1763272534},\"current\":{\"timestamp\":1763272534},\"power\":{\"timestamp\":1763272534},\"totalPower\":{\"timestamp\":1763272534},\"powerFactor\":{\"timestamp\":1763272534},\"purchaseTimes\":{\"timestamp\":1763272534},\"csqDesc\":{\"timestamp\":1763272534},\"openState\":{\"timestamp\":1763272534},\"openStateDesc\":{\"timestamp\":1763272534}}},\"timestamp\":1763272534,\"version\":3}', NULL, '2025-11-16 13:56:25', NULL);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (18, 'TBc0zH6Ztz9R$asfds', 'TBc0zH6Ztz9R', '$asfds', NULL, '2025-11-17 16:33:21', '2025-11-17 16:30:05', '2025-11-17 16:33:21', '{\"state\":{\"desired\":{},\"reported\":{\"sn\":\"FK78A6\",\"cmd\":\"StandbyNow\",\"params\":\"12\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sn\":{\"timestamp\":1763368202},\"cmd\":{\"timestamp\":1763368202},\"params\":{\"timestamp\":1763368202}}},\"timestamp\":1763368202,\"version\":4}', NULL, '2025-11-17 16:33:21', NULL);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (19, 'jt808066508427279', 'jt808', '066508427279', NULL, '2025-11-22 12:44:00', '2025-11-22 12:41:32', '2025-12-09 10:54:55', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"7e000200000665084272790092b27e\",\"terminalPhone\":\"066508427279\",\"msgId\":\"0002\",\"msgSeq\":\"0092\",\"parseStatus\":\"success\",\"msgBodyLength\":0,\"plateNumberPayload\":\"00\",\"provinceId\":44,\"cityId\":303,\"manufacturerId\":\"00001\",\"terminalModel\":\"D6_A\",\"terminalId\":\"8427279\",\"plateColor\":0,\"plateNumber\":\"\",\"registerTime\":\"2025-11-22 12:37:45\",\"authCode\":\"3132\",\"authTime\":\"2025-12-09 09:49:05\",\"gpsState\":\"unknown\",\"alarmStatus\":[],\"iccid\":\"89860875102590549476\",\"deviceModel\":\"D6_A\",\"firmwareVersion\":\"D6_A_V1.10\",\"iccidUploadTime\":\"2025-12-09 09:49:06\",\"requestType\":\"timeSync\",\"requestSeq\":\"0006\",\"requestTime\":\"2025-12-08 11:59:35\",\"coordinates\":\"120.203722,30.154879\",\"altitude\":9,\"currentSpeed\":0,\"currentDirection\":221,\"reportTime\":\"2025-12-09 10:13:19\",\"locationInfo\":\"120.199165,30.157295#西南#0.0#9\",\"accState\":\"0\",\"gnssState\":\"1\",\"drivingState\":\"0\",\"replySeq\":\"0002\",\"queryReplyPayload\":\"7E02010030066508427279000D000D00000000004C000201CD18500729977B001D00000145251122123945387E\",\"heartbeatTime\":\"2025-12-09 10:54:06\",\"powerMode\":\"未知模式（1）\",\"powerModeCode\":1,\"reservedField\":\"0000000000\",\"uploadTime\":\"2025-12-09 09:49:06\",\"batteryPercent\":1,\"signalStrength\":90,\"gnssCount\":13,\"currentDirectionDesc\":\"南\",\"alarmFlag\":\"00000000\",\"status\":\"004C0002\",\"batchDataItemCount\":1,\"batchLocationType\":1,\"batchParseCount\":1,\"timezoneOffset\":64,\"timezoneHours\":16,\"timezone\":\"UTC+16.0\",\"timezoneSyncTime\":\"2025-12-09 08:13:33\",\"payloadClean\":\"7E02100007066508427279007D251126214629177E\",\"error\":\"java.lang.Error: 报文结构异常：消息体+校验码超出报文范围（需42位16进制，实际仅40位）\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1765248846},\"terminalPhone\":{\"timestamp\":1765248846},\"msgId\":{\"timestamp\":1765248846},\"msgSeq\":{\"timestamp\":1765248846},\"parseStatus\":{\"timestamp\":1765248846},\"msgBodyLength\":{\"timestamp\":1765248846},\"plateNumberPayload\":{\"timestamp\":1763786265},\"provinceId\":{\"timestamp\":1763786265},\"cityId\":{\"timestamp\":1763786265},\"manufacturerId\":{\"timestamp\":1763786265},\"terminalModel\":{\"timestamp\":1763786265},\"terminalId\":{\"timestamp\":1763786265},\"plateColor\":{\"timestamp\":1763786265},\"plateNumber\":{\"timestamp\":1763786265},\"registerTime\":{\"timestamp\":1763786265},\"authCode\":{\"timestamp\":1765244945},\"authTime\":{\"timestamp\":1765244945},\"gpsState\":{\"timestamp\":1765244945},\"alarmStatus\":{\"timestamp\":1765244945},\"iccid\":{\"timestamp\":1765244946},\"deviceModel\":{\"timestamp\":1765244946},\"firmwareVersion\":{\"timestamp\":1765244946},\"iccidUploadTime\":{\"timestamp\":1765244946},\"requestType\":{\"timestamp\":1765166376},\"requestSeq\":{\"timestamp\":1765166376},\"requestTime\":{\"timestamp\":1765166376},\"coordinates\":{\"timestamp\":1765240920},\"altitude\":{\"timestamp\":1765240920},\"currentSpeed\":{\"timestamp\":1765240920},\"currentDirection\":{\"timestamp\":1765240920},\"reportTime\":{\"timestamp\":1765246402},\"locationInfo\":{\"timestamp\":1765240920},\"accState\":{\"timestamp\":1765240920},\"gnssState\":{\"timestamp\":1765240920},\"drivingState\":{\"timestamp\":1765240920},\"replySeq\":{\"timestamp\":1763786386},\"queryReplyPayload\":{\"timestamp\":1763786386},\"heartbeatTime\":{\"timestamp\":1765248846},\"powerMode\":{\"timestamp\":1765244946},\"powerModeCode\":{\"timestamp\":1765244946},\"reservedField\":{\"timestamp\":1765244946},\"uploadTime\":{\"timestamp\":1765244946},\"batteryPercent\":{\"timestamp\":1765246402},\"signalStrength\":{\"timestamp\":1764894164},\"gnssCount\":{\"timestamp\":1764894164},\"currentDirectionDesc\":{\"timestamp\":1764894164},\"alarmFlag\":{\"timestamp\":1764894164},\"status\":{\"timestamp\":1764894164},\"batchDataItemCount\":{\"timestamp\":1764894164},\"batchLocationType\":{\"timestamp\":1764894164},\"batchParseCount\":{\"timestamp\":1764894164},\"timezoneOffset\":{\"timestamp\":1765239214},\"timezoneHours\":{\"timestamp\":1765239214},\"timezone\":{\"timestamp\":1765239214},\"timezoneSyncTime\":{\"timestamp\":1765239214},\"payloadClean\":{\"timestamp\":1764164791},\"error\":{\"timestamp\":1764164791}}},\"timestamp\":1765248846,\"version\":4771}', NULL, '2025-12-09 10:54:55', 4771);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (20, 'mVnhk9Vk40Ga861213059936242-1', 'mVnhk9Vk40Ga', '861213059936242-1', '861213059936242', '2025-11-22 15:29:02', '2025-11-22 15:28:27', '2025-12-09 14:11:53', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"010302de012024\",\"protectionLevel\":\"IPX65\",\"firmwareVersion\":\"V1.3\",\"audioFormat\":\"MP3(≤192Kbps)、WAV\",\"memoryCapacity\":\"4M\",\"commStatus\":\"1\",\"device485Addr\":1,\"alarmVolume\":1,\"currentVolume\":1,\"currentLightMode\":\"06\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1765260603},\"protectionLevel\":{\"timestamp\":1765260603},\"firmwareVersion\":{\"timestamp\":1765260603},\"audioFormat\":{\"timestamp\":1765260603},\"memoryCapacity\":{\"timestamp\":1765260603},\"commStatus\":{\"timestamp\":1765260603},\"device485Addr\":{\"timestamp\":1765260603},\"alarmVolume\":{\"timestamp\":1765260603},\"currentVolume\":{\"timestamp\":1765260603},\"currentLightMode\":{\"timestamp\":1765194228}}},\"timestamp\":1765260603,\"version\":1602}', NULL, '2025-12-09 14:11:53', 1602);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (21, '9r08rFICF3bo861213059936242', '9r08rFICF3bo', '861213059936242', NULL, '2025-11-22 16:39:43', '2025-11-22 16:39:13', '2025-12-09 14:46:54', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"010302de012024\",\"imei\":\"861213059936242\",\"iccid\":\"89861125204091243722\",\"sn\":\"02502025102600020012\",\"hexPayload\":\"474554202f20485454502f312e310d0a486f73743a2034372e39392e39342e3132353a31393939370d0a557365722d4167656e743a2048656c6c6f2066726f6d2050616c6f20416c746f204e6574776f726b732c2066696e64206f7574206d6f72652061626f7574206f7572207363616e7320696e2068747470733a2f2f646f63732d636f727465782e70616c6f616c746f6e6574776f726b732e636f6d2f722f312f436f727465782d5870616e73652f5363616e6e696e672d61637469766974790d0a4163636570742d456e636f64696e673a20677a69700d0a0d0a\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1765262403},\"imei\":{\"timestamp\":1765262762},\"iccid\":{\"timestamp\":1765262762},\"sn\":{\"timestamp\":1765262762},\"hexPayload\":{\"timestamp\":1765258789}}},\"timestamp\":1765262762,\"version\":14196}', NULL, '2025-12-09 14:46:54', 14196);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (22, 'jt808071511767933', 'jt808', '071511767933', NULL, '2025-11-22 17:19:03', '2025-11-22 17:16:07', '2025-11-22 17:19:03', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"7e0200008e071511767933000b0000000000400001015b78ab06cd2556003800000000251122171606300153310100e50101e402004df0020636f50101e7080000000400000000ec3822687d1115b040300d9efff5ed4e7844fd0fa15851e85ad1b03ddd553647d445771157547595b0133b5878c5f85b2b34583647d455771158e10c01cc00000058120c0736455dee0a01cc0058120c0736455d077e\",\"terminalPhone\":\"071511767933\",\"msgId\":\"0200\",\"msgSeq\":\"000B\",\"parseStatus\":\"success\",\"msgBodyLength\":142,\"plateNumberPayload\":\"00\",\"provinceId\":44,\"cityId\":303,\"manufacturerId\":\"00001\",\"terminalModel\":\"PG07_4\",\"terminalId\":\"1767933\",\"plateColor\":0,\"plateNumber\":\"\",\"registerTime\":\"2025-11-22 17:15:32\",\"authCode\":\"3132\",\"authTime\":\"2025-11-22 17:15:34\",\"gpsState\":\"0\",\"alarmStatus\":[],\"iccid\":\"89860875102590549475\",\"deviceModel\":\"PG07_4\",\"firmwareVersion\":\"PG07_4_V1.21\",\"iccidUploadTime\":\"2025-11-22 17:15:35\",\"timezoneOffset\":64,\"timezoneHours\":16,\"timezone\":\"UTC+16.0\",\"timezoneSyncTime\":\"2025-11-22 17:15:35\",\"coordinates\":\"114.112864,22.769247\",\"altitude\":56,\"currentSpeed\":0,\"currentDirection\":0,\"reportTime\":\"2025-11-22 17:16:06\",\"locationInfo\":\"114.107734,22.771883#北#0.0#56\",\"accState\":\"1\",\"gnssState\":\"0\",\"drivingState\":\"1\",\"replySeq\":\"0003\",\"queryReplyPayload\":\"7E02010030071511767933000A000A0000000000400001015B78AB06CD2556003800000000251122171553037E\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1763802965},\"terminalPhone\":{\"timestamp\":1763802965},\"msgId\":{\"timestamp\":1763802965},\"msgSeq\":{\"timestamp\":1763802965},\"parseStatus\":{\"timestamp\":1763802965},\"msgBodyLength\":{\"timestamp\":1763802965},\"plateNumberPayload\":{\"timestamp\":1763802933},\"provinceId\":{\"timestamp\":1763802933},\"cityId\":{\"timestamp\":1763802933},\"manufacturerId\":{\"timestamp\":1763802933},\"terminalModel\":{\"timestamp\":1763802933},\"terminalId\":{\"timestamp\":1763802933},\"plateColor\":{\"timestamp\":1763802933},\"plateNumber\":{\"timestamp\":1763802933},\"registerTime\":{\"timestamp\":1763802933},\"authCode\":{\"timestamp\":1763802934},\"authTime\":{\"timestamp\":1763802934},\"gpsState\":{\"timestamp\":1763802953},\"alarmStatus\":{\"timestamp\":1763802934},\"iccid\":{\"timestamp\":1763802936},\"deviceModel\":{\"timestamp\":1763802936},\"firmwareVersion\":{\"timestamp\":1763802936},\"iccidUploadTime\":{\"timestamp\":1763802936},\"timezoneOffset\":{\"timestamp\":1763802936},\"timezoneHours\":{\"timestamp\":1763802936},\"timezone\":{\"timestamp\":1763802936},\"timezoneSyncTime\":{\"timestamp\":1763802936},\"coordinates\":{\"timestamp\":1763802965},\"altitude\":{\"timestamp\":1763802965},\"currentSpeed\":{\"timestamp\":1763802965},\"currentDirection\":{\"timestamp\":1763802965},\"reportTime\":{\"timestamp\":1763802965},\"locationInfo\":{\"timestamp\":1763802965},\"accState\":{\"timestamp\":1763802965},\"gnssState\":{\"timestamp\":1763802965},\"drivingState\":{\"timestamp\":1763802965},\"replySeq\":{\"timestamp\":1763802953},\"queryReplyPayload\":{\"timestamp\":1763802953}}},\"timestamp\":1763802965,\"version\":8}', NULL, '2025-11-22 17:19:03', NULL);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (23, 'lB0Tl1rgf8uzabc1233321', 'lB0Tl1rgf8uz', 'abc1233321', NULL, '2025-11-26 20:45:30', '2025-11-26 20:44:31', '2025-11-26 20:45:30', '{\"state\":{\"desired\":{},\"reported\":{\"msgId\":\"0200\",\"msgSeq\":\"0123\",\"parseStatus\":\"success\",\"msgBodyLength\":94,\"coordinates\":\"120.152063,30.179536\",\"altitude\":0,\"currentSpeed\":0,\"currentDirection\":0,\"reportTime\":\"2025-11-26 17:58:47\",\"locationInfo\":\"120.147354,30.181858#北#0.0#0\",\"accState\":\"0\",\"gnssState\":\"1\",\"drivingState\":\"0\"}},\"metadata\":{\"desired\":{},\"reported\":{\"msgId\":{\"timestamp\":1764161070},\"msgSeq\":{\"timestamp\":1764161070},\"parseStatus\":{\"timestamp\":1764161070},\"msgBodyLength\":{\"timestamp\":1764161070},\"coordinates\":{\"timestamp\":1764161070},\"altitude\":{\"timestamp\":1764161070},\"currentSpeed\":{\"timestamp\":1764161070},\"currentDirection\":{\"timestamp\":1764161070},\"reportTime\":{\"timestamp\":1764161070},\"locationInfo\":{\"timestamp\":1764161070},\"accState\":{\"timestamp\":1764161070},\"gnssState\":{\"timestamp\":1764161070},\"drivingState\":{\"timestamp\":1764161070}}},\"timestamp\":1764161070,\"version\":3}', NULL, '2025-11-26 20:45:30', NULL);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (24, 'lB0Tl1rgf8uzabc234123', 'lB0Tl1rgf8uz', 'abc234123', NULL, '2025-11-26 22:14:39', '2025-11-26 22:13:50', '2025-11-28 12:47:34', '{\"state\":{\"desired\":{},\"reported\":{\"msgId\":\"0200\",\"msgSeq\":\"0123\",\"parseStatus\":\"success\",\"msgBodyLength\":94,\"coordinates\":\"120.152063,30.179536\",\"altitude\":0,\"currentSpeed\":0,\"currentDirection\":0,\"reportTime\":\"2025-11-26 17:58:47\",\"locationInfo\":\"120.147354,30.181858#北#0.0#0\",\"accState\":\"0\",\"gnssState\":\"1\",\"drivingState\":\"0\"}},\"metadata\":{\"desired\":{},\"reported\":{\"msgId\":{\"timestamp\":1764210012},\"msgSeq\":{\"timestamp\":1764210012},\"parseStatus\":{\"timestamp\":1764210012},\"msgBodyLength\":{\"timestamp\":1764210012},\"coordinates\":{\"timestamp\":1764210012},\"altitude\":{\"timestamp\":1764210012},\"currentSpeed\":{\"timestamp\":1764210012},\"currentDirection\":{\"timestamp\":1764210012},\"reportTime\":{\"timestamp\":1764210012},\"locationInfo\":{\"timestamp\":1764210012},\"accState\":{\"timestamp\":1764210012},\"gnssState\":{\"timestamp\":1764210012},\"drivingState\":{\"timestamp\":1764210012}}},\"timestamp\":1764210012,\"version\":19}', NULL, '2025-11-28 12:47:34', 19);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (25, 'Ru871cfJjhoMnex123321', 'Ru871cfJjhoM', 'nex123321', NULL, '2025-11-30 15:43:17', '2025-11-30 15:43:17', '2025-12-04 11:08:25', '{\"state\":{\"desired\":{\"code\":\"yeah!NexIoT\",\"humidity\":\"31\",\"switchStatus\":1},\"reported\":{\"humidity\":41.3,\"temperture\":25.3}},\"metadata\":{\"desired\":{\"code\":{\"timestamp\":1764496684},\"humidity\":{\"timestamp\":1764493975},\"switchStatus\":{\"timestamp\":1764494061}},\"reported\":{\"humidity\":{\"timestamp\":1764490558},\"temperture\":{\"timestamp\":1764817631}}},\"timestamp\":1764817631,\"version\":156}', NULL, '2025-12-04 11:08:25', 156);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (26, 'xbE2CHuBdtBB89861125206094826437', 'xbE2CHuBdtBB', '89861125206094826437', NULL, '2025-12-04 19:58:29', '2025-12-04 19:57:09', '2025-12-09 15:01:54', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"09030200405875\",\"imei\":\"860048070262660\",\"csq\":31,\"timestamp\":\"1764887975\",\"gps\":\"120.1714383,30.2132102\",\"iccid\":\"89861125206094826437\",\"imsi\":\"460113960067207\",\"heartbeatType\":\"DTU_HEART\"}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1765263602},\"imei\":{\"timestamp\":1764887975},\"csq\":{\"timestamp\":1764887975},\"timestamp\":{\"timestamp\":1764887975},\"gps\":{\"timestamp\":1764887975},\"iccid\":{\"timestamp\":1764887975},\"imsi\":{\"timestamp\":1764887975},\"heartbeatType\":{\"timestamp\":1764887975}}},\"timestamp\":1765263602,\"version\":6561}', NULL, '2025-12-09 15:01:54', 6561);
INSERT INTO `iot_device_shadow` (`id`, `iot_id`, `product_key`, `device_id`, `ext_device_id`, `active_time`, `online_time`, `last_time`, `metadata`, `instance`, `update_date`, `version`) VALUES (27, 'VDscp2z6BPdLnexiotDefaultId', 'VDscp2z6BPdL', 'nexiotDefaultId', NULL, '2025-12-06 19:56:00', '2025-12-06 19:55:28', '2025-12-08 00:24:17', '{\"state\":{\"desired\":{},\"reported\":{\"sourcePayload\":\"31323334353631323231\",\"noCodec\":true}},\"metadata\":{\"desired\":{},\"reported\":{\"sourcePayload\":{\"timestamp\":1765028778},\"noCodec\":{\"timestamp\":1765028778}}},\"timestamp\":1765028778,\"version\":75}', NULL, '2025-12-08 00:24:17', 75);
COMMIT;

-- ----------------------------
-- Table structure for iot_device_statistics
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_statistics`;
CREATE TABLE `iot_device_statistics` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `stat_date` date NOT NULL COMMENT '统计日期',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '产品Key',
  `total_devices` bigint NOT NULL DEFAULT '0' COMMENT '设备总数',
  `online_devices` bigint NOT NULL DEFAULT '0' COMMENT '在线设备数',
  `offline_devices` bigint NOT NULL DEFAULT '0' COMMENT '离线设备数',
  `new_devices` bigint NOT NULL DEFAULT '0' COMMENT '新增设备数',
  `active_devices` bigint NOT NULL DEFAULT '0' COMMENT '活跃设备数(当天有消息的设备)',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uk_date_product` (`stat_date`,`product_key`) USING BTREE,
  KEY `idx_stat_date` (`stat_date`) USING BTREE,
  KEY `idx_product_key` (`product_key`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='设备统计表';

-- ----------------------------
-- Records of iot_device_statistics
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_device_subscribe
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_subscribe`;
CREATE TABLE `iot_device_subscribe` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `iot_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '设备唯一标识',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '产品唯一标识',
  `device_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
  `msg_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '消息类别：属性（PROPERTIES），指令（REPLY），事件（EVENT），上下线（EVENT：online,offline），所有(ALL)',
  `sub_type` enum('DEVICE','PRODUCT') CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '订阅级别：设备级(DEVICE)，产品级（PRODUCT）',
  `url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '订阅地址',
  `topic` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '主题',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `creater` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '创建人',
  `instance` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '0' COMMENT '实例编号',
  `enabled` tinyint(1) DEFAULT '1' COMMENT '是否启用',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `idx_iot_id` (`iot_id`) USING BTREE,
  KEY `iot_pd` (`product_key`,`device_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='设备订阅';

-- ----------------------------
-- Records of iot_device_subscribe
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_subscribe` (`id`, `iot_id`, `product_key`, `device_id`, `msg_type`, `sub_type`, `url`, `topic`, `create_date`, `creater`, `instance`, `enabled`) VALUES (4, 'tdt5iRUu1OdK12', 'tdt5iRUu1OdK', '12', 'ALL', 'DEVICE', 'http://123.11.22.33', NULL, '2025-12-09 14:20:51', 'test', '0', 1);
COMMIT;

-- ----------------------------
-- Table structure for iot_device_tags
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_tags`;
CREATE TABLE `iot_device_tags` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `product_key` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `device_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `iot_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `create_time` bigint DEFAULT NULL,
  `name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `type` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `value` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `key` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `instance` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT '0',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `dev_iot_id_idx` (`iot_id`) USING BTREE,
  KEY `dev_tag_idx` (`key`,`value`) USING BTREE,
  KEY `idx_pk_did` (`product_key`,`device_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=86 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='设备标签表';

-- ----------------------------
-- Records of iot_device_tags
-- ----------------------------
BEGIN;
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (7, '681c0775c2dc427d0480ab5f', 'cz001923', 'pbJNWPtDJp7a9E06F25PCGEA69C', NULL, '保亭', NULL, 'devGroup', '1976483580108517376', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (8, '681c0775c2dc427d0480ab5f', 'cz001923', 'pbJNWPtDJp7a42EB6BBPSF7C77D', NULL, '保亭', NULL, 'devGroup', '1976483580108517376', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (11, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014111', NULL, '分组一', NULL, 'devGroup', '1950447085375692800', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (12, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014117', NULL, '分组一', NULL, 'devGroup', '1950447085375692800', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (14, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014112', NULL, '分组一', NULL, 'devGroup', '1950447085375692800', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (15, '681c0775c2dc427d0480ab5f', 'ov00014111', '38fc80e00010107', NULL, '分组一', NULL, 'devGroup', '1950447085375692800', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (16, '681c0775c2dc427d0480ab5f', 'ov00014111', '688cd92fdb9e0158872f4aa9docsmqtt004', NULL, '分组一', NULL, 'devGroup', '1950447085375692800', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (17, '681c0775c2dc427d0480ab5f', 'ov00014111', 'lB0Tl1rgf8uzDT2025001', NULL, '分组一', NULL, 'devGroup', '1950447085375692800', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (18, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov0000004', NULL, '分组一', NULL, 'devGroup', '1950447085375692800', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (19, '681c0775c2dc427d0480ab5f', 'ov00014111', 'HnDdSnj1kiQg250707ea8dda', NULL, '分组一', NULL, 'devGroup', '1950447085375692800', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (20, '681c0775c2dc427d0480ab5f', 'ov00014111', '68beda0c1c9e0d2b7943b826865098070326549', NULL, '分组一', NULL, 'devGroup', '1950447085375692800', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (21, '681c0775c2dc427d0480ab5f', 'ov00014111', 'xbE2CHuBdtBB89861590112330001924', NULL, '保亭', NULL, 'devGroup', '1976483580108517376', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (22, '681c0775c2dc427d0480ab5f', 'ov00014111', 'bKFSm8yKgyGS860048070262660-2', NULL, '保亭', NULL, 'devGroup', '1976483580108517376', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (23, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014111', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (24, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014117', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (25, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014112', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (26, '681c0775c2dc427d0480ab5f', 'ov00014111', '38fc80e00010107', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (27, '681c0775c2dc427d0480ab5f', 'ov00014111', '688cd92fdb9e0158872f4aa9docsmqtt004', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (28, '681c0775c2dc427d0480ab5f', 'ov00014111', 'lB0Tl1rgf8uzDT2025001', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (29, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov0000004', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (30, '681c0775c2dc427d0480ab5f', 'ov00014111', 'HnDdSnj1kiQg250707ea8dda', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (32, '681c0775c2dc427d0480ab5f', 'ov00014111', '68beda0c1c9e0d2b7943b826865098070326549', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (33, '681c0775c2dc427d0480ab5f', 'ov00014111', 'jJi6xIj0sZfc240707ea8dda', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (34, '681c0775c2dc427d0480ab5f', 'ov00014111', 'pbJNWPtDJp7a9E06F25PCGEA69C', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (35, '681c0775c2dc427d0480ab5f', 'ov00014111', 'RpZ3VQIa6YE2860048070262660', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (36, '681c0775c2dc427d0480ab5f', 'ov00014111', 'lWAUlCmM53UF860048070262660', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (37, '681c0775c2dc427d0480ab5f', 'ov00014111', 'p0B2kKqdJD8M860048070262660-2', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (38, '681c0775c2dc427d0480ab5f', 'ov00014111', 'bKFSm8yKgyGS860048070262660-2', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (39, '681c0775c2dc427d0480ab5f', 'ov00014111', 'xbE2CHuBdtBB89861590112330001924', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (40, '681c0775c2dc427d0480ab5f', 'ov00014111', '3QAz7HuahAGN89861590112330001924-2', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (41, '681c0775c2dc427d0480ab5f', 'ov00014111', 'FzpVZ9unsUvU860048070262660-9', NULL, 'ssss', NULL, 'devGroup', '1982735858616434688', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (42, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014111', NULL, '分组二', NULL, 'devGroup', '1962337016553349120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (43, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014117', NULL, '分组二', NULL, 'devGroup', '1962337016553349120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (44, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014111', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (45, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014117', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (46, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014112', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (47, '681c0775c2dc427d0480ab5f', 'ov00014111', '38fc80e00010107', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (48, '681c0775c2dc427d0480ab5f', 'ov00014111', '688cd92fdb9e0158872f4aa9docsmqtt004', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (49, '681c0775c2dc427d0480ab5f', 'ov00014111', 'lB0Tl1rgf8uzDT2025001', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (50, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov0000004', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (51, '681c0775c2dc427d0480ab5f', 'ov00014111', 'HnDdSnj1kiQg250707ea8dda', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (53, '681c0775c2dc427d0480ab5f', 'ov00014111', '68beda0c1c9e0d2b7943b826865098070326549', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (54, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014111', NULL, '123', NULL, 'devGroup', '1986005112920956928', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (55, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014117', NULL, '123', NULL, 'devGroup', '1986005112920956928', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (56, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014112', NULL, '123', NULL, 'devGroup', '1986005112920956928', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (57, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014111', NULL, '123123', NULL, 'devGroup', '1984081786766061568', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (58, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014117', NULL, '123123', NULL, 'devGroup', '1984081786766061568', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (59, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov00014112', NULL, '123123', NULL, 'devGroup', '1984081786766061568', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (60, '681c0775c2dc427d0480ab5f', 'ov00014111', '38fc80e00010107', NULL, '123123', NULL, 'devGroup', '1984081786766061568', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (61, '681c0775c2dc427d0480ab5f', 'ov00014111', '688cd92fdb9e0158872f4aa9docsmqtt004', NULL, '123123', NULL, 'devGroup', '1984081786766061568', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (62, '681c0775c2dc427d0480ab5f', 'ov00014111', 'lB0Tl1rgf8uzDT2025001', NULL, '123123', NULL, 'devGroup', '1984081786766061568', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (63, '681c0775c2dc427d0480ab5f', 'ov00014111', '681c0775c2dc427d0480ab5fov0000004', NULL, '123123', NULL, 'devGroup', '1984081786766061568', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (64, '681c0775c2dc427d0480ab5f', 'ov00014111', 'HnDdSnj1kiQg250707ea8dda', NULL, '123123', NULL, 'devGroup', '1984081786766061568', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (65, '681c0775c2dc427d0480ab5f', 'ov00014111', '68beda0c1c9e0d2b7943b826865098070326549', NULL, '123123', NULL, 'devGroup', '1984081786766061568', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (66, '681c0775c2dc427d0480ab5f', 'ov00014111', 'jJi6xIj0sZfc240707ea8dda', NULL, '123123', NULL, 'devGroup', '1984081786766061568', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (67, '681c0775c2dc427d0480ab5f', 'ov00014111', 'inner_wvp_12334020000001320000001', NULL, '分组一', NULL, 'devGroup', '1950447085375692800', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (69, '681c0775c2dc427d0480ab5f', 'ov00014111', 'jJi6xIj0sZfc240707ea8dda', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (70, '681c0775c2dc427d0480ab5f', 'ov00014111', 'pbJNWPtDJp7a9E06F25PCGEA69C', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (71, '681c0775c2dc427d0480ab5f', 'ov00014111', 'pbJNWPtDJp7a42EB6BBPSF7C77D', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (72, '681c0775c2dc427d0480ab5f', 'ov00014111', 'RpZ3VQIa6YE2860048070262660', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (73, '681c0775c2dc427d0480ab5f', 'ov00014111', 'lWAUlCmM53UF860048070262660', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (74, '681c0775c2dc427d0480ab5f', 'ov00014111', 'p0B2kKqdJD8M860048070262660-2', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (75, '681c0775c2dc427d0480ab5f', 'ov00014111', 'bKFSm8yKgyGS860048070262660-2', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (76, '681c0775c2dc427d0480ab5f', 'ov00014111', 'xbE2CHuBdtBB89861590112330001924', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (77, '681c0775c2dc427d0480ab5f', 'ov00014111', '3QAz7HuahAGN89861590112330001924-2', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (78, '681c0775c2dc427d0480ab5f', 'ov00014111', 'FzpVZ9unsUvU860048070262660-9', NULL, '12', NULL, 'devGroup', '1984081832538501120', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (84, '681c0775c2dc427d0480ab5f', 'ov00014111', 'inner_wvp_12334020000001320000001', NULL, '监控分组', NULL, 'devGroup', '1997643941377421312', 'devGroup', NULL);
INSERT INTO `iot_device_tags` (`id`, `product_key`, `device_id`, `iot_id`, `create_time`, `name`, `description`, `type`, `value`, `key`, `instance`) VALUES (85, '681c0775c2dc427d0480ab5f', 'ov00014111', 'inner_wvp_12333030000001320000001', NULL, '监控分组', NULL, 'devGroup', '1997643941377421312', 'devGroup', NULL);
COMMIT;

-- ----------------------------
-- Table structure for iot_device_up_format
-- ----------------------------
DROP TABLE IF EXISTS `iot_device_up_format`;
CREATE TABLE `iot_device_up_format` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '费用名称',
  `apply` tinyint NOT NULL COMMENT '应用级别（1-应用 2-产品 3-所有）',
  `target_id` bigint NOT NULL COMMENT '目标ID（1-应用主键ID，2-ProductKey，3-0）',
  `cfg` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '模板配置',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `unionId` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '用户编号',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='消息格式化表';

-- ----------------------------
-- Records of iot_device_up_format
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for iot_gateway_polling_command
-- ----------------------------
DROP TABLE IF EXISTS `iot_gateway_polling_command`;
CREATE TABLE `iot_gateway_polling_command` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `gateway_product_key` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '网关产品KEY',
  `gateway_device_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '网关设备ID',
  `slave_device_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '从站设备ID (可选，用于标识)',
  `command_name` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '指令名称',
  `execution_order` int DEFAULT '0' COMMENT '执行顺序',
  `command_hex` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '完整的轮询指令(HEX格式)',
  `command_type` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT 'MODBUS' COMMENT '指令类型: MODBUS/S7/OPCUA/CUSTOM',
  `protocol_params` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '协议参数JSON (可选，用于前端回显编辑)',
  `property_mapping` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '属性映射JSON (寄存器->物模型属性)',
  `data_parser_script` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '数据解析脚本 (可选)',
  `enabled` tinyint(1) DEFAULT '1' COMMENT '是否启用',
  `timeout_ms` int DEFAULT '5000' COMMENT '超时时间(ms)',
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '描述',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `idx_gateway` (`gateway_product_key`,`gateway_device_id`,`execution_order`) USING BTREE,
  KEY `idx_slave` (`slave_device_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='网关轮询指令表';

-- ----------------------------
-- Records of iot_gateway_polling_command
-- ----------------------------
BEGIN;
INSERT INTO `iot_gateway_polling_command` (`id`, `gateway_product_key`, `gateway_device_id`, `slave_device_id`, `command_name`, `execution_order`, `command_hex`, `command_type`, `protocol_params`, `property_mapping`, `data_parser_script`, `enabled`, `timeout_ms`, `description`, `create_time`, `update_time`) VALUES (3, 'lWAUlCmM53UF', '860048070262660', NULL, '01-查询音量', 0, '01030043000175DE', 'MODBUS', '{\"functionCode\":3,\"slaveAddress\":1,\"registerAddress\":1,\"registerCount\":1}', NULL, NULL, 1, 5000, NULL, '2025-11-03 20:36:10', '2025-11-03 20:36:10');
INSERT INTO `iot_gateway_polling_command` (`id`, `gateway_product_key`, `gateway_device_id`, `slave_device_id`, `command_name`, `execution_order`, `command_hex`, `command_type`, `protocol_params`, `property_mapping`, `data_parser_script`, `enabled`, `timeout_ms`, `description`, `create_time`, `update_time`) VALUES (6, 'RpZ3VQIa6YE2', '860048070262660', NULL, '02-光照温湿度', 0, '020300000008443F', 'MODBUS', '{\"functionCode\":3,\"slaveAddress\":2,\"registerAddress\":0,\"registerCount\":8}', NULL, NULL, 1, 5000, NULL, '2025-11-05 08:36:09', '2025-11-05 08:36:09');
INSERT INTO `iot_gateway_polling_command` (`id`, `gateway_product_key`, `gateway_device_id`, `slave_device_id`, `command_name`, `execution_order`, `command_hex`, `command_type`, `protocol_params`, `property_mapping`, `data_parser_script`, `enabled`, `timeout_ms`, `description`, `create_time`, `update_time`) VALUES (8, 'RpZ3VQIa6YE2', '860048070262660', NULL, '9-光照', 1, '0903007000018499', 'MODBUS', '{\"functionCode\":3,\"slaveAddress\":1,\"registerAddress\":0,\"registerCount\":1}', NULL, NULL, 1, 5000, NULL, '2025-11-05 08:36:09', '2025-11-05 08:36:09');
INSERT INTO `iot_gateway_polling_command` (`id`, `gateway_product_key`, `gateway_device_id`, `slave_device_id`, `command_name`, `execution_order`, `command_hex`, `command_type`, `protocol_params`, `property_mapping`, `data_parser_script`, `enabled`, `timeout_ms`, `description`, `create_time`, `update_time`) VALUES (9, 'xbE2CHuBdtBB', '89861590112330001924', NULL, '2-温湿度', 0, '020300000008443F', 'MODBUS', '{\"functionCode\":3,\"slaveAddress\":1,\"registerAddress\":0,\"registerCount\":1}', NULL, NULL, 1, 5000, NULL, '2025-11-12 15:43:07', '2025-11-12 15:43:07');
INSERT INTO `iot_gateway_polling_command` (`id`, `gateway_product_key`, `gateway_device_id`, `slave_device_id`, `command_name`, `execution_order`, `command_hex`, `command_type`, `protocol_params`, `property_mapping`, `data_parser_script`, `enabled`, `timeout_ms`, `description`, `create_time`, `update_time`) VALUES (10, 'xbE2CHuBdtBB', '89861590112330001924', NULL, '09-七彩色', 1, '0903007000018499', 'MODBUS', '{\"functionCode\":3,\"slaveAddress\":1,\"registerAddress\":0,\"registerCount\":1}', NULL, NULL, 1, 5000, NULL, '2025-11-12 15:43:07', '2025-11-12 15:43:07');
INSERT INTO `iot_gateway_polling_command` (`id`, `gateway_product_key`, `gateway_device_id`, `slave_device_id`, `command_name`, `execution_order`, `command_hex`, `command_type`, `protocol_params`, `property_mapping`, `data_parser_script`, `enabled`, `timeout_ms`, `description`, `create_time`, `update_time`) VALUES (11, 'lWAUlCmM53UF', '860048070262660', NULL, '温湿度', 1, '020300000008443F', 'MODBUS', '{\"functionCode\":3,\"slaveAddress\":2,\"registerAddress\":0,\"registerCount\":1}', NULL, NULL, 1, 5000, NULL, '2025-11-03 20:36:10', '2025-11-03 20:36:10');
INSERT INTO `iot_gateway_polling_command` (`id`, `gateway_product_key`, `gateway_device_id`, `slave_device_id`, `command_name`, `execution_order`, `command_hex`, `command_type`, `protocol_params`, `property_mapping`, `data_parser_script`, `enabled`, `timeout_ms`, `description`, `create_time`, `update_time`) VALUES (12, 'RpZ3VQIa6YE2', '860048070262660', NULL, '01-三色声光', 2, '01030043000175DE', 'MODBUS', '{\"functionCode\":3,\"slaveAddress\":1,\"registerAddress\":0,\"registerCount\":1}', NULL, NULL, 1, 5000, NULL, '2025-11-05 08:36:09', '2025-11-05 08:36:09');
INSERT INTO `iot_gateway_polling_command` (`id`, `gateway_product_key`, `gateway_device_id`, `slave_device_id`, `command_name`, `execution_order`, `command_hex`, `command_type`, `protocol_params`, `property_mapping`, `data_parser_script`, `enabled`, `timeout_ms`, `description`, `create_time`, `update_time`) VALUES (14, 'FzOPKea1NK4Y', '2025111801', NULL, '读取温湿', 0, '010300000002C40B', 'MODBUS', '{\"functionCode\":3,\"slaveAddress\":1,\"registerAddress\":0,\"registerCount\":2}', NULL, NULL, 1, 5000, NULL, '2025-11-18 12:06:45', '2025-11-18 12:06:45');
INSERT INTO `iot_gateway_polling_command` (`id`, `gateway_product_key`, `gateway_device_id`, `slave_device_id`, `command_name`, `execution_order`, `command_hex`, `command_type`, `protocol_params`, `property_mapping`, `data_parser_script`, `enabled`, `timeout_ms`, `description`, `create_time`, `update_time`) VALUES (15, '9r08rFICF3bo', '861213059936242', NULL, '1-三色声光', 0, '01030043000175DE', 'MODBUS', '{\"functionCode\":3,\"slaveAddress\":1,\"registerAddress\":0,\"registerCount\":1}', NULL, NULL, 1, 5000, NULL, '2025-11-24 14:38:06', '2025-11-24 14:38:06');
COMMIT;

-- ----------------------------
-- Table structure for iot_gateway_polling_config
-- ----------------------------
DROP TABLE IF EXISTS `iot_gateway_polling_config`;
CREATE TABLE `iot_gateway_polling_config` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `device_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '网关设备ID',
  `product_key` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '产品KEY',
  `iot_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'IoT ID',
  `enabled` tinyint(1) DEFAULT '1' COMMENT '是否启用轮询: 0-禁用, 1-启用',
  `interval_seconds` int NOT NULL DEFAULT '120' COMMENT '轮询间隔(秒): 30/60/120/300/600',
  `timeout_seconds` int DEFAULT '10' COMMENT '超时时间(秒)',
  `retry_times` int DEFAULT '3' COMMENT '失败重试次数',
  `command_interval_ms` int DEFAULT '300' COMMENT '指令间隔(毫秒): 100-2000, 防止设备缓冲区溢出',
  `next_poll_time` datetime DEFAULT NULL COMMENT '下次轮询时间',
  `last_poll_time` datetime DEFAULT NULL COMMENT '最后轮询时间',
  `last_success_time` datetime DEFAULT NULL COMMENT '最后成功时间',
  `continuous_fail_count` int DEFAULT '0' COMMENT '连续失败次数',
  `polling_status` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT 'NORMAL' COMMENT '轮询状态: NORMAL-正常, PAUSED-暂停, FAILED-失败',
  `total_poll_count` bigint DEFAULT '0' COMMENT '总轮询次数',
  `success_count` bigint DEFAULT '0' COMMENT '成功次数',
  `fail_count` bigint DEFAULT '0' COMMENT '失败次数',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `creator_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '创建人ID',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uk_device` (`product_key`,`device_id`) USING BTREE,
  KEY `idx_next_poll` (`interval_seconds`,`next_poll_time`,`polling_status`) USING BTREE,
  KEY `idx_product_key` (`product_key`) USING BTREE,
  KEY `idx_polling_due` (`interval_seconds`,`next_poll_time`,`polling_status`,`enabled`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='网关轮询配置表';

-- ----------------------------
-- Records of iot_gateway_polling_config
-- ----------------------------
BEGIN;
INSERT INTO `iot_gateway_polling_config` (`id`, `device_id`, `product_key`, `iot_id`, `enabled`, `interval_seconds`, `timeout_seconds`, `retry_times`, `command_interval_ms`, `next_poll_time`, `last_poll_time`, `last_success_time`, `continuous_fail_count`, `polling_status`, `total_poll_count`, `success_count`, `fail_count`, `create_time`, `update_time`, `creator_id`) VALUES (1, '860048070262660', 'lWAUlCmM53UF', NULL, 0, 120, 10, 3, 2300, '2025-11-22 18:27:44', '2025-11-22 18:25:44', '2025-11-22 18:25:44', 0, 'NORMAL', 1831, 1818, 13, '2025-10-26 12:33:31', '2025-11-22 18:25:44', 'demo');
INSERT INTO `iot_gateway_polling_config` (`id`, `device_id`, `product_key`, `iot_id`, `enabled`, `interval_seconds`, `timeout_seconds`, `retry_times`, `command_interval_ms`, `next_poll_time`, `last_poll_time`, `last_success_time`, `continuous_fail_count`, `polling_status`, `total_poll_count`, `success_count`, `fail_count`, `create_time`, `update_time`, `creator_id`) VALUES (2, '860048070262660', 'RpZ3VQIa6YE2', NULL, 1, 60, 10, 3, 2300, '2025-12-09 15:01:05', '2025-12-09 15:00:04', '2025-12-09 15:00:04', 0, 'NORMAL', 26289, 26288, 1, '2025-10-27 23:37:46', '2025-12-09 15:00:04', 'demo');
INSERT INTO `iot_gateway_polling_config` (`id`, `device_id`, `product_key`, `iot_id`, `enabled`, `interval_seconds`, `timeout_seconds`, `retry_times`, `command_interval_ms`, `next_poll_time`, `last_poll_time`, `last_success_time`, `continuous_fail_count`, `polling_status`, `total_poll_count`, `success_count`, `fail_count`, `create_time`, `update_time`, `creator_id`) VALUES (3, '89861590112330001924', 'xbE2CHuBdtBB', NULL, 0, 60, 10, 3, 2300, '2025-12-05 21:10:22', '2025-12-05 21:09:22', '2025-12-05 21:09:22', 0, 'NORMAL', 3697, 3697, 0, '2025-10-28 11:02:45', '2025-12-05 21:09:22', 'demo');
INSERT INTO `iot_gateway_polling_config` (`id`, `device_id`, `product_key`, `iot_id`, `enabled`, `interval_seconds`, `timeout_seconds`, `retry_times`, `command_interval_ms`, `next_poll_time`, `last_poll_time`, `last_success_time`, `continuous_fail_count`, `polling_status`, `total_poll_count`, `success_count`, `fail_count`, `create_time`, `update_time`, `creator_id`) VALUES (4, '123', 'vxKCPNH51401', NULL, 0, 120, 10, 3, 300, NULL, NULL, NULL, 0, 'NORMAL', 0, 0, 0, '2025-10-29 18:08:22', '2025-11-19 20:33:28', 'demo');
INSERT INTO `iot_gateway_polling_config` (`id`, `device_id`, `product_key`, `iot_id`, `enabled`, `interval_seconds`, `timeout_seconds`, `retry_times`, `command_interval_ms`, `next_poll_time`, `last_poll_time`, `last_success_time`, `continuous_fail_count`, `polling_status`, `total_poll_count`, `success_count`, `fail_count`, `create_time`, `update_time`, `creator_id`) VALUES (5, '2025111801', 'FzOPKea1NK4Y', NULL, 1, 60, 10, 3, 300, '2025-11-18 12:13:00', '2025-11-18 12:12:00', NULL, 4, 'FAILED', 4, 0, 4, '2025-11-18 12:06:39', '2025-11-19 20:33:28', 'demo');
INSERT INTO `iot_gateway_polling_config` (`id`, `device_id`, `product_key`, `iot_id`, `enabled`, `interval_seconds`, `timeout_seconds`, `retry_times`, `command_interval_ms`, `next_poll_time`, `last_poll_time`, `last_success_time`, `continuous_fail_count`, `polling_status`, `total_poll_count`, `success_count`, `fail_count`, `create_time`, `update_time`, `creator_id`) VALUES (6, '861213059936242', '9r08rFICF3bo', NULL, 1, 600, 10, 3, 300, '2025-12-09 15:00:01', '2025-12-09 14:50:00', '2025-12-09 14:50:00', 0, 'NORMAL', 1609, 1603, 6, '2025-11-24 14:38:06', '2025-12-09 14:50:00', NULL);
COMMIT;

-- ----------------------------
-- Table structure for iot_network
-- ----------------------------
DROP TABLE IF EXISTS `iot_network`;
CREATE TABLE `iot_network` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `type` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'TCP_CLIENT,TCP_SERVER,MQTT_CLIENT,MQTT_SERVER',
  `union_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '网络唯一标识:MQTT为自定义惟一标识',
  `product_key` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT 'ProductKey',
  `name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '网络组件名称',
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '详细描述',
  `configuration` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '配置内容',
  `create_user` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '创建用户',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `state` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0-关闭，1-启动',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uniq_network_pk_id` (`union_id`,`type`) USING BTREE COMMENT '网络组件唯一标识'
) ENGINE=InnoDB AUTO_INCREMENT=180 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='网络组件表';

-- ----------------------------
-- Records of iot_network
-- ----------------------------
BEGIN;
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (85, 'TCP_SERVER', '38fc80e', '38fc80e', '文档版小插座', NULL, '{\"host\":\"0.0.0.0\",\"port\":12344}', 'demo', '2025-07-28 21:57:40', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (87, 'MQTT_CLIENT', '68ada9c78c22c1573cb70d55', '', '火山引擎99服务器emqx', NULL, '{}', 'demo', '2025-08-26 20:34:15', 0);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (88, 'MQTT_SERVER', '68b10bfe8c2258015bfdb704', '', '内网一个', NULL, '{\"autoReconnect\":\"false\",\"qos\":1,\"host\":\"tcp://192.168.31.194:1883\",\"keepAliveInterval\":60,\"username\":\"thirdMqtt\",\"password\":\"7f24803fd237bc9b1acad7245bcc5cd1\",\"clientIdPrefix\":false,\"connectTimeout\":30,\"ssl\":false,\"sslCaPath\":\"\",\"SSL证书路径\":\"\",\"sslKeyPath\":\"\",\"cleanSession\":true,\"subscribeTopics\":[{\"topicPattern\":\"$third/up/#\",\"qos\":0,\"enabled\":true,\"productKey\":\"688cd92fdb9e0158872f4aa9\",\"topicCategory\":\"PASSTHROUGH\"},{\"topicPattern\":\"$third/zxc/#\",\"qos\":2,\"enabled\":true,\"productKey\":\"lB0Tl1rgf8uz\",\"topicCategory\":\"THING_MODEL\"},{\"topicPattern\":\"$third/zxc/zc/#\",\"qos\":1,\"enabled\":true,\"productKey\":\"lB0Tl1rgf8uz\",\"topicCategory\":\"THING_MODEL\"},{\"topicPattern\":\"$third/zxc/zvc/#\",\"qos\":1,\"enabled\":true,\"productKey\":\"688cd92fdb9e0158872f4aa9\",\"topicCategory\":\"THING_MODEL\"},{\"topicPattern\":\"$third/zxc/zvca/#\",\"qos\":1,\"enabled\":true,\"productKey\":\"lB0Tl1rgf8uz\",\"topicCategory\":\"THING_MODEL\"}],\"networkType\":\"\"}', 'demo', '2025-08-29 10:10:06', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (90, 'TCP_SERVER', 'HnDdSnj1kiQg', 'HnDdSnj1kiQg', '抖音2P挂式电表', NULL, '{\n  \"host\": \"0.0.0.0\",\n  \"port\": 19999\n}', 'demo', '2025-09-05 11:19:02', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (95, 'UDP', 'jJi6xIj0sZfc', 'jJi6xIj0sZfc', 'UDP验证', NULL, '{\n  \"host\": \"0.0.0.0\",\n  \"port\": 29112\n}', 'demo', '2025-09-17 13:26:17', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (97, 'TCP_SERVER', 'wZy6Cf16c0oH', 'wZy6Cf16c0oH', '电表演示', '电表演示', '{\n  \"host\": \"0.0.0.0\",\n  \"port\": 28811\n}', 'demo', '2025-09-18 20:50:23', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (100, 'TCP_SERVER', '68831a1f38fc106a8dac3c13', '68831a1f38fc106a8dac3c13', '小蘑菇', NULL, '{\n  \"host\": \"0.0.0.0\",\n  \"port\": 78812\n}', 'demo', '2025-09-21 22:42:06', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (102, 'UDP', 'zmTntOA7VN4d', 'zmTntOA7VN4d', 'gg', NULL, '{}', 'demo', '2025-09-26 00:03:48', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (125, 'TCP_SERVER', 'lWAUlCmM53UF', 'lWAUlCmM53UF', '塔石485网关', NULL, '{\"host\":\"0.0.0.0\",\"port\":19996}', 'demo', '2025-10-14 10:07:29', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (153, 'TCP_SERVER', 'jt808', 'jt808', '4G-JT808', '电瓶车', '{\n  \"host\": \"0.0.0.0\",\n  \"port\": 39687\n}', 'demo', '2025-11-13 08:40:20', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (154, 'MQTT_SERVER', '6915482703fef2a1a652c0ab', '', '项目1', NULL, '{}', 'demo', '2025-11-13 10:53:27', 0);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (155, 'MQTT_SERVER', '69158ba403fef2a1a652c28a', '', '测试组件', '组件', '{}', 'demo', '2025-11-13 15:41:24', 0);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (157, 'TCP_SERVER', 'XM4XaGBKSJmt', 'XM4XaGBKSJmt', '23355', NULL, '{\n  \"allIdleTime\": 0,\n  \"allowInsert\": false,\n  \"alwaysPreDecode\": false,\n  \"decodeType\": \"STRING\",\n  \"host\": \"0.0.0.0\",\n  \"idleInterval\": 0,\n  \"onlyCache\": false,\n  \"parserConfiguration\": {\n    \"byteOrderLittle\": true,\n    \"delimited\": \"]\",\n    \"delimitedMaxlength\": 1024,\n    \"failFast\": true\n  },\n  \"parserType\": \"DELIMITED\",\n  \"readerIdleTime\": 360,\n  \"readTimeout\": 0,\n  \"sendTimeout\": 0,\n  \"ssl\": false,\n  \"writerIdleTime\": 0\n}', 'demo', '2025-11-14 16:42:14', 0);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (161, 'TCP_SERVER', '9n91IXPUWsmq', '9n91IXPUWsmq', 'ZL定位产品TCP', 'ces', '{\n  \"allIdleTime\": 0,\n  \"allowInsert\": false,\n  \"alwaysPreDecode\": false,\n  \"decodeType\": \"STRING\",\n  \"host\": \"0.0.0.0\",\n  \"idleInterval\": 0,\n  \"onlyCache\": false,\n  \"parserConfiguration\": {\n    \"byteOrderLittle\": true,\n    \"delimited\": \"]\",\n    \"delimitedMaxlength\": 1024,\n    \"failFast\": true\n  },\n  \"parserType\": \"DELIMITED\",\n  \"readerIdleTime\": 360,\n  \"readTimeout\": 0,\n  \"sendTimeout\": 0,\n  \"ssl\": false,\n  \"writerIdleTime\": 0\n}', 'demo', '2025-11-18 17:52:46', 0);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (165, 'TCP_SERVER', 'p0B2kKqdJD8M', 'p0B2kKqdJD8M', '2222', NULL, '{\n  \"allIdleTime\": 0,\n  \"allowInsert\": false,\n  \"alwaysPreDecode\": false,\n  \"decodeType\": \"STRING\",\n  \"host\": \"0.0.0.0\",\n  \"idleInterval\": 0,\n  \"onlyCache\": false,\n  \"parserConfiguration\": {\n    \"byteOrderLittle\": true,\n    \"delimited\": \"]\",\n    \"delimitedMaxlength\": 1024,\n    \"failFast\": true\n  },\n  \"parserType\": \"DELIMITED\",\n  \"readerIdleTime\": 360,\n  \"readTimeout\": 0,\n  \"sendTimeout\": 0,\n  \"ssl\": false,\n  \"writerIdleTime\": 0\n}', 'test', '2025-11-19 15:25:56', 0);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (168, 'UDP', '9n91IXPUWsmq', '9n91IXPUWsmq', 'ZLTCP', 'ces', '{}', 'test', '2025-11-19 16:01:31', 0);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (169, 'MQTT_SERVER', '691fd379635ea6ab9895182e', '', '1', '1', '{}', 'test', '2025-11-21 10:50:33', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (170, 'TCP_SERVER', '685f795c753809d9355d2212', '685f795c753809d9355d2212', '全能', NULL, '{\"host\":\"0.0.0.0\",\"port\":17662}', 'iot', '2025-11-21 18:05:39', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (171, 'TCP_SERVER', '9r08rFICF3bo', '9r08rFICF3bo', '有人DTU-19997', NULL, '{\n  \"host\": \"0.0.0.0\",\n  \"port\": 19997\n}', 'iot', '2025-11-22 13:34:18', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (172, 'TCP_SERVER', 'FzpVZ9unsUvU', 'FzpVZ9unsUvU', '测试', '测试', '{\n  \"host\": \"0.0.0.0\",\n  \"port\": 8082\n}', 'test', '2025-11-22 13:47:52', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (173, 'TCP_SERVER', 'bVXnTHNrxIMe', '3QAz7HuahAGN', '测试', '测试', '{\n  \"allIdleTime\": 0,\n  \"allowInsert\": false,\n  \"alwaysPreDecode\": false,\n  \"decodeType\": \"STRING\",\n  \"host\": \"0.0.0.0\",\n  \"idleInterval\": 0,\n  \"onlyCache\": false,\n  \"parserConfiguration\": {\n    \"byteOrderLittle\": true,\n    \"delimited\": \"]\",\n    \"delimitedMaxlength\": 1024,\n    \"failFast\": true\n  },\n  \"parserType\": \"DELIMITED\",\n  \"readerIdleTime\": 360,\n  \"readTimeout\": 0,\n  \"sendTimeout\": 0,\n  \"ssl\": false,\n  \"writerIdleTime\": 0\n}', 'test', '2025-11-22 13:50:11', 0);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (174, 'MQTT_SERVER', '69268b0aa41e0f80fd94da62', '', '电表', NULL, '{\n  \"autoReconnect\": \"false\",\n  \"qos\": \"\",\n  \"host\": \"\",\n  \"keepAliveInterval\": \"\",\n  \"username\": \"\",\n  \"password\": \"\",\n  \"clientIdPrefix\": false,\n  \"connectTimeout\": \"\",\n  \"ssl\": false,\n  \"sslCaPath\": \"\",\n  \"SSL证书路径\": \"\",\n  \"sslKeyPath\": \"\",\n  \"cleanSession\": \"false\",\n  \"subscribeTopics\": [\n    {\n      \"topicPattern\": \"/device/data/post/**\",\n      \"qos\": 1,\n      \"enabled\": true,\n      \"productKey\": \"yaN0P0RUuXCi\",\n      \"topicCategory\": \"THING_MODEL\"\n    },\n    {\n      \"topicPattern\": \"/tryrye/ytryt/*\",\n      \"qos\": 1,\n      \"enabled\": true,\n      \"topicCategory\": \"THING_MODEL\"\n    }\n  ],\n  \"networkType\": \"\"\n}', 'test', '2025-11-26 13:07:22', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (175, 'MQTT_SERVER', '692d11a6a41ecd10d61b36c4', '', 'wew', NULL, '{\"autoReconnect\":\"false\",\"qos\":\"\",\"host\":\"\",\"keepAliveInterval\":\"\",\"username\":\"\",\"password\":\"\",\"clientIdPrefix\":false,\"connectTimeout\":\"\",\"ssl\":false,\"sslCaPath\":\"\",\"SSL证书路径\":\"\",\"sslKeyPath\":\"\",\"cleanSession\":\"false\",\"subscribeTopics\":[{\"topicPattern\":\"ds\",\"qos\":1,\"enabled\":true,\"topicCategory\":\"THING_MODEL\"}],\"networkType\":\"\"}', 'test', '2025-12-01 11:55:18', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (176, 'TCP_SERVER', 'pbJNWPtDJp7a', 'pbJNWPtDJp7a', '11', NULL, '{\n  \"allIdleTime\": 0,\n  \"allowInsert\": false,\n  \"alwaysPreDecode\": false,\n  \"decodeType\": \"STRING\",\n  \"host\": \"0.0.0.0\",\n  \"idleInterval\": 0,\n  \"onlyCache\": false,\n  \"parserConfiguration\": {\n    \"byteOrderLittle\": true,\n    \"delimited\": \"]\",\n    \"delimitedMaxlength\": 1024,\n    \"failFast\": true\n  },\n  \"parserType\": \"DELIMITED\",\n  \"readerIdleTime\": 360,\n  \"readTimeout\": 0,\n  \"sendTimeout\": 0,\n  \"ssl\": false,\n  \"writerIdleTime\": 0\n}', 'test', '2025-12-02 16:39:31', 0);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (177, 'MQTT_SERVER', '692ea93ba41ecb707196564c', '', '1111', NULL, '{}', 'test', '2025-12-02 16:54:19', 1);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (178, 'MQTT_SERVER', '693242911b7ee211aff6b16c', '', 'MQTT', NULL, '{}', 'test', '2025-12-05 10:25:21', 0);
INSERT INTO `iot_network` (`id`, `type`, `union_id`, `product_key`, `name`, `description`, `configuration`, `create_user`, `create_date`, `state`) VALUES (179, 'TCP_SERVER', 'VDscp2z6BPdL', 'VDscp2z6BPdL', '测试', NULL, '{\"host\":\"0.0.0.0\",\"port\":32221}', 'nexiot', '2025-12-06 19:53:08', 1);
COMMIT;

-- ----------------------------
-- Table structure for iot_product
-- ----------------------------
DROP TABLE IF EXISTS `iot_product`;
CREATE TABLE `iot_product` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `product_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '产品编号,当前等同设备型号',
  `company_no` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '厂商编号',
  `name` varchar(60) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '名称',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '产品KEY',
  `third_platform` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '第三方平台:lvzhou,ctwing,onenet,alibaba,baidu',
  `classified_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '分类名称',
  `product_secret` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '产品密钥（1型1密）',
  `third_configuration` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '第三方平台配置信息',
  `classified_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '分类ID',
  `configuration` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '协议配置',
  `network_union_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '网络组件：TCP，MQTT',
  `device_node` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '设备节点: gateway(网关)，childrenDevice(网关子设备)，device(设备)',
  `gw_product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '所属项目',
  `tags` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '标签字段',
  `message_protocol` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '消息协议: ',
  `creator_id` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '创建者id',
  `describe` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '说明',
  `store_policy` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT '' COMMENT '数据存储策略',
  `store_policy_configuration` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '数据存储策略配置',
  `transport_protocol` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '传输协议: MQTT,COAP,UDP',
  `photo_url` varchar(2048) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '图片地址',
  `metadata` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '物模型',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `instance` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT '0',
  `state` tinyint unsigned DEFAULT '0' COMMENT '产品状态（0-正常）',
  `third_down_request` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '第三方产品下发信息',
  `update_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `is_deleted` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `idx_product_key` (`product_key`) USING BTREE COMMENT '产品唯一密钥',
  KEY `idx_prod_class_id` (`classified_id`) USING BTREE,
  KEY `idx_product_id` (`product_id`) USING BTREE COMMENT '产品ID（设备型号）',
  KEY `idx_product_creator_state_time` (`creator_id`,`state`,`create_time` DESC) USING BTREE,
  KEY `idx_product_creator_search` (`creator_id`,`product_key`,`name`) USING BTREE,
  KEY `idx_product_creator_classified` (`creator_id`,`classified_id`,`company_no`) USING BTREE,
  KEY `idx_product_creator_platform` (`creator_id`,`third_platform`,`device_node`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=10161 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='物联网产品基本信息（产品Key、协议类型、制造商）';

-- ----------------------------
-- Records of iot_product
-- ----------------------------
BEGIN;
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (300, 'pot1', 'fre', 'fre', 'wVnmGJlRy9ay', 'mqtt', '验证(beta)', 'a1c66a0b13ef4ab9824ca9f548d1ebf8', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'MQTT', NULL, '{\"tags\": [{\"key\": \"protocolVersion\", \"value\": \"JT/T 808-2013\"}, {\"key\": \"parseLogicAligned\", \"value\": \"与decode函数字段完全对齐\"}, {\"key\": \"deviceType\", \"value\": \"定位终端（KG12型号）\"}], \"events\": [{\"id\": \"online\", \"name\": \"设备上线\", \"expands\": {\"level\": \"info\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含上线时间、终端手机号\", \"parseSource\": \"注册报文（0x0100）或心跳报文（0x0002）解析时触发，携带terminalPhone和时间\"}}, \"description\": \"终端注册或心跳上报时触发（解析自注册/心跳报文）\"}, {\"id\": \"offline\", \"name\": \"设备下线\", \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含下线时间、断开原因\", \"triggerSource\": \"业务层判断lastHeartbeatTime超时（如5分钟）触发，原因默认为\\\"无心跳\\\"\"}}, \"description\": \"终端长时间无心跳（业务层判断，基于lastHeartbeatTime超时）\"}, {\"id\": \"gnssFaultAlarm\", \"name\": \"GNSS定位故障告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"故障类型（模块故障/天线异常等）\", \"maxLength\": \"50\", \"parseSource\": \"位置报文（0x0200）报警标志bit5=天线未接，bit6=天线短路\"}}, \"description\": \"GNSS模块或天线异常时触发（解析自位置报文报警标志位bit5/bit6）\"}, {\"id\": \"overspeedAlarm\", \"name\": \"超速告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含当前速度、告警时间\", \"parseSource\": \"位置报文（0x0200）报警标志bit1=超速，携带currentSpeed和reportTime\"}}, \"description\": \"终端超速时触发（解析自位置报文报警标志位bit1）\"}, {\"id\": \"fatigueDrivingAlarm\", \"name\": \"疲劳驾驶告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含告警时间\", \"parseSource\": \"位置报文（0x0200）报警标志bit2=疲劳驾驶，携带reportTime\"}}, \"description\": \"终端检测到疲劳驾驶时触发（解析自位置报文报警标志位bit2）\"}, {\"id\": \"powerAbnormalAlarm\", \"name\": \"供电异常告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含异常类型（欠压/掉电）、告警时间\", \"parseSource\": \"位置报文（0x0200）报警标志bit7=欠压，bit8=掉电，携带reportTime\"}}, \"description\": \"终端供电欠压或掉电时触发（解析自位置报文报警标志位bit7/bit8）\"}, {\"id\": \"decodeFail\", \"name\": \"报文解析失败\", \"config\": false, \"expands\": {\"level\": \"error\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含原始报文、错误原因\", \"parseSource\": \"decode函数捕获异常时触发，携带sourcePayload和errorMsg\"}}, \"description\": \"终端上报报文格式错误或校验失败时触发（解析函数catch块）\"}, {\"id\": \"batchLocationReport\", \"name\": \"批量位置数据上报\", \"config\": false, \"expands\": {\"level\": \"info\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含批量数据项数量、位置类型、上报时间\", \"parseSource\": \"批量位置报文（0x0704）解析时触发，携带batchDataItemCount、batchLocationType、batchLocations\"}}, \"description\": \"终端批量上传多条位置数据时触发（解析自0x0704报文）\"}], \"modelId\": \"jt808_terminal_aligned_v1.0\", \"protocol\": \"JT/T 808-2013（卓比物联）\", \"functions\": [{\"id\": \"deviceConfig\", \"name\": \"设置终端参数\", \"config\": false, \"inputs\": [{\"id\": \"terminalPhone\", \"name\": \"终端手机号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"fId\", \"name\": \"控制类型\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"0001-终端心跳间隔（秒）\", \"value\": \"0001\"}, {\"text\": \"0002-TCP应答超时时间（秒）\", \"value\": \"0002\"}, {\"text\": \"0003-TCP重传次数\", \"value\": \"0003\"}, {\"text\": \"0018-主服务器TCP端口\", \"value\": \"0018\"}, {\"text\": \"0020-位置汇报策略\", \"value\": \"0020\"}, {\"text\": \"0021-位置汇报方案\", \"value\": \"0021\"}, {\"text\": \"0027-休眠时汇报间隔（秒）\", \"value\": \"0027\"}, {\"text\": \"0028-紧急报警汇报间隔（秒）\", \"value\": \"0028\"}, {\"text\": \"0029-缺省时间汇报间隔（秒）\", \"value\": \"0029\"}, {\"text\": \"002C-缺省距离汇报间隔（米）\", \"value\": \"002C\"}, {\"text\": \"0030-拐点补传角度（度）\", \"value\": \"0030\"}, {\"text\": \"0031-电子围栏半径（米）\", \"value\": \"0031\"}, {\"text\": \"0055-超速阈值（km/h）\", \"value\": \"0055\"}, {\"text\": \"0056-超速持续时间（秒）\", \"value\": \"0056\"}, {\"text\": \"F109-油电状态控制\", \"value\": \"F109\"}, {\"text\": \"F110-GPS定位间隔（秒）\", \"value\": \"F110\"}, {\"text\": \"F117-休眠触发时间（分钟）\", \"value\": \"F117\"}, {\"text\": \"F161-车辆启动电压阈值（0.1V）\", \"value\": \"F161\"}, {\"text\": \"F163-网络定位间隔（秒）\", \"value\": \"F163\"}, {\"text\": \"F100-防拆报警开关\", \"value\": \"F100\"}, {\"text\": \"F102-低电报警开关\", \"value\": \"F102\"}, {\"text\": \"F103-远程升级开关\", \"value\": \"F103\"}, {\"text\": \"F105-LOG上传开关\", \"value\": \"F105\"}, {\"text\": \"F106-关机报警开关\", \"value\": \"F106\"}, {\"text\": \"F107-定位模式\", \"value\": \"F107\"}, {\"text\": \"F108-监听开关\", \"value\": \"F108\"}, {\"text\": \"F111-设备灯控制\", \"value\": \"F111\"}, {\"text\": \"F112-震动报警阈值\", \"value\": \"F112\"}, {\"text\": \"F113-运动判定速度（km/h）\", \"value\": \"F113\"}, {\"text\": \"F114-声控录音开关\", \"value\": \"F114\"}, {\"text\": \"F115-实时上传模式\", \"value\": \"F11\"}, {\"text\": \"F116-设备语言\", \"value\": \"F116\"}, {\"text\": \"F119-运动判定灵敏度\", \"value\": \"F119\"}, {\"text\": \"F121-定制定位模式\", \"value\": \"F121\"}, {\"text\": \"F141-休眠后动作\", \"value\": \"F141\"}, {\"text\": \"F142-时区设置\", \"value\": \"F142\"}, {\"text\": \"F145-MIC录音开关\", \"value\": \"F145\"}, {\"text\": \"F146-定位数据延时上传开关\", \"value\": \"F146\"}, {\"text\": \"F152-设防模式\", \"value\": \"F152\"}, {\"text\": \"F154-静止时定位上报开关\", \"value\": \"F154\"}, {\"text\": \"F155-基站/WiFi信息上报开关\", \"value\": \"F155\"}, {\"text\": \"F156-当前协议版本\", \"value\": \"F156\"}, {\"text\": \"F157-ACC上电报警开关\", \"value\": \"F157\"}, {\"text\": \"F158-LOG上报等级\", \"value\": \"F158\"}, {\"text\": \"F159-低电模式开关\", \"value\": \"F159\"}, {\"text\": \"F160-关机锁开关\", \"value\": \"F160\"}, {\"text\": \"F164-计步功能开关\", \"value\": \"F164\"}, {\"text\": \"F166-呼吸灯开关\", \"value\": \"F166\"}, {\"text\": \"F167-定位优先级\", \"value\": \"F167\"}, {\"text\": \"0010-主服务器APN\", \"value\": \"0010\"}, {\"text\": \"0011-APN用户名\", \"value\": \"0011\"}, {\"text\": \"0012-APN密码\", \"value\": \"0012\"}, {\"text\": \"0013-主服务器地址\", \"value\": \"0013\"}, {\"text\": \"0040-监控平台电话号码\", \"value\": \"0040\"}, {\"text\": \"0041-复位电话号码\", \"value\": \"0041\"}, {\"text\": \"0042-恢复出厂设置电话号码\", \"value\": \"0042\"}, {\"text\": \"0048-监听电话号码\", \"value\": \"0048\"}, {\"text\": \"0083-车牌号码\", \"value\": \"0083\"}, {\"text\": \"0084-车牌颜色\", \"value\": \"0084\"}, {\"text\": \"F115-时间/距离间隔\", \"value\": \"F115\"}, {\"text\": \"F121-定位时间/间隔\", \"value\": \"F121\"}]}}, {\"id\": \"fValue\", \"name\": \"控制值\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"output\": {}, \"description\": \"平台下发终端参数设置指令\"}, {\"id\": \"cmd\", \"name\": \"指令透传\", \"config\": false, \"inputs\": [{\"id\": \"hexCmd\", \"name\": \"透传数据（十六进制）\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"100\"}}}], \"output\": {}, \"description\": \"平台下发透传指令（0x8900），解析逻辑对应buildTransparentCmd函数\"}, {\"id\": \"sendTextMessage\", \"name\": \"文本信息下发\", \"config\": false, \"inputs\": [{\"id\": \"terminalPhone\", \"name\": \"终端手机号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"textMessage\", \"name\": \"文本信息\", \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"最长102字节，GBK编码\", \"maxLength\": \"102\"}}}, {\"id\": \"flag\", \"name\": \"标志位\", \"valueType\": {\"type\": \"int\", \"expands\": {\"desc\": \"bit0=紧急(1), bit2=显示器显示(4), bit3=TTS播读(8), bit4=广告屏显示(16)，可组合使用\"}}}], \"output\": {}, \"description\": \"平台下发文本信息指令（0x8300，JT/T 808-2013 3.9），解析逻辑对应buildTextMessageCmd函数\"}, {\"id\": \"restart\", \"name\": \"一键重启\", \"config\": false, \"inputs\": [{\"id\": \"terminalPhone\", \"name\": \"终端手机号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}], \"output\": {}}], \"modelName\": \"JT808定位终端物模型（解析对齐版）\", \"properties\": [{\"id\": \"terminalPhone\", \"mode\": \"r\", \"name\": \"终端手机号\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"regex\": \"^\\\\d{12}$\", \"maxLength\": \"12\", \"minLength\": \"12\", \"parseSource\": \"消息头BCD[6]字段，经bcdToPhone函数转义\"}}, \"description\": \"终端唯一标识，6字节BCD编码（12位纯数字，解析自消息头8-20位）\"}, {\"id\": \"terminalModel\", \"mode\": \"r\", \"name\": \"终端型号\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"20\", \"parseSource\": \"终端注册报文（0x0100）消息体，经hexToAscii函数转义\"}}, \"description\": \"终端硬件型号（20字节ASCII编码，解析自注册报文消息体18-58位）\"}, {\"id\": \"terminalId\", \"mode\": \"r\", \"name\": \"终端ID\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"7\", \"minLength\": \"7\", \"parseSource\": \"终端注册报文（0x0100）消息体，经hexToAscii函数转义\"}}, \"description\": \"终端IMEI后7位（ASCII编码，解析自注册报文消息体58-72位）\"}, {\"id\": \"manufacturerId\", \"mode\": \"r\", \"name\": \"制造商ID\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"5\", \"parseSource\": \"终端注册报文（0x0100）消息体，经hexToAscii函数转义\"}}, \"description\": \"终端制造商编码（5字节ASCII，解析自注册报文消息体8-18位）\"}, {\"id\": \"currentSpeed\", \"mode\": \"r\", \"name\": \"当前速度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"km/h\"}, \"description\": \"终端移动速度（精确到0.1km/h，解析自位置报文消息体36-40位）\"}, {\"id\": \"currentDirection\", \"mode\": \"r\", \"name\": \"行驶方向\", \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": \"359\", \"min\": \"0\", \"unit\": \"°\", \"parseSource\": \"位置报文（0x0200）方向字段（WORD），直接转十进制\"}}, \"description\": \"终端行驶方向（0-359°，解析自位置报文消息体40-44位）\"}, {\"id\": \"currentDirectionDesc\", \"mode\": \"r\", \"name\": \"方向描述\", \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"expands\": {\"parseSource\": \"基于方向角度计算（0°-22°=北，23°-67°=东北，依此类推）\"}, \"elements\": [{\"text\": \"北\", \"value\": \"北\"}, {\"text\": \"东北\", \"value\": \"东北\"}, {\"text\": \"东\", \"value\": \"东\"}, {\"text\": \"东南\", \"value\": \"东南\"}, {\"text\": \"南\", \"value\": \"南\"}, {\"text\": \"西南\", \"value\": \"西南\"}, {\"text\": \"西\", \"value\": \"西\"}, {\"text\": \"西北\", \"value\": \"西北\"}]}, \"description\": \"行驶方向的文字描述（如\\\"东北\\\"、\\\"南\\\"等，根据方向角度映射）\"}, {\"id\": \"gnssState\", \"mode\": \"r\", \"name\": \"GNSS定位状态\", \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"expands\": {\"parseSource\": \"位置报文（0x0200）状态字段（DWORD）bit1，1=定位有效\"}, \"elements\": [{\"text\": \"未定位\", \"value\": \"0\"}, {\"text\": \"已定位\", \"value\": \"1\"}]}, \"description\": \"定位有效性（解析自位置报文状态位bit1）\"}, {\"id\": \"accState\", \"mode\": \"r\", \"name\": \"ACC状态\", \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"expands\": {\"parseSource\": \"位置报文（0x0200）状态字段（DWORD）bit0，1=ACC开\"}, \"elements\": [{\"text\": \"关闭\", \"value\": \"0\"}, {\"text\": \"开启\", \"value\": \"1\"}]}, \"description\": \"车辆ACC开关状态（解析自位置报文状态位bit0）\"}, {\"id\": \"drivingState\", \"mode\": \"r\", \"name\": \"行驶状态\", \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"expands\": {\"parseSource\": \"位置报文（0x0200）状态字段（DWORD）bit22，1=行驶中\"}, \"elements\": [{\"text\": \"停止\", \"value\": \"0\"}, {\"text\": \"行驶\", \"value\": \"1\"}]}, \"description\": \"终端行驶状态（解析自位置报文状态位bit22）\"}, {\"id\": \"activeAlarms\", \"mode\": \"r\", \"name\": \"当前激活告警\", \"source\": \"device\", \"valueType\": {\"type\": \"array\", \"expands\": {\"parseSource\": \"位置报文（0x0200）报警标志字段（DWORD），按位解析告警类型\", \"validAlarms\": [\"紧急报警\", \"超速告警\", \"疲劳驾驶告警\", \"GNSS天线未接告警\", \"GNSS天线短路告警\", \"主电源欠压告警\", \"主电源掉电告警\"]}, \"elements\": {\"type\": \"string\"}}, \"description\": \"终端当前未解除的告警列表（解析自位置报文报警标志位）\"}, {\"id\": \"registerTime\", \"mode\": \"r\", \"name\": \"注册时间\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"format\": \"yyyy-MM-dd HH:mm:ss\", \"parseSource\": \"终端注册报文（0x0100）解析成功时的系统时间\"}}, \"description\": \"终端首次注册上线时间（解析自注册报文解析时的系统时间）\"}, {\"id\": \"lastHeartbeatTime\", \"mode\": \"r\", \"name\": \"最后心跳时间\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"format\": \"yyyy-MM-dd HH:mm:ss\", \"parseSource\": \"终端心跳报文（0x0002）解析成功时的系统时间\"}}, \"description\": \"终端最后一次心跳上报时间（解析自心跳报文解析时的系统时间）\"}, {\"id\": \"mileage\", \"mode\": \"r\", \"name\": \"里程\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"km\", \"expands\": {\"parseSource\": \"位置报文附加信息ID 0x01，原始值单位0.1km，需除以10转换为km\"}}, \"description\": \"车辆总里程（单位：km，从附加信息ID 0x01解析，原始数据为0.1km单位，如100表示10km）\"}, {\"id\": \"fuel\", \"mode\": \"r\", \"name\": \"油量\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"L\"}, \"description\": \"车辆当前油量（从附加信息ID 0x02解析）\"}, {\"id\": \"recorderSpeed\", \"mode\": \"r\", \"name\": \"行驶记录仪速度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"km/h\"}, \"description\": \"行驶记录仪记录的车速（从附加信息ID 0x03解析）\"}, {\"id\": \"signalStrength\", \"mode\": \"r\", \"name\": \"信号强度\", \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": \"255\", \"min\": \"0\", \"parseSource\": \"位置报文附加信息ID 0x30，BYTE类型\"}}, \"description\": \"无线通信网络信号强度（从附加信息ID 0x30解析）\"}, {\"id\": \"gnssCount\", \"mode\": \"r\", \"name\": \"GNSS定位卫星数\", \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": \"255\", \"min\": \"0\", \"parseSource\": \"位置报文附加信息ID 0x31，BYTE类型\"}}, \"description\": \"GNSS定位使用的卫星数量（从附加信息ID 0x31解析）\"}, {\"id\": \"altitude\", \"mode\": \"r\", \"name\": \"海拔高度\", \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"expands\": {\"unit\": \"m\", \"parseSource\": \"位置报文（0x0200/0x0704）高程字段（WORD），直接转十进制\"}}, \"description\": \"当前位置的海拔高度（解析自位置报文消息体32-36位）\"}, {\"id\": \"locationInfo\", \"mode\": \"r\", \"name\": \"位置信息组合\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"format\": \"经度#纬度#方向#速度#高度\", \"parseSource\": \"将经纬度、方向、速度、高度拼接成一个字段\"}}, \"description\": \"将经纬度、方向、速度、高度拼接成一个字段，格式为：经度#纬度#方向#速度#高度\"}, {\"id\": \"coordinates\", \"mode\": \"r\", \"name\": \"经纬度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"geoPoint\"}}, {\"id\": \"batteryPercent\", \"mode\": \"r\", \"name\": \"电池电量\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"%\"}, \"description\": \"终端电池电量百分比（0-100%，解析自0x0210报文消息体起始字节0\"}], \"manufacturer\": \"卓比物联\"}', '2025-10-14 23:32:46', '0', 0, NULL, '2025-11-19 14:40:28', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (301, 'ssss', 'ssss', 'ssss', 'uqlsDsWA6BSd', 'mqtt', '验证(beta)', '5b55bfff158e4cc797a439c698766e5e', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'modbus', NULL, '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [], \"properties\": [{\"id\": \"sss\", \"mode\": \"rw\", \"name\": \"ssss\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"次\"}}]}', '2025-10-15 13:25:36', '0', 0, NULL, '2025-11-26 17:44:42', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (302, '1', '1', '1', 'so6RiFwyYDiI', 'tcp', '验证(beta)', '8abb8c57dc17487fb818a3c37e2993e2', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'modbus', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-10-15 16:39:57', '0', 0, NULL, '2025-11-19 14:40:29', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (303, 'test', 'test', 'test', 'dL8h4vL3h5N3', 'tcp', '验证(beta)', '98bbe2980274413c80233e969282509c', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'modbus', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-10-16 08:49:17', '0', 0, NULL, '2025-11-19 14:40:29', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (500, 'Unknow_001', 'Unknow', 'MQTT_X_Dev_Tester_001', 'JSSXHivW8pz8', 'mqtt', '验证(beta)', 'cc2776dbfe99489abc5d5f9ea9fd7590', '{\"customField\":[]}', '100100', '{\"offlineThreshold\":1,\"requirePayload\":\"true\",\"isGps\":\"false\",\"saveFunctionParam\":\"true\",\"requireUpShadow\":\"true\",\"logMaxStorage\":7,\"allowInsert\":\"true\"}', '', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'MQTT', '', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"higher_temp\", \"name\": \"高温预警\", \"config\": false, \"expands\": {\"level\": \"urgent\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [{\"id\": \"coolDown\", \"name\": \"降温\", \"config\": false, \"inputs\": [{\"id\": \"waterLevel\", \"name\": \"浇水量\", \"valueType\": {\"type\": \"float\", \"unit\": \"cm³\", \"precision\": \"2\"}}], \"output\": {}, \"description\": \"水冷降温\"}], \"properties\": [{\"id\": \"temperture\", \"mode\": \"r\", \"name\": \"外壳温度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"℃\"}, \"description\": \"设备外壳温度\"}]}', '2025-09-05 17:48:12', '0', 0, NULL, '2025-11-19 14:40:29', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (526, 'HTTP_WS_CZ001', '格林物联', '智能插座', '681c0775c2dc427d0480ab5f', 'mqtt', '验证(beta)', '8bccf5291e5b4120b645863c328eafe1', '{\"customField\":[]}', NULL, '{\"isGps\":false,\"saveFunctionParam\":true,\"allowInsert\":true}', 'univ_mqtt_server', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', '{\"properties\":[{\"id\":\"ecl\",\"maxStorage\":\"999\"},{\"id\":\"switchStatus\",\"maxStorage\":\"999\"},{\"id\":\"battery\",\"maxStorage\":\"999\"},{\"id\":\"csq\",\"maxStorage\":\"999\"}],\"event\":[{\"id\":\"powerOffAlarm\",\"maxStorage\":\"999\"},{\"id\":\"powerOnRestore\",\"maxStorage\":\"999\"},{\"id\":\"lowBatteryAlarm\",\"maxStorage\":\"999\"},{\"id\":\"batteryRestore\",\"maxStorage\":\"999\"}]}', 'NB-IoT', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/liuliang.png\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"onOffline\", \"name\": \"上下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"powerOffAlarm\", \"name\": \"断电报警\", \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"你猜\"}, {\"id\": \"powerOnRestore\", \"name\": \"恢复通电\", \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"lowBatteryAlarm\", \"name\": \"电池低电量报警\", \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"batteryRestore\", \"name\": \"电池恢复正常\", \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [{\"id\": \"switchControl\", \"name\": \"开关控制\", \"inputs\": [{\"id\": \"open\", \"name\": \"开关控制\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"0\"}, {\"text\": \"关\", \"value\": \"1\"}]}, \"description\": \"0-开，1-关\"}], \"output\": {}, \"description\": \"你猜\"}, {\"id\": \"newkai\", \"name\": \"新开\", \"config\": false, \"inputs\": [{\"id\": \"docs\", \"name\": \"新开\", \"valueType\": {\"max\": \"99\", \"min\": \"0\", \"type\": \"int\", \"unit\": \"N.m\"}}], \"output\": {}}], \"properties\": [{\"id\": \"ecl\", \"mode\": \"r\", \"name\": \"无线信号覆盖等级\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"Hz\"}, \"description\": \"你猜\"}, {\"id\": \"switchStatus\", \"mode\": \"r\", \"name\": \"开关状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"0\"}, {\"text\": \"关\", \"value\": \"1\"}]}, \"description\": \"开关状态\"}, {\"id\": \"battery\", \"mode\": \"r\", \"name\": \"电池电压\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"kV\"}}, {\"id\": \"csq\", \"mode\": \"r\", \"name\": \"信号\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"KΩ\"}, \"description\": \"信号值20-31，超出无效\"}]}', '2025-06-26 16:57:05', '0', 0, '', '2025-11-19 14:40:29', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (527, 'V587', '绿信科技', '全能监测面板', '685f795c753809d9355d2212', 'http', '验证(beta)', NULL, '{\"customField\":[]}', '100100', '{\"thirdDownSupport\":true,\"thirdDownUrl\":\"http://nas.fil.asia:81/test/echo\"}', '685f795c753809d9355d2212', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'NB-IoT', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/hujiao.jpg\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"fire\", \"name\": \"着火了\", \"config\": false, \"expands\": {\"level\": \"urgent\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"一级紧急\"}], \"functions\": [{\"id\": \"fireInNull\", \"name\": \"灭火\", \"config\": false, \"inputs\": [{\"id\": \"water\", \"name\": \"水\", \"valueType\": {\"max\": \"50\", \"min\": \"1\", \"type\": \"int\", \"unit\": \"t\"}}, {\"id\": \"feng\", \"name\": \"吹风\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"中级\", \"value\": \"middle\"}, {\"text\": \"轻\", \"value\": \"low\"}, {\"text\": \"疯狂\", \"value\": \"crazy\"}]}}], \"output\": {}, \"description\": \"灭火的描述\"}], \"properties\": [{\"id\": \"csq\", \"mode\": \"r\", \"name\": \"信号值\", \"config\": false, \"valueType\": {\"type\": \"int\"}, \"description\": \"取值范围0-31\"}, {\"id\": \"battery\", \"mode\": \"r\", \"name\": \"🔋电量\", \"config\": false, \"valueType\": {\"type\": \"double\", \"unit\": \"%\"}}]}', '2025-06-28 13:10:52', '0', 0, NULL, '2025-11-21 18:05:39', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (528, 'DP_31', '大豆物联', '小灯泡', '6863896d75386b5c1e7e908c', 'tcp', '验证(beta)', NULL, '{\"customField\":[]}', '100100', '{\"offlineThreshold\":300,\"requirePayload\":\"false\",\"isGps\":\"false\",\"saveFunctionParam\":\"true\",\"requireUpShadow\":\"true\",\"allowInsert\":\"true\"}', 'univ_mqtt_client', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'MQTT', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/dianbiao.jpg\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"onOffline\", \"name\": \"上下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"powerOffAlarm\", \"name\": \"断电报警\", \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"你猜\"}, {\"id\": \"powerOnRestore\", \"name\": \"恢复通电\", \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"lowBatteryAlarm\", \"name\": \"电池低电量报警\", \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"batteryRestore\", \"name\": \"电池恢复正常\", \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [{\"id\": \"switchControl\", \"name\": \"开关控制\", \"inputs\": [{\"id\": \"open\", \"name\": \"开关控制\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"0\"}, {\"text\": \"关\", \"value\": \"1\"}]}, \"description\": \"0-开，1-关\"}], \"output\": {}, \"description\": \"你猜\"}, {\"id\": \"newkai\", \"name\": \"新开\", \"config\": false, \"inputs\": [{\"id\": \"docs\", \"name\": \"新开\", \"valueType\": {\"type\": \"int\"}}], \"output\": {}}], \"properties\": [{\"id\": \"ecl\", \"mode\": \"r\", \"name\": \"无线信号覆盖等级\", \"valueType\": {\"type\": \"int\"}, \"description\": \"你猜\"}, {\"id\": \"switchStatus\", \"mode\": \"r\", \"name\": \"开关状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"0\"}, {\"text\": \"关\", \"value\": \"1\"}]}, \"description\": \"开关状态\"}, {\"id\": \"battery\", \"mode\": \"r\", \"name\": \"电池电压\", \"valueType\": {\"type\": \"string\", \"unit\": \"V\"}}, {\"id\": \"csq\", \"mode\": \"r\", \"name\": \"信号\", \"config\": false, \"valueType\": {\"type\": \"int\"}, \"description\": \"信号值20-31\"}]}', '2025-07-01 15:08:30', '0', 0, NULL, '2025-11-19 14:40:29', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (530, '三相导轨表XA2005-4G', '人行', '三相导轨表XA2005（4G）', 'xsdsdasds', 'sniTcp', '验证(beta)', NULL, '{\"customField\":[]}', '100100', '{\"requirePayload\":true,\"requireUpShadow\":true,\"allowInsert\":true,\"alwaysPreDecode\":true,\"productKey\":\"67c69f2a6b0001a9b22a6c9a\",\"ssl\":false,\"onlyCache\":false,\"parserConfiguration\":{\"byteOrderLittle\":true,\"failFast\":true,\"fixedLength\":6},\"parserType\":\"DIRECT\",\"port\":55598,\"preStore\":false,\"host\":\"0.0.0.0\",\"decodeType\":\"HEX\",\"byteOrderLittle\":\"true\",\"failFast\":\"true\",\"fixedLength\":\"\",\"enabled\":true,\"offlineThreshold\":\"48\",\"isGps\":false,\"saveFunctionParam\":true,\"logMaxStorage\":\"300\",\"cert\":\"\",\"key\":\"\",\"rootCa\":\"\",\"allIdleTime\":\"\",\"readerIdleTime\":\"\",\"writerIdleTime\":\"\",\"readTimeout\":\"\",\"sendTimeout\":\"\",\"idleInterval\":\"\",\"delimited\":\"\",\"lineMaxLength\":\"\",\"delimitedMaxlength\":\"\",\"maxFrameLength\":\"\",\"lengthFieldOffset\":\"\",\"lengthFieldLength\":\"\",\"lengthAdjustment\":\"\",\"initialBytesToStrip\":\"\",\"sslKey\":\"\"}', 'abcxassxnanahsman', 'DEVICE', NULL, 'huanbao,yiliao,yanglao', NULL, 'demo', NULL, 'mysql', '{\"properties\":[{\"id\":\"openState\",\"maxStorage\":\"200\"},{\"id\":\"meterData\",\"maxStorage\":\"500\"}],\"event\":[]}', '4G LTE Cat.1', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/liuliang.png\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"shortfallAlarm\", \"name\": \"读数倒流告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [{\"id\": \"meterRead\", \"name\": \"获取用电量\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"电表表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}], \"output\": {}}, {\"id\": \"switchOnOff\", \"name\": \"开关阀\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"valveOn\", \"name\": \"开关阀操作\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"分闸（断电）\", \"value\": \"0\"}, {\"text\": \"合闸（来电）\", \"value\": \"1\"}]}}], \"output\": {}}], \"properties\": [{\"id\": \"openState\", \"mode\": \"rw\", \"name\": \"当前的通/断电状态\", \"config\": false, \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"断电\", \"value\": \"0\"}, {\"text\": \"通电\", \"value\": \"1\"}]}}, {\"id\": \"meterData\", \"mode\": \"r\", \"name\": \"电表读数\", \"config\": false, \"valueType\": {\"type\": \"float\", \"unit\": \"kW·h\"}}, {\"id\": \"meterPrice\", \"mode\": \"r\", \"name\": \"电价\", \"config\": false, \"valueType\": {\"type\": \"string\"}, \"description\": \"单位 元/千瓦时\"}, {\"id\": \"voltage\", \"mode\": \"r\", \"name\": \"电压\", \"config\": false, \"valueType\": {\"type\": \"string\", \"unit\": \"V\"}}, {\"id\": \"current\", \"mode\": \"r\", \"name\": \"电流\", \"config\": false, \"valueType\": {\"type\": \"string\", \"unit\": \"A\"}}, {\"id\": \"power\", \"mode\": \"r\", \"name\": \"功率\", \"config\": false, \"valueType\": {\"type\": \"string\", \"unit\": \"W\"}}, {\"id\": \"purchases\", \"mode\": \"r\", \"name\": \"购电次数\", \"config\": false, \"valueType\": {\"type\": \"string\"}}, {\"id\": \"warningPower\", \"mode\": \"r\", \"name\": \"预警电量\", \"config\": false, \"valueType\": {\"type\": \"string\", \"unit\": \"kW·h\"}}, {\"id\": \"remainingAmount\", \"mode\": \"r\", \"name\": \"剩余金额\", \"config\": false, \"valueType\": {\"type\": \"string\"}, \"description\": \"单位 元\"}, {\"id\": \"overVoltageLimit\", \"mode\": \"rw\", \"name\": \"电压过载限值\", \"config\": false, \"valueType\": {\"type\": \"float\", \"unit\": \"V\"}, \"description\": \"超过此电压，电表会立即分闸，精确到1位小数点\"}, {\"id\": \"overCurrrentLimit\", \"mode\": \"rw\", \"name\": \"电流过载限值\", \"config\": false, \"valueType\": {\"type\": \"float\", \"unit\": \"A\"}, \"description\": \"精确到毫安，3个小数点。超过此限值，立即分闸\"}, {\"id\": \"meterNo\", \"mode\": \"r\", \"name\": \"电表表号\", \"config\": false, \"valueType\": {\"type\": \"string\"}}, {\"id\": \"lastMeterData\", \"mode\": \"r\", \"name\": \"上次电表读数\", \"config\": false, \"valueType\": {\"type\": \"float\", \"unit\": \"kW·h\"}}, {\"id\": \"shortfallData\", \"mode\": \"r\", \"name\": \"读数差额\", \"config\": false, \"valueType\": {\"type\": \"float\"}}, {\"id\": \"csq\", \"mode\": \"r\", \"name\": \"信号强度CSQ\", \"config\": false, \"valueType\": {\"type\": \"int\"}}, {\"id\": \"iccid\", \"mode\": \"r\", \"name\": \"物联网卡ICCID\", \"config\": false, \"valueType\": {\"type\": \"string\"}}, {\"id\": \"signalLevel\", \"mode\": \"r\", \"name\": \"信号强度等级\", \"config\": false, \"valueType\": {\"type\": \"string\"}}, {}]}', '2025-03-04 14:35:23', '0', 0, NULL, '2025-11-19 14:40:29', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (531, 'YG_2025', 'universal', '小蘑菇插座', '68831a1f38fc106a8dac3c13', 'tcp', '验证(beta)', '8bccf5291e5b4120b645863c328eafe1', '{\"customField\":[]}', '100100', '{\"allIdleTime\":0,\"allowInsert\":false,\"alwaysPreDecode\":true,\"byteOrderLittle\":true,\"cert\":\"\",\"decoderType\":\"HEX\",\"delimited\":\"\",\"delimitedMaxlength\":\"\",\"enabled\":true,\"failFast\":true,\"fixedLength\":\"\",\"host\":\"0.0.0.0\",\"idleInterval\":0,\"initialBytesToStrip\":\"\",\"isGps\":false,\"key\":\"\",\"lengthAdjustment\":\"\",\"lengthFieldLength\":\"\",\"lengthFieldOffset\":\"\",\"lineMaxLength\":\"\",\"logMaxStorage\":\"300\",\"maxFrameLength\":\"\",\"offlineThreshold\":\"0.5\",\"onlyCache\":false,\"parserConfiguration\":{\"byteOrderLittle\":true,\"failFast\":true,\"fixedLength\":6},\"parserType\":\"DIRECT\",\"preStore\":false,\"readerIdleTime\":360,\"readTimeout\":0,\"requirePayload\":true,\"requireUpShadow\":true,\"rootCa\":\"\",\"saveFunctionParam\":true,\"sendTimeout\":0,\"port\":11990,\"ssl\":false,\"writerIdleTime\":0,\"decodeType\":\"HEX\",\"encoderType\":\"STRING\"}', '68831a1f38fc106a8dac3c13', 'DEVICE', NULL, NULL, NULL, 'nexiot', NULL, 'mysql', NULL, '4G LTE Cat.1', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/dianbiao.jpg\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"overload\", \"name\": \"过载报警\", \"valueType\": {\"type\": \"int\", \"unit\": \"W\"}}, {\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [{\"id\": \"switch\", \"name\": \"开关控制\", \"config\": false, \"inputs\": [{\"id\": \"state\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"01\"}, {\"text\": \"关\", \"value\": \"00\"}]}}, {\"id\": \"deviceId\", \"name\": \"设备编号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"output\": {}}], \"properties\": [{\"id\": \"powerState\", \"mode\": \"rw\", \"name\": \"开关状态\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"01\"}, {\"text\": \"关\", \"value\": \"00\"}]}}, {\"id\": \"current\", \"mode\": \"r\", \"name\": \"电流\", \"valueType\": {\"type\": \"float\", \"unit\": \"A\"}}, {\"id\": \"voltage\", \"mode\": \"r\", \"name\": \"电压\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\"}}, {\"id\": \"power\", \"mode\": \"r\", \"name\": \"功率\", \"valueType\": {\"type\": \"int\", \"unit\": \"W\"}}]}', '2025-07-25 13:46:07', '0', 0, NULL, '2025-11-22 18:41:20', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (532, 'KG_2021', '文档', '开关面板-TCP', '38fc80e', 'tcp', '验证(beta)', '4b683f8bd7c44653a45e9de792251f63', '{\"customField\":[]}', '100100', '{\"preStore\":\"true\",\"enabled\":true,\"alwaysPreDecode\":\"true\",\"ssl\":false,\"onlyCache\":\"false\",\"byteOrderLittle\":\"true\",\"failFast\":\"true\",\"encoderType\":\"HEX\",\"parserType\":\"DIRECT\",\"decodeType\":\"STRING\",\"isGps\":\"false\",\"saveFunctionParam\":\"true\",\"allowInsert\":\"true\",\"offlineThreshold\":7,\"readTimeout\":\"30\",\"decoderType\":\"HEX\",\"requirePayload\":\"\",\"requireUpShadow\":\"\",\"host\":\"0.0.0.0\",\"port\":12344}', '38fc80e', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, '4G LTE Cat.1', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/shuibiao.jpeg\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"overload\", \"name\": \"过载报警\", \"valueType\": {\"type\": \"int\", \"unit\": \"W\"}}, {\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [{\"id\": \"switch\", \"name\": \"开关控制\", \"config\": false, \"inputs\": [{\"id\": \"state\", \"name\": \"控制状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"01\"}, {\"text\": \"关\", \"value\": \"00\"}]}}, {\"id\": \"deviceId\", \"name\": \"设备编号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"output\": {}}], \"properties\": [{\"id\": \"powerState\", \"mode\": \"rw\", \"name\": \"开关状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"01\"}, {\"text\": \"关\", \"value\": \"00\"}]}}, {\"id\": \"current\", \"mode\": \"r\", \"name\": \"电流\", \"valueType\": {\"type\": \"float\", \"unit\": \"A\"}}, {\"id\": \"voltage\", \"mode\": \"r\", \"name\": \"电压\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\"}}, {\"id\": \"power\", \"mode\": \"r\", \"name\": \"功率\", \"valueType\": {\"type\": \"int\", \"unit\": \"W\"}}]}', '2025-07-28 21:15:43', '0', 0, NULL, '2025-11-19 14:40:28', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (533, 'vite_mqtt_2025', 'vite', '开关面板-MQTT', '688cd92fdb9e0158872f4aa9', 'mqtt', '验证(beta)', 'b2e71bfb1bf443eb88878c0827652a55', '{\"customField\":[]}', '100100', '{\"requirePayload\":\"\",\"isGps\":\"\",\"saveFunctionParam\":\"\",\"requireUpShadow\":\"\",\"allowInsert\":\"true\",\"logMaxStorage\":120,\"downTopic\":\"$thing/688cd92fdb9e0158872f4aa9/etc\"}', '68b10bfe8c2258015bfdb704', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', '{\"properties\":[{\"id\":\"voltage\",\"maxStorage\":\"9999\"},{\"id\":\"powerState\",\"maxStorage\":\"9999\"},{\"id\":\"current\",\"maxStorage\":\"9999\"},{\"id\":\"power\",\"maxStorage\":\"9999\"}],\"event\":[{\"id\":\"overload\",\"maxStorage\":\"999\"}]}', 'MQTT', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/dianbiao.jpg\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"overload\", \"name\": \"过载报警\", \"valueType\": {\"type\": \"int\", \"unit\": \"W\"}}, {\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [{\"id\": \"switch\", \"name\": \"开关控制\", \"config\": false, \"inputs\": [{\"id\": \"state\", \"name\": \"控制状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"1\"}, {\"text\": \"关\", \"value\": \"0\"}]}}, {\"id\": \"deviceId\", \"name\": \"设备编号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"output\": {}}], \"properties\": [{\"id\": \"powerState\", \"mode\": \"rw\", \"name\": \"开关状态\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"1\"}, {\"text\": \"关\", \"value\": \"0\"}]}}, {\"id\": \"current\", \"mode\": \"r\", \"name\": \"电流\", \"valueType\": {\"type\": \"float\", \"unit\": \"A\"}}, {\"id\": \"voltage\", \"mode\": \"r\", \"name\": \"电压\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\"}}, {\"id\": \"power\", \"mode\": \"r\", \"name\": \"功率\", \"valueType\": {\"type\": \"int\", \"unit\": \"W\"}}, {\"id\": \"asdfsadffff\", \"mode\": \"rw\", \"name\": \"asd\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"array\"}}]}', '2025-08-01 23:11:43', '0', 0, NULL, '2025-11-19 14:40:29', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (534, 'HTTP_WS_CZ001', '格林物联', '智能插座', 'abcxzxzxzxs', 'mqtt', NULL, '4e3d75bd43054ef2a9b7fb0b29bf6550', '{\"customField\":[]}', NULL, '{\"isGps\":false,\"saveFunctionParam\":true,\"allowInsert\":true}', 'univ_mqtt_server', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', '{\"properties\":[{\"id\":\"ecl\",\"maxStorage\":\"999\"},{\"id\":\"switchStatus\",\"maxStorage\":\"999\"},{\"id\":\"battery\",\"maxStorage\":\"999\"},{\"id\":\"csq\",\"maxStorage\":\"999\"}],\"event\":[{\"id\":\"powerOffAlarm\",\"maxStorage\":\"999\"},{\"id\":\"powerOnRestore\",\"maxStorage\":\"999\"},{\"id\":\"lowBatteryAlarm\",\"maxStorage\":\"999\"},{\"id\":\"batteryRestore\",\"maxStorage\":\"999\"}]}', 'NB-IoT', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/shuibiao.jpeg\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"onOffline\", \"name\": \"上下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"powerOffAlarm\", \"name\": \"断电报警\", \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"你猜\"}, {\"id\": \"powerOnRestore\", \"name\": \"恢复通电\", \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"lowBatteryAlarm\", \"name\": \"电池低电量报警\", \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"batteryRestore\", \"name\": \"电池恢复正常\", \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [{\"id\": \"switchControl\", \"name\": \"开关控制\", \"inputs\": [{\"id\": \"open\", \"name\": \"开关控制\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"0\"}, {\"text\": \"关\", \"value\": \"1\"}]}, \"description\": \"0-开，1-关\"}], \"output\": {}, \"description\": \"你猜\"}, {\"id\": \"newkai\", \"name\": \"新开\", \"config\": false, \"inputs\": [{\"id\": \"docs\", \"name\": \"新开\", \"valueType\": {\"max\": \"99\", \"min\": \"0\", \"type\": \"int\", \"unit\": \"N.m\"}}], \"output\": {}}], \"properties\": [{\"id\": \"ecl\", \"mode\": \"r\", \"name\": \"无线信号覆盖等级\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"Hz\"}, \"description\": \"你猜\"}, {\"id\": \"switchStatus\", \"mode\": \"r\", \"name\": \"开关状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"0\"}, {\"text\": \"关\", \"value\": \"1\"}]}, \"description\": \"开关状态\"}, {\"id\": \"battery\", \"mode\": \"r\", \"name\": \"电池电压\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"kV\"}}, {\"id\": \"csq\", \"mode\": \"r\", \"name\": \"信号\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"KΩ\"}, \"description\": \"信号值20-31，超出无效\"}]}', '2025-08-05 22:53:06', NULL, 0, '', '2025-11-19 14:40:29', NULL);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (535, 'XYX-001-L', '星韵鑫', '拍照抄表器', '68975d7e6b9414067b209199', 'ctaiot', '拍照抄表器', NULL, NULL, '100100', '{\"masterKey\":\"1550a607ab394785b36117cbca608b8e\",\"productId\":17242608,\"payloadFormat\":0,\"ttl\":86400,\"operator\":\"univ\",\"dataType\":2,\"downParaType\":0,\"requirePayload\":true,\"powerModel\":0,\"lwm2mEdrxTime\":null}', NULL, 'DEVICE', NULL, NULL, NULL, 'nexiot', NULL, 'mysql', NULL, 'NB-iot', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/yangan.png\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [], \"properties\": [{\"id\": \"iccid\", \"mode\": \"r\", \"name\": \"ICCID\", \"valueType\": {\"type\": \"string\"}, \"description\": \"SIM卡ICCID\"}]}', '2025-08-09 22:38:54', '0', 0, '{\"ctwingRequestData\":{\"ttl\":0,\"dataType\":0,\"nodeType\":0,\"accessType\":0,\"networkType\":0,\"productProtocol\":0,\"dataEncryption\":0,\"authType\":0,\"endpointFormat\":0,\"tupIsThrough\":0,\"payloadFormat\":0,\"powerModel\":0,\"productId\":\"XYX-001-L\",\"pageNow\":0,\"pageSize\":0,\"publicProductId\":99015579},\"creatorId\":\"iot\",\"companyNo\":\"深圳市星韵鑫科技有限公司\",\"classifiedId\":\"100100\",\"classifiedName\":\"拍照抄表器\",\"data\":{\"productId\":\"XYX-001-L\",\"publicProductId\":99015579},\"cmd\":\"PUBPRO_ADD\",\"deviceReuse\":false,\"isAdmin\":false,\"allowInsert\":false}', '2025-11-23 20:36:11', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (536, 'DTU_2025_univ', '四喜', '网关DTU(面板)', 'lB0Tl1rgf8uz', 'mqtt', '验证(beta)', 'd239fdd5660f4e4893655182fc20c11d', '{\"customField\":[]}', '100100', '{\"allowInsert\":true,\"downTopic\":\"$third/down/tp/{{deviceId}}\"}', '68b10bfe8c2258015bfdb704', 'GATEWAY', NULL, NULL, NULL, 'nexiot', NULL, 'mysql', NULL, 'Wi-Fi', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/dianbiao.jpg\",\"detail\":\"\"}', '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-08-10 12:31:16', '0', 0, NULL, '2025-11-26 22:12:01', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (538, 'SX_Blue', '四喜', 'DTU(面板)子设备', 'lipSSVUj9XLt', 'mqtt', '验证(beta)', '0a0a1c19446749dc91d19c1c44aa405e', '{\"customField\":[]}', '100100', NULL, NULL, 'GATEWAY_SUB_DEVICE', 'lB0Tl1rgf8uz', 'yanglao,yiliao', NULL, 'demo', NULL, 'mysql', NULL, '有线', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/shuibiao.jpeg\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [{\"id\": \"sets\", \"name\": \"sa\", \"config\": true, \"inputs\": [{\"id\": \"imei\", \"name\": \"NB_IMEI\", \"valueType\": {\"type\": \"string\"}, \"description\": \"NB部分设备功能调用需要(公共字段)\"}], \"output\": {}}], \"properties\": []}', '2025-08-10 12:40:24', '0', 0, NULL, '2025-11-19 14:40:29', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (539, 'DTU_Blue', '东信', 'DTU蓝牙电表', '8qlWaAd8Rz2B', 'mqtt', '验证(beta)', 'a613a63b62834d29b00b7c8f7b806c6e', '{\"customField\":[]}', '100100', '{\"ssl\":true,\"sslKey\":\"6882199a5074ee4ca05cd440\"}', '', 'GATEWAY', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, '有线', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/yangan.png\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [], \"properties\": [{\"id\": \"aaa\", \"mode\": \"r\", \"name\": \"1\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"array\"}}]}', '2025-08-10 15:58:42', '0', 0, NULL, '2025-11-19 14:40:29', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (550, 'noBug01', 'UDP', 'UDP验证', 'jJi6xIj0sZfc', 'udp', '验证(beta)', '3eda09af1cc341feaeb6c7e996fc3a22', '{\"customField\":[]}', '100100', '{\"requirePayload\":\"\",\"isGps\":\"\",\"saveFunctionParam\":\"\",\"requireUpShadow\":\"\",\"requireDownShadow\":\"\",\"allowInsert\":true,\"preStore\":\"\",\"alwaysPreDecode\":\"\",\"enabled\":true,\"onlyCache\":\"\",\"encoderType\":\"HEX\",\"decoderType\":\"HEX\",\"parserType\":\"PROTOCOL_645\",\"byteOrderLittle\":\"\",\"failFast\":\"\"}', 'jJi6xIj0sZfc', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'MQTT', NULL, '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"shortfallAlarm\", \"name\": \"读数倒流告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"powerOverAlarm\", \"name\": \"功率超限告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\"}}, {\"id\": \"voltageOverAlarm\", \"name\": \"电压超限告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\"}}, {\"id\": \"currentOverAlarm\", \"name\": \"电流超限告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\"}}, {\"id\": \"lowBalanceAlarm\", \"name\": \"余额不足告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\"}}], \"functions\": [{\"id\": \"meterRead\", \"name\": \"获取用电量\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"电表表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}], \"output\": {\"id\": \"totalEnergy\", \"name\": \"总用电量\", \"valueType\": {\"type\": \"float\", \"unit\": \"kW·h\"}}}, {\"id\": \"switchOnOff\", \"name\": \"开关阀\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"valveOn\", \"name\": \"开关阀操作\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"分闸（断电）\", \"value\": \"0\"}, {\"text\": \"合闸（来电）\", \"value\": \"1\"}]}}], \"output\": {}}, {\"id\": \"purchase\", \"name\": \"远程购电\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"energy\", \"name\": \"购电量\", \"valueType\": {\"type\": \"float\", \"unit\": \"kW·h\"}}, {\"id\": \"purchaseId\", \"name\": \"购电次数\", \"valueType\": {\"type\": \"int\"}}], \"output\": {}}, {\"id\": \"setParameters\", \"name\": \"设置运行参数\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"overVoltage\", \"name\": \"电压过载限值\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\"}}, {\"id\": \"overCurrent\", \"name\": \"电流过载限值\", \"valueType\": {\"type\": \"float\", \"unit\": \"A\"}}, {\"id\": \"lowBalance\", \"name\": \"余额不足阈值\", \"valueType\": {\"type\": \"float\", \"unit\": \"元\"}}], \"output\": {}}, {\"id\": \"setEnergyValue\", \"name\": \"矫正剩余电量和总电量\", \"config\": false, \"inputs\": [{\"id\": \"remainEnergy\", \"name\": \"剩余电量\", \"valueType\": {\"type\": \"double\", \"precision\": \"2\"}}, {\"id\": \"totalEnergy\", \"name\": \"总电量\", \"valueType\": {\"type\": \"float\"}}, {\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}], \"output\": {}, \"description\": \"更改当前剩余电量和使用电量\"}, {\"id\": \"setRemote4GServerAddr\", \"name\": \"修改4G服务器地址\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"host\", \"name\": \"服务器地址\", \"valueType\": {\"type\": \"string\"}, \"description\": \"支持IP和域名\"}, {\"id\": \"port\", \"name\": \"服务器端口\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"sign\", \"name\": \"安全校验\", \"valueType\": {\"type\": \"string\"}, \"description\": \"安全起见，防止变更\"}], \"output\": {}, \"description\": \"注意：修改后无法再收到数据\"}, {\"id\": \"cmd\", \"name\": \"指令透传\", \"config\": false, \"inputs\": [{\"id\": \"hex\", \"name\": \"十六进制值\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"output\": {}}, {\"id\": \"restart\", \"name\": \"重启\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"output\": {}}, {\"id\": \"deductEnergy\", \"name\": \"扣除电量\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"energy\", \"name\": \"扣除剩余电量\", \"valueType\": {\"type\": \"float\"}}, {\"id\": \"purchaseId\", \"name\": \"购电次数\", \"valueType\": {\"type\": \"int\"}}], \"output\": {}, \"description\": \"\"}, {\"id\": \"upEvent\", \"name\": \"上报事件\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}], \"output\": {}, \"description\": \"让电表开启一个上报事件。\"}], \"properties\": [{\"id\": \"openState\", \"mode\": \"rw\", \"name\": \"通断电状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"断电\", \"value\": \"0\"}, {\"text\": \"通电\", \"value\": \"1\"}]}}, {\"id\": \"totalEnergy\", \"mode\": \"r\", \"name\": \"总用电量\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"kW·h\"}, \"description\": \"总用电量\"}, {\"id\": \"remainEnergy\", \"mode\": \"r\", \"name\": \"剩余电量\", \"valueType\": {\"type\": \"float\", \"unit\": \"kW·h\", \"expands\": {\"precision\": \"3\"}}}, {\"id\": \"voltage\", \"mode\": \"r\", \"name\": \"电压\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\", \"expands\": {\"precision\": \"1\"}}}, {\"id\": \"current\", \"mode\": \"r\", \"name\": \"电流\", \"valueType\": {\"type\": \"float\", \"unit\": \"A\", \"expands\": {\"precision\": \"3\"}}}, {\"id\": \"power\", \"mode\": \"r\", \"name\": \"有功功率\", \"valueType\": {\"type\": \"float\", \"unit\": \"W\", \"expands\": {\"precision\": \"0\"}}}, {\"id\": \"powerFactor\", \"mode\": \"r\", \"name\": \"功率因数\", \"valueType\": {\"type\": \"float\", \"expands\": {\"precision\": \"2\"}}}, {\"id\": \"purchaseTimes\", \"mode\": \"r\", \"name\": \"购电次数\", \"valueType\": {\"type\": \"int\"}}, {\"id\": \"csq\", \"mode\": \"r\", \"name\": \"4G信号强度\", \"valueType\": {\"type\": \"int\", \"unit\": \"CSQ\", \"expands\": {\"max\": \"31\", \"min\": \"0\"}}}, {\"id\": \"iccid\", \"mode\": \"r\", \"name\": \"ICCID\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"20\"}}}, {\"id\": \"imei\", \"mode\": \"r\", \"name\": \"IMEI\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"15\"}}}, {\"id\": \"meterNo\", \"mode\": \"r\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"firmwareVersion\", \"mode\": \"r\", \"name\": \"固件版本\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"chipState\", \"mode\": \"r\", \"name\": \"计量芯片状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"异常\", \"value\": \"00\"}, {\"text\": \"V9240正常\", \"value\": \"01\"}, {\"text\": \"BL0930正常\", \"value\": \"02\"}]}}, {\"id\": \"overVoltageLimit\", \"mode\": \"rw\", \"name\": \"电压过载限值\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\", \"expands\": {\"precision\": \"1\"}}}, {\"id\": \"overCurrentLimit\", \"mode\": \"rw\", \"name\": \"电流过载限值\", \"valueType\": {\"type\": \"float\", \"unit\": \"A\", \"expands\": {\"precision\": \"3\"}}}, {\"id\": \"lowBalanceThreshold\", \"mode\": \"rw\", \"name\": \"余额不足阈值\", \"valueType\": {\"type\": \"float\", \"unit\": \"元\", \"expands\": {\"precision\": \"2\"}}}, {\"id\": \"meterData\", \"mode\": \"r\", \"name\": \"电表读数\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"kW·h\"}, \"description\": \"kW·h\\t\"}, {\"id\": \"deductTimes\", \"mode\": \"r\", \"name\": \"扣电次数\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\"}, \"description\": \"与购买次数不一样\"}]}', '2025-09-17 13:25:25', '0', 0, NULL, '2025-11-19 14:40:29', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (551, 'DLT645挂式', '雅阁', 'UDP电表', 'zmTntOA7VN4d', 'udp', '验证(beta)', '634e14eccc114547b15f124204036d8d', '{\"customField\":[]}', '100100', NULL, NULL, 'DEVICE', NULL, NULL, NULL, 'nexiot', NULL, 'mysql', NULL, '4G LTE Cat.1', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-09-18 14:18:21', '0', 0, NULL, '2025-11-22 18:41:20', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (552, '645001', '645', '电表演示', 'wZy6Cf16c0oH', 'tcp', '验证(beta)', '518a5f07b9f644eea758228057d72e29', '{\"customField\":[]}', '100100', NULL, 'wZy6Cf16c0oH', 'DEVICE', NULL, NULL, NULL, 'nexiot', NULL, 'mysql', NULL, '4G LTE Cat.1', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-09-18 20:49:39', '0', 0, NULL, '2025-11-22 18:41:20', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (553, 'TS3-5M', '乐橙云', '乐橙4G球机(云台)', 'pbJNWPtDJp7a', 'imoulife', '验证(beta)', 'e617f0fadffe4ce2bea2fefa3d9b35a7', '{\"customField\":[{\"id\":\"appKey\",\"name\":\"安全码\",\"description\":\"机身二维码\"}],\"ext1Label\":\"安全码\",\"ext1LabelDes\":\"机身二维码\"}', '100100', '{}', 'pbJNWPtDJp7a', 'DEVICE', NULL, NULL, NULL, 'nexiot', NULL, 'mysql', NULL, '4G LTE Cat.1', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1758252220886.png\",\"detail\":\"\"}', '{\"tags\": [{\"id\": \"camera\", \"name\": \"摄像头\", \"description\": \"摄像头相关功能标签\"}, {\"id\": \"storage\", \"name\": \"存储\", \"description\": \"存储相关功能标签\"}, {\"id\": \"network\", \"name\": \"网络\", \"description\": \"网络相关功能标签\"}, {\"id\": \"alarm\", \"name\": \"报警\", \"description\": \"报警相关功能标签\"}, {\"id\": \"control\", \"name\": \"控制\", \"description\": \"设备控制相关功能标签\"}], \"events\": [{\"id\": \"deviceOnline\", \"name\": \"设备上线\", \"config\": false, \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"deviceOffline\", \"name\": \"设备下线\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"motionDetection\", \"name\": \"移动侦测\", \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"100\"}}}, {\"id\": \"soundDetection\", \"name\": \"声音侦测\", \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"100\"}}}], \"functions\": [{\"id\": \"cameraTurn\", \"name\": \"摄像头转动\", \"inputs\": [{\"id\": \"direction\", \"name\": \"转动方向\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"向上\", \"value\": \"up\"}, {\"text\": \"向下\", \"value\": \"down\"}, {\"text\": \"向左\", \"value\": \"left\"}, {\"text\": \"向右\", \"value\": \"right\"}, {\"text\": \"左上\", \"value\": \"leftUp\"}, {\"text\": \"左下\", \"value\": \"leftDown\"}, {\"text\": \"右上\", \"value\": \"rightUp\"}, {\"text\": \"右下\", \"value\": \"rightDown\"}, {\"text\": \"停止\", \"value\": \"stop\"}]}, \"description\": \"摄像头转动的方向\"}, {\"id\": \"speed\", \"name\": \"转动速度\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"慢速\", \"value\": \"1\"}, {\"text\": \"中速\", \"value\": \"2\"}, {\"text\": \"快速\", \"value\": \"3\"}]}, \"description\": \"摄像头转动的速度等级\"}], \"output\": {}, \"description\": \"控制摄像头云台转动方向\"}, {\"id\": \"cameraLiveStream\", \"name\": \"获取摄像头直播链接\", \"inputs\": [{\"id\": \"streamType\", \"name\": \"视频流类型\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"高清主码流\", \"value\": \"main\"}, {\"text\": \"标清辅码流\", \"value\": \"sub\"}]}, \"description\": \"选择视频流的类型\"}, {\"id\": \"protocol\", \"name\": \"协议类型\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"RTMP\", \"value\": \"rtmp\"}, {\"text\": \"FLV\", \"value\": \"flv\"}, {\"text\": \"HLS\", \"value\": \"hls\"}]}, \"description\": \"视频流协议类型\"}], \"output\": {}, \"description\": \"获取摄像头的实时视频流链接\"}, {\"id\": \"cameraPlayback\", \"name\": \"获取摄像头回放链接\", \"inputs\": [{\"id\": \"playbackType\", \"name\": \"回放类型\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"本地录像\", \"value\": \"local\"}, {\"text\": \"云存储录像\", \"value\": \"cloud\"}]}, \"description\": \"选择回放的类型\"}, {\"id\": \"startTime\", \"name\": \"开始时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"19\"}}, \"description\": \"回放开始时间，格式：yyyy-MM-dd HH:mm:ss\"}, {\"id\": \"endTime\", \"name\": \"结束时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"19\"}}, \"description\": \"回放结束时间，格式：yyyy-MM-dd HH:mm:ss\"}], \"output\": {}, \"description\": \"获取指定时间段的录像回放链接\"}, {\"id\": \"cameraSnapshot\", \"name\": \"摄像头截图\", \"inputs\": [], \"output\": {}, \"description\": \"获取摄像头当前画面的截图\"}, {\"id\": \"cameraFlipSet\", \"name\": \"画面翻转设置\", \"inputs\": [{\"id\": \"flipStatus\", \"name\": \"翻转状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"正常\", \"value\": \"normal\"}, {\"text\": \"翻转\", \"value\": \"reverse\"}]}, \"description\": \"normal：正常，reverse：翻转\"}], \"output\": {}, \"description\": \"设置摄像头画面的翻转状态\"}, {\"id\": \"storageLocalStreamSet\", \"name\": \"设置本地录像视频流\", \"inputs\": [{\"id\": \"streamType\", \"name\": \"视频流类型\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"高清主码流\", \"value\": \"main\"}, {\"text\": \"标清辅码流\", \"value\": \"sub\"}]}, \"description\": \"本地录像使用的视频流类型\"}], \"output\": {}, \"description\": \"设置设备本地录像视频流类型\"}, {\"id\": \"storageLocalStreamQuery\", \"name\": \"查询本地录像视频流\", \"inputs\": [], \"output\": {}, \"description\": \"查询设备当前配置的本地录像视频流类型\"}, {\"id\": \"storageLocalPlanSet\", \"name\": \"设置本地录像计划\", \"inputs\": [{\"id\": \"startTime\", \"name\": \"开始时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"8\"}}, \"description\": \"录像开始时间，格式：HH:mm:ss\"}, {\"id\": \"endTime\", \"name\": \"结束时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"8\"}}, \"description\": \"录像结束时间，格式：HH:mm:ss\"}, {\"id\": \"weekdays\", \"name\": \"重复周期\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"100\"}}, \"description\": \"录像重复的星期，可以为\\\"Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday\\\"，利用逗号分隔同时设置多个周期\"}], \"output\": {}, \"description\": \"设置设备本地录像计划，在录像计划时间段内，设备会全量采集视频数据到设备本地存储中\"}, {\"id\": \"storageLocalPlanQuery\", \"name\": \"查询本地录像计划\", \"inputs\": [], \"output\": {}, \"description\": \"查询设备当前配置的录像计划\"}, {\"id\": \"storageCloudRecordsQuery\", \"name\": \"查询云录像片段\", \"inputs\": [{\"id\": \"startTime\", \"name\": \"开始时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"19\"}}, \"description\": \"查询开始时间，格式：yyyy-MM-dd HH:mm:ss\"}, {\"id\": \"endTime\", \"name\": \"结束时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"19\"}}, \"description\": \"查询结束时间，格式：yyyy-MM-dd HH:mm:ss\"}, {\"id\": \"count\", \"name\": \"查询数量\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"2\"}}, \"description\": \"分页查询的数量，每次最大30条\"}], \"output\": {}, \"description\": \"按条件查询所有云录像记录(倒序展示)\"}, {\"id\": \"storageCloudUnusedList\", \"name\": \"获取未启用的云存储服务\", \"inputs\": [{\"id\": \"nextDeviceCloudId\", \"name\": \"查询标识\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"上次查询最后一个deviceCloudId，首次查询时传-1\"}, {\"id\": \"limit\", \"name\": \"查询条数\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"2\"}}, \"description\": \"条数，最大每次查询15条\"}], \"output\": {}, \"description\": \"获取开发者账号下未启用的云存储服务信息\"}, {\"id\": \"storageCloudCallCountQuery\", \"name\": \"查询云存储开通接口剩余调用次数\", \"inputs\": [{\"id\": \"strategyId\", \"name\": \"云存储套餐ID\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"详情请见乐橙文档：云存储套餐介绍\"}], \"output\": {}, \"description\": \"查询开发者请求openCloudRecord：开通设备云存储接口的的剩余调用次数\"}, {\"id\": \"storageCloudServiceSet\", \"name\": \"设置云存储服务开关\", \"inputs\": [{\"id\": \"status\", \"name\": \"服务状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开启\", \"value\": \"on\"}, {\"text\": \"关闭\", \"value\": \"off\"}]}, \"description\": \"云存储服务的开关状态\"}], \"output\": {}, \"description\": \"设置设备当前云存储服务开/关\"}, {\"id\": \"storageCloudListQuery\", \"name\": \"查询设备云存储服务\", \"inputs\": [], \"output\": {}, \"description\": \"获取开发者某个设备通道下开通的所有云存储服务\"}, {\"id\": \"storageCloudUnbind\", \"name\": \"解绑设备云存储\", \"inputs\": [{\"id\": \"deviceCloudId\", \"name\": \"云存储唯一ID\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"云存储唯一ID，若开通的云存储在开发者账号下，则通过调用deviceCloudList：查询设备通道下所有云存储服务 获取值\"}], \"output\": {}, \"description\": \"解绑设备的云存储服务\"}, {\"id\": \"storageCloudOpen\", \"name\": \"开通设备云存储\", \"inputs\": [{\"id\": \"strategyId\", \"name\": \"云存储套餐ID\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"详情请见：云存储套餐介绍\"}, {\"id\": \"deviceCloudId\", \"name\": \"云存储唯一ID\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"若开通的云存储在开发者账号下，则通过调用unUsedCloudList获取deviceCloudId\"}], \"output\": {}, \"description\": \"为设备开通云存储服务\"}, {\"id\": \"storageFreeCloudSet\", \"name\": \"设置免费云存储服务\", \"inputs\": [{\"id\": \"status\", \"name\": \"服务状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开启\", \"value\": \"on\"}, {\"text\": \"关闭\", \"value\": \"off\"}]}, \"description\": \"免费云存储服务的开关状态\"}], \"output\": {}, \"description\": \"设置设备免费云存储服务开/关，部分乐橙设备可以免费使用云存储功能，开发者可以通过该接口开通试用云存储功能\"}, {\"id\": \"deviceSoundVolumeGet\", \"name\": \"获取设备音量\", \"inputs\": [{\"id\": \"volumeType\", \"name\": \"音量类型\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"提示音\", \"value\": \"playsound\"}, {\"text\": \"异常检测音\", \"value\": \"decible\"}]}, \"description\": \"要查询的音量类型\"}], \"output\": {}, \"description\": \"获取设备提示音和异常检测音分贝大小\"}, {\"id\": \"deviceCameraStatusGet\", \"name\": \"获取摄像头状态\", \"inputs\": [{\"id\": \"enableType\", \"name\": \"使能类型\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"请详细参考\\\"设备能力开关说明\\\"，首字母小写\"}], \"output\": {}, \"description\": \"获取设备使能开关状态\"}, {\"id\": \"deviceWifiSet\", \"name\": \"设置设备WiFi\", \"inputs\": [{\"id\": \"ssid\", \"name\": \"WiFi名称\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"需要连接的WiFi名称(SSID)\"}, {\"id\": \"bssid\", \"name\": \"WiFi地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"需要连接的WiFi地址(BSSID)\"}, {\"id\": \"password\", \"name\": \"WiFi密码\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"WiFi连接密码\"}, {\"id\": \"connectStatus\", \"name\": \"连接状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"连接\", \"value\": \"true\"}, {\"text\": \"断开\", \"value\": \"false\"}]}, \"description\": \"连接或断开WiFi\"}], \"output\": {}, \"description\": \"控制设备连接或断开WiFi热点\"}, {\"id\": \"deviceWifiScan\", \"name\": \"扫描周边WiFi\", \"inputs\": [], \"output\": {}, \"description\": \"查询设备周边的WiFi热点信息\"}, {\"id\": \"deviceUpgrade\", \"name\": \"设备升级\", \"inputs\": [], \"output\": {}, \"description\": \"升级设备固件\"}, {\"id\": \"deviceVersionQuery\", \"name\": \"查询设备版本信息\", \"inputs\": [], \"output\": {}, \"description\": \"获取设备版本和可升级信息\"}, {\"id\": \"deviceCloudInfoGet\", \"name\": \"获取设备云存储信息\", \"inputs\": [], \"output\": {}, \"description\": \"获取当前设备的云存储服务信息\"}, {\"id\": \"deviceEnableSet\", \"name\": \"设置设备使能开关\", \"inputs\": [{\"id\": \"enableType\", \"name\": \"使能类型\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"请详细参考\\\"设备能力开关说明\\\"，首字母小写\"}, {\"id\": \"enableStatus\", \"name\": \"使能状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开启使能\", \"value\": \"true\"}, {\"text\": \"关闭使能\", \"value\": \"false\"}]}, \"description\": \"是否生效（开或关）\"}], \"output\": {}, \"description\": \"设置设备各种功能的使能开关\"}, {\"id\": \"deviceRestart\", \"name\": \"重启设备\", \"inputs\": [], \"output\": {}, \"description\": \"重启乐橙摄像头设备\"}, {\"id\": \"deviceSoundVolumeSet\", \"name\": \"设置设备音量\", \"inputs\": [{\"id\": \"volumeType\", \"name\": \"音量类型\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"提示音\", \"value\": \"playsound\"}, {\"text\": \"异常检测音\", \"value\": \"decible\"}]}, \"description\": \"要设置的音量类型\"}, {\"id\": \"volumeValue\", \"name\": \"音量大小\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"50分贝\", \"value\": \"50\"}, {\"text\": \"60分贝\", \"value\": \"60\"}, {\"text\": \"70分贝\", \"value\": \"70\"}, {\"text\": \"80分贝\", \"value\": \"80\"}, {\"text\": \"90分贝\", \"value\": \"90\"}]}, \"description\": \"音量大小，单位跟取值范围跟具体设备有关\"}], \"output\": {}, \"description\": \"设置设备提示音和异常检测音分贝大小\"}, {\"id\": \"alarmMessageQuery\", \"name\": \"查询报警消息\", \"inputs\": [{\"id\": \"startTime\", \"name\": \"开始时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"19\"}}, \"description\": \"查询开始时间，格式：yyyy-MM-dd HH:mm:ss\"}, {\"id\": \"endTime\", \"name\": \"结束时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"19\"}}, \"description\": \"查询结束时间，格式：yyyy-MM-dd HH:mm:ss\"}, {\"id\": \"count\", \"name\": \"报警数量\", \"valueType\": {\"max\": \"30\", \"min\": \"1\", \"type\": \"int\"}, \"description\": \"抽取的报警总数，范围[1,30]\"}], \"output\": {}, \"description\": \"获取设备通道在指定时间段内的设备消息列表\"}, {\"id\": \"storageSdcardFormat\", \"name\": \"格式化SD卡\", \"inputs\": [], \"output\": {}, \"description\": \"格式化摄像头SD卡存储\"}, {\"id\": \"storageSdcardInfoGet\", \"name\": \"获取SD卡信息\", \"inputs\": [], \"output\": {}, \"description\": \"获取摄像头存储介质容量信息\"}, {\"id\": \"storageSdcardStatusGet\", \"name\": \"获取SD卡状态\", \"inputs\": [], \"output\": {}, \"description\": \"获取摄像头SD卡状态信息\"}, {\"id\": \"storageCloudVideoCountQuery\", \"name\": \"查询云录像数量\", \"inputs\": [{\"id\": \"startTime\", \"name\": \"开始时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"19\"}}, \"description\": \"查询开始时间，格式：yyyy-MM-dd HH:mm:ss\"}, {\"id\": \"endTime\", \"name\": \"结束时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"19\"}}, \"description\": \"查询结束时间，格式：yyyy-MM-dd HH:mm:ss\"}], \"output\": {}, \"description\": \"查询指定时间段的云录像数量\"}, {\"id\": \"storageLocalVideoCountQuery\", \"name\": \"查询本地录像数量\", \"inputs\": [{\"id\": \"startTime\", \"name\": \"开始时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"19\"}}, \"description\": \"查询开始时间，格式：yyyy-MM-dd HH:mm:ss\"}, {\"id\": \"endTime\", \"name\": \"结束时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"19\"}}, \"description\": \"查询结束时间，格式：yyyy-MM-dd HH:mm:ss\"}], \"output\": {}, \"description\": \"查询指定时间段的本地录像数量\"}, {\"id\": \"videoDownload\", \"name\": \"下载录像\", \"inputs\": [{\"id\": \"recordId\", \"name\": \"录像编号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"100\"}}, \"description\": \"要下载的录像唯一编号\"}, {\"id\": \"startTime\", \"name\": \"开始时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"19\"}}, \"description\": \"录像开始时间\"}, {\"id\": \"endTime\", \"name\": \"结束时间\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"19\"}}, \"description\": \"录像结束时间\"}, {\"id\": \"channelId\", \"name\": \"通道号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"10\"}}, \"description\": \"录像通道编号\"}, {\"id\": \"recordType\", \"name\": \"录像类型\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"10\"}}, \"description\": \"录像类型（local/cloud）\"}], \"output\": {}, \"description\": \"下载指定的录像文件\"}, {\"id\": \"deviceDetailsQuery\", \"name\": \"批量查询设备详细信息\", \"config\": false, \"inputs\": [], \"output\": {}, \"description\": \"批量查询设备的详细信息，包括设备基本信息、通道信息、子设备信息、配件信息等\"}], \"properties\": [{\"id\": \"deviceId\", \"name\": \"设备序列号\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备的唯一标识序列号\"}, {\"id\": \"deviceOnlineStatus\", \"name\": \"设备在线状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"离线\", \"value\": \"0\"}, {\"text\": \"在线\", \"value\": \"1\"}]}, \"description\": \"设备当前的在线状态\"}, {\"id\": \"deviceName\", \"name\": \"设备名称\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"设备的显示名称\"}, {\"id\": \"deviceType\", \"name\": \"设备类型\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备的类型标识\"}, {\"id\": \"firmwareVersion\", \"name\": \"固件版本\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备当前固件版本号\"}, {\"id\": \"signalStrength\", \"name\": \"信号强度\", \"valueType\": {\"type\": \"int\"}, \"description\": \"设备网络信号强度\"}, {\"id\": \"batteryLevel\", \"name\": \"电池电量\", \"valueType\": {\"max\": \"100\", \"min\": \"0\", \"type\": \"int\"}, \"description\": \"设备电池电量百分比\"}, {\"id\": \"storageStatus\", \"name\": \"存储状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"正常\", \"value\": \"normal\"}, {\"text\": \"异常\", \"value\": \"error\"}, {\"text\": \"已满\", \"value\": \"full\"}, {\"text\": \"未插入\", \"value\": \"notInserted\"}]}, \"description\": \"设备存储状态信息\"}, {\"id\": \"abilitiesSet\", \"mode\": \"r\", \"name\": \"能力集\", \"config\": false, \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"支持摄像头转动\", \"value\": \"cameraTurn\"}, {\"text\": \"支持摄像头直播\", \"value\": \"cameraLiveStream\"}, {\"text\": \"支持摄像头回放\", \"value\": \"cameraPlayback\"}, {\"text\": \"支持摄像头截图\", \"value\": \"cameraSnapshot\"}, {\"text\": \"支持画面翻转\", \"value\": \"cameraFlipSet\"}, {\"text\": \"支持本地录像设置\", \"value\": \"storageLocalStreamSet\"}, {\"text\": \"支持本地录像查询\", \"value\": \"storageLocalStreamQuery\"}, {\"text\": \"支持本地录像计划设置\", \"value\": \"storageLocalPlanSet\"}, {\"text\": \"支持本地录像计划查询\", \"value\": \"storageLocalPlanQuery\"}, {\"text\": \"支持云录像查询\", \"value\": \"storageCloudRecordsQuery\"}, {\"text\": \"支持云存储服务设置\", \"value\": \"storageCloudServiceSet\"}, {\"text\": \"支持云存储服务查询\", \"value\": \"storageCloudListQuery\"}, {\"text\": \"支持云存储开通\", \"value\": \"storageCloudOpen\"}, {\"text\": \"支持云存储解绑\", \"value\": \"storageCloudUnbind\"}, {\"text\": \"支持免费云存储设置\", \"value\": \"storageFreeCloudSet\"}, {\"text\": \"支持设备音量获取\", \"value\": \"deviceSoundVolumeGet\"}, {\"text\": \"支持设备音量设置\", \"value\": \"deviceSoundVolumeSet\"}, {\"text\": \"支持摄像头状态获取\", \"value\": \"deviceCameraStatusGet\"}, {\"text\": \"支持WiFi设置\", \"value\": \"deviceWifiSet\"}, {\"text\": \"支持WiFi扫描\", \"value\": \"deviceWifiScan\"}, {\"text\": \"支持设备升级\", \"value\": \"deviceUpgrade\"}, {\"text\": \"支持设备版本查询\", \"value\": \"deviceVersionQuery\"}, {\"text\": \"支持设备云存储信息获取\", \"value\": \"deviceCloudInfoGet\"}, {\"text\": \"支持设备使能设置\", \"value\": \"deviceEnableSet\"}, {\"text\": \"支持设备重启\", \"value\": \"deviceRestart\"}, {\"text\": \"支持报警消息查询\", \"value\": \"alarmMessageQuery\"}, {\"text\": \"支持SD卡格式化\", \"value\": \"storageSdcardFormat\"}, {\"text\": \"支持SD卡信息获取\", \"value\": \"storageSdcardInfoGet\"}, {\"text\": \"支持SD卡状态获取\", \"value\": \"storageSdcardStatusGet\"}, {\"text\": \"支持云录像数量查询\", \"value\": \"storageCloudVideoCountQuery\"}, {\"text\": \"支持本地录像数量查询\", \"value\": \"storageLocalVideoCountQuery\"}, {\"text\": \"支持录像下载\", \"value\": \"videoDownload\"}, {\"text\": \"支持设备详细信息查询\", \"value\": \"deviceDetailsQuery\"}]}}]}', '2025-12-19 11:12:49', '0', 0, NULL, '2025-12-02 16:39:31', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (554, 'MD1021', '美的', '精密空调(子设备)', 'HTDY36KuiBnT', 'tcp', '验证(beta)', '565a9d05a92f4716a4e24cc52c3f28e2', '{\"customField\":[]}', '100100', NULL, NULL, 'GATEWAY_SUB_DEVICE', 'lB0Tl1rgf8uz', NULL, NULL, 'nexiot', NULL, 'mysql', NULL, '有线', NULL, '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [], \"properties\": []}', '2025-09-20 20:23:07', '0', 0, NULL, '2025-11-22 18:41:20', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (556, 'DTUSX', '四信', '四信网关', '8ALHPgij2ZDW', 'mqtt', '验证(beta)', 'c20a191390864c50b1e67148da816aee', '{\"customField\":[]}', '100100', '{\"requirePayload\":\"\",\"isGps\":\"\",\"saveFunctionParam\":\"\",\"requireUpShadow\":\"\",\"requireDownShadow\":\"\",\"allowInsert\":true}', '8ALHPgij2ZDW', 'DEVICE', NULL, NULL, NULL, 'nexiot', NULL, 'mysql', NULL, '有线', NULL, '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"onOffline\", \"name\": \"上下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"powerOffAlarm\", \"name\": \"断电报警\", \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}, \"description\": \"你猜\"}, {\"id\": \"powerOnRestore\", \"name\": \"恢复通电\", \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"lowBatteryAlarm\", \"name\": \"电池低电量报警\", \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"batteryRestore\", \"name\": \"电池恢复正常\", \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [{\"id\": \"switchControl\", \"name\": \"开关控制\", \"inputs\": [{\"id\": \"open\", \"name\": \"开关控制\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"0\"}, {\"text\": \"关\", \"value\": \"1\"}]}, \"description\": \"0-开，1-关\"}], \"output\": {}, \"description\": \"你猜\"}, {\"id\": \"newkai\", \"name\": \"新开\", \"config\": false, \"inputs\": [{\"id\": \"docs\", \"name\": \"新开\", \"valueType\": {\"max\": \"99\", \"min\": \"0\", \"type\": \"int\", \"unit\": \"N.m\"}}], \"output\": {}}], \"properties\": [{\"id\": \"ecl\", \"mode\": \"r\", \"name\": \"无线信号覆盖等级\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"Hz\"}, \"description\": \"你猜\"}, {\"id\": \"switchStatus\", \"mode\": \"r\", \"name\": \"开关状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开\", \"value\": \"0\"}, {\"text\": \"关\", \"value\": \"1\"}]}, \"description\": \"开关状态\"}, {\"id\": \"battery\", \"mode\": \"r\", \"name\": \"电池电压\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"kV\"}}, {\"id\": \"csq\", \"mode\": \"r\", \"name\": \"信号\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"KΩ\"}, \"description\": \"信号值20-31，超出无效\"}]}', '2025-09-19 07:41:52', '0', 0, NULL, '2025-11-22 18:41:20', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (557, '66', '66', '测试mqtt', 'Pnoa2nyglhca', 'mqtt', '验证(beta)', '5f924da9dec442e099628192e48aa5f7', '{\"customField\":[]}', '100100', '{\"requirePayload\":\"\",\"isGps\":\"\",\"saveFunctionParam\":\"\",\"requireUpShadow\":\"\",\"requireDownShadow\":\"\",\"allowInsert\":true}', 'Pnoa2nyglhca', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'Wi-Fi', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-09-22 23:21:18', '0', 0, NULL, '2025-11-19 14:40:28', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (558, '1', '1', '1', 'U2kedAS1pSse', 'tcp', '验证(beta)', '327d6cc3e268421bad15d3552cc591c5', '{\"customField\":[]}', '100100', '{\"allowInsert\":true,\"preStore\":\"\",\"alwaysPreDecode\":\"\",\"enabled\":true,\"onlyCache\":\"\",\"encoderType\":\"\",\"decoderType\":\"\",\"parserType\":\"JT808\",\"byteOrderLittle\":\"\",\"failFast\":\"\"}', 'U2kedAS1pSse', 'GATEWAY', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, '有线', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-09-26 13:01:44', '0', 0, NULL, '2025-11-19 14:40:28', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (559, '1吖', 'oool', '测试一下', '8nbbOERhuJlY', 'mqtt', '验证(beta)', 'c8efe2b16c3d49bb9b0ce1065402656f', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', '8nbbOERhuJlY', 'GATEWAY_SUB_DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'Bluetooth', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1758884855607.jpg\",\"detail\":\"\"}', '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-09-26 19:07:16', '0', 0, NULL, '2025-11-19 14:40:28', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (9998, 'MC03', '海一舟', '水浸传感器', '68beda0c1c9e0d2b7943b826', 'ctaiot', '门磁传感器', NULL, NULL, '100100', '{\"masterKey\":\"0c9b35f1185d4096b93e610048b92193\",\"productId\":17248959,\"payloadFormat\":0,\"ttl\":86400,\"operator\":\"univ\",\"dataType\":2,\"downParaType\":0,\"requirePayload\":\"true\",\"offlineThreshold\":2880,\"isGps\":\"\",\"saveFunctionParam\":\"\",\"requireUpShadow\":\"\",\"allowInsert\":\"\"}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'NB-platform', '{\"img\":\"http://qiniu.oss.filecoin.ren/device/logo/shuijin.jpg\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"water_alarm\", \"name\": \"水浸报警\", \"config\": false, \"expands\": {\"level\": \"urgent\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"water_normal\", \"name\": \"水浸正常\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"online\", \"name\": \"上线\", \"config\": false, \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"offline\", \"name\": \"离线\", \"config\": false, \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [], \"properties\": [{\"id\": \"waterState\", \"mode\": \"r\", \"name\": \"水浸状态\", \"valueType\": {\"type\": \"boolean\"}}, {\"id\": \"battery\", \"mode\": \"r\", \"name\": \"电池电量\", \"valueType\": {\"type\": \"int\", \"unit\": \"%\"}}, {\"id\": \"csq\", \"mode\": \"r\", \"name\": \"信号强度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\"}}]}', '2028-11-08 21:28:45', '0', 0, '{\"ctwingRequestData\":{\"ttl\":0,\"dataType\":0,\"nodeType\":0,\"accessType\":0,\"networkType\":0,\"productProtocol\":0,\"dataEncryption\":0,\"authType\":0,\"endpointFormat\":0,\"tupIsThrough\":0,\"payloadFormat\":0,\"powerModel\":0,\"productId\":\"MC03\",\"pageNow\":0,\"pageSize\":0,\"publicProductId\":99003100},\"creatorId\":\"iot\",\"companyNo\":\"中山市海一舟电子有限公司\",\"classifiedId\":\"100100\",\"classifiedName\":\"门磁传感器\",\"data\":{\"productId\":\"MC03\",\"publicProductId\":99003100},\"cmd\":\"PUBPRO_ADD\",\"deviceReuse\":false,\"isAdmin\":false,\"allowInsert\":false}', '2025-11-23 20:35:53', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (9999, '抖音', '阿里1688', '2P单相挂式电表', 'HnDdSnj1kiQg', 'tcp', '验证(beta)', 'f7eef412d03c4222bf53cc6726cc2474', '{\"customField\":[]}', '100100', '{\"allowInsert\":true,\"alwaysPreDecode\":\"false\",\"byteOrderLittle\":\"\",\"decoderType\":\"HEX\",\"enabled\":\"true\",\"encoderType\":\"HEX\",\"failFast\":\"\",\"isGps\":\"\",\"onlyCache\":\"\",\"parserType\":\"PROTOCOL_645\",\"preStore\":\"\",\"requirePayload\":\"\",\"requireUpShadow\":\"\",\"saveFunctionParam\":\"\",\"requireDownShadow\":true}', 'HnDdSnj1kiQg', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', '{\"properties\":[{\"id\":\"totalEnergy\",\"maxStorage\":\"10000\"},{\"id\":\"remainEnergy\",\"maxStorage\":\"10000\"},{\"id\":\"power\",\"maxStorage\":\"10000\"},{\"id\":\"csq\",\"maxStorage\":\"10000\"},{\"id\":\"meterData\",\"maxStorage\":\"10000\"},{\"id\":\"voltage\",\"maxStorage\":\"10000\"},{\"id\":\"purchaseTimes\",\"maxStorage\":\"10000\"},{\"id\":\"openState\",\"maxStorage\":\"10000\"},{\"id\":\"current\",\"maxStorage\":\"10000\"},{\"id\":\"deductTimes\",\"maxStorage\":\"10000\"}],\"event\":[]}', '4G LTE Cat.1', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1760779606525.jpg\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"shortfallAlarm\", \"name\": \"读数倒流告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"powerOverAlarm\", \"name\": \"功率超限告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\"}}, {\"id\": \"voltageOverAlarm\", \"name\": \"电压超限告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\"}}, {\"id\": \"currentOverAlarm\", \"name\": \"电流超限告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\"}}, {\"id\": \"lowBalanceAlarm\", \"name\": \"余额不足告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\"}}], \"functions\": [{\"id\": \"meterRead\", \"name\": \"获取用电量\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"电表表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}], \"output\": {\"id\": \"totalEnergy\", \"name\": \"总用电量\", \"valueType\": {\"type\": \"float\", \"unit\": \"kW·h\"}}}, {\"id\": \"switchOnOff\", \"name\": \"开关阀\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"valveOn\", \"name\": \"开关阀操作\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"分闸（断电）\", \"value\": \"0\"}, {\"text\": \"合闸（来电）\", \"value\": \"1\"}]}}], \"output\": {}}, {\"id\": \"purchase\", \"name\": \"远程购电\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"energy\", \"name\": \"购电量\", \"valueType\": {\"type\": \"float\", \"unit\": \"kW·h\"}}, {\"id\": \"purchaseId\", \"name\": \"购电次数\", \"valueType\": {\"type\": \"int\"}}], \"output\": {}}, {\"id\": \"setParameters\", \"name\": \"设置运行参数\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"overVoltage\", \"name\": \"电压过载限值\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\"}}, {\"id\": \"overCurrent\", \"name\": \"电流过载限值\", \"valueType\": {\"type\": \"float\", \"unit\": \"A\"}}, {\"id\": \"lowBalance\", \"name\": \"余额不足阈值\", \"valueType\": {\"type\": \"float\", \"unit\": \"元\"}}], \"output\": {}}, {\"id\": \"setEnergyValue\", \"name\": \"矫正剩余电量和总电量\", \"config\": false, \"inputs\": [{\"id\": \"remainEnergy\", \"name\": \"剩余电量\", \"valueType\": {\"type\": \"double\", \"precision\": \"2\"}}, {\"id\": \"totalEnergy\", \"name\": \"总电量\", \"valueType\": {\"type\": \"float\"}}, {\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}], \"output\": {}, \"description\": \"更改当前剩余电量和使用电量\"}, {\"id\": \"setRemote4GServerAddr\", \"name\": \"修改4G服务器地址\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"host\", \"name\": \"服务器地址\", \"valueType\": {\"type\": \"string\"}, \"description\": \"支持IP和域名\"}, {\"id\": \"port\", \"name\": \"服务器端口\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"sign\", \"name\": \"安全校验\", \"valueType\": {\"type\": \"string\"}, \"description\": \"安全起见，防止变更\"}], \"output\": {}, \"description\": \"注意：修改后无法再收到数据\"}, {\"id\": \"cmd\", \"name\": \"指令透传\", \"config\": false, \"inputs\": [{\"id\": \"hex\", \"name\": \"十六进制值\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"output\": {}}, {\"id\": \"restart\", \"name\": \"重启\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"output\": {}}, {\"id\": \"deductEnergy\", \"name\": \"扣除电量\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"energy\", \"name\": \"扣除剩余电量\", \"valueType\": {\"type\": \"float\"}}, {\"id\": \"purchaseId\", \"name\": \"购电次数\", \"valueType\": {\"type\": \"int\"}}], \"output\": {}, \"description\": \"\"}, {\"id\": \"upEvent\", \"name\": \"上报事件\", \"config\": false, \"inputs\": [{\"id\": \"meterNo\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}], \"output\": {}, \"description\": \"让电表开启一个上报事件。\"}], \"properties\": [{\"id\": \"openState\", \"mode\": \"rw\", \"name\": \"通断电状态\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"断电\", \"value\": \"0\"}, {\"text\": \"通电\", \"value\": \"1\"}]}}, {\"id\": \"totalEnergy\", \"mode\": \"r\", \"name\": \"总用电量\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"kW·h\"}, \"description\": \"总用电量\"}, {\"id\": \"remainEnergy\", \"mode\": \"r\", \"name\": \"剩余电量\", \"valueType\": {\"type\": \"float\", \"unit\": \"kW·h\", \"expands\": {\"precision\": \"3\"}}}, {\"id\": \"voltage\", \"mode\": \"r\", \"name\": \"电压\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\", \"expands\": {\"precision\": \"1\"}}}, {\"id\": \"current\", \"mode\": \"r\", \"name\": \"电流\", \"valueType\": {\"type\": \"float\", \"unit\": \"A\", \"expands\": {\"precision\": \"3\"}}}, {\"id\": \"power\", \"mode\": \"r\", \"name\": \"有功功率\", \"valueType\": {\"type\": \"float\", \"unit\": \"W\", \"expands\": {\"precision\": \"0\"}}}, {\"id\": \"powerFactor\", \"mode\": \"r\", \"name\": \"功率因数\", \"valueType\": {\"type\": \"float\", \"expands\": {\"precision\": \"2\"}}}, {\"id\": \"purchaseTimes\", \"mode\": \"r\", \"name\": \"购电次数\", \"valueType\": {\"type\": \"int\"}}, {\"id\": \"csq\", \"mode\": \"r\", \"name\": \"4G信号强度\", \"valueType\": {\"type\": \"int\", \"unit\": \"CSQ\", \"expands\": {\"max\": \"31\", \"min\": \"0\"}}}, {\"id\": \"iccid\", \"mode\": \"r\", \"name\": \"ICCID\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"20\"}}}, {\"id\": \"imei\", \"mode\": \"r\", \"name\": \"IMEI\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"15\"}}}, {\"id\": \"meterNo\", \"mode\": \"r\", \"name\": \"表号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"firmwareVersion\", \"mode\": \"r\", \"name\": \"固件版本\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"chipState\", \"mode\": \"r\", \"name\": \"计量芯片状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"异常\", \"value\": \"00\"}, {\"text\": \"V9240正常\", \"value\": \"01\"}, {\"text\": \"BL0930正常\", \"value\": \"02\"}]}}, {\"id\": \"overVoltageLimit\", \"mode\": \"rw\", \"name\": \"电压过载限值\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\", \"expands\": {\"precision\": \"1\"}}}, {\"id\": \"overCurrentLimit\", \"mode\": \"rw\", \"name\": \"电流过载限值\", \"valueType\": {\"type\": \"float\", \"unit\": \"A\", \"expands\": {\"precision\": \"3\"}}}, {\"id\": \"lowBalanceThreshold\", \"mode\": \"rw\", \"name\": \"余额不足阈值\", \"valueType\": {\"type\": \"float\", \"unit\": \"元\", \"expands\": {\"precision\": \"2\"}}}, {\"id\": \"meterData\", \"mode\": \"r\", \"name\": \"电表读数\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"kW·h\"}, \"description\": \"kW·h\\t\"}, {\"id\": \"deductTimes\", \"mode\": \"r\", \"name\": \"扣电次数\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\"}, \"description\": \"与购买次数不一样\"}]}', '2028-11-05 11:18:26', '0', 0, NULL, '2025-11-27 19:15:51', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10009, 'ET100-V03', '易联星拓', '4G高精度定位终端', '68e5bcf0935e6d553cdda73b', 'ctaiot', '4G高精度定位终端', NULL, NULL, '100100', '{\"masterKey\":\"78ecadc200954f9e860bf51d2003290c\",\"productId\":17255723,\"payloadFormat\":0,\"ttl\":86400,\"operator\":\"univ\",\"dataType\":2,\"downParaType\":0,\"requirePayload\":true,\"isGps\":true,\"saveFunctionParam\":true,\"requireUpShadow\":\"\",\"requireDownShadow\":\"\",\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'NB-platform', NULL, '{\n  \"tags\": [],\n  \"events\": [\n    {\n      \"id\": \"online\",\n      \"name\": \"上线\",\n      \"valueType\": {\n        \"type\": \"string\"\n      }\n    },\n    {\n      \"id\": \"offline\",\n      \"name\": \"下线\",\n      \"valueType\": {\n        \"type\": \"string\"\n      }\n    }\n  ],\n  \"functions\": [],\n  \"properties\": [\n    {\n      \"id\": \"iccid\",\n      \"mode\": \"r\",\n      \"name\": \"ICCID\",\n      \"valueType\": {\n        \"type\": \"string\"\n      },\n      \"description\": \"ICCID\"\n    }\n  ]\n}\n', '2025-10-08 09:22:56', '0', 0, '{\"ctwingRequestData\":{\"ttl\":0,\"dataType\":0,\"nodeType\":0,\"accessType\":0,\"networkType\":0,\"productProtocol\":0,\"dataEncryption\":0,\"authType\":0,\"endpointFormat\":0,\"tupIsThrough\":0,\"payloadFormat\":0,\"powerModel\":0,\"productId\":\"ET100-V03\",\"pageNow\":0,\"pageSize\":0,\"publicProductId\":99000808},\"creatorId\":\"test\",\"companyNo\":\"福州易联星拓通信科技有限公司\",\"classifiedId\":\"100100\",\"classifiedName\":\"4G高精度定位终端\",\"data\":{\"productId\":\"ET100-V03\",\"publicProductId\":99000808},\"cmd\":\"PUBPRO_ADD\",\"deviceReuse\":false,\"isAdmin\":false,\"allowInsert\":false}', '2025-11-23 20:36:00', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10019, 'TAS-LTE-393', '塔石', 'DTU-393-Modbus(TCP通道)', 'lWAUlCmM53UF', 'tcp', '验证(beta)', 'f7eef412d03c4222113cc6726cc2474', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', 'lWAUlCmM53UF', 'GATEWAY', NULL, 'top,yiliao,yanglao', NULL, 'demo', NULL, 'iotdb', '{\"properties\":[{\"id\":\"csq\",\"maxStorage\":\"10000\"}],\"event\":[]}', 'modbus', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1760431610521.jpg\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"gps_abnormal\", \"name\": \"GPS定位异常\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"signal_weak\", \"name\": \"信号强度弱\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [], \"properties\": [{\"id\": \"deviceId\", \"mode\": \"r\", \"name\": \"设备ID\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"AT+DEVICEID设置的设备唯一标识\"}, {\"id\": \"imei\", \"mode\": \"r\", \"name\": \"设备IMEI\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备国际移动设备识别码\"}, {\"id\": \"iccid\", \"mode\": \"r\", \"name\": \"ICCID\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"20位SIM卡集成电路卡识别码\"}, {\"id\": \"imsi\", \"mode\": \"r\", \"name\": \"IMSI\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"SIM卡国际移动用户识别码\"}, {\"id\": \"csq\", \"mode\": \"r\", \"name\": \"4G信号强度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"db\"}, \"description\": \"0-31，值越大信号越强，31为满格\"}, {\"id\": \"beijingTime\", \"mode\": \"r\", \"name\": \"北京时间\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"format\": \"dd/MM/yy,HH:mm:ss\"}}, \"description\": \"基站获取的北京时间\"}, {\"id\": \"utcTime\", \"mode\": \"r\", \"name\": \"UTC时间\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"GNSS或基站获取的UTC时间\"}, {\"id\": \"vendor\", \"mode\": \"r\", \"name\": \"设备厂商\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备生产厂商\"}, {\"id\": \"model\", \"mode\": \"r\", \"name\": \"设备型号\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备型号标识，如TAS-LTE-364\"}, {\"id\": \"firmwareVersion\", \"mode\": \"r\", \"name\": \"固件版本\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}}]}', '2028-09-30 01:49:46', '0', 0, NULL, '2025-11-22 17:54:43', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10020, 'TAS-LTE-393', '塔石', 'DTU-394-Modbus(MQTT通道)', 'RpZ3VQIa6YE2', 'mqtt', '验证(beta)', '04b4adb8e7004f53961f18bc8db1ca04', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'demo', NULL, 'iotdb', '{\"properties\":[{\"id\":\"csq\",\"maxStorage\":\"10000\"}],\"event\":[]}', 'modbus', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1760431601441.jpg\",\"detail\":\"https://www.tastek.cn/product/163775?title=TAS-LTE-360/363/364/393/395\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"gps_abnormal\", \"name\": \"GPS定位异常\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"signal_weak\", \"name\": \"信号强度弱\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [], \"properties\": [{\"id\": \"deviceId\", \"mode\": \"r\", \"name\": \"设备ID\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"AT+DEVICEID设置的设备唯一标识\"}, {\"id\": \"imei\", \"mode\": \"r\", \"name\": \"设备IMEI\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备国际移动设备识别码\"}, {\"id\": \"iccid\", \"mode\": \"r\", \"name\": \"ICCID\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"20位SIM卡集成电路卡识别码\"}, {\"id\": \"imsi\", \"mode\": \"r\", \"name\": \"IMSI\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"SIM卡国际移动用户识别码\"}, {\"id\": \"csq\", \"mode\": \"r\", \"name\": \"4G信号强度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"db\"}, \"description\": \"0-31，值越大信号越强，31为满格\"}, {\"id\": \"beijingTime\", \"mode\": \"r\", \"name\": \"北京时间\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"format\": \"dd/MM/yy,HH:mm:ss\"}}, \"description\": \"基站获取的北京时间\"}, {\"id\": \"timestamp\", \"mode\": \"r\", \"name\": \"时间戳\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"Unix时间戳（秒级）\"}, {\"id\": \"utcTime\", \"mode\": \"r\", \"name\": \"UTC时间\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"GNSS或基站获取的UTC时间\"}, {\"id\": \"vendor\", \"mode\": \"r\", \"name\": \"设备厂商\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备生产厂商\"}, {\"id\": \"model\", \"mode\": \"r\", \"name\": \"设备型号\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备型号标识，如TAS-LTE-364\"}, {\"id\": \"firmwareVersion\", \"mode\": \"r\", \"name\": \"固件版本\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}}]}', '2026-09-30 01:49:46', '0', 0, NULL, '2025-11-22 17:54:45', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10025, 'TAS-WSGZ-R2X000', '塔石', '光照温湿度子设备(MQTT)', 'p0B2kKqdJD8M', 'mqtt', '验证(beta)', '89af54f4654d450d8550ccd6a8d64377', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', 'p0B2kKqdJD8M', 'GATEWAY_SUB_DEVICE', 'RpZ3VQIa6YE2', NULL, NULL, 'demo', NULL, 'iotdb', '{\"properties\":[{\"id\":\"temperature\",\"maxStorage\":\"10000\"},{\"id\":\"humidity\",\"maxStorage\":\"10000\"},{\"id\":\"illumination\",\"maxStorage\":\"10000\"}],\"event\":[]}', 'modbus', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1760431507329.png\",\"detail\":\"https://www.tastek.cn/product/163817?title=TAS-WS-R0X000/R1X000/R2X000\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"config\": false, \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"offline\", \"name\": \"离线\", \"config\": false, \"expands\": {\"level\": \"ordinary\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"temperature_out_of_range\", \"name\": \"温度超范围报警\", \"config\": false, \"expands\": {\"level\": \"urgent\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"humidity_out_of_range\", \"name\": \"湿度超范围报警\", \"config\": false, \"expands\": {\"level\": \"urgent\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [], \"properties\": [{\"id\": \"temperature\", \"mode\": \"r\", \"name\": \"温度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"℃\"}}, {\"id\": \"humidity\", \"mode\": \"r\", \"name\": \"湿度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"%RH\"}}, {\"id\": \"illumination\", \"mode\": \"r\", \"name\": \"光照强度\", \"valueType\": {\"type\": \"int\", \"unit\": \"LUX\", \"expands\": {\"max\": 65535, \"min\": 0}}}, {\"id\": \"powerSupply\", \"mode\": \"r\", \"name\": \"供电电压\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\"}}, {\"id\": \"devicePowerConsumption\", \"mode\": \"r\", \"name\": \"设备功耗\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"W\"}}, {\"id\": \"netMode\", \"mode\": \"r\", \"name\": \"通信方式\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"RS485\", \"value\": \"RS485\"}, {\"text\": \"4G\", \"value\": \"4G\"}]}}, {\"id\": \"displayMode\", \"mode\": \"r\", \"name\": \"显示方式\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"无\", \"value\": \"none\"}, {\"text\": \"OLED显示\", \"value\": \"oled\"}]}}]}', '2026-09-30 01:49:46', '0', 0, NULL, '2025-11-19 15:25:56', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10026, 'TAS-WSGZ-R2X000', '塔石', '光照温湿度子设备(TCP)', 'bKFSm8yKgyGS', 'tcp', '验证(beta)', '46c9341df59646dabff81e61895c508b', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', 'bKFSm8yKgyGS', 'GATEWAY_SUB_DEVICE', 'lWAUlCmM53UF', NULL, NULL, 'demo', NULL, 'iotdb', '{\"properties\":[{\"id\":\"temperature\",\"maxStorage\":\"9999\"},{\"id\":\"humidity\",\"maxStorage\":\"10000\"},{\"id\":\"illumination\",\"maxStorage\":\"10000\"}],\"event\":[]}', 'modbus', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1760431998323.png\",\"detail\":\"https://www.tastek.cn/product/163817?title=TAS-WS-R0X000/R1X000/R2X000\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"temperature_out_of_range\", \"name\": \"温度超范围告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"humidity_out_of_range\", \"name\": \"湿度超范围告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"illumination_abnormal\", \"name\": \"光照异常告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [{\"id\": \"readAllData\", \"name\": \"读取全部传感数据\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从机地址\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 247, \"min\": 1}}}], \"output\": {\"id\": \"sensorData\", \"name\": \"传感数据集合\", \"valueType\": {\"type\": \"object\", \"properties\": {\"humidity\": {\"type\": \"float\", \"unit\": \"%RH\"}, \"temperature\": {\"type\": \"float\", \"unit\": \"℃\"}, \"illumination\": {\"type\": \"int\", \"unit\": \"LUX\"}}}}}], \"properties\": [{\"id\": \"temperatureDesc\", \"mode\": \"r\", \"name\": \"温度提示\", \"config\": false, \"source\": \"extended\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"humidity\", \"mode\": \"r\", \"name\": \"湿度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"%RH\", \"expands\": {\"max\": 100.0, \"min\": 0.0, \"precision\": 0.1}}, \"description\": \"测量范围0%RH~100%RH，精度±3%RH（60%RH，25℃）\"}, {\"id\": \"illumination\", \"mode\": \"r\", \"name\": \"光照强度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"LUX\", \"expands\": {\"max\": 65535, \"min\": 0}}, \"description\": \"测量范围0~65535 LUX，精度±10%（25℃）\"}, {\"id\": \"powerSupply\", \"mode\": \"r\", \"name\": \"供电电压\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\", \"expands\": {\"max\": 36.0, \"min\": 9.0, \"precision\": 0.1}}, \"description\": \"支持DC 9~36V宽压供电\"}, {\"id\": \"powerConsumption\", \"mode\": \"r\", \"name\": \"设备功耗\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"W\", \"expands\": {\"max\": 0.3, \"min\": 0.0, \"precision\": 0.01}}, \"description\": \"DC24V供电时功耗为0.3W\"}, {\"id\": \"communicationMode\", \"mode\": \"r\", \"name\": \"通信方式\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"options\": [\"RS485\", \"4G\"]}}, \"description\": \"根据设备型号区分，如TAS-WSGZ-R0X000为RS485\"}, {\"id\": \"displayMode\", \"mode\": \"r\", \"name\": \"显示方式\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"options\": [\"无显示\", \"OLED显示\"]}}, \"description\": \"根据设备型号区分，如TAS-WSGZ-R2X000为OLED显示\"}, {\"id\": \"temperature\", \"mode\": \"r\", \"name\": \"温度\", \"config\": false, \"source\": \"extended\", \"valueType\": {\"type\": \"float\", \"unit\": \"℃\"}}, {\"id\": \"humidityDesc\", \"mode\": \"r\", \"name\": \"湿度提示\", \"config\": false, \"source\": \"extended\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"illuminationDesc\", \"mode\": \"r\", \"name\": \"光照提示\", \"config\": false, \"source\": \"extended\", \"valueType\": {\"type\": \"string\"}}]}', '2026-09-30 01:49:46', '0', 0, NULL, '2025-11-19 14:40:28', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10036, 'TAS-LTE-393', '塔石', 'DTU-394-Modbus(MQTT-RTU格式)', 'xbE2CHuBdtBB', 'mqtt', '验证(beta)', 'ceece19200cd4c01a8df7231ae4585e9', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'nexiot', NULL, 'iotdb', '{\"properties\":[{\"id\":\"csq\",\"maxStorage\":\"10000\"}],\"event\":[]}', 'modbus', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1760431601441.jpg\",\"detail\":\"https://www.tastek.cn/product/163775?title=TAS-LTE-360/363/364/393/395\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"gps_abnormal\", \"name\": \"GPS定位异常\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"signal_weak\", \"name\": \"信号强度弱\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [], \"properties\": [{\"id\": \"deviceId\", \"mode\": \"r\", \"name\": \"设备ID\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"AT+DEVICEID设置的设备唯一标识\"}, {\"id\": \"imei\", \"mode\": \"r\", \"name\": \"设备IMEI\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备国际移动设备识别码\"}, {\"id\": \"iccid\", \"mode\": \"r\", \"name\": \"ICCID\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"20位SIM卡集成电路卡识别码\"}, {\"id\": \"imsi\", \"mode\": \"r\", \"name\": \"IMSI\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"SIM卡国际移动用户识别码\"}, {\"id\": \"csq\", \"mode\": \"r\", \"name\": \"4G信号强度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"db\"}, \"description\": \"0-31，值越大信号越强，31为满格\"}, {\"id\": \"beijingTime\", \"mode\": \"r\", \"name\": \"北京时间\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"format\": \"dd/MM/yy,HH:mm:ss\"}}, \"description\": \"基站获取的北京时间\"}, {\"id\": \"utcTime\", \"mode\": \"r\", \"name\": \"UTC时间\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"GNSS或基站获取的UTC时间\"}, {\"id\": \"vendor\", \"mode\": \"r\", \"name\": \"设备厂商\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备生产厂商\"}, {\"id\": \"model\", \"mode\": \"r\", \"name\": \"设备型号\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备型号标识，如TAS-LTE-364\"}, {\"id\": \"firmwareVersion\", \"mode\": \"r\", \"name\": \"固件版本\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}}]}', '2026-09-30 01:49:46', '0', 0, NULL, '2025-11-22 18:41:53', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10037, 'GW', 'TAS', '光照温湿度子设备(MQTT-RTU)', '3QAz7HuahAGN', 'mqtt', '验证(beta)', 'a7dd2c64846d4ab389641641c3441dd5', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', '3QAz7HuahAGN', 'GATEWAY_SUB_DEVICE', 'xbE2CHuBdtBB', 'yiliao', NULL, 'demo', NULL, 'iotdb', '{\"properties\":[{\"id\":\"illumination\",\"maxStorage\":\"10000\"},{\"id\":\"humidity\",\"maxStorage\":\"10000\"},{\"id\":\"temperature\",\"maxStorage\":\"10000\"}],\"event\":[]}', 'modbus', NULL, '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"temperature_out_of_range\", \"name\": \"温度超范围告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"humidity_out_of_range\", \"name\": \"湿度超范围告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"illumination_abnormal\", \"name\": \"光照异常告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [{\"id\": \"readAllData\", \"name\": \"读取全部传感数据\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从机地址\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 247, \"min\": 1}}}], \"output\": {\"id\": \"sensorData\", \"name\": \"传感数据集合\", \"valueType\": {\"type\": \"object\", \"properties\": {\"humidity\": {\"type\": \"float\", \"unit\": \"%RH\"}, \"temperature\": {\"type\": \"float\", \"unit\": \"℃\"}, \"illumination\": {\"type\": \"int\", \"unit\": \"LUX\"}}}}}], \"properties\": [{\"id\": \"temperatureDesc\", \"mode\": \"r\", \"name\": \"温度提示\", \"config\": false, \"source\": \"extended\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"humidity\", \"mode\": \"r\", \"name\": \"湿度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"%RH\", \"expands\": {\"max\": 100, \"min\": 0, \"precision\": 0.1}}, \"description\": \"测量范围0%RH~100%RH，精度±3%RH（60%RH，25℃）\"}, {\"id\": \"illumination\", \"mode\": \"r\", \"name\": \"光照强度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"LUX\", \"expands\": {\"max\": 65535, \"min\": 0}}, \"description\": \"测量范围0~65535 LUX，精度±10%（25℃）\"}, {\"id\": \"powerSupply\", \"mode\": \"r\", \"name\": \"供电电压\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\", \"expands\": {\"max\": 36, \"min\": 9, \"precision\": 0.1}}, \"description\": \"支持DC 9~36V宽压供电\"}, {\"id\": \"powerConsumption\", \"mode\": \"r\", \"name\": \"设备功耗\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"W\", \"expands\": {\"max\": 0.3, \"min\": 0, \"precision\": 0.01}}, \"description\": \"DC24V供电时功耗为0.3W\"}, {\"id\": \"communicationMode\", \"mode\": \"r\", \"name\": \"通信方式\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"options\": [\"RS485\", \"4G\"]}}, \"description\": \"根据设备型号区分，如TAS-WSGZ-R0X000为RS485\"}, {\"id\": \"displayMode\", \"mode\": \"r\", \"name\": \"显示方式\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"options\": [\"无显示\", \"OLED显示\"]}}, \"description\": \"根据设备型号区分，如TAS-WSGZ-R2X000为OLED显示\"}, {\"id\": \"temperature\", \"mode\": \"r\", \"name\": \"温度\", \"config\": false, \"source\": \"extended\", \"valueType\": {\"type\": \"float\", \"unit\": \"℃\"}}, {\"id\": \"humidityDesc\", \"mode\": \"r\", \"name\": \"湿度提示\", \"config\": false, \"source\": \"extended\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"illuminationDesc\", \"mode\": \"r\", \"name\": \"光照提示\", \"config\": false, \"source\": \"extended\", \"valueType\": {\"type\": \"string\"}}]}', '2025-10-19 08:37:06', '0', 0, NULL, '2025-11-22 14:22:27', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10052, 'YX537R', '悦欣电子', '七色灯泡', 'FzpVZ9unsUvU', 'tcp', '验证(beta)', 'adabeebe0c804da2a97fe722b47fe6fd', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', 'FzpVZ9unsUvU', 'GATEWAY_SUB_DEVICE', 'lWAUlCmM53UF', 'top,huanbao', NULL, 'demo', NULL, 'iotdb', '{\"properties\":[{\"id\":\"currentLightColor\",\"maxStorage\":\"10000\"},{\"id\":\"powerSupplyVoltage\",\"maxStorage\":\"10000\"},{\"id\":\"currentFlashMode\",\"maxStorage\":\"10000\"}],\"event\":[{\"id\":\"online\",\"maxStorage\":\"10000\"}]}', 'modbus', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1761203014039.jpg\",\"detail\":\"https://www.yxin18.com/product/product-60-972.html\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"设备上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"设备下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"commErrorAlarm\", \"name\": \"485通信异常告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"lightFaultAlarm\", \"name\": \"灯光故障告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"powerAbnormalAlarm\", \"name\": \"供电异常告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\"}}], \"functions\": [{\"id\": \"controlLight\", \"name\": \"控制灯光状态\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"lightColor\", \"name\": \"灯光颜色\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"红灯\", \"value\": \"1\"}, {\"text\": \"黄灯\", \"value\": \"2\"}, {\"text\": \"绿灯\", \"value\": \"3\"}, {\"text\": \"白灯\", \"value\": \"4\"}, {\"text\": \"蓝灯\", \"value\": \"5\"}, {\"text\": \"青灯\", \"value\": \"6\"}, {\"text\": \"紫灯\", \"value\": \"7\"}, {\"text\": \"不亮灯\", \"value\": \"0\"}]}}, {\"id\": \"flashMode\", \"name\": \"闪灯方式\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"常亮\", \"value\": \"4\"}, {\"text\": \"慢闪\", \"value\": \"5\"}, {\"text\": \"爆闪\", \"value\": \"6\"}]}}], \"output\": {}}, {\"id\": \"queryLightState\", \"name\": \"查询灯光状态\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"设备485地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}], \"output\": {}}, {\"id\": \"queryOnlineDevice\", \"name\": \"查询在线设备\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}], \"output\": {}}, {\"id\": \"cmd\", \"name\": \"Modbus指令透传\", \"config\": false, \"inputs\": [{\"id\": \"hexCmd\", \"name\": \"十六进制指令\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"output\": {\"id\": \"cmdResponse\", \"name\": \"指令响应\", \"valueType\": {\"type\": \"string\"}}}], \"properties\": [{\"id\": \"device485Addr\", \"mode\": \"rw\", \"name\": \"设备485地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"max\": \"255\", \"min\": \"0\", \"maxLength\": \"3\"}}, \"description\": \"设备在485总线上的唯一地址，默认值为01\"}, {\"id\": \"serialBaudRate\", \"mode\": \"rw\", \"name\": \"串口波特率\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"4800\", \"value\": \"4800\"}, {\"text\": \"9600\", \"value\": \"9600\"}, {\"text\": \"19200\", \"value\": \"19200\"}, {\"text\": \"38400\", \"value\": \"38400\"}, {\"text\": \"57600\", \"value\": \"57600\"}, {\"text\": \"115200\", \"value\": \"115200\"}, {\"text\": \"256000\", \"value\": \"256000\"}, {\"text\": \"35250\", \"value\": \"35250\"}]}, \"description\": \"串口通信波特率，默认值为9600，修改后需复位生效\"}, {\"id\": \"alarmVolume\", \"mode\": \"rw\", \"name\": \"报警音量\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": \"100\", \"min\": \"0\"}}, \"description\": \"报警语音的音量大小，默认值为30\"}, {\"id\": \"currentLightColor\", \"mode\": \"r\", \"name\": \"当前灯光颜色\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"红灯\", \"value\": \"1\"}, {\"text\": \"黄灯\", \"value\": \"2\"}, {\"text\": \"绿灯\", \"value\": \"3\"}, {\"text\": \"白灯\", \"value\": \"4\"}, {\"text\": \"蓝灯\", \"value\": \"5\"}, {\"text\": \"青灯\", \"value\": \"6\"}, {\"text\": \"紫灯\", \"value\": \"7\"}, {\"text\": \"不亮灯\", \"value\": \"0\"}]}, \"description\": \"实时展示设备当前的灯光颜色状态\"}, {\"id\": \"currentFlashMode\", \"mode\": \"r\", \"name\": \"当前闪灯方式\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"常亮\", \"value\": \"4\"}, {\"text\": \"慢闪\", \"value\": \"5\"}, {\"text\": \"爆闪\", \"value\": \"6\"}, {\"text\": \"熄灭\", \"value\": \"0\"}]}, \"description\": \"实时展示设备当前的闪灯方式状态\"}, {\"id\": \"powerSupplyVoltage\", \"mode\": \"r\", \"name\": \"供电电压\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\", \"expands\": {\"max\": \"24\", \"min\": \"12\", \"precision\": \"1\"}}, \"description\": \"设备当前的输入供电电压，支持DC12V-24V\"}, {\"id\": \"protectionLevel\", \"mode\": \"r\", \"name\": \"防护等级\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备的防护等级，固定为IPX54\"}, {\"id\": \"firmwareVersion\", \"mode\": \"r\", \"name\": \"固件版本\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"设备的固件版本号，默认对应说明书版本V1.0\"}, {\"id\": \"commStatus\", \"mode\": \"r\", \"name\": \"485通信状态\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"正常\", \"value\": \"1\"}, {\"text\": \"异常\", \"value\": \"0\"}]}, \"description\": \"实时展示设备485串口通信的连接状态\"}]}', '2027-10-23 15:03:08', '0', 0, NULL, '2025-11-22 13:47:52', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10069, 'YX75R', '悦欣电子', '三色声光报警器（巨响）', 'mVnhk9Vk40Ga', 'tcp', '工业场景', '2e1ad88973ac4eb0a7916148bee3efef', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'GATEWAY_SUB_DEVICE', '9r08rFICF3bo', NULL, NULL, 'nexiot', NULL, 'mysql', '{\"properties\":[{\"id\":\"alarmVolume\",\"maxStorage\":\"10000\"},{\"id\":\"currentPlayState\",\"maxStorage\":\"10000\"}],\"event\":[]}', 'modbus', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1761989932692.png\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"设备上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"设备下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"commErrorAlarm\", \"name\": \"485通信异常告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"lightFaultAlarm\", \"name\": \"灯光故障告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"powerAbnormalAlarm\", \"name\": \"供电异常告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\"}}, {\"id\": \"audioPlayError\", \"name\": \"语音播放异常告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [{\"id\": \"playByFolderFile\", \"name\": \"指定文件夹文件名播放\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"folderNum\", \"name\": \"文件夹编号\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 99, \"min\": 1}}}, {\"id\": \"fileNum\", \"name\": \"文件编号\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 255, \"min\": 1}}}, {\"id\": \"lightCtrlCode\", \"name\": \"警灯控制码\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"随播放爆闪（播放后熄灭）\", \"value\": \"00\"}, {\"text\": \"随播放常亮（播放后熄灭）\", \"value\": \"20\"}, {\"text\": \"随播放爆闪（播放后保持）\", \"value\": \"40\"}]}}], \"output\": {}}, {\"id\": \"controlPlayNextPrev\", \"name\": \"下一曲/上一曲控制\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"controlType\", \"name\": \"控制类型\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"下一曲\", \"value\": \"01\"}, {\"text\": \"上一曲\", \"value\": \"02\"}]}}], \"output\": {}}, {\"id\": \"playByRootSeq\", \"name\": \"根目录指定顺序曲目播放\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"seqNum\", \"name\": \"物理顺序号\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 3000, \"min\": 1}}}, {\"id\": \"lightCtrlCode\", \"name\": \"警灯控制码\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"随播放默认\", \"value\": \"00\"}, {\"text\": \"随播放常亮\", \"value\": \"20\"}, {\"text\": \"播放后爆闪保持\", \"value\": \"30\"}]}}], \"output\": {}}, {\"id\": \"adjustVolumeStep\", \"name\": \"音量步进调节\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"adjustType\", \"name\": \"调节类型\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"音量加\", \"value\": \"04\"}, {\"text\": \"音量减\", \"value\": \"05\"}]}}], \"output\": {}}, {\"id\": \"setVolumeLevel\", \"name\": \"指定音量设置\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"volumeLevel\", \"name\": \"音量等级\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 90, \"min\": 0}}}], \"output\": {}}, {\"id\": \"loopSingleTrack\", \"name\": \"单曲循环指定曲目\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"trackNum\", \"name\": \"曲目编号\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 3000, \"min\": 1}}}], \"output\": {}}, {\"id\": \"setPlayDevice\", \"name\": \"指定播放设备\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"deviceType\", \"name\": \"设备类型\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"U盘\", \"value\": \"01\"}, {\"text\": \"FLASH\", \"value\": \"04\"}]}}], \"output\": {}}, {\"id\": \"setSerialBaudRate\", \"name\": \"设定串口波特率\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"baudCode\", \"name\": \"波特率编码\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"4800\", \"value\": \"09\"}, {\"text\": \"9600\", \"value\": \"01\"}, {\"text\": \"19200\", \"value\": \"02\"}, {\"text\": \"38400\", \"value\": \"03\"}, {\"text\": \"57600\", \"value\": \"04\"}, {\"text\": \"115200\", \"value\": \"05\"}, {\"text\": \"256000\", \"value\": \"06\"}, {\"text\": \"35250\", \"value\": \"07\"}]}}], \"output\": {}}, {\"id\": \"resetChip\", \"name\": \"芯片复位\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}], \"output\": {}}, {\"id\": \"controlPlayPause\", \"name\": \"播放/暂停控制\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"controlType\", \"name\": \"控制类型\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"播放\", \"value\": \"0D\"}, {\"text\": \"暂停\", \"value\": \"0E\"}]}}], \"output\": {}}, {\"id\": \"loopPlayByFolderFile\", \"name\": \"指定文件夹文件循环播放\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"folderNum\", \"name\": \"文件夹编号\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 99, \"min\": 1}}}, {\"id\": \"fileNum\", \"name\": \"文件编号\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 255, \"min\": 1}}}], \"output\": {}}, {\"id\": \"controlAllTracksLoop\", \"name\": \"全部曲目循环控制\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"loopSwitch\", \"name\": \"循环开关\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开启循环\", \"value\": \"01\"}, {\"text\": \"关闭循环\", \"value\": \"00\"}]}}], \"output\": {}}, {\"id\": \"stopCurrentPlay\", \"name\": \"停止当前播放\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}], \"output\": {}}, {\"id\": \"loopPlayByFolder\", \"name\": \"指定文件夹循环播放\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"folderNum\", \"name\": \"文件夹编号\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 99, \"min\": 1}}}], \"output\": {}}, {\"id\": \"controlRandomPlay\", \"name\": \"随机播放控制\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}], \"output\": {}}, {\"id\": \"controlCurrentTrackLoop\", \"name\": \"当前曲目循环控制\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"loopSwitch\", \"name\": \"循环开关\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"开启循环\", \"value\": \"00\"}, {\"text\": \"关闭循环\", \"value\": \"01\"}]}}], \"output\": {}}, {\"id\": \"setDevice485Addr\", \"name\": \"设定设备485地址\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"当前从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"newAddr\", \"name\": \"新地址\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 254, \"min\": 1}}}], \"output\": {}}, {\"id\": \"controlLightAlone\", \"name\": \"单独控制D1警灯\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}, {\"id\": \"lightMode\", \"name\": \"警灯模式\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"爆闪\", \"value\": \"03\"}, {\"text\": \"慢闪\", \"value\": \"04\"}, {\"text\": \"常亮\", \"value\": \"05\"}, {\"text\": \"关闭\", \"value\": \"06\"}]}}], \"output\": {}}, {\"id\": \"queryPlayState\", \"name\": \"查询播放状态\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}], \"output\": {\"id\": \"playState\", \"name\": \"播放状态\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"停止\", \"value\": \"00\"}, {\"text\": \"播放\", \"value\": \"01\"}, {\"text\": \"暂停\", \"value\": \"02\"}]}}}, {\"id\": \"queryCurrentVolume\", \"name\": \"查询当前音量\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}], \"output\": {\"id\": \"currentVolume\", \"name\": \"当前音量\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 90, \"min\": 0}}}}, {\"id\": \"queryAudioLightState\", \"name\": \"查询声光状态\", \"config\": false, \"inputs\": [{\"id\": \"slaveAddress\", \"name\": \"从站地址\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"3\"}}}], \"output\": {\"id\": \"audioLightInfo\", \"name\": \"声光状态\", \"valueType\": {\"type\": \"object\", \"properties\": {\"audioState\": {\"type\": \"string\"}, \"lightState\": {\"type\": \"string\"}}}}}], \"properties\": [{\"id\": \"device485Addr\", \"mode\": \"rw\", \"name\": \"设备485地址\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 254, \"min\": 1}}, \"description\": \"默认01，对应指令0xC0\"}, {\"id\": \"serialBaudRate\", \"mode\": \"rw\", \"name\": \"串口波特率\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"4800\", \"value\": \"4800\"}, {\"text\": \"9600\", \"value\": \"9600\"}, {\"text\": \"19200\", \"value\": \"19200\"}, {\"text\": \"38400\", \"value\": \"38400\"}, {\"text\": \"57600\", \"value\": \"57600\"}, {\"text\": \"115200\", \"value\": \"115200\"}, {\"text\": \"256000\", \"value\": \"256000\"}, {\"text\": \"35250\", \"value\": \"35250\"}]}, \"description\": \"默认9600，对应指令0x0B，修改后需复位\"}, {\"id\": \"alarmVolume\", \"mode\": \"rw\", \"name\": \"报警音量\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 90, \"min\": 0}}, \"description\": \"默认30，对应指令0x06\"}, {\"id\": \"currentPlayState\", \"mode\": \"r\", \"name\": \"当前播放状态\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"停止\", \"value\": \"00\"}, {\"text\": \"播放\", \"value\": \"01\"}, {\"text\": \"暂停\", \"value\": \"02\"}]}, \"description\": \"对应查询指令0x42\"}, {\"id\": \"currentFileSeq\", \"mode\": \"r\", \"name\": \"当前曲目顺序号\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 3000, \"min\": 0}}, \"description\": \"对应查询指令0x4D\"}, {\"id\": \"currentLightMode\", \"mode\": \"r\", \"name\": \"当前警灯模式\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"爆闪\", \"value\": \"03\"}, {\"text\": \"慢闪\", \"value\": \"04\"}, {\"text\": \"常亮\", \"value\": \"05\"}, {\"text\": \"关闭\", \"value\": \"06\"}]}, \"description\": \"对应指令0xC2及查询指令0x70\"}, {\"id\": \"totalFileCount\", \"mode\": \"r\", \"name\": \"总文件数\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": 3000, \"min\": 0}}, \"description\": \"对应查询指令0x49\"}, {\"id\": \"powerSupplyVoltage\", \"mode\": \"r\", \"name\": \"供电电压\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"V\", \"expands\": {\"max\": 24, \"min\": 12, \"precision\": 1}}, \"description\": \"DC12-24V，对应文档2.2\"}, {\"id\": \"protectionLevel\", \"mode\": \"r\", \"name\": \"防护等级\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"固定IPX65，对应文档2.2\"}, {\"id\": \"audioFormat\", \"mode\": \"r\", \"name\": \"支持音频格式\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"MP3（≤192Kbps）、WAV，对应文档2.2\"}, {\"id\": \"memoryCapacity\", \"mode\": \"r\", \"name\": \"内存容量\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"默认4M闪存，对应文档2.2\"}, {\"id\": \"firmwareVersion\", \"mode\": \"r\", \"name\": \"固件版本\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}, \"description\": \"V1.3，对应文档10\"}, {\"id\": \"commStatus\", \"mode\": \"r\", \"name\": \"485通信状态\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"正常\", \"value\": \"1\"}, {\"text\": \"异常\", \"value\": \"0\"}]}, \"description\": \"基于报文交互结果判断\"}]}', '2025-11-01 13:40:45', '0', 0, NULL, '2025-11-22 18:41:05', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10072, 'inner_wvp_123', '开源wvp', 'WVP国标视频', 'inner_wvp_123', 'wvp', '智慧城市', NULL, '{\"endpoint\":\"http://192.168.31.100:18080\",\"auth\":\"{\\\"endpoint\\\":\\\"http://192.168.31.100:18080\\\",\\\"token\\\":\\\"eyJhbGciOiJSUzI1NiIsImtpZCI6IjNlNzk2NDZjNGRiYzQwODM4M2E5ZWVkMDlmMmI4NWFlIn0.eyJqdGkiOiJMLUI4cXBqUDdWdlU4VzFjbVU4bWpBIiwiaWF0IjoxNzYyNDI2MzYxLCJleHAiOjEwNTc0NzM0NjkxNDgwOSwibmJmIjoxNzYyNDI2MzYxLCJzdWIiOiJsb2dpbiIsImF1ZCI6IkF1ZGllbmNlIiwidXNlck5hbWUiOiJhZG1pbiIsImFwaUtleUlkIjoxfQ.YK1dbexi66p8dbztPsTWpG2r5pb8gGebH59A-tYZKPqrLstLC6KhiYtPBoB_KItc-OBdlEQDpL5mZAtYgYY-ogS4JwTpOzgvOUh8mbEa68tdiughRrSohO5O43kUF67iwmEk9XalA0OpuOLTZPFcElApAiwUULtWz21AYOU17kFtkQ4AXvugDpOgRDmhHVpAvxW7bMbq70BroieO2iYNVtfCNS-qEWmA7zG0nDiQY3kk4mX7ftVg5IrCnS8xD5vg0GBq3mib06UaagWUFJ10I8vIe5smAQOe2s96aKuT88y_Ok43xVdsAkCS9pO9qjFKRz-aXHnb6zZmMBwaL3KcSQ\\\",\\\"version\\\":\\\"v1\\\"}\",\"options\":\"{\\\"subscription\\\":{\\\"topics\\\":[],\\\"callback\\\":\\\"\\\"}}\",\"version\":\"v1\",\"customField\":[],\"instanceKey\":\"inner_wvp_123\"}', '101', NULL, NULL, 'VIDEO_DEVICE', NULL, NULL, NULL, 'nexiot', NULL, 'mysql', NULL, '以太网', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1762762610493.png\",\"detail\":\"\"}', '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"设备上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"设备下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[{\"id\":\"cameraLiveStream\",\"name\":\"实时预览\",\"config\":false,\"inputs\":[{\"id\":\"deviceId\",\"name\":\"设备ID\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"channelId\",\"name\":\"通道ID\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"streamType\",\"name\":\"码流类型\",\"valueType\":{\"type\":\"enum\",\"elements\":[{\"text\":\"主码流\",\"value\":\"main\"},{\"text\":\"子码流\",\"value\":\"sub\"}]}}],\"output\":{}},{\"id\":\"cameraTurn\",\"name\":\"云台控制\",\"config\":false,\"inputs\":[{\"id\":\"deviceId\",\"name\":\"设备ID\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"channelId\",\"name\":\"通道ID\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"command\",\"name\":\"控制命令\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"speed\",\"name\":\"速度\",\"valueType\":{\"type\":\"int\"}}],\"output\":{}},{\"id\":\"cameraPlayback\",\"name\":\"录像回放\",\"config\":false,\"inputs\":[{\"id\":\"deviceId\",\"name\":\"设备ID\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"channelId\",\"name\":\"通道ID\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"startTime\",\"name\":\"开始时间\",\"valueType\":{\"type\":\"long\"}},{\"id\":\"endTime\",\"name\":\"结束时间\",\"valueType\":{\"type\":\"long\"}}],\"output\":{}},{\"id\":\"cameraSnapshot\",\"name\":\"抓拍\",\"config\":false,\"inputs\":[{\"id\":\"deviceId\",\"name\":\"设备ID\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"channelId\",\"name\":\"通道ID\",\"valueType\":{\"type\":\"string\"}}],\"output\":{}},{\"id\":\"queryRecords\",\"name\":\"查询录像\",\"config\":false,\"inputs\":[{\"id\":\"deviceId\",\"name\":\"设备ID\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"channelId\",\"name\":\"通道ID\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"startTime\",\"name\":\"开始时间\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"endTime\",\"name\":\"结束时间\",\"valueType\":{\"type\":\"string\"}}],\"output\":{}},{\"id\":\"queryCloudRecords\",\"name\":\"查询云端录像\",\"config\":false,\"inputs\":[{\"id\":\"app\",\"name\":\"应用名\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"stream\",\"name\":\"流ID\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"page\",\"name\":\"页码\",\"valueType\":{\"type\":\"int\"}},{\"id\":\"count\",\"name\":\"每页数量\",\"valueType\":{\"type\":\"int\"}}],\"output\":{}},{\"id\":\"loadCloudRecord\",\"name\":\"加载云端录像\",\"config\":false,\"inputs\":[{\"id\":\"app\",\"name\":\"应用名\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"stream\",\"name\":\"流ID\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"cloudRecordId\",\"name\":\"录像ID\",\"valueType\":{\"type\":\"int\"}}],\"output\":{}}],\"properties\":[{\"id\":\"deviceStatus\",\"mode\":\"r\",\"name\":\"设备状态\",\"config\":false,\"source\":\"device\",\"valueType\":{\"type\":\"enum\",\"elements\":[{\"text\":\"在线\",\"value\":\"online\"},{\"text\":\"离线\",\"value\":\"offline\"}]}},{\"id\":\"manufacturer\",\"mode\":\"r\",\"name\":\"厂商\",\"config\":false,\"source\":\"device\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"model\",\"mode\":\"r\",\"name\":\"型号\",\"config\":false,\"source\":\"device\",\"valueType\":{\"type\":\"string\"}}]}', '2026-11-09 12:25:10', '0', 0, NULL, '2025-11-22 18:41:09', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10081, '4G-电瓶车', '卓比物联', '4G-JT808定位器', 'jt808', 'tcp', '智慧城市', 'e214a5dfa07c48c692443651665dea18', '{\"customField\":[]}', '101', '{\"allowInsert\":true,\"alwaysPreDecode\":\"\",\"byteOrderLittle\":\"\",\"decoderType\":\"HEX\",\"enabled\":true,\"encoderType\":\"HEX\",\"failFast\":\"\",\"isGps\":true,\"onlyCache\":\"\",\"parserType\":\"JT808\",\"preStore\":\"\",\"requireDownShadow\":\"\",\"requirePayload\":\"\",\"requireUpShadow\":\"\",\"saveFunctionParam\":\"\",\"allIdleTime\":600,\"readerIdleTime\":600,\"writerIdleTime\":600,\"readTimeout\":600,\"sendTimeout\":600}', 'jt808', 'DEVICE', NULL, 'top', NULL, 'demo', NULL, 'iotdb', '{\"properties\":[{\"id\":\"currentLat\",\"maxStorage\":\"10000\"},{\"id\":\"currentLng\",\"maxStorage\":\"10000\"},{\"id\":\"currentSpeed\",\"maxStorage\":\"10000\"},{\"id\":\"currentDirection\",\"maxStorage\":\"10000\"},{\"id\":\"drivingState\",\"maxStorage\":\"10000\"},{\"id\":\"gnssState\",\"maxStorage\":\"10000\"},{\"id\":\"mileage\",\"maxStorage\":\"10000\"},{\"id\":\"accState\",\"maxStorage\":\"10000\"},{\"id\":\"signalStrength\",\"maxStorage\":\"10000\"},{\"id\":\"fuel\",\"maxStorage\":\"10000\"},{\"id\":\"recorderSpeed\",\"maxStorage\":\"10000\"},{\"id\":\"gnssCount\",\"maxStorage\":\"10000\"},{\"id\":\"altitude\",\"maxStorage\":\"10000\"},{\"id\":\"currentDirectionDesc\",\"maxStorage\":\"10000\"},{\"id\":\"coordinates\",\"maxStorage\":\"10000\"},{\"id\":\"locationInfo\",\"maxStorage\":\"10000\"},{\"id\":\"batteryPercent\",\"maxStorage\":\"9991\"}],\"event\":[]}', 'tcp', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1762994362877.png\",\"detail\":\"\"}', '{\"tags\": [{\"key\": \"protocolVersion\", \"value\": \"JT/T 808-2013\"}, {\"key\": \"parseLogicAligned\", \"value\": \"与decode函数字段完全对齐\"}, {\"key\": \"deviceType\", \"value\": \"定位终端（KG12型号）\"}], \"events\": [{\"id\": \"online\", \"name\": \"设备上线\", \"expands\": {\"level\": \"info\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含上线时间、终端手机号\", \"parseSource\": \"注册报文（0x0100）或心跳报文（0x0002）解析时触发，携带terminalPhone和时间\"}}, \"description\": \"终端注册或心跳上报时触发（解析自注册/心跳报文）\"}, {\"id\": \"offline\", \"name\": \"设备下线\", \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含下线时间、断开原因\", \"triggerSource\": \"业务层判断lastHeartbeatTime超时（如5分钟）触发，原因默认为\\\"无心跳\\\"\"}}, \"description\": \"终端长时间无心跳（业务层判断，基于lastHeartbeatTime超时）\"}, {\"id\": \"gnssFaultAlarm\", \"name\": \"GNSS定位故障告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"故障类型（模块故障/天线异常等）\", \"maxLength\": \"50\", \"parseSource\": \"位置报文（0x0200）报警标志bit5=天线未接，bit6=天线短路\"}}, \"description\": \"GNSS模块或天线异常时触发（解析自位置报文报警标志位bit5/bit6）\"}, {\"id\": \"overspeedAlarm\", \"name\": \"超速告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含当前速度、告警时间\", \"parseSource\": \"位置报文（0x0200）报警标志bit1=超速，携带currentSpeed和reportTime\"}}, \"description\": \"终端超速时触发（解析自位置报文报警标志位bit1）\"}, {\"id\": \"fatigueDrivingAlarm\", \"name\": \"疲劳驾驶告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含告警时间\", \"parseSource\": \"位置报文（0x0200）报警标志bit2=疲劳驾驶，携带reportTime\"}}, \"description\": \"终端检测到疲劳驾驶时触发（解析自位置报文报警标志位bit2）\"}, {\"id\": \"powerAbnormalAlarm\", \"name\": \"供电异常告警\", \"config\": false, \"expands\": {\"level\": \"warn\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含异常类型（欠压/掉电）、告警时间\", \"parseSource\": \"位置报文（0x0200）报警标志bit7=欠压，bit8=掉电，携带reportTime\"}}, \"description\": \"终端供电欠压或掉电时触发（解析自位置报文报警标志位bit7/bit8）\"}, {\"id\": \"decodeFail\", \"name\": \"报文解析失败\", \"config\": false, \"expands\": {\"level\": \"error\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含原始报文、错误原因\", \"parseSource\": \"decode函数捕获异常时触发，携带sourcePayload和errorMsg\"}}, \"description\": \"终端上报报文格式错误或校验失败时触发（解析函数catch块）\"}, {\"id\": \"batchLocationReport\", \"name\": \"批量位置数据上报\", \"config\": false, \"expands\": {\"level\": \"info\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"包含批量数据项数量、位置类型、上报时间\", \"parseSource\": \"批量位置报文（0x0704）解析时触发，携带batchDataItemCount、batchLocationType、batchLocations\"}}, \"description\": \"终端批量上传多条位置数据时触发（解析自0x0704报文）\"}], \"modelId\": \"jt808_terminal_aligned_v1.0\", \"protocol\": \"JT/T 808-2013（卓比物联）\", \"functions\": [{\"id\": \"deviceConfig\", \"name\": \"设置终端参数（不可用）\", \"config\": false, \"inputs\": [{\"id\": \"terminalPhone\", \"name\": \"终端手机号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"fId\", \"name\": \"控制类型\", \"valueType\": {\"type\": \"enum\", \"elements\": [{\"text\": \"0001-终端心跳间隔（秒）\", \"value\": \"0001\"}, {\"text\": \"0002-TCP应答超时时间（秒）\", \"value\": \"0002\"}, {\"text\": \"0003-TCP重传次数\", \"value\": \"0003\"}, {\"text\": \"0018-主服务器TCP端口\", \"value\": \"0018\"}, {\"text\": \"0020-位置汇报策略\", \"value\": \"0020\"}, {\"text\": \"0021-位置汇报方案\", \"value\": \"0021\"}, {\"text\": \"0027-休眠时汇报间隔（秒）\", \"value\": \"0027\"}, {\"text\": \"0028-紧急报警汇报间隔（秒）\", \"value\": \"0028\"}, {\"text\": \"0029-缺省时间汇报间隔（秒）\", \"value\": \"0029\"}, {\"text\": \"002C-缺省距离汇报间隔（米）\", \"value\": \"002C\"}, {\"text\": \"0030-拐点补传角度（度）\", \"value\": \"0030\"}, {\"text\": \"0031-电子围栏半径（米）\", \"value\": \"0031\"}, {\"text\": \"0055-超速阈值（km/h）\", \"value\": \"0055\"}, {\"text\": \"0056-超速持续时间（秒）\", \"value\": \"0056\"}, {\"text\": \"F109-油电状态控制\", \"value\": \"F109\"}, {\"text\": \"F110-GPS定位间隔（秒）\", \"value\": \"F110\"}, {\"text\": \"F117-休眠触发时间（分钟）\", \"value\": \"F117\"}, {\"text\": \"F161-车辆启动电压阈值（0.1V）\", \"value\": \"F161\"}, {\"text\": \"F163-网络定位间隔（秒）\", \"value\": \"F163\"}, {\"text\": \"F100-防拆报警开关\", \"value\": \"F100\"}, {\"text\": \"F102-低电报警开关\", \"value\": \"F102\"}, {\"text\": \"F103-远程升级开关\", \"value\": \"F103\"}, {\"text\": \"F105-LOG上传开关\", \"value\": \"F105\"}, {\"text\": \"F106-关机报警开关\", \"value\": \"F106\"}, {\"text\": \"F107-定位模式\", \"value\": \"F107\"}, {\"text\": \"F108-监听开关\", \"value\": \"F108\"}, {\"text\": \"F111-设备灯控制\", \"value\": \"F111\"}, {\"text\": \"F112-震动报警阈值\", \"value\": \"F112\"}, {\"text\": \"F113-运动判定速度（km/h）\", \"value\": \"F113\"}, {\"text\": \"F114-声控录音开关\", \"value\": \"F114\"}, {\"text\": \"F115-实时上传模式\", \"value\": \"F11\"}, {\"text\": \"F116-设备语言\", \"value\": \"F116\"}, {\"text\": \"F119-运动判定灵敏度\", \"value\": \"F119\"}, {\"text\": \"F121-定制定位模式\", \"value\": \"F121\"}, {\"text\": \"F141-休眠后动作\", \"value\": \"F141\"}, {\"text\": \"F142-时区设置\", \"value\": \"F142\"}, {\"text\": \"F145-MIC录音开关\", \"value\": \"F145\"}, {\"text\": \"F146-定位数据延时上传开关\", \"value\": \"F146\"}, {\"text\": \"F152-设防模式\", \"value\": \"F152\"}, {\"text\": \"F154-静止时定位上报开关\", \"value\": \"F154\"}, {\"text\": \"F155-基站/WiFi信息上报开关\", \"value\": \"F155\"}, {\"text\": \"F156-当前协议版本\", \"value\": \"F156\"}, {\"text\": \"F157-ACC上电报警开关\", \"value\": \"F157\"}, {\"text\": \"F158-LOG上报等级\", \"value\": \"F158\"}, {\"text\": \"F159-低电模式开关\", \"value\": \"F159\"}, {\"text\": \"F160-关机锁开关\", \"value\": \"F160\"}, {\"text\": \"F164-计步功能开关\", \"value\": \"F164\"}, {\"text\": \"F166-呼吸灯开关\", \"value\": \"F166\"}, {\"text\": \"F167-定位优先级\", \"value\": \"F167\"}, {\"text\": \"0010-主服务器APN\", \"value\": \"0010\"}, {\"text\": \"0011-APN用户名\", \"value\": \"0011\"}, {\"text\": \"0012-APN密码\", \"value\": \"0012\"}, {\"text\": \"0013-主服务器地址\", \"value\": \"0013\"}, {\"text\": \"0040-监控平台电话号码\", \"value\": \"0040\"}, {\"text\": \"0041-复位电话号码\", \"value\": \"0041\"}, {\"text\": \"0042-恢复出厂设置电话号码\", \"value\": \"0042\"}, {\"text\": \"0048-监听电话号码\", \"value\": \"0048\"}, {\"text\": \"0083-车牌号码\", \"value\": \"0083\"}, {\"text\": \"0084-车牌颜色\", \"value\": \"0084\"}, {\"text\": \"F115-时间/距离间隔\", \"value\": \"F115\"}, {\"text\": \"F121-定位时间/间隔\", \"value\": \"F121\"}]}}, {\"id\": \"fValue\", \"name\": \"控制值\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"output\": {}, \"description\": \"平台下发终端参数设置指令\"}, {\"id\": \"queryLocation\", \"name\": \"查询实时位置\", \"config\": false, \"inputs\": [{\"id\": \"terminalPhone\", \"name\": \"终端手机号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}], \"output\": {}, \"description\": \"平台下发位置查询指令（0x8201），解析逻辑对应buildQueryLocationCmd函数\"}, {\"id\": \"cmd\", \"name\": \"指令透传\", \"config\": false, \"inputs\": [{\"id\": \"hexCmd\", \"name\": \"透传数据（十六进制）\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"100\"}}}], \"output\": {}, \"description\": \"平台下发透传指令（0x8900），解析逻辑对应buildTransparentCmd函数\"}, {\"id\": \"sendTextMessage\", \"name\": \"文本信息下发\", \"config\": false, \"inputs\": [{\"id\": \"terminalPhone\", \"name\": \"终端手机号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}, {\"id\": \"textMessage\", \"name\": \"文本信息\", \"valueType\": {\"type\": \"string\", \"expands\": {\"desc\": \"最长102字节，GBK编码\", \"maxLength\": \"102\"}}}, {\"id\": \"flag\", \"name\": \"标志位\", \"valueType\": {\"type\": \"int\", \"expands\": {\"desc\": \"bit0=紧急(1), bit2=显示器显示(4), bit3=TTS播读(8), bit4=广告屏显示(16)，可组合使用\"}}}], \"output\": {}, \"description\": \"平台下发文本信息指令（0x8300，JT/T 808-2013 3.9），解析逻辑对应buildTextMessageCmd函数\"}, {\"id\": \"restart\", \"name\": \"一键重启\", \"config\": false, \"inputs\": [{\"id\": \"terminalPhone\", \"name\": \"终端手机号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"12\"}}}], \"output\": {}}], \"modelName\": \"JT808定位终端物模型（解析对齐版）\", \"properties\": [{\"id\": \"terminalPhone\", \"mode\": \"r\", \"name\": \"终端手机号\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"regex\": \"^\\\\d{12}$\", \"maxLength\": \"12\", \"minLength\": \"12\", \"parseSource\": \"消息头BCD[6]字段，经bcdToPhone函数转义\"}}, \"description\": \"终端唯一标识，6字节BCD编码（12位纯数字，解析自消息头8-20位）\"}, {\"id\": \"terminalModel\", \"mode\": \"r\", \"name\": \"终端型号\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"20\", \"parseSource\": \"终端注册报文（0x0100）消息体，经hexToAscii函数转义\"}}, \"description\": \"终端硬件型号（20字节ASCII编码，解析自注册报文消息体18-58位）\"}, {\"id\": \"terminalId\", \"mode\": \"r\", \"name\": \"终端ID\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"7\", \"minLength\": \"7\", \"parseSource\": \"终端注册报文（0x0100）消息体，经hexToAscii函数转义\"}}, \"description\": \"终端IMEI后7位（ASCII编码，解析自注册报文消息体58-72位）\"}, {\"id\": \"manufacturerId\", \"mode\": \"r\", \"name\": \"制造商ID\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"5\", \"parseSource\": \"终端注册报文（0x0100）消息体，经hexToAscii函数转义\"}}, \"description\": \"终端制造商编码（5字节ASCII，解析自注册报文消息体8-18位）\"}, {\"id\": \"currentSpeed\", \"mode\": \"r\", \"name\": \"当前速度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"km/h\"}, \"description\": \"终端移动速度（精确到0.1km/h，解析自位置报文消息体36-40位）\"}, {\"id\": \"currentDirection\", \"mode\": \"r\", \"name\": \"行驶方向\", \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": \"359\", \"min\": \"0\", \"unit\": \"°\", \"parseSource\": \"位置报文（0x0200）方向字段（WORD），直接转十进制\"}}, \"description\": \"终端行驶方向（0-359°，解析自位置报文消息体40-44位）\"}, {\"id\": \"currentDirectionDesc\", \"mode\": \"r\", \"name\": \"方向描述\", \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"expands\": {\"parseSource\": \"基于方向角度计算（0°-22°=北，23°-67°=东北，依此类推）\"}, \"elements\": [{\"text\": \"北\", \"value\": \"北\"}, {\"text\": \"东北\", \"value\": \"东北\"}, {\"text\": \"东\", \"value\": \"东\"}, {\"text\": \"东南\", \"value\": \"东南\"}, {\"text\": \"南\", \"value\": \"南\"}, {\"text\": \"西南\", \"value\": \"西南\"}, {\"text\": \"西\", \"value\": \"西\"}, {\"text\": \"西北\", \"value\": \"西北\"}]}, \"description\": \"行驶方向的文字描述（如\\\"东北\\\"、\\\"南\\\"等，根据方向角度映射）\"}, {\"id\": \"gnssState\", \"mode\": \"r\", \"name\": \"GNSS定位状态\", \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"expands\": {\"parseSource\": \"位置报文（0x0200）状态字段（DWORD）bit1，1=定位有效\"}, \"elements\": [{\"text\": \"未定位\", \"value\": \"0\"}, {\"text\": \"已定位\", \"value\": \"1\"}]}, \"description\": \"定位有效性（解析自位置报文状态位bit1）\"}, {\"id\": \"accState\", \"mode\": \"r\", \"name\": \"ACC状态\", \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"expands\": {\"parseSource\": \"位置报文（0x0200）状态字段（DWORD）bit0，1=ACC开\"}, \"elements\": [{\"text\": \"关闭\", \"value\": \"0\"}, {\"text\": \"开启\", \"value\": \"1\"}]}, \"description\": \"车辆ACC开关状态（解析自位置报文状态位bit0）\"}, {\"id\": \"drivingState\", \"mode\": \"r\", \"name\": \"行驶状态\", \"source\": \"device\", \"valueType\": {\"type\": \"enum\", \"expands\": {\"parseSource\": \"位置报文（0x0200）状态字段（DWORD）bit22，1=行驶中\"}, \"elements\": [{\"text\": \"停止\", \"value\": \"0\"}, {\"text\": \"行驶\", \"value\": \"1\"}]}, \"description\": \"终端行驶状态（解析自位置报文状态位bit22）\"}, {\"id\": \"activeAlarms\", \"mode\": \"r\", \"name\": \"当前激活告警\", \"source\": \"device\", \"valueType\": {\"type\": \"array\", \"expands\": {\"parseSource\": \"位置报文（0x0200）报警标志字段（DWORD），按位解析告警类型\", \"validAlarms\": [\"紧急报警\", \"超速告警\", \"疲劳驾驶告警\", \"GNSS天线未接告警\", \"GNSS天线短路告警\", \"主电源欠压告警\", \"主电源掉电告警\"]}, \"elements\": {\"type\": \"string\"}}, \"description\": \"终端当前未解除的告警列表（解析自位置报文报警标志位）\"}, {\"id\": \"registerTime\", \"mode\": \"r\", \"name\": \"注册时间\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"format\": \"yyyy-MM-dd HH:mm:ss\", \"parseSource\": \"终端注册报文（0x0100）解析成功时的系统时间\"}}, \"description\": \"终端首次注册上线时间（解析自注册报文解析时的系统时间）\"}, {\"id\": \"lastHeartbeatTime\", \"mode\": \"r\", \"name\": \"最后心跳时间\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"format\": \"yyyy-MM-dd HH:mm:ss\", \"parseSource\": \"终端心跳报文（0x0002）解析成功时的系统时间\"}}, \"description\": \"终端最后一次心跳上报时间（解析自心跳报文解析时的系统时间）\"}, {\"id\": \"mileage\", \"mode\": \"r\", \"name\": \"里程\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"km\", \"expands\": {\"parseSource\": \"位置报文附加信息ID 0x01，原始值单位0.1km，需除以10转换为km\"}}, \"description\": \"车辆总里程（单位：km，从附加信息ID 0x01解析，原始数据为0.1km单位，如100表示10km）\"}, {\"id\": \"fuel\", \"mode\": \"r\", \"name\": \"油量\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"L\"}, \"description\": \"车辆当前油量（从附加信息ID 0x02解析）\"}, {\"id\": \"recorderSpeed\", \"mode\": \"r\", \"name\": \"行驶记录仪速度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"km/h\"}, \"description\": \"行驶记录仪记录的车速（从附加信息ID 0x03解析）\"}, {\"id\": \"signalStrength\", \"mode\": \"r\", \"name\": \"信号强度\", \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": \"255\", \"min\": \"0\", \"parseSource\": \"位置报文附加信息ID 0x30，BYTE类型\"}}, \"description\": \"无线通信网络信号强度（从附加信息ID 0x30解析）\"}, {\"id\": \"gnssCount\", \"mode\": \"r\", \"name\": \"GNSS定位卫星数\", \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"expands\": {\"max\": \"255\", \"min\": \"0\", \"parseSource\": \"位置报文附加信息ID 0x31，BYTE类型\"}}, \"description\": \"GNSS定位使用的卫星数量（从附加信息ID 0x31解析）\"}, {\"id\": \"altitude\", \"mode\": \"r\", \"name\": \"海拔高度\", \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"expands\": {\"unit\": \"m\", \"parseSource\": \"位置报文（0x0200/0x0704）高程字段（WORD），直接转十进制\"}}, \"description\": \"当前位置的海拔高度（解析自位置报文消息体32-36位）\"}, {\"id\": \"locationInfo\", \"mode\": \"r\", \"name\": \"位置信息组合\", \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"expands\": {\"format\": \"经度#纬度#方向#速度#高度\", \"parseSource\": \"将经纬度、方向、速度、高度拼接成一个字段\"}}, \"description\": \"将经纬度、方向、速度、高度拼接成一个字段，格式为：经度#纬度#方向#速度#高度\"}, {\"id\": \"coordinates\", \"mode\": \"r\", \"name\": \"经纬度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"geoPoint\"}}, {\"id\": \"batteryPercent\", \"mode\": \"r\", \"name\": \"电池电量\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"%\"}, \"description\": \"终端电池电量百分比（0-100%，解析自0x0210报文消息体起始字节0\"}], \"manufacturer\": \"卓比物联\"}', '2026-11-13 08:38:04', '0', 0, NULL, '2025-11-28 14:42:10', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10082, 'asdwas', '橙视', '门禁考勤机', 'XM4XaGBKSJmt', 'mqtt', '智慧城市', '8e8a82a0ad3849908efde4df6ec948d2', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', 'XM4XaGBKSJmt', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'mqtt', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1763027149618.png\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [], \"properties\": [{\"id\": \"test\", \"mode\": \"r\", \"name\": \"1\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"db\"}, \"description\": \"1\"}]}', '2025-11-13 15:35:49', '0', 0, NULL, '2025-11-19 14:40:28', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10103, ' USR-G770', '有人', '有人DTU- G770网关（TCP）', '9r08rFICF3bo', 'tcp', '智慧城市', 'e6362c0f67494513b4478a067556fa89', '{\"customField\":[]}', '101', '{\"allowInsert\":true,\"enabled\":true,\"encoderType\":\"HEX\",\"decoderType\":\"HEX\",\"host\":\"0.0.0.0\",\"port\":19997}', '9r08rFICF3bo', 'GATEWAY', NULL, 'yiliao,yanglao,top,huanbao', NULL, 'nexiot', NULL, 'clickhouse', NULL, 'modbus', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1763797568442.png\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [], \"properties\": [{\"id\": \"imei\", \"mode\": \"r\", \"name\": \"IMEI\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"iccid\", \"mode\": \"r\", \"name\": \"ICCID\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"sn\", \"mode\": \"r\", \"name\": \"网关编号\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\"}}]}', '2029-07-24 13:33:42', '0', 0, NULL, '2025-11-22 19:13:18', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10108, 'ces', 'ce', 'ce', '8aAQRw0c9r0s', 'udp', '智慧城市', '95926f3b36a34cd79a97d843977c0738', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'udp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-23 13:50:55', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10109, 'abc123', 'test', 'test', '10pk5uCB5hIo', 'mqtt', '验证(beta)', '1e4a2cdd7e85474c8e43afb9f1d109c1', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', '68b10bfe8c2258015bfdb704', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-23 14:39:46', '0', 0, NULL, '2025-11-26 08:09:32', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10110, '1', '1', '1', 'KbCHL9LXXiOW', 'tcp', '工业场景', 'e2f1208d6e3b4f8994928784993afc63', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-23 21:36:30', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10111, 'eee', 'dd', 'Qq', 'tCAejwhtXLG6', 'tcp', '工业场景', 'dea3b118b7af402e8f2bb3f3e4d69324', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-23 23:26:20', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10112, '567', '7657', '465', 'MDlnp0SgYIkh', 'tcp', '智慧城市', '00593da95aa64b9db89bae048e65b9c2', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-24 08:54:09', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10113, '657', '56756', '567', 'yfTu1qi2gMr7', 'tcp', '智慧城市', '44d003616b5742c89a497d15264a9e8e', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-24 08:54:50', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10114, 'Demo', 'Test', 'Test', 'o7GmuYljIf0N', 'tcp', '工业场景', '0857959a981d416ebea1512a3520901c', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-24 11:50:40', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10115, 'ttt', 'tewt', 'test', 'c5jaAcou5rhp', 'mqtt', '工业场景', 'ec4184c48ece420fa6e3ceddb17e4ac9', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-24 15:33:47', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10116, 'demo', 'demo', 'demo', 'hX90QcGzHY6X', 'tcp', '智慧城市', 'e52b8068232c430693209755b0f5d301', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-24 20:36:02', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10117, '1123', '111', '4111', 'cETdqozuoQTN', 'tcp', '智慧城市', '7625d77ec3254c999d43630b9d78a76f', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'modbus', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-24 21:42:37', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10118, 'DN100', '测试', '测试', 'fEfaBXwMZ8qa', 'tcp', '智慧城市', 'b951c65d0b6a4559976c94138ae7e56b', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'clickhouse', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-25 12:00:13', '0', 0, NULL, '2025-11-25 12:04:22', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10119, '测试111111', '测试111111', '测试111111', 'G0ig9BHbKmD8', 'mqtt', '智慧城市', '02b50eeaefb943e8bf6dd4d021e4abca', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-25 16:33:25', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10121, 'xxxxxx', 'xxxx', '环境传感器测试', 'SEUQqIlEElfL', 'mqtt', '工业场景', 'd09a5f86f2f94b0da148d119dac8b32c', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-25 16:44:14', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10122, '测试', '测试', '测试', 'ZkE9WwN8HPvz', 'mqtt', '工业场景', 'd04bdcab5e32472982d9b484ab4b6e55', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [], \"properties\": [{\"id\": \"fengsu\", \"mode\": \"r\", \"name\": \"风速\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"N\"}}]}', '2025-11-25 21:01:45', '0', 0, NULL, '2025-11-25 21:03:47', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10123, 'dcvg', '单点', 'MQTT电表', 'TMfe4eMMoj7T', 'mqtt', '智慧城市', '269187aee61f4bb98104629e7f9f7409', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', '68b10bfe8c2258015bfdb704', 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-26 08:28:10', '0', 0, NULL, '2025-11-26 08:28:53', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10124, 'jdhwih', '凤凰男', 'MQTT水表', 'bsemS5reT7TB', 'mqtt', '智慧城市', 'fe3694c20346431fbe3ae4543e185905', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-26 08:29:38', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10125, 'frfrfr', '电表', 'MQTT电表', 'yaN0P0RUuXCi', 'mqtt', '智慧城市', '90001021af6a4bcb9ba1fc6261d99ba6', '{\"customField\":[{\"id\":\"appp\",\"name\":\"aaaaa\",\"description\":\"aaaa\"}],\"ext1Label\":\"aaaaa\",\"ext1LabelDes\":\"aaaa\"}', '101', '{\"allowInsert\":true}', '69268b0aa41e0f80fd94da62', 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [], \"properties\": []}', '2025-11-26 13:08:49', '0', 0, NULL, '2025-11-26 13:12:06', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10126, '123', '123', '打印机', 'GZrjrFybYJna', 'mqtt', '工业场景', '278a60c0c7894946a0396e016291fd79', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-26 13:37:24', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10127, 'aaaa', 'aa', 'testgwproduct', '1mUbGoopCle3', 'mqtt', '工业场景', '4fcbdadd9ef744a7ab77076b0f83a85d', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'modbus', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-26 15:56:36', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10128, 'ddd', 'dddd', 'dddd', 'TppVfGdRvAva', 'mqtt', '工业场景', '2c9ff0eb408e448fa0827f33229173ba', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'GATEWAY_SUB_DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'modbus', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-26 16:03:33', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10129, '111', '11', '11', 'vBCmeql73FZB', 'tcp', '智慧城市', 'a6a2826f92d9498cbf0240a586060fae', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'modbus', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-26 16:19:48', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10130, 'dsds', 'ds', 'vvvvvv', 'XHcp9t7L7qEW', 'mqtt', '智慧城市', '3f0f152a0fd049a191e95e29b215a06a', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-27 13:47:49', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10131, 'RH-SL1', '日海智能', '智能门锁', '3HDMokwSHZZq', 'ctaiot', '智能门锁', NULL, NULL, '101', '{\"masterKey\":\"5f69a1dc03c24b1baa774bbac524d669\",\"productId\":17270199,\"payloadFormat\":0,\"ttl\":86400,\"operator\":\"univ\",\"dataType\":2,\"downParaType\":0,\"requirePayload\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'ctaiot', NULL, '{\n  \"tags\": [],\n  \"events\": [\n    {\n      \"id\": \"online\",\n      \"name\": \"上线\",\n      \"valueType\": {\n        \"type\": \"string\"\n      }\n    },\n    {\n      \"id\": \"offline\",\n      \"name\": \"下线\",\n      \"valueType\": {\n        \"type\": \"string\"\n      }\n    }\n  ],\n  \"functions\": [],\n  \"properties\": [\n    {\n      \"id\": \"iccid\",\n      \"mode\": \"r\",\n      \"name\": \"ICCID\",\n      \"valueType\": {\n        \"type\": \"string\"\n      },\n      \"description\": \"ICCID\"\n    }\n  ]\n}\n', '2025-11-27 16:29:33', '0', 0, '{\"ctwingRequestData\":{\"ttl\":0,\"dataType\":0,\"nodeType\":0,\"accessType\":0,\"networkType\":0,\"productProtocol\":0,\"dataEncryption\":0,\"authType\":0,\"endpointFormat\":0,\"tupIsThrough\":0,\"payloadFormat\":0,\"powerModel\":0,\"productId\":\"RH-SL1\",\"pageNow\":0,\"pageSize\":0,\"publicProductId\":99000041},\"creatorId\":\"demo\",\"companyNo\":\"日海智能\",\"classifiedId\":\"101\",\"classifiedName\":\"智能门锁\",\"isGatewayProxy\":false,\"data\":{\"productId\":\"RH-SL1\",\"publicProductId\":99000041},\"cmd\":\"PUBPRO_ADD\",\"deviceReuse\":false,\"isAdmin\":false,\"allowInsert\":false}', NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10132, '111', '111', '11111', 'qfZB6XzbArzO', 'tcp', '智慧城市', 'a94a87db47504fa6a7a4434df25b76ab', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'custom', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-27 22:18:39', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10133, '2342', '海康', '温湿度', 'BI4cGh0yOEDj', 'tcp', '智慧城市', 'e764923fe472423ca0ab47e3250ae031', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-28 10:40:40', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10134, '2342', '海康', '温湿度', 'XmHJ28gLgglZ', 'tcp', '智慧城市', '3f769ed45f6f4fe19729d1b8967a6648', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-28 10:40:42', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10135, '2342', '海康', '温湿度', 'Jhf2UngM6NXt', 'tcp', '智慧城市', '24eff52f798445c7a7db733a20de64c3', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-28 10:40:43', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10136, '2342', '海康', '温湿度', 'grWsIB7mwPQE', 'tcp', '智慧城市', '0b1d7ef495d4420fa5fb1f5cd25525e2', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-28 10:40:43', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10137, '2342', '海康', '温湿度', '7GrwTGi6u4TJ', 'tcp', '智慧城市', 'bd305931d2ad4c53af497ac0b3d85e96', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'demo', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-11-28 10:40:43', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10138, 'NexIoTV2', 'NexIoT', '期望值', 'Ru871cfJjhoM', 'mqtt', '智慧城市', 'bf034e2da7db49589c71867702c7f4d6', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'nexiot', NULL, 'mysql', '{\"properties\":[{\"id\":\"temperture\",\"maxStorage\":\"1111\"},{\"id\":\"code\",\"maxStorage\":\"1111\"},{\"id\":\"humidity\",\"maxStorage\":\"1111\"}],\"event\":[]}', 'mqtt', NULL, '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"higher_temp\", \"name\": \"高温预警\", \"config\": false, \"expands\": {\"level\": \"urgent\"}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [{\"id\": \"coolDown\", \"name\": \"降温\", \"config\": false, \"inputs\": [{\"id\": \"waterLevel\", \"name\": \"浇水量\", \"valueType\": {\"type\": \"float\", \"unit\": \"cm³\", \"precision\": \"2\"}}], \"output\": {}, \"description\": \"水冷降温\"}, {\"id\": \"setDeviceDesiredProperties\", \"name\": \"设置期望值\", \"config\": false, \"inputs\": [{\"id\": \"code\", \"name\": \"编号\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"humidity\", \"name\": \"湿度\", \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"temperture\", \"name\": \"温度\", \"valueType\": {\"type\": \"float\", \"precision\": \"2\"}}], \"output\": {}}], \"properties\": [{\"id\": \"temperture\", \"mode\": \"r\", \"name\": \"外壳温度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"℃\"}, \"description\": \"设备外壳温度\"}, {\"id\": \"code\", \"mode\": \"rw\", \"name\": \"编号\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"unit\": \"km\"}}, {\"id\": \"humidity\", \"mode\": \"rw\", \"name\": \"湿度\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\"}}]}', '2025-11-30 14:43:39', '0', 0, NULL, '2025-11-30 17:42:12', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10139, 'test', 'test', 'test', 'VDscp2z6BPdL', 'tcp', '智慧城市', 'c145c833a75446bba5674282fee348f8', '{\"customField\":[]}', '101', '{\"allowInsert\":true,\"parserType\":\"DELIMITER\",\"enabled\":true,\"delimited\":\"\\\\r\",\"delimiter\":\"0D\"}', 'VDscp2z6BPdL', 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [{\"id\": \"function1\", \"name\": \"function1\", \"config\": false, \"inputs\": [{\"id\": \"var1\", \"name\": \"var1\", \"valueType\": {\"max\": \"100\", \"min\": \"1\", \"type\": \"int\", \"unit\": \"%\"}}], \"output\": {}}], \"properties\": [{\"id\": \"test1\", \"mode\": \"rw\", \"name\": \"test1\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"%\"}}]}', '2025-12-02 17:27:33', '0', 0, NULL, '2025-12-06 21:39:51', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10140, 'GoodGateway', 'Good', 'Good-GateWay', 'mBwfm6g7t38R', 'tcp', '工业场景', '2c174338b55442628f01636d34613e08', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'custom', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-03 10:42:35', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10142, '123', '123', '123', 'CjBLxjLzWhWx', 'mqtt', '工业场景', '54af2c7a9620493a9b50ea8e6c746104', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'GATEWAY_SUB_DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'modbus', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-03 17:17:58', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10143, '1234', '1234', '1234', 'deYxhZAjbz5x', 'mqtt', '工业场景', '25d69d38bf88426e9681eb209a6633e9', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'GATEWAY_SUB_DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'opcua', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-03 17:20:52', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10144, '12345', '12345', '12345', 'vFBz0J9ZQlyS', 'mqtt', '工业场景', 'b4567981b643418cbb04d1a08a61834e', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'GATEWAY_SUB_DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'custom', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-03 17:21:11', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10145, '设备型号', '厂商简称', '产品名称', 'NpgrXrQYCqTw', 'mqtt', '验证(beta)', '06e68a06871047929e398c6089c4c0a1', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'modbus', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-03 22:00:26', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10146, '125465', '格力', '空调', '5eWKSeSBCz6s', 'mqtt', '智慧城市', 'd3208e1fdc8e44e7a046b0a900dd6411', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'custom', NULL, '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"245647\", \"name\": \"开启\", \"config\": false, \"expands\": {}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"568698\", \"name\": \"关闭\", \"config\": false, \"expands\": {}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}, {\"id\": \"调节温度\", \"name\": \"调节温度\", \"config\": false, \"expands\": {}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [{\"id\": \"sjahs\", \"name\": \"温度控制器\", \"config\": false, \"inputs\": [{\"id\": \"25665\", \"name\": \"温度\", \"valueType\": {\"max\": \"30\", \"min\": \"0\", \"type\": \"int\", \"unit\": \"℃\"}}], \"output\": {}}, {\"id\": \"4587\", \"name\": \"定时器\", \"config\": false, \"inputs\": [{\"id\": \"2235\", \"name\": \"定时器\", \"valueType\": {\"type\": \"date\"}}], \"output\": {}}], \"properties\": []}', '2025-12-04 15:51:18', '0', 0, NULL, '2025-12-04 16:01:41', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10147, 'test111', '测试厂商', '测试——产品', 'nuUMxEHUl5jb', 'mqtt', '验证(beta)', '6e3e56ac3bda42e8ad580f90a3a9ef3f', '{\"customField\":[]}', '100100', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-05 10:18:04', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10149, 'x100', '锐谷', '物位计', 'TOrRTNCrtpjc', 'tcp', '工业场景', 'a923555512c14e5ba3919487ed3a4cba', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'modbus', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-05 15:25:24', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10150, 'qwer', 'nh', 'ss', 'UJEjn1OnO0ka', 'mqtt', '工业场景', '0114e5b5c3144b6696a76cd5e2aa716e', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, 'yiliao', NULL, 'test', NULL, 'mysql', NULL, 'mqtt', '{\"img\":\"http://qiniu.oss.filecoin.ren/nexiot/1764920494239.png\",\"detail\":\"\"}', '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [], \"properties\": [{\"id\": \"wqqw\", \"mode\": \"r\", \"name\": \"qww\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"string\", \"unit\": \"次\"}}, {\"id\": \"dssds\", \"mode\": \"r\", \"name\": \"asdas\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"float\", \"unit\": \"%\"}}]}', '2025-12-05 15:41:03', '0', 0, NULL, '2025-12-05 15:43:47', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10151, '11', '11', '111', '03esP03CRi1l', 'tcp', '工业场景', '2c93f067900647ddb4cb4c971fa01310', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'custom', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-05 17:39:30', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10152, 'clean_robot', 'clean_robot', 'clean_robot', '9umGhC8IM1FA', 'mqtt', '智慧城市', '3d5cfc5de80e4730bfd3c46290c5fd79', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', '693242911b7ee211aff6b16c', 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}], \"functions\": [{\"id\": \"test\", \"name\": \"test\", \"config\": false, \"inputs\": [{\"id\": \"test\", \"name\": \"test\", \"valueType\": {\"type\": \"int\"}}], \"output\": {}}], \"properties\": []}', '2025-12-05 19:37:35', '0', 0, NULL, '2025-12-05 19:40:51', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10154, 'afAsf', 'fSAfSA', 'fdsafdsF', 'HT34FvAfUgS1', 'mqtt', '智慧城市', '42bbdf3c295247ed9c79ba46be0ddd0b', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-08 22:02:28', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10155, '1', '1', '1', 'Ww4uY73Wt6BA', 'tcp', '工业场景', '131aece4b576444d947ea1b2eaa78fa2', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'tcp', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-08 23:01:21', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10156, '12', '12', '1', 'aCA4lMl7WtmH', 'mqtt', '工业场景', 'f3d688b6c8ec4d5b821ba3a0a31096bd', '{\"customField\":[]}', '102', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-09 14:06:23', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10157, '测试mqtt', '测试mqtt', '测试mqtt', 'Gw6SsN95VtD9', 'mqtt', '智慧城市', '0506910549044a7dbe6bb012bded14a8', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-09 14:08:03', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10158, 'cs', 'cs', 'cs', 'tdt5iRUu1OdK', 'mqtt', '智慧城市', 'ebdc4532bd274206a8869d9906eb760b', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'custom', NULL, '{\"tags\": [], \"events\": [{\"id\": \"online\", \"name\": \"上线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"offline\", \"name\": \"下线\", \"valueType\": {\"type\": \"string\"}}, {\"id\": \"12\", \"name\": \"1\", \"config\": false, \"expands\": {}, \"valueType\": {\"type\": \"string\", \"expands\": {\"maxLength\": \"50\"}}}], \"functions\": [{\"id\": \"qq\", \"name\": \"12\", \"config\": false, \"inputs\": [{\"id\": \"112\", \"name\": \"wqwe\", \"valueType\": {\"min\": \"12\", \"type\": \"long\"}}], \"output\": {}}], \"properties\": [{\"id\": \"wwq\", \"mode\": \"r\", \"name\": \"23\", \"config\": false, \"source\": \"device\", \"valueType\": {\"type\": \"int\", \"unit\": \"Pa\"}, \"description\": \"12\"}]}', '2025-12-09 14:11:30', '0', 0, NULL, '2025-12-09 14:20:12', 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10159, 'cs', 'cs', 'cs', 'JrOcfT69hC8x', 'mqtt', '智慧城市', '5df99fced6e8427b81819d4bcb9e5303', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', NULL, 'GATEWAY', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'custom', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-09 14:11:30', '0', 0, NULL, NULL, 0);
INSERT INTO `iot_product` (`id`, `product_id`, `company_no`, `name`, `product_key`, `third_platform`, `classified_name`, `product_secret`, `third_configuration`, `classified_id`, `configuration`, `network_union_id`, `device_node`, `gw_product_key`, `tags`, `message_protocol`, `creator_id`, `describe`, `store_policy`, `store_policy_configuration`, `transport_protocol`, `photo_url`, `metadata`, `create_time`, `instance`, `state`, `third_down_request`, `update_time`, `is_deleted`) VALUES (10160, 'ccc', 'ccc', 'ccc', 'vXk6DqbldUlN', 'mqtt', '智慧城市', '9df0f671998f42948661e01408b07981', '{\"customField\":[]}', '101', '{\"allowInsert\":true}', '693242911b7ee211aff6b16c', 'DEVICE', NULL, NULL, NULL, 'test', NULL, 'mysql', NULL, 'mqtt', NULL, '{\"tags\":[],\"events\":[{\"id\":\"online\",\"name\":\"上线\",\"valueType\":{\"type\":\"string\"}},{\"id\":\"offline\",\"name\":\"下线\",\"valueType\":{\"type\":\"string\"}}],\"functions\":[],\"properties\":[]}', '2025-12-09 14:51:28', '0', 0, NULL, '2025-12-09 14:51:40', 0);
COMMIT;

-- ----------------------------
-- Table structure for iot_product_sort
-- ----------------------------
DROP TABLE IF EXISTS `iot_product_sort`;
CREATE TABLE `iot_product_sort` (
  `id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '分类id',
  `parent_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '父id',
  `has_child` tinyint(1) NOT NULL COMMENT '是否有子节点',
  `identification` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '标识',
  `classified_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '分类名称',
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '说明',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `create_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '创建者',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='产品分类';

-- ----------------------------
-- Records of iot_product_sort
-- ----------------------------
BEGIN;
INSERT INTO `iot_product_sort` (`id`, `parent_id`, `has_child`, `identification`, `classified_name`, `description`, `create_time`, `create_by`) VALUES ('100', '0', 1, 'nexiot', '奈科斯', '根', '2025-06-24 14:21:08', 'demo');
INSERT INTO `iot_product_sort` (`id`, `parent_id`, `has_child`, `identification`, `classified_name`, `description`, `create_time`, `create_by`) VALUES ('100100', '100', 0, 'beta', '验证(beta)', NULL, '2025-06-24 14:46:20', 'demo');
INSERT INTO `iot_product_sort` (`id`, `parent_id`, `has_child`, `identification`, `classified_name`, `description`, `create_time`, `create_by`) VALUES ('101', '0', 0, 'smart-city', '智慧城市', NULL, '2025-10-26 10:52:24', 'iot');
INSERT INTO `iot_product_sort` (`id`, `parent_id`, `has_child`, `identification`, `classified_name`, `description`, `create_time`, `create_by`) VALUES ('102', '0', 0, 'IIoT', '工业场景', NULL, '2025-10-26 10:53:08', 'iot');
COMMIT;

-- ----------------------------
-- Table structure for iot_resource_connection
-- ----------------------------
DROP TABLE IF EXISTS `iot_resource_connection`;
CREATE TABLE `iot_resource_connection` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '资源名称',
  `type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '资源类型(MYSQL,KAFKA,MQTT,HTTP)',
  `plugin_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '插件类型(JDBC,KAFKA,MQTT,HTTP,IOTDB等)',
  `host` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '主机地址',
  `port` int NOT NULL COMMENT '端口',
  `username` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '用户名',
  `password` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '密码',
  `database_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '数据库名/路径',
  `extra_config` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '扩展配置JSON',
  `status` tinyint DEFAULT '1' COMMENT '状态(0:禁用,1:启用)',
  `description` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '描述',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `create_by` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '创建者',
  `update_by` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '更新者',
  `direction` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'OUT' COMMENT '方向：IN-输入，OUT-输出',
  `data_direction` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT 'OUTPUT' COMMENT '数据流向：INPUT-输入，OUTPUT-输出，BIDIRECTIONAL-双向',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `idx_type` (`type`) USING BTREE,
  KEY `idx_status` (`status`) USING BTREE,
  KEY `idx_create_time` (`create_time`) USING BTREE,
  KEY `idx_direction` (`direction`) USING BTREE,
  KEY `idx_data_direction` (`data_direction`) USING BTREE,
  KEY `idx_plugin_type` (`plugin_type`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='资源连接表';

-- ----------------------------
-- Records of iot_resource_connection
-- ----------------------------
BEGIN;
INSERT INTO `iot_resource_connection` (`id`, `name`, `type`, `plugin_type`, `host`, `port`, `username`, `password`, `database_name`, `extra_config`, `status`, `description`, `create_time`, `update_time`, `create_by`, `update_by`, `direction`, `data_direction`) VALUES (6, '主节点内网数据库', 'MYSQL', 'JDBC', '192.168.31.100', 3306, 'root', 'Haha@2025', 'iot_test', '{\"port\":3306,\"charset\":\"utf8mb4\",\"connectionTimeout\":30000,\"maxConnections\":10,\"batchSize\":1000,\"host\":\"192.168.31.100\",\"username\":\"root\",\"password\":\"Haha@2025\",\"databaseName\":\"iot_test\",\"qos\":\"1\",\"keepAlive\":60,\"cleanSession\":true}', 1, '内网数据库，其他公网节点可能无法访问到', '2025-10-04 12:37:10', '2025-12-03 21:09:23', 'demo', 'nexiot', 'OUT', 'OUTPUT');
INSERT INTO `iot_resource_connection` (`id`, `name`, `type`, `plugin_type`, `host`, `port`, `username`, `password`, `database_name`, `extra_config`, `status`, `description`, `create_time`, `update_time`, `create_by`, `update_by`, `direction`, `data_direction`) VALUES (12, 'PostgreSQL18', 'POSTGRESQL', 'JDBC', '125.210.49.121', 35432, 'user_kYzD57', 'password_fSG84c', 'user_kYzD57', '{\"port\":35432,\"schema\":\"public\",\"connectionTimeout\":30000,\"maxConnections\":10,\"sslMode\":\"disable\",\"batchSize\":1000,\"username\":\"user_kYzD57\",\"dbMode\":\"tcp\",\"autoServer\":\"true\",\"connectionType\":\"SID\",\"charset\":\"AL32UTF8\",\"host\":\"125.210.49.121\",\"password\":\"password_fSG84c\",\"databaseName\":\"user_kYzD57\"}', 1, '', '2025-12-03 20:59:30', '2025-12-04 13:09:32', 'nexiot', 'nexiot', 'OUT', 'OUTPUT');
INSERT INTO `iot_resource_connection` (`id`, `name`, `type`, `plugin_type`, `host`, `port`, `username`, `password`, `database_name`, `extra_config`, `status`, `description`, `create_time`, `update_time`, `create_by`, `update_by`, `direction`, `data_direction`) VALUES (13, 'SQL_SERVER_2022', 'SQLSERVER', 'JDBC', '125.210.49.121', 31433, 'sa', 'mssql_tBTjWc', 'nexiot', '{\"port\":31433,\"connectionTimeout\":30000,\"maxConnections\":10,\"encrypt\":\"false\",\"trustServerCertificate\":\"true\",\"batchSize\":1000,\"host\":\"125.210.49.121\",\"username\":\"sa\",\"password\":\"mssql_tBTjWc\",\"databaseName\":\"nexiot\",\"instanceName\":\"nexiot\"}', 1, '', '2025-12-03 21:11:33', '2025-12-03 21:20:05', 'nexiot', 'nexiot', 'OUT', 'OUTPUT');
COMMIT;

-- ----------------------------
-- Table structure for iot_user
-- ----------------------------
DROP TABLE IF EXISTS `iot_user`;
CREATE TABLE `iot_user` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `username` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '用户名',
  `password` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '密码',
  `email` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '邮箱',
  `mobile` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '手机号',
  `alias` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '用户别名',
  `org_id` bigint DEFAULT NULL COMMENT '归属组织机构',
  `union_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '用户唯一标识',
  `salt` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '密码加盐',
  `status` tinyint unsigned DEFAULT NULL COMMENT '账号状态（0正常，1停用）',
  `avatar` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '头像',
  `parent_union_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '上级用户唯一id',
  `identity` tinyint NOT NULL DEFAULT '1' COMMENT '账号身份 0.超级管理员 1.普通用户 2.子用户',
  `login_ip` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '登录IP',
  `login_date` datetime DEFAULT NULL COMMENT '登录时间',
  `create_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '创建者',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  `cfg` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '自定义配置',
  `remark` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '备注',
  `deleted` tinyint unsigned DEFAULT NULL COMMENT '0-正常，1-删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=1991308647757742081 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='用户表';

-- ----------------------------
-- Records of iot_user
-- ----------------------------
BEGIN;
INSERT INTO `iot_user` (`id`, `username`, `password`, `email`, `mobile`, `alias`, `org_id`, `union_id`, `salt`, `status`, `avatar`, `parent_union_id`, `identity`, `login_ip`, `login_date`, `create_by`, `create_date`, `update_by`, `update_date`, `cfg`, `remark`, `deleted`) VALUES (1, 'nexiot', '$2a$10$lrAU3LPhBWfEYxoXhIPlqenMAWHa41pyjPp4GlbV1O4ASgcBw.6vm', 'wo8335224@gmail.com', '19219288111', 'nexiot', NULL, 'nexiot', NULL, 0, NULL, NULL, 0, NULL, '2025-12-09 14:59:01', '', '2025-06-23 16:18:01', 'iot', '2025-11-12 17:15:24', '{\"exclusiveFirstLogin\":false}', NULL, 0);
INSERT INTO `iot_user` (`id`, `username`, `password`, `email`, `mobile`, `alias`, `org_id`, `union_id`, `salt`, `status`, `avatar`, `parent_union_id`, `identity`, `login_ip`, `login_date`, `create_by`, `create_date`, `update_by`, `update_date`, `cfg`, `remark`, `deleted`) VALUES (1937479897454936064, 'test', '$2a$10$lrAU3LPhBWfEYxoXhIPlqenMAWHa41pyjPp4GlbV1O4ASgcBw.6vm', NULL, '13800138001', '请误故意删数据！否则IP拉黑', NULL, 'test', NULL, 0, NULL, NULL, 1, NULL, '2025-12-09 15:00:58', 'iot', '2025-06-24 19:56:19', 'iot', '2025-11-19 14:28:00', NULL, NULL, 0);
INSERT INTO `iot_user` (`id`, `username`, `password`, `email`, `mobile`, `alias`, `org_id`, `union_id`, `salt`, `status`, `avatar`, `parent_union_id`, `identity`, `login_ip`, `login_date`, `create_by`, `create_date`, `update_by`, `update_date`, `cfg`, `remark`, `deleted`) VALUES (1944353342247555072, 'view', '$2a$10$lrAU3LPhBWfEYxoXhIPlqenMAWHa41pyjPp4GlbV1O4ASgcBw.6vm', NULL, '13900139000', '只读', NULL, 'view', NULL, 1, NULL, NULL, 1, NULL, NULL, 'iot', '2025-07-13 19:08:56', NULL, NULL, NULL, NULL, 0);
INSERT INTO `iot_user` (`id`, `username`, `password`, `email`, `mobile`, `alias`, `org_id`, `union_id`, `salt`, `status`, `avatar`, `parent_union_id`, `identity`, `login_ip`, `login_date`, `create_by`, `create_date`, `update_by`, `update_date`, `cfg`, `remark`, `deleted`) VALUES (1991033253192261632, 'demo', '$2a$10$lrAU3LPhBWfEYxoXhIPlqenMAWHa41pyjPp4GlbV1O4ASgcBw.6vm', NULL, '19219200111', 'demo', NULL, 'demo', NULL, 0, NULL, NULL, 1, NULL, '2025-12-08 19:33:08', 'iot', '2025-11-19 14:38:14', 'iot', '2025-11-19 15:43:55', NULL, NULL, 0);
INSERT INTO `iot_user` (`id`, `username`, `password`, `email`, `mobile`, `alias`, `org_id`, `union_id`, `salt`, `status`, `avatar`, `parent_union_id`, `identity`, `login_ip`, `login_date`, `create_by`, `create_date`, `update_by`, `update_date`, `cfg`, `remark`, `deleted`) VALUES (1991308647757742080, 'viewToday', '$2a$10$lrAU3LPhBWfEYxoXhIPlqenMAWHa41pyjPp4GlbV1O4ASgcBw.6vm', NULL, '13800138002', 'viewToday', NULL, 'viewToday', NULL, 0, NULL, NULL, 0, NULL, '2025-11-24 14:36:53', 'iot', '2025-11-20 08:52:33', 'nexiot', '2025-11-24 15:11:26', NULL, NULL, 0);
COMMIT;

-- ----------------------------
-- Table structure for iot_user_application
-- ----------------------------
DROP TABLE IF EXISTS `iot_user_application`;
CREATE TABLE `iot_user_application` (
  `app_unique_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '应用标识',
  `union_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
  `app_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '应用名称',
  `app_id` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '调用凭证APPID，必须16位',
  `up_topic` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'MQ上行主题，英文逗号分隔',
  `down_topic` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'MQ下行主题，英文逗号分隔',
  `notify_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '回调地址',
  `app_secret` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '调用密钥，必须32位',
  `valid_end_date` datetime DEFAULT NULL COMMENT '授权结束时间',
  `scope` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '授权范围',
  `app_status` tinyint unsigned DEFAULT '0' COMMENT '0-正常，1-停用',
  `instance` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT 'public' COMMENT '实例名称',
  `remark` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '描述',
  `logo` varchar(512) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'logo',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `cfg` json DEFAULT NULL COMMENT '额外配置',
  `deleted` tinyint unsigned DEFAULT '0' COMMENT '0-正常，1-删除',
  `http_enable` tinyint(1) DEFAULT '1',
  `mqtt_enable` tinyint(1) DEFAULT '1',
  `tcp_enable` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`app_unique_id`) USING BTREE,
  UNIQUE KEY `idx_app_id` (`app_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='用户应用信息表';

-- ----------------------------
-- Records of iot_user_application
-- ----------------------------
BEGIN;
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1938504461874020352', 'demo', '笑盈盈1', '9PSfpC7Yp53fih5H', 'test/9PSfpC7Yp53fih5H', NULL, 'http://127.0.0.1:9092/test/echo', 'lhTv3cxvrc6qUPfm4etkpU8TTWwLEhe5', NULL, NULL, 0, 'public', '1', NULL, '2025-06-27 15:47:34', '{\"http\": {\"url\": \"http://127.0.0.1:9092/test/echo\", \"enable\": true, \"header\": \"X-IoT-Token\", \"secret\": \"KBxjRAbewCTaFrzXkddrQOi9FCNHXpQH\", \"support\": true}, \"jdbc\": {}, \"mqtt\": {\"url\": \"tcp://192.168.31.194:1883\", \"enable\": true, \"support\": true, \"clientId\": \"9PSfpC7Yp53fih5H\", \"password\": \"lhTv3cxvrc6qUPfm4etkpU8TTWwLEhe5\", \"username\": \"9PSfpC7Yp53fih5H\"}, \"kafka\": {\"enable\": false, \"support\": false}, \"rockerMQ\": {\"enable\": false, \"support\": false}, \"rocketMQ\": {\"enable\": false, \"support\": false}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1964860284904546304', 'demo', '23123', 'EyUKP1beAK277OIj', NULL, NULL, NULL, 'gceoXqaJ2tImfGOtbKAUXHQqyDLjLVkU', NULL, NULL, 0, 'public', '213313', NULL, '2025-09-08 09:16:12', '{\"mqtt\": {\"url\": \"tcp://192.168.31.194:1883\", \"enable\": false, \"support\": true, \"clientId\": \"EyUKP1beAK277OIj\", \"password\": \"gceoXqaJ2tImfGOtbKAUXHQqyDLjLVkU\", \"username\": \"EyUKP1beAK277OIj\"}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1965274693472808960', 'demo', 'test', 'JmhpPHiPSnl4KwyQ', NULL, NULL, NULL, '2t3IhEHQlxosXEKFKoVbSyoUBzax0LRJ', NULL, NULL, 0, 'public', NULL, NULL, '2025-09-09 12:42:55', '{\"mqtt\": {\"url\": \"tcp://192.168.31.194:1883\", \"enable\": false, \"support\": true, \"clientId\": \"JmhpPHiPSnl4KwyQ\", \"password\": \"2t3IhEHQlxosXEKFKoVbSyoUBzax0LRJ\", \"username\": \"JmhpPHiPSnl4KwyQ\"}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1972117205424480256', 'demo', '11111111111111111111111111111111', '7CS5Pog5h0zxeDXL', NULL, NULL, NULL, 'mjU1xDfSnBn8X92BmZmQ3A2FesCWvJRI', NULL, NULL, 0, 'public', '111', NULL, '2025-09-28 09:52:37', '{\"mqtt\": {\"url\": \"tcp://192.168.31.194:1883\", \"enable\": true, \"support\": true, \"clientId\": \"7CS5Pog5h0zxeDXL\", \"password\": \"mjU1xDfSnBn8X92BmZmQ3A2FesCWvJRI\", \"username\": \"7CS5Pog5h0zxeDXL\"}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1972467796055105536', 'demo', '测', 'mpU6NeF9q6TvAjNS', NULL, NULL, NULL, 'Vr2wfKJnz4gkCCaSBqlJffQdrfkenr67', NULL, NULL, 0, 'public', NULL, NULL, '2025-09-29 09:05:44', '{\"mqtt\": {\"url\": \"tcp://192.168.31.194:1883\", \"enable\": true, \"support\": true, \"clientId\": \"mpU6NeF9q6TvAjNS\", \"password\": \"Vr2wfKJnz4gkCCaSBqlJffQdrfkenr67\", \"username\": \"mpU6NeF9q6TvAjNS\"}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1976119106386178048', 'demo', '11', 'znG1pQSY9bRtGyZM', NULL, NULL, NULL, 'QZwzsD1DGmwdmXsozarW6C4MZ1OWuP19', NULL, NULL, 0, 'public', NULL, NULL, '2025-10-09 10:54:44', NULL, 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1976133080339099648', 'demo', '爱他地方', '8rmN4o8qQfB8qN5M', NULL, NULL, NULL, 'yXiYQeZcFeZIfA9rE6SI5MmfDS601jn7', NULL, NULL, 0, 'public', NULL, NULL, '2025-10-09 11:50:16', '{\"mqtt\": {\"url\": \"tcp://192.168.31.194:1883\", \"enable\": true, \"support\": true, \"clientId\": \"8rmN4o8qQfB8qN5M\", \"password\": \"yXiYQeZcFeZIfA9rE6SI5MmfDS601jn7\", \"username\": \"8rmN4o8qQfB8qN5M\"}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1976893029855965184', 'demo', 'hq', 'YKxfjcQYGW6zNXJJ', NULL, NULL, NULL, '8DjIHWstNIBh160gLTBlmghTda9WLR5y', NULL, NULL, 0, 'public', NULL, NULL, '2025-10-11 14:10:02', NULL, 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1976902591619182592', 'demo', '111', 'bhi1WEekhlmKWsdI', NULL, NULL, NULL, 'GRHxROknfQ2RVnhzX4x4qhjnwkUHbdhx', NULL, NULL, 0, 'public', NULL, NULL, '2025-10-11 14:48:02', '{\"mqtt\": {\"url\": \"tcp://192.168.31.194:1883\", \"enable\": true, \"support\": true, \"clientId\": \"bhi1WEekhlmKWsdI\", \"password\": \"GRHxROknfQ2RVnhzX4x4qhjnwkUHbdhx\", \"username\": \"bhi1WEekhlmKWsdI\"}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1980473592185585664', 'demo', 'aa', '18uYTbqYeq3hDDRy', NULL, NULL, NULL, 'm8xvYsvDJL6kqincBIkQw1dmUEpqEKen', NULL, NULL, 0, 'public', NULL, NULL, '2025-10-21 11:17:54', '{\"mqtt\": {\"url\": \"tcp://192.168.31.194:1883\", \"enable\": true, \"support\": true, \"clientId\": \"18uYTbqYeq3hDDRy\", \"password\": \"m8xvYsvDJL6kqincBIkQw1dmUEpqEKen\", \"username\": \"18uYTbqYeq3hDDRy\"}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1984153098008014848', 'demo', 'pp', 'tai4GbDsCRX4BwLp', NULL, NULL, NULL, 'uMhFx3lSIlfGstviV6aFXw5jhzHjHMLz', NULL, NULL, 0, 'public', NULL, NULL, '2025-10-31 14:58:57', '{\"http\": {}, \"jdbc\": {}, \"mqtt\": {}, \"kafka\": {}, \"rocketMQ\": {}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1986042937930375168', 'demo', 'ddtest', 'Zvd4kjxo3QhDJiK6', NULL, NULL, NULL, 'C6ap57lcFpDtXDRnDGMVCuwQYcEzKJK6', NULL, NULL, 0, 'public', NULL, NULL, '2025-11-05 20:08:30', '{\"mqtt\": {\"url\": \"tcp://192.168.31.194:1883\", \"enable\": true, \"support\": true, \"clientId\": \"Zvd4kjxo3QhDJiK6\", \"password\": \"C6ap57lcFpDtXDRnDGMVCuwQYcEzKJK6\", \"username\": \"Zvd4kjxo3QhDJiK6\"}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1986249439953772544', 'demo', '刑天', 'Zp6aTa9hQit8I3jw', NULL, NULL, 'http://127.0.0.1:9092/test/echo', 'lE0uK9cKiIz5wD6D21rR7n2WhqrSWWja', NULL, NULL, 0, 'public', '阿瑞斯', NULL, '2025-11-06 09:49:04', '{\"http\": {\"url\": \"http://127.0.0.1:9092/test/echo\", \"enable\": true, \"header\": \"AuthToken\", \"secret\": \"7ttxnsE45oFQKoCi35BR2sUD8NfyuVGi\", \"support\": true}, \"jdbc\": {}, \"mqtt\": {\"url\": \"tcp://125.210.49.121:38884\", \"enable\": true, \"support\": true, \"clientId\": \"Zp6aTa9hQit8I3jw\", \"password\": \"lE0uK9cKiIz5wD6D21rR7n2WhqrSWWja\", \"username\": \"Zp6aTa9hQit8I3jw\"}, \"kafka\": {}, \"rocketMQ\": {}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1989543760438161408', 'demo', '大点', 'vg1SU7fdfzpdlNn0', NULL, NULL, NULL, 'MrrWDGhhifLCOK64issT7GsdsT3HO2Am', NULL, NULL, 0, 'public', '士大夫', NULL, '2025-11-15 11:59:31', '{}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1990252075166093312', 'demo', '白蚁监测', 'ufNifbXfBcV1YkEe', NULL, NULL, NULL, 'PppMNiluiNDynLaiu81FN2wmcLHPLkXu', NULL, NULL, 0, 'public', '孝软测试', NULL, '2025-11-17 10:54:06', '{\"mqtt\": {\"url\": \"tcp://192.168.31.194:1883\", \"enable\": true, \"support\": true, \"clientId\": \"ufNifbXfBcV1YkEe\", \"password\": \"PppMNiluiNDynLaiu81FN2wmcLHPLkXu\", \"username\": \"ufNifbXfBcV1YkEe\"}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1990330545858543616', 'demo', '加菲猫测试', 'Ml9hDYCLHn6dG0ls', NULL, NULL, NULL, 'sQG8Vl07HeNxWuQivZFFSbfbKlKrA900', NULL, NULL, 0, 'public', NULL, NULL, '2025-11-17 16:05:55', '{\"jdbc\": {}, \"mqtt\": {\"url\": \"tcp://125.210.49.121:38884\", \"enable\": false, \"support\": true, \"clientId\": \"Ml9hDYCLHn6dG0ls\", \"password\": \"sQG8Vl07HeNxWuQivZFFSbfbKlKrA900\", \"username\": \"Ml9hDYCLHn6dG0ls\"}, \"kafka\": {}, \"rocketMQ\": {}}', 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1990343629759184896', 'demo', 'aaaaa', '4RgdDClcPwa8wXsT', NULL, NULL, NULL, 'rZ1dEDXX1GJ4cAsk2PsiuUUtbPpsIDxF', NULL, NULL, 0, 'public', NULL, NULL, '2025-11-17 16:57:55', NULL, 0, 1, 1, 0);
INSERT INTO `iot_user_application` (`app_unique_id`, `union_id`, `app_name`, `app_id`, `up_topic`, `down_topic`, `notify_url`, `app_secret`, `valid_end_date`, `scope`, `app_status`, `instance`, `remark`, `logo`, `create_date`, `cfg`, `deleted`, `http_enable`, `mqtt_enable`, `tcp_enable`) VALUES ('1990343677255483392', 'demo', 'asdasdasdasdasd', 'OL7WGGzuvJjC5HZU', NULL, NULL, NULL, 'aWH3agYT1zOYMdwKi5xSF9KmUThBQWpz', NULL, NULL, 0, 'public', NULL, NULL, '2025-11-17 16:58:06', '{\"mqtt\": {\"url\": \"tcp://192.168.31.194:1883\", \"enable\": false, \"support\": true, \"clientId\": \"OL7WGGzuvJjC5HZU\", \"password\": \"aWH3agYT1zOYMdwKi5xSF9KmUThBQWpz\", \"username\": \"OL7WGGzuvJjC5HZU\"}}', 0, 1, 1, 0);
COMMIT;

-- ----------------------------
-- Table structure for iot_user_sub
-- ----------------------------
DROP TABLE IF EXISTS `iot_user_sub`;
CREATE TABLE `iot_user_sub` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `org_id` bigint DEFAULT NULL COMMENT '归属组织机构',
  `username` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '用户名',
  `password` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '密码',
  `alias` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '别名',
  `union_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '用户唯一标识',
  `email` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '邮箱',
  `salt` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '密码加盐',
  `mobile` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '手机号',
  `status` tinyint unsigned DEFAULT NULL COMMENT '账号状态（0正常，1停用）',
  `avatar` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '头像',
  `parent_union_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '上级用户唯一id',
  `identity` tinyint NOT NULL DEFAULT '2' COMMENT '账号身份 0.超级管理员 1.普通用户 2.子用户',
  `login_ip` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '登录IP',
  `login_date` datetime DEFAULT NULL COMMENT '登录时间',
  `create_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '创建者',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  `cfg` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '自定义配置',
  `remark` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '备注',
  `deleted` tinyint unsigned DEFAULT NULL COMMENT '0-正常，1-删除',
  `license` int unsigned DEFAULT '0' COMMENT '022租户接入数限制',
  `license_total_amount` int unsigned DEFAULT '1000' COMMENT 'license总额度',
  `authorized_application_id` varchar(512) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '该账号有权限操作的应用id列表',
  `app_id` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '子账号用于oauth2认证的客户端id',
  `app_secret` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '子账号用于oauth2认证的客户端密钥',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='子账号表';

-- ----------------------------
-- Records of iot_user_sub
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for notice_channel
-- ----------------------------
DROP TABLE IF EXISTS `notice_channel`;
CREATE TABLE `notice_channel` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键',
  `name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '配置名称',
  `channel_type` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '渠道类型（如dingTalk、sms_ali、sms_tencent、feishu、wecom、email等）',
  `config` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '渠道参数(JSON字符串，如webhook、appKey、smtp等)',
  `status` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL,
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '备注',
  `creator` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '创建人',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='通知notice_channel表';

-- ----------------------------
-- Records of notice_channel
-- ----------------------------
BEGIN;
INSERT INTO `notice_channel` (`id`, `name`, `channel_type`, `config`, `status`, `remark`, `creator`, `create_time`, `update_time`) VALUES (1, 'xzxzx', 'email', '{}', '1', '', 'demo', '2025-07-19 09:14:25', '2025-11-19 14:46:29');
INSERT INTO `notice_channel` (`id`, `name`, `channel_type`, `config`, `status`, `remark`, `creator`, `create_time`, `update_time`) VALUES (2, 'xzxzx', 'email', '{}', '1', '', 'demo', '2025-07-19 09:14:28', '2025-11-19 14:46:29');
INSERT INTO `notice_channel` (`id`, `name`, `channel_type`, `config`, `status`, `remark`, `creator`, `create_time`, `update_time`) VALUES (3, '作者个人群', 'dingTalk', '{\"webhook\":\"https://oapi.dingtalk.com/robot/send?access_token=f731085dd9ef094114794a0f5ff2cc09e017d18acea205415cc03039af472661\",\"secret\":\"SECee225435f2e30b7218a2e7486bc7671d7ec0725e6e7d15142783f7b488161ddf\"}', '0', '', 'iot', '2025-07-19 21:40:08', '2025-10-23 13:41:19');
INSERT INTO `notice_channel` (`id`, `name`, `channel_type`, `config`, `status`, `remark`, `creator`, `create_time`, `update_time`) VALUES (4, '阿里呀', 'sms_ali', '{\"accessKey\":\"xzxz\",\"secretKey\":\"xzxz\",\"signName\":\"xzxz\",\"templateCode\":\"xzxzx\"}', '0', NULL, 'demo', '2025-07-20 10:01:20', '2025-11-19 14:46:29');
INSERT INTO `notice_channel` (`id`, `name`, `channel_type`, `config`, `status`, `remark`, `creator`, `create_time`, `update_time`) VALUES (5, '腾讯云语音', 'sms_tencent', '{\"secretId\":\"kcssds\",\"secretKey\":\"dsdscxcxc\",\"signName\":\"ccx\",\"templateCode\":\"xzxzxz\"}', '0', NULL, 'demo', '2025-07-20 10:01:44', '2025-11-19 14:46:29');
INSERT INTO `notice_channel` (`id`, `name`, `channel_type`, `config`, `status`, `remark`, `creator`, `create_time`, `update_time`) VALUES (6, 'cdcndjc', 'feishu', '{\"webhook\":\"kdsdsndsd\"}', '0', NULL, 'demo', '2025-07-20 10:02:03', '2025-11-19 14:46:29');
INSERT INTO `notice_channel` (`id`, `name`, `channel_type`, `config`, `status`, `remark`, `creator`, `create_time`, `update_time`) VALUES (8, '公开钉钉群（群号157440003929）', 'dingTalk', '{\"secret\":\"SEC4dbd40ee09aadc3260802a453db38249ffcad64a24577e459353cf748c9c3a41\",\"webhook\":\"https://oapi.dingtalk.com/robot/send?access_token=8d0f006bd3b323830c7763ef5902e860b312c3791eb20d64e929251d28cb8f10\"}', '0', NULL, 'demo', '2025-10-18 18:42:12', '2025-11-28 15:14:38');
INSERT INTO `notice_channel` (`id`, `name`, `channel_type`, `config`, `status`, `remark`, `creator`, `create_time`, `update_time`) VALUES (12, 'webhook', 'webhook', '{\"webhook\":\"http://demo.nexiot.cc/api/test/echo\",\"AuthTokenKey\":\"abc\",\"TokenValue\":\"abc\"}', '0', NULL, 'nexiot', '2025-12-05 14:33:22', '2025-12-05 14:33:22');
COMMIT;

-- ----------------------------
-- Table structure for notice_send_record
-- ----------------------------
DROP TABLE IF EXISTS `notice_send_record`;
CREATE TABLE `notice_send_record` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键',
  `template_id` bigint DEFAULT NULL COMMENT '模板ID',
  `config_id` bigint DEFAULT NULL COMMENT '通知配置ID',
  `receivers` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '实际收件人',
  `params` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '实际参数(JSON字符串)',
  `status` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '发送状态（如SUCCESS、FAIL）',
  `result` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '返回结果',
  `send_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '发送时间',
  `creator` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '创建人',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `idx_template_id` (`template_id`) USING BTREE,
  KEY `idx_config_id` (`config_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='通知发送记录表';

-- ----------------------------
-- Records of notice_send_record
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for notice_template
-- ----------------------------
DROP TABLE IF EXISTS `notice_template`;
CREATE TABLE `notice_template` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键',
  `name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '模板名称',
  `channel_id` bigint NOT NULL COMMENT '关联的通知配置ID',
  `channel_type` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '渠道类型（如dingTalk、sms_ali、sms_tencent、feishu、wecom、email等）',
  `status` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '状态',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '模板内容（支持变量占位符）',
  `receivers` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '收件人（手机号、邮箱、群ID等，逗号分隔或JSON）',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '备注',
  `creator` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '创建人',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `idx_config_id` (`channel_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='通知模板表';

-- ----------------------------
-- Records of notice_template
-- ----------------------------
BEGIN;
INSERT INTO `notice_template` (`id`, `name`, `channel_id`, `channel_type`, `status`, `content`, `receivers`, `remark`, `creator`, `create_time`, `update_time`) VALUES (2, '行啊叫啊是', 4, 'sms_ali', '1', '#{productKey}#{deviceName}#{messageId}#{location}#{alertLevel}#{payload}#{topic}#{timestamp}#{eventType}', '', '飒飒', 'demo', '2025-07-20 10:10:40', '2025-11-19 14:46:55');
INSERT INTO `notice_template` (`id`, `name`, `channel_id`, `channel_type`, `status`, `content`, `receivers`, `remark`, `creator`, `create_time`, `update_time`) VALUES (3, '作者验证模版', 3, 'dingTalk', '1', '尊敬的用户你好，设备deviceId=#{deviceId}，设备名称=#{deviceName}产生事件【#{event}】，所属租户 #appUnionId 请注意查看！', '', 'NASA\'s', 'demo', '2025-07-20 10:57:39', '2025-11-19 14:46:55');
INSERT INTO `notice_template` (`id`, `name`, `channel_id`, `channel_type`, `status`, `content`, `receivers`, `remark`, `creator`, `create_time`, `update_time`) VALUES (4, '3点提醒', 3, 'dingTalk', '1', '你好，现在是15点了哦～记得喝水～', '', '', 'demo', '2025-07-23 14:59:43', '2025-11-19 14:46:55');
INSERT INTO `notice_template` (`id`, `name`, `channel_id`, `channel_type`, `status`, `content`, `receivers`, `remark`, `creator`, `create_time`, `update_time`) VALUES (5, '三楼消息推送', 12, 'webhook', '1', '{\"deviceId\":\"#{deviceId}\",\"success\":\"ok\"}', '', 'JSON', 'demo', '2025-07-23 20:47:31', '2025-12-05 14:33:32');
INSERT INTO `notice_template` (`id`, `name`, `channel_id`, `channel_type`, `status`, `content`, `receivers`, `remark`, `creator`, `create_time`, `update_time`) VALUES (6, '邮件推送', 2, 'email', '1', '水位过高预警：#{level},请联系#{phone}处理。', '', '', 'demo', '2025-10-10 14:57:54', '2025-11-19 14:46:55');
INSERT INTO `notice_template` (`id`, `name`, `channel_id`, `channel_type`, `status`, `content`, `receivers`, `remark`, `creator`, `create_time`, `update_time`) VALUES (7, '短信推送', 4, 'sms_ali', '1', '#{deviceId}#{topic}#{messageId}#{timestamp}', '', '', 'demo', '2025-10-10 15:15:07', '2025-11-19 14:46:55');
INSERT INTO `notice_template` (`id`, `name`, `channel_id`, `channel_type`, `status`, `content`, `receivers`, `remark`, `creator`, `create_time`, `update_time`) VALUES (8, '提醒天亮-欢迎进群', 8, 'dingTalk', '1', '来自Modbus光温湿度的消息：\n\n设备编号：#{deviceId}\n产品编号：#{productKey}\n湿度：#{properties.humidityDesc}\n湿度详情：#{properties.humidity}\n光照强度：#{properties.illumination}\n总体感觉：#{properties.overallComfort}\n\n请注意查收！\n', '', '请不要随意删除变更！', 'demo', '2025-10-18 18:43:37', '2025-11-19 14:46:55');
INSERT INTO `notice_template` (`id`, `name`, `channel_id`, `channel_type`, `status`, `content`, `receivers`, `remark`, `creator`, `create_time`, `update_time`) VALUES (9, '天黑了~关灯睡觉', 8, 'dingTalk', '1', '来自Modbus光温湿度的消息：\n\n设备编号：#{deviceId}\n产品编号：#{productKey}\n湿度：#{properties.humidityDesc}\n湿度详情：#{properties.humidity}\n光照强度：#{properties.illumination}\n总体感觉：#{properties.overallComfort}\n\n请注意查收！\n', '', '乱写的～', 'demo', '2025-10-18 20:18:23', '2025-11-19 14:46:55');
COMMIT;

-- ----------------------------
-- Table structure for oauth_client_details
-- ----------------------------
DROP TABLE IF EXISTS `oauth_client_details`;
CREATE TABLE `oauth_client_details` (
  `client_id` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '客户端标识',
  `resource_ids` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '资源标识',
  `client_secret` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '客户端秘钥',
  `scope` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `authorized_grant_types` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '授权类型\r\n	authorization_code：授权码模式\r\nrefresh_token：刷新token\r\npassword：密码模式\r\nimplicit：隐私授权模式\r\nclient_credentials：客户端模式',
  `web_server_redirect_uri` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '授权成功后回调URL',
  `authorities` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `access_token_validity` int DEFAULT NULL COMMENT '访问令牌的有效时间',
  `refresh_token_validity` int DEFAULT NULL COMMENT '刷新令牌的有效时间',
  `additional_information` varchar(4096) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '额外的信息，备用',
  `autoapprove` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '自动批准标识：0代表不显示授权页面  1显示授权页面',
  `username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '用户名',
  `password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '密码',
  `iot_union_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '唯一标识',
  PRIMARY KEY (`client_id`) USING BTREE,
  UNIQUE KEY `idx_unq_client_id` (`client_id`) USING BTREE COMMENT 'client_id唯一校验'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='oauth2鉴权密钥表';

-- ----------------------------
-- Records of oauth_client_details
-- ----------------------------
BEGIN;
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('18uYTbqYeq3hDDRy', NULL, '$2a$10$qx8f8r2Ha0I/Er53RQrWBuwcQFDA2brwOlW2R46QUw0.4QwOJugtm', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('4RgdDClcPwa8wXsT', NULL, '$2a$10$h1kn8BRqVokfXGYdnc1xFebJg6AI8lc3xx/Mie19dIMnTee.anUEe', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('7CS5Pog5h0zxeDXL', NULL, '$2a$10$2RzDKuRxQjwo8A/.F9Baw.ZQdjUWn4mGjStSVwssIWVLHdwZgNlZO', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('8rmN4o8qQfB8qN5M', NULL, '$2a$10$NPT9DZDeQ4QWnxOJTtCD9eJOlgarqF4A7s1QWnQuN0Ak.yF1AXUg.', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('9PSfpC7Yp53fih5H', NULL, '$2a$10$L.cmEPEr/jc3wnoAsjjzO.txPa4voKe.ONO3fMnzKW39yI5Nq53Si', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 350, 36000, NULL, '1', NULL, NULL, 'iot');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('EyUKP1beAK277OIj', NULL, '$2a$10$Hi00OWRIY.37AzZCZoSZjesO/z0ZLlZzvSbSkFCh.n0iqghtZQ4jW', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('JmhpPHiPSnl4KwyQ', NULL, '$2a$10$YBfQtVf.lgdD6VA0/WArYuvGqKiLuic/Vk65WD/FZdB3lFksAXvXm', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('Ml9hDYCLHn6dG0ls', NULL, '$2a$10$WMh/ERfZ31w4uHrybv8dn.PgVzum/jlweEu6UCX7kLhHqSH.rwOZe', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('OL7WGGzuvJjC5HZU', NULL, '$2a$10$8fLOiGiExmXrijIfDPSBYe.T2Fek0Am0MoF4R6Sa.x2QeKEx72PdO', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('YKxfjcQYGW6zNXJJ', NULL, '$2a$10$OTuqNkdEg8yWi7v/.GqIjONpL62zIcwQ9dL.VdsBae1yXioy23uj6', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('Zp6aTa9hQit8I3jw', NULL, '$2a$10$0j.O5BRupW2N8QHHXhbfYOPBul1rpp7cJ.qC4E8aHUnybz38XNNIq', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('Zvd4kjxo3QhDJiK6', NULL, '$2a$10$aK0ZS9uEa9rFuu.XUNM3r.2wzgxrqULPsFJqrI00NyUHTNR.RcYli', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('bhi1WEekhlmKWsdI', NULL, '$2a$10$M2CpXMV16hzfbqR3z8H1Weuz6a1RiVMSkhub2j36Tl1cW0CvwbN76', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('mpU6NeF9q6TvAjNS', NULL, '$2a$10$NMavxDa7II7OyxhLbjRPgOiB6DEFfKcuRz6LzSudopKeLdXbl6uku', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('tai4GbDsCRX4BwLp', NULL, '$2a$10$nJwTXtd6dUNHA27VGGrpaeL0TsOpgXlOGkSLjiRhIrG/MzcuJNkSi', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('ufNifbXfBcV1YkEe', NULL, '$2a$10$tDmkC4t7b0QZPvAoKoV3QOWON6kUxAJ9DVd/QAhq2g8BBngZVsAAK', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('vg1SU7fdfzpdlNn0', NULL, '$2a$10$aAyJRLNdHUqTx5mHV6otBuqeS6yV9DnsUncrrWe0IjBXFO9Cnae0a', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
INSERT INTO `oauth_client_details` (`client_id`, `resource_ids`, `client_secret`, `scope`, `authorized_grant_types`, `web_server_redirect_uri`, `authorities`, `access_token_validity`, `refresh_token_validity`, `additional_information`, `autoapprove`, `username`, `password`, `iot_union_id`) VALUES ('znG1pQSY9bRtGyZM', NULL, '$2a$10$jr.GWohX5gxaP16ssPc7MeuQrsclbd0lvw9jSvVfJ0WTgXkKYP.du', 'all', 'client_credentials', 'http://localhost:9091/client-authcode/login', NULL, 7200, 36000, NULL, '1', NULL, NULL, 'test');
COMMIT;

-- ----------------------------
-- Table structure for protocol_file
-- ----------------------------
DROP TABLE IF EXISTS `protocol_file`;
CREATE TABLE `protocol_file` (
  `file_path` varchar(512) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
  `file_content` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,
  PRIMARY KEY (`file_path`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;

-- ----------------------------
-- Records of protocol_file
-- ----------------------------
BEGIN;
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('/api/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('/api/123/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('/api/123/group.json', '{\n  \"properties\" : { },\n  \"id\" : \"7a98d2939f3344ab8641d4d667c2c262\",\n  \"name\" : \"123\",\n  \"type\" : \"api\",\n  \"parentId\" : \"0\",\n  \"path\" : \"12\",\n  \"createTime\" : 1755090411512,\n  \"updateTime\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : null,\n  \"paths\" : [ ],\n  \"options\" : [ ]\n}');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('/datasource/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('/function/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/1/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/1/group.json', '{\n  \"properties\" : { },\n  \"id\" : \"c5610501002d4684993440627dc210da\",\n  \"name\" : \"1\",\n  \"type\" : \"api\",\n  \"parentId\" : \"0\",\n  \"path\" : \"2\",\n  \"createTime\" : 1764227797734,\n  \"updateTime\" : null,\n  \"createBy\" : \"demo\",\n  \"updateBy\" : null,\n  \"paths\" : [ ],\n  \"options\" : [ ]\n}');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/111/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/111/group.json', '{\n  \"properties\" : { },\n  \"id\" : \"03b562e0af484419be0759bc3c21820e\",\n  \"name\" : \"111\",\n  \"type\" : \"api\",\n  \"parentId\" : \"0\",\n  \"path\" : \"111\",\n  \"createTime\" : 1763966010568,\n  \"updateTime\" : null,\n  \"createBy\" : \"demo\",\n  \"updateBy\" : null,\n  \"paths\" : [ ],\n  \"options\" : [ ]\n}');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/111/未定义名称.ms', '{\n  \"properties\" : { },\n  \"id\" : \"54f65c4ffe684d8d845d5af70fd77f9f\",\n  \"script\" : null,\n  \"groupId\" : \"03b562e0af484419be0759bc3c21820e\",\n  \"name\" : \"未定义名称\",\n  \"createTime\" : 1763967457993,\n  \"updateTime\" : 1763967463088,\n  \"lock\" : null,\n  \"createBy\" : \"demo\",\n  \"updateBy\" : \"demo\",\n  \"path\" : \"1\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n/**\n * 预解码：提取设备身份标识\n * @param {String} payload 设备原始报文（可能是二进制、JSON、16进制字符串等）\n * @returns {Object} {deviceId, productKey}\n */\nvar preDecode = payload => {\n    var rs = {\n        \"deviceId\": \"\",\n        \"productKey\": \"\"\n    };\n    // TODO：解析设备标识\n    return rs;\n};\n\n/**\n * 编码：平台指令转设备格式\n * @param {Object} payload 平台指令\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\n */\nvar encode = payload => {\n    var result = \"\";\n    // TODO：实现编码逻辑\n    return result;\n};\n\n/**\n * 解码：设备数据转平台格式\n * @param {String} payload 设备原始报文（二进制、JSON、16进制字符串等）\n * @returns {Array} 平台标准消息数组，每个元素结构：\n *   [\n *     {\n *       messageType: \"PROPERTIES\", // 属性类型\n *       properties: {} // 解析后的属性键值对（根据物模型动态调整）\n *     },\n *     {\n *       messageType: \"EVENT\", // 事件类型\n *       event: \"\", // 事件名称\n *       data: {} // 事件参数\n *     }\n *   ]\n */\nvar decode = payload => {\n    var rs = [];\n    // 属性\n    var properties = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {}\n    };\n    // rs.push(properties);\n    \n    // 事件\n    var event = {\n        \"messageType\": \"EVENT\",\n        \"event\": \"\",\n        \"data\": {}\n    };\n    // rs.push(event);\n    \n    return rs;\n};\n\n// 调试示例（正式使用请删除或注释）\n//return preDecode(\"\");\n// return encode({});\n// return decode(\"\");');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/12/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/12/group.json', '{\n  \"properties\" : { },\n  \"id\" : \"07f245bebc6b4f5d9d40735ab3349220\",\n  \"name\" : \"12\",\n  \"type\" : \"api\",\n  \"parentId\" : \"0\",\n  \"path\" : \"312312\",\n  \"createTime\" : 1758080497974,\n  \"updateTime\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : null,\n  \"paths\" : [ ],\n  \"options\" : [ ]\n}');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/12/任意主题.ms', '{\n  \"properties\" : { },\n  \"id\" : \"1ed063b7845d4d1b87fd4dabac1766bb\",\n  \"script\" : null,\n  \"groupId\" : \"07f245bebc6b4f5d9d40735ab3349220\",\n  \"name\" : \"任意主题\",\n  \"createTime\" : 1765013568579,\n  \"updateTime\" : 1765014749940,\n  \"lock\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"renyi\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\nimport cn.hutool.json.JSONUtil\nimport cn.hutool.core.util.StrUtil\n/**\n * 预解码：提取设备身份标识\n * @param {String} payload 设备原始报文（可能是二进制、JSON、16进制字符串等）\n * @param {String} context 对于这里就是topic\n * @returns {Object} {deviceId, productKey}\n */\nvar preDecode = (payload,context) => {\n    var deviceId;\n    context=StrUtil.str(context);\n    //cat4_lock/p2p/GID_lock@@@123456789012345\n    //topic格式五花八门，比如这种nexiot/up/zxabc123456\n    if(context.contains(\"/\")){\n        var parts=context.split(\"\\\\/\");\n        deviceId = parts[parts.length - 1];\n    }\n    //可能deviceId来自消息体\n    else if(JSONUtil.isTypeJSON(payload)){\n        payload=toJson(payload);\n        device=payload.deviceId;\n    }\n    if(deviceId==null){\n        //没解出来，不执行了\n        return null;\n    }\n    var rs = {\n        \"deviceId\": deviceId\n    };\n    // TODO：解析设备标识\n    return rs;\n};\n\n/**\n * 编码：平台指令转设备格式\n * @param {Object} payload 平台指令\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\n */\nvar encode = payload => {\n    //{\"messageType\":\"FUNCTIONS\",\"function\":\"coolDown\",\"data\":{\"waterLevel\":\"12\"}}\n    return \"nexiot-\"+randomSign();\n};\n\n/**\n * 解码：设备数据转平台格式\n * @param {String} payload 设备原始报文（二进制、JSON、16进制字符串等）\n * @returns {Array} 平台标准消息数组，每个元素结构：\n *   [\n *     {\n *       messageType: \"PROPERTIES\", // 属性类型\n *       properties: {} // 解析后的属性键值对（根据物模型动态调整）\n *     },\n *     {\n *       messageType: \"EVENT\", // 事件类型\n *       event: \"\", // 事件名称\n *       data: {} // 事件参数\n *     }\n *   ]\n */\nvar decode = payload => {\n    var rs = [];\n    // 属性\n    var properties = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {}\n    };\n    if(JSONUtil.isTypeJSON(payload)){\n        properties.properties=toJson(payload);\n    }else{\n        properties.properties.sourcePayload=payload;\n    }\n    properties.replyPayload=\"nexiotyanshi\"+randomSign();\n    // 1-properties.downTopic\n    //2-端云配置\n    //3-nexiot\n    // properties.downTopic=\"nexiot/down1/zxabc123456\";\n    // rs.push(properties);\n    \n    // 事件\n    var event = {\n        \"messageType\": \"EVENT\",\n        \"event\": \"\",\n        \"data\": {}\n    };\n    // rs.push(event);\n    \n    return properties;\n};');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/12/未定义名称.ms', '{\n  \"properties\" : { },\n  \"id\" : \"49a967a70fd7432298234970a84361b4\",\n  \"script\" : null,\n  \"groupId\" : \"07f245bebc6b4f5d9d40735ab3349220\",\n  \"name\" : \"未定义名称\",\n  \"createTime\" : 1758080524278,\n  \"updateTime\" : 1763524040719,\n  \"lock\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"123123123\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"[\\n    {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"deviceId\\\": \\\"085530427757\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": \\\"7e0704006d0855304277570008000101006800000100004c000001cc2ba4072a174d00000000000025111910413901040000038e300115310100e402013be60100e7080000000400000000fb0100eb2a00060089ffffefff000600c5fe7fffe70006002d00000000000300a83b000b00d801cc0057b904c9c982437e\\\",\\n            \\\"terminalPhone\\\": \\\"085530427757\\\",\\n            \\\"msgId\\\": \\\"0704\\\",\\n            \\\"msgSeq\\\": \\\"0008\\\",\\n            \\\"parseStatus\\\": \\\"success\\\",\\n            \\\"msgBodyLength\\\": 109,\\n            \\\"mileage\\\": 91,\\n            \\\"signalStrength\\\": 21,\\n            \\\"gnssCount\\\": 0,\\n            \\\"coordinates\\\": \\\"120.203546,30.155317\\\",\\n            \\\"altitude\\\": 0,\\n            \\\"currentSpeed\\\": 0,\\n            \\\"currentDirection\\\": 0,\\n            \\\"currentDirectionDesc\\\": \\\"北\\\",\\n            \\\"reportTime\\\": \\\"2025-11-19 10:41:39\\\",\\n            \\\"gnssState\\\": \\\"0\\\",\\n            \\\"accState\\\": \\\"0\\\",\\n            \\\"alarmFlag\\\": \\\"00000100\\\",\\n            \\\"status\\\": \\\"004C0000\\\",\\n            \\\"locationInfo\\\": \\\"120.198989,30.157732#北#0.0#0\\\",\\n            \\\"drivingState\\\": \\\"1\\\",\\n            \\\"batchDataItemCount\\\": 1,\\n            \\\"batchLocationType\\\": 1,\\n            \\\"batchParseCount\\\": 1\\n        },\\n        \\\"data\\\": {\\n            \\\"functionId\\\": \\\"batchLocationReport\\\",\\n            \\\"functionName\\\": \\\"批量位置数据上报\\\"\\n        },\\n        \\\"ts\\\": \\\"1763520099000\\\",\\n        \\\"replyPayload\\\": \\\"7E8001000508553042775700080008070400887E\\\"\\n    }\\n]\",\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\nimport cn.hutool.core.util.HexUtil;\nimport cn.hutool.core.date.DateUtil;\nimport cn.hutool.core.util.StrUtil;\nimport cn.hutool.core.util.NumberUtil;\n\nimport cn.hutool.json.JSONUtil;\nimport log;\n\n\n/**\n * 构建JT808消息头（修复：终端手机号直接用BCD编码，不额外转换）\n * @param {String} msgId - 消息ID（8100=注册应答）\n * @param {String} terminalPhone - 终端手机号（12位数字，如018220444386）\n * @param {Integer} msgBodyLen - 消息体长度（字节，严格按选中协议计算）\n * @param {String} msgSeq - 消息流水号（4位16进制，=终端注册流水号）\n * @returns {String} 12字节消息头（24位16进制，符合选中协议）\n */\nvar buildCommonHeader = (msgId, terminalPhone, msgBodyLen, msgSeq) => {\n    // 1. 消息体属性：低10位=消息体长度，高6位=0（严格按选中协议）\n    const msgBodyProps = StrUtil.padPre(msgBodyLen + \"\", 4, \'0\');\n    // 2. 终端手机号：直接用12位数字作为BCD编码（无需hex_even转换，避免破坏BCD格式）\n    const phoneBcd = StrUtil.padPre(terminalPhone, 12, \'0\'); // 确保12位，补前导0\n    // 3. 组装消息头：消息ID(4)+属性(4)+手机号(12)+流水号(4)=24位16进制\n    const msgHeader = msgId + msgBodyProps + phoneBcd + msgSeq;\n    log.debug(\"构建消息头：msgId【{}】，消息体长度【{}】字节，流水号【{}】，手机号BCD【{}】\",\n        msgId, msgBodyLen, msgSeq, phoneBcd);\n    return msgHeader;\n};\nvar directDescParse = (directionVal) =>{\n    var directionDesc = \"北\"; // 默认北方\n    if (directionVal >= 0 && directionVal < 23) {\n        directionDesc = \"北\";\n    } else if (directionVal >= 23 && directionVal < 68) {\n        directionDesc = \"东北\";\n    } else if (directionVal >= 68 && directionVal < 113) {\n        directionDesc = \"东\";\n    } else if (directionVal >= 113 && directionVal < 158) {\n        directionDesc = \"东南\";\n    } else if (directionVal >= 158 && directionVal < 203) {\n        directionDesc = \"南\";\n    } else if (directionVal >= 203 && directionVal < 248) {\n        directionDesc = \"西南\";\n    } else if (directionVal >= 248 && directionVal < 293) {\n        directionDesc = \"西\";\n    } else if (directionVal >= 293 && directionVal < 338) {\n        directionDesc = \"西北\";\n    } else if (directionVal >= 338 && directionVal <= 359) {\n        directionDesc = \"北\";\n    }\n    return directionDesc;\n}\nvar preDecode = (payload) => {\n    payloadClean = StrUtil.removeAll(payload, \' \').toUpperCase();\n    payloadClean = payloadClean.replaceAll(\"7D02\", \"7E\").replaceAll(\"7D01\", \"7D\");\n    const msgHeader = payloadClean.substring(2, 26); // 起始符2位 + 消息头24位 = 2-26位\n    const terminalPhoneHex = msgHeader.substring(8, 20); // 终端手机号（8-20位，6字节BCD）\n    return {\n        \"deviceId\": terminalPhoneHex,\n        \"productKey\": \"jt808\"\n    };\n};\n// ------------------------------ 公共工具函数（适配厂家协议） ------------------------------\nvar bcdToPhone = (bcdHex) => {\n    if (StrUtil.isBlank(bcdHex) || bcdHex.length() !== 12) {\n        log.error(\"BCD转手机号失败：输入不是12位16进制（实际{}位）\", bcdHex.length());\n        return \"\";\n    }\n    var phone = hex_bcdToDec(bcdHex, 0);\n    phone = phone.replace(/[^0-9]/g, \'\');\n    return StrUtil.padPre(phone, 12, \'0\').substring(0, 12);\n};\n\nvar hexToAscii = (hex) => {\n    if (StrUtil.isBlank(hex) || hex.length() % 2 !== 0) {\n        return \"\";\n    }\n    return hex_toAscii(hex);\n};\nvar calcCheckCode = (data) => {\n    if (StrUtil.isBlank(data) || data.length() % 2 !== 0) {\n        log.error(\"校验码计算失败：输入不是有效16进制字符串（长度{}位）\", data.length());\n        return \"00\";\n    }\n    return checkCRCTwoDigit(data).toUpperCase();\n};\n\n\n\nvar buildQueryLocationCmd = (terminalPhone, shadow) => {\n    const msgId = \"8201\";\n    const msgBody = \"\";\n    // 使用randomSign()生成流水号\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()),2);\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBody.length() / 2, msgSeq);\n    const msgHeaderBody = msgHeader + msgBody;\n    const checkCode = calcCheckCode(msgHeaderBody);\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\n    log.info(\"构建查询位置指令：终端手机号【{}】，流水号【{}】，报文【{}】\", terminalPhone, msgSeq, finalFrame);\n    return finalFrame;\n};\n\nvar buildSetReportStrategyCmd = (terminalPhone, strategyType, timeInterval, distanceInterval, shadow) => {\n    const msgId = \"8103\";\n    let msgBody = \"03\";\n    msgBody += \"0020000004\" + StrUtil.padPre(Integer.toHexString(strategyType).toUpperCase(), 8, \'0\');\n    msgBody += \"0029000004\" + StrUtil.padPre(Integer.toHexString(timeInterval).toUpperCase(), 8, \'0\');\n    msgBody += \"002C000004\" + StrUtil.padPre(Integer.toHexString(distanceInterval).toUpperCase(), 8, \'0\');\n    \n    // 使用randomSign()生成流水号\n    const msgSeq = randomSign();\n    \n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBody.length() / 2, msgSeq);\n    const msgHeaderBody = msgHeader + msgBody;\n    const checkCode = calcCheckCode(msgHeaderBody);\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\n    log.info(\"构建设置汇报策略指令：终端手机号【{}】，策略【{}】，定时【{}s】，定距【{}m】，流水号【{}】，报文【{}】\",\n        terminalPhone, strategyType, timeInterval, distanceInterval, msgSeq, finalFrame);\n    return finalFrame;\n};\n\nvar buildTempTrackCmd = (terminalPhone, interval, validTime, shadow) => {\n    const msgId = \"8202\";\n    let msgBody = \"\";\n    msgBody += StrUtil.padPre(Integer.toHexString(interval).toUpperCase(), 4, \'0\');\n    msgBody += StrUtil.padPre(Integer.toHexString(validTime).toUpperCase(), 8, \'0\');\n    \n    // 使用randomSign()生成流水号\n    const msgSeq = randomSign();\n    \n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBody.length() / 2, msgSeq);\n    const msgHeaderBody = msgHeader + msgBody;\n    const checkCode = calcCheckCode(msgHeaderBody);\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\n    log.info(\"构建临时跟踪指令：终端手机号【{}】，间隔【{}s】，有效期【{}s】，流水号【{}】，报文【{}】\",\n        terminalPhone, interval, validTime, msgSeq, finalFrame);\n    return finalFrame;\n};\n\n// ------------------------------ 新增：应答报文构建工具函数（基于厂家文档） ------------------------------\n/**\n * 构建平台通用应答报文（0x8001，JT/T 808-2013 2.2）- 修复参数缺失\n * @param {String} terminalPhone - 终端手机号（12位）\n * @param {String} respSeq - 应答流水号（=终端消息流水号，选中协议核心要求）\n * @param {String} respMsgId - 应答目标消息ID（如0x0102→\"0102\"）\n * @param {String} resultCode - 结果码（00=成功等，选中协议取值）\n * @returns {String} 完整应答报文\n */\nvar buildPlatformCommonReply = (terminalPhone, respSeq, respMsgId, resultCode) => {\n    const msgId = \"8001\"; // 平台通用应答消息ID\n    // 1. 按选中协议组装消息体：应答流水号(4)+目标消息ID(4)+结果码(2)\n    const msgBody = respSeq + respMsgId + resultCode;\n    // 2. 计算消息体长度（字节）\n    const msgBodyLen = msgBody.length() / 2;\n    // 3. 修复：传入第4参数respSeq（=终端流水号，符合选中协议“应答流水号=终端消息流水号”）\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, respSeq);\n    // 4. 计算校验码（消息头+消息体，符合选中协议校验规则）\n    const checkCode = calcCheckCode(msgHeader + msgBody);\n    const replyFrame = `7E${msgHeader}${msgBody}${checkCode}7E`;\n\n    log.info(\"构建平台通用应答：终端【{}】，流水号【{}】，目标ID【{}】，报文【{}】\",\n        terminalPhone, respSeq, respMsgId, replyFrame);\n    return replyFrame;\n};\n/**\n * 构建终端注册应答报文（完全遵循选中协议）\n * @param {String} terminalPhone - 终端手机号（12位数字，如018220444386）\n * @param {String} respSeq - 应答流水号（4位16进制，=终端注册流水号，选中协议核心要求）\n * @param {String} resultCode - 结果码（2位16进制，00=成功，01=车辆已注册等，选中协议取值）\n * @param {String} authCode - 鉴权码（16进制字符串，仅resultCode=00时传入，长度≤20字节）\n * @returns {String} 完整应答报文（含7E首尾符，符合选中协议）\n */\nvar buildTerminalRegisterReply = (terminalPhone, respSeq, resultCode, authCode) => {\n    const msgId = \"8100\"; // 注册应答消息ID（选中协议明确）\n    let msgBody = \"\";\n\n    // 1. 按选中协议组装消息体：应答流水号(4) + 结果码(2) + 鉴权码(可选)\n    msgBody += respSeq; // 应答流水号=终端注册流水号（选中协议核心要求）\n    msgBody += resultCode; // 结果码（2位16进制，如00=成功）\n    // 2. 仅结果码=00时添加鉴权码（选中协议要求）\n    let authCodeHex = \"\";\n    if (resultCode === \"00\" && StrUtil.isNotBlank(authCode)) {\n        authCodeHex = authCode.toUpperCase();\n        // 校验鉴权码长度≤20字节（选中协议要求）\n        if (authCodeHex.length() > 40) { // 20字节=40位16进制\n            log.error(\"鉴权码长度超过20字节（实际{}字节），截断为20字节\", authCodeHex.length() / 2);\n            authCodeHex = authCodeHex.substring(0, 40);\n        }\n        msgBody += authCodeHex;\n    }\n\n    // 3. 计算消息体长度（字节）：16进制位数/2\n    const msgBodyLen = msgBody.length() / 2;\n    // 4. 构建消息头（传入正确的消息体长度和流水号）\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, respSeq);\n    // 5. 计算校验码（从消息头到消息体的逐字节异或，选中协议要求）\n    const checkCode = calcCheckCode(msgHeader + msgBody);\n    // 6. 组装完整报文（首尾7E，无多余字符）\n    const replyFrame = `7E${msgHeader}${msgBody}${checkCode}7E`;\n\n    log.info(\"构建注册应答：终端手机号【{}】，流水号【{}】，结果【{}】，鉴权码【{}】，报文【{}】\",\n        terminalPhone, respSeq, resultCode, authCodeHex || \"无\", replyFrame);\n    return replyFrame;\n};\n\n/**\n * 构建位置信息查询应答（0x0201，JT/T 808-2013 2.12）- 修复参数缺失\n * @param {String} terminalPhone - 终端手机号（12位）\n * @param {String} respSeq - 应答流水号（=平台查询指令的流水号，协议要求）\n * @param {Object} locationData - 位置数据（含lat/lng等）\n * @returns {String} 完整应答报文\n */\nvar buildLocationQueryReply = (terminalPhone, respSeq, locationData) => {\n    const msgId = \"0201\"; // 位置查询应答消息ID\n    // 1. 组装消息体：应答流水号(4)+位置信息体（同0x0200格式）\n    let locationBody = \"\";\n    locationBody += StrUtil.padPre(locationData.alarmFlag || \"00000000\", 8, \'0\');\n    locationBody += StrUtil.padPre(locationData.status || \"00000000\", 8, \'0\');\n    locationBody += StrUtil.padPre(locationData.latHex || \"00000000\", 8, \'0\');\n    locationBody += StrUtil.padPre(locationData.lngHex || \"00000000\", 8, \'0\');\n    locationBody += StrUtil.padPre(locationData.altitude || \"0000\", 4, \'0\');\n    locationBody += StrUtil.padPre(locationData.speed || \"0000\", 4, \'0\');\n    locationBody += StrUtil.padPre(locationData.direction || \"0000\", 4, \'0\');\n    locationBody += locationData.timeBcd || \"251117100000\";\n    const msgBody = respSeq + locationBody;\n\n    // 2. 计算消息体长度（字节）\n    const msgBodyLen = msgBody.length() / 2;\n    // 3. 修复：传入第4参数respSeq（=平台查询指令的流水号，确保终端识别应答归属）\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, respSeq);\n    // 4. 计算校验码\n    const checkCode = calcCheckCode(msgHeader + msgBody);\n    const replyFrame = `7E${msgHeader}${msgBody}${checkCode}7E`;\n\n    log.info(\"构建位置查询应答：终端【{}】，流水号【{}】，位置（{}°N, {}°E），报文【{}】\",\n        terminalPhone, respSeq, locationData.lat, locationData.lng, replyFrame);\n    return replyFrame;\n};\n/**\n * 构建请求同步时间应答（0x8109，遵循你提供的规范）\n * @param {String} terminalPhone - 终端手机号（12位，如 777777777943）\n * @param {String} respSeq - 应答流水号=终端0x0109请求流水号（选中内容核心规则）\n * @param {String} resultCode - 应答结果（0=成功，1=失败等，2位16进制）\n * @returns {String} 完整0x8109应答报文（含7E首尾符）\n */\nvar buildTimeSyncReply = (terminalPhone, respSeq, resultCode) => {\n    const msgId = \"8109\"; // 同步时间应答消息ID\n    // 1. 使用Hutool获取时间参数\n    Date now = DateUtil.date(); // 获取当前时间\n    // 从Date对象中获取各个时间部件（Hutool方式）\n    int year = DateUtil.thisYear(); // 如 2025\n    int month = DateUtil.thisMonth() + 1; // 注意：Hutool的month从1开始（1-12）\n    int day = DateUtil.dayOfMonth(now); // 1-31\n    int hour = DateUtil.hour(now, true); // 0-23 (true表示24小时制)\n    int minute = DateUtil.minute(now); // 0-59\n    int second = DateUtil.second(now); // 0-59\n\n    // 1.1 年（WORD=2字节：高字节=年//256，低字节=年%256，16进制）\n    const yearHigh = StrUtil.padPre(Integer.toHexString(year >> 8).toUpperCase(), 2, \'0\');\n    const yearLow = StrUtil.padPre(Integer.toHexString(year & 0xFF).toUpperCase(), 2, \'0\');\n    const yearHex = yearHigh + yearLow; // 如 2025→07E9（0x07=2025//256，0xE9=2025%256）\n\n    // 1.2 月/日/时/分/秒（各1字节，16进制补0）\n    const monthHex = StrUtil.padPre(Integer.toHexString(month).toUpperCase(), 2, \'0\');\n    const dayHex = StrUtil.padPre(Integer.toHexString(day).toUpperCase(), 2, \'0\');\n    const hourHex = StrUtil.padPre(Integer.toHexString(hour).toUpperCase(), 2, \'0\');\n    const minuteHex = StrUtil.padPre(Integer.toHexString(minute).toUpperCase(), 2, \'0\');\n    const secondHex = StrUtil.padPre(Integer.toHexString(second).toUpperCase(), 2, \'0\');\n\n    // 1.3 应答结果（1字节，2位16进制）\n    const resultCodeHex = StrUtil.padPre(resultCode, 2, \'0\');\n\n    // 1.4 组装消息体（共8字节=16位16进制）\n    const msgBody = yearHex + monthHex + dayHex + hourHex + minuteHex + secondHex + resultCodeHex;\n\n    // 2. 计算消息体长度（8字节）\n    const msgBodyLen = 8;\n\n    // 3. 构建消息头（调用现有buildCommonHeader，传入4个参数）\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, respSeq);\n\n    // 4. 计算校验码（消息头+消息体）\n    const checkCode = calcCheckCode(msgHeader + msgBody);\n\n    // 5. 组装完整报文（含7E首尾符）\n    const replyFrame = `7E${msgHeader}${msgBody}${checkCode}7E`;\n\n    log.info(\"构建 0x8109 同步时间应答：终端【{}】，时间【${year}-${month}-${day} ${hour}:${minute}:${second}】，报文【{}】\",\n        terminalPhone, replyFrame);\n    return replyFrame;\n};\n\n// ------------------------------ 核心函数：encode（不变） ------------------------------\nvar encode = (functionReqJson, shadow) => {\n    const functionReq = JSONUtil.parseObj(functionReqJson);\n    const msgType = functionReq.getStr(\"messageType\");\n    const funcId = functionReq.getStr(\"function\");\n    const funcData = functionReq.getObj(\"data\", {});\n\n    if (msgType !== \"FUNCTIONS\") {\n        const errMsg = `不支持的消息类型【${msgType}】，仅支持FUNCTIONS`;\n        log.error(\"encode 错误：{}\", errMsg);\n        throw new Error(errMsg);\n    }\n    const terminalPhone = funcData.getStr(\"terminalPhone\");\n    let finalFrame = null;\n    if (funcId === \"queryLocation\") {\n        finalFrame = buildQueryLocationCmd(terminalPhone, shadow);\n    } else if (funcId === \"setLocationReportStrategy\") {\n        const strategyType = funcData.getStr(\"strategyType\") || \"0\";\n        const timeInterval = funcData.getInt(\"timeInterval\") || 60;\n        const distanceInterval = funcData.getInt(\"distanceInterval\") || 100;\n        finalFrame = buildSetReportStrategyCmd(terminalPhone, strategyType, timeInterval, distanceInterval, shadow);\n    } else if (funcId === \"tempLocationTrack\") {\n        const interval = funcData.getInt(\"interval\") || 0;\n        const validTime = funcData.getInt(\"validTime\") || 3600;\n        finalFrame = buildTempTrackCmd(terminalPhone, interval, validTime, shadow);\n    } else if (funcId === \"cmd\") {\n        const hexCmd = funcData.getStr(\"hexCmd\") || \"\";\n        if (StrUtil.isBlank(hexCmd)) {\n            throw new Error(\"透传指令需传入hexCmd（十六进制指令）\");\n        }\n        finalFrame = hexCmd;\n    } else {\n        const errMsg = `不支持的功能ID【${funcId}】`;\n        log.error(\"encode 错误：{}\", errMsg);\n        throw new Error(errMsg);\n    }\n\n    log.info(\"encode 成功：功能【{}】，终端手机号【{}】，最终报文【{}】\", funcId, terminalPhone, finalFrame);\n    return finalFrame;\n};\n\n// ------------------------------ 核心函数：decode（终极修复） ------------------------------\nvar decode = (payload, context) => {\n    const result = [];\n    let payloadClean = \"\";\n\n    try {\n        // 1. 报文预处理\n        payloadClean = StrUtil.removeAll(payload, \' \').toUpperCase();\n        payloadClean = payloadClean.replaceAll(\"7D02\", \"7E\").replaceAll(\"7D01\", \"7D\");\n\n        // 2. 基础校验（仅保留首尾7E和最小长度校验）\n        if (!payloadClean.startsWith(\"7E\") || !payloadClean.endsWith(\"7E\")) {\n            throw new Error(`报文首尾标志错误（需7E，实际首：${payloadClean.substring(0,2)}，尾：${payloadClean.substring(payloadClean.length()-2)}）`);\n        }\n        if (payloadClean.length() < 30) { // 最小帧：7E+12字节消息头+0体+1校验码+7E=30位16进制\n            throw new Error(`报文长度不足（实际${payloadClean.length()}位，最小30位）`);\n        }\n\n        // 3. 提取消息头（厂家文档12字节=24位16进制）\n        const msgHeader = payloadClean.substring(2, 26); // 起始符2位 + 消息头24位 = 2-26位\n        const msgId = msgHeader.substring(0, 4); // 消息ID（0-4位）\n        const msgBodyProps = msgHeader.substring(4, 8); // 消息体属性（4-8位）\n        const msgBodyLen = Integer.parseInt(msgBodyProps, 16) & 0x3FF; // 消息体长度（低10位）\n        const terminalPhoneHex = msgHeader.substring(8, 20); // 终端手机号（8-20位，6字节BCD）\n        const msgSeq = msgHeader.substring(20, 24); // 消息流水号（20-24位）\n\n        // 4. 解析终端手机号\n        const terminalPhone = bcdToPhone(terminalPhoneHex);\n        if (terminalPhone.length() !== 12) {\n            throw new Error(`终端手机号解析错误（BCD：${terminalPhoneHex}，转义后：${terminalPhone}）`);\n        }\n        const deviceId = terminalPhone;\n\n        // 5. 初始化返回结构\n        const properties = {\n            \"messageType\": \"PROPERTIES\",\n            \"deviceId\": deviceId,\n            \"properties\": {\n                \"sourcePayload\": payload,\n                \"terminalPhone\": terminalPhone,\n                \"msgBodyLength\": msgBodyLen\n            },\n            \"data\": {\n                \"functionId\": \"\",\n                \"functionName\": \"\"\n            }\n        };\n\n        // ------------------------------ 终极修复：按厂家协议直接提取，删除冗余判断 ------------------------------\n        const msgBodyStart = 26; // 消息体起始位（2位起始符+24位消息头=26位16进制）\n        const checkCodeStart = msgBodyStart + msgBodyLen * 2; // 消息体结束位=起始位+消息体16进制位数\n        const checkCodeEnd = checkCodeStart + 2; // 校验码结束位（2位16进制）\n\n        // 仅保留越界防护（防止报文严重异常）\n        if (checkCodeEnd > payloadClean.length() - 2) {\n            throw new Error(`报文结构异常：消息体+校验码超出报文范围（需${checkCodeEnd}位16进制，实际仅${payloadClean.length()-2}位）`);\n        }\n\n        // 直接提取消息体和校验码（完全按厂家协议）\n        const msgBody = payloadClean.substring(msgBodyStart, checkCodeStart);\n        const checkCode = payloadClean.substring(checkCodeStart, checkCodeEnd);\n        // ------------------------------ 修复结束 ------------------------------\n\n        // 6. 校验码验证（可选：厂家文档要求验证，保留但允许兼容）\n        const calcCheck = calcCheckCode(msgHeader + msgBody);\n        if (!StrUtil.equalsIgnoreCase(checkCode, calcCheck)) {\n            log.warn(\"校验码不匹配：实际{}，计算{}，继续解析核心字段\", checkCode, calcCheck);\n            // 不抛出错误，避免因校验码偏差导致解析失败\n        }\n\n        // 7. 按消息ID解析（终端注册0x0100，严格遵循厂家文档表6）\n        if (msgId === \"0100\") {\n            properties.data.functionId = \"terminalRegister\";\n            properties.data.functionName = \"终端注册上报\";\n            try {\n                // 厂家文档表6：省域ID(2)+市县域ID(2)+制造商ID(5)+终端型号(20)+终端ID(7)+车牌颜色(1)+车牌(STRING)\n                const provinceId = Integer.parseInt(msgBody.substring(0, 4), 16); // 省域ID（WORD）\n                const cityId = Integer.parseInt(msgBody.substring(4, 8), 16); // 市县域ID（WORD）\n                const manufacturerId = hexToAscii(msgBody.substring(8, 18)).trim(); // 制造商ID（5字节）\n                const terminalModel = hexToAscii(msgBody.substring(18, 58)).trim(); // 终端型号（20字节）\n                const terminalId = hexToAscii(msgBody.substring(58, 72)).trim(); // 终端ID（7字节）\n                const plateColor = Integer.parseInt(msgBody.substring(72, 74), 16); // 车牌颜色（BYTE）\n                properties.properties.plateNumberPayload = msgBody.substring(74);\n                const plateNumber = hex_toGBK(msgBody.substring(74)).trim(); // 车牌（STRING）\n\n                // 赋值核心属性\n                properties.properties.provinceId = provinceId;\n                properties.properties.cityId = cityId;\n                properties.properties.manufacturerId = manufacturerId;\n                properties.properties.terminalModel = terminalModel;\n                properties.properties.terminalId = terminalId;\n                properties.properties.plateColor = plateColor;\n                properties.properties.plateNumber = plateNumber;\n                properties.properties.registerTime = DateUtil.now()\n                // 3. 修复：生成终端注册应答（严格遵循选中协议）\n                const resultCode = \"00\"; // 假设注册成功，实际需按业务逻辑判断（如查询数据库是否已注册）\n                // 3.1 鉴权码：将终端ID转为16进制（符合STRING类型，长度≤20字节）\n                let authCode = \"3132\"; //设备厂家说就是这个\n                // 3.2 调用修复后的函数：传入终端流水号msgSeq（关键！）\n                const registerReply = buildTerminalRegisterReply(\n                    terminalPhone, // 终端手机号（12位）\n                    msgSeq, // 应答流水号=终端注册消息的流水号（选中字段要求）\n                    resultCode, // 结果码（00=成功）\n                    authCode // 鉴权码（16进制，符合长度要求）\n                );\n                properties.replyPayload = registerReply; // 赋值应答内容\n                // ------------------------------ 应答赋值结束 ------------------------------\n                log.info(\"解析终端注册成功：终端【{}】，制造商【{}】，型号【{}】，终端ID【{}】\",\n                    terminalPhone, manufacturerId, terminalModel, terminalId);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `注册字段解析失败：${e.getMessage()}`;\n                log.error(\"decode 注册字段错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        } // ------------------------------ 在 decode 函数的 7. 按消息ID解析 部分新增 ------------------------------\n        else if (msgId === \"0704\") {\n            // 批量位置数据上报（0x0704，JT/T 808-2013）\n            properties.data.functionId = \"batchLocationReport\";\n            properties.data.functionName = \"批量位置数据上报\";\n            try {\n                // 1. 解析批量数据头部（数据项数量+位置数据类型）\n                const dataItemCount = Integer.parseInt(msgBody.substring(0, 4), 16); // WORD，数据项个数\n                const locationType = Integer.parseInt(msgBody.substring(4, 6), 16); // BYTE，位置数据类型（0=正常位置批量汇报）\n\n                log.info(\"批量位置数据上报：终端【{}】，数据项数【{}】，类型【{}】，解析所有数据项\", terminalPhone, dataItemCount, locationType);\n\n                // 2. 初始化变量，解析所有数据项\n                var currentOffset = 6; // 当前解析偏移量（跳过前3字节：数据项数2字节+类型1字节）\n                var locationList = []; // 存储所有位置数据的数组\n                var parseCount = 0; // 实际解析成功的数量\n\n                // 3. 循环解析所有数据项\n                for (i in range(0, dataItemCount - 1)) {\n                    try {\n                        // 3.1 解析位置数据长度（WORD，2字节）\n                        const itemLength = Integer.parseInt(msgBody.substring(currentOffset, currentOffset + 4), 16);\n                        currentOffset = currentOffset + 4; // 跳过长度字段\n\n                        // 3.2 计算单条位置数据体结束位置\n                        const itemBodyEnd = currentOffset + itemLength * 2;\n                        if (itemBodyEnd > msgBody.length()) {\n                            log.warn(\"批量位置数据项{}超出消息体范围，跳过\", i + 1);\n                            break;\n                        }\n                        \n                        // 解析所有数据项\n                        const itemBody = msgBody.substring(currentOffset, itemBodyEnd);\n                        currentOffset = itemBodyEnd; // 更新偏移量\n\n                        // 3.3 解析位置基础信息（同0x0200结构）\n                        const alarmFlag = itemBody.substring(0, 8); // 报警标志（4字节）\n                        const status = itemBody.substring(8, 16); // 状态（4字节）\n                        const latHex = itemBody.substring(16, 24); // 纬度（4字节）\n                        const lngHex = itemBody.substring(24, 32); // 经度（4字节）\n                        const altitude = itemBody.substring(32, 36); // 高程（2字节）\n                        const speed = itemBody.substring(36, 40); // 速度（2字节，1/10 km/h）\n                        const direction = itemBody.substring(40, 44); // 方向（2字节，0-359°）\n                        const timeBcd = itemBody.substring(44, 56); // 时间（6字节BCD）\n\n                        // 3.4 转换位置数据\n                        var lat = NumberUtil.div(Integer.parseInt(latHex, 16), 1000000, 6);\n                        var lng = NumberUtil.div(Integer.parseInt(lngHex, 16), 1000000, 6);\n                        const statusVal = Integer.parseInt(status, 16);\n                        if ((statusVal & 0x00000004) !== 0) {\n                            lat = -lat;\n                        }\n                        if ((statusVal & 0x00000008) !== 0) {\n                            lng = -lng;\n                        }\n\n                        // 解析方向并生成描述（方向描述映射：枚举逻辑）\n                        const directionVal = Integer.parseInt(direction, 16);\n                        var directionDesc=directDescParse(directionVal);\n                        const reportTime=`20${timeBcd.substring(0,2)}-${timeBcd.substring(2,4)}-${timeBcd.substring(4,6)} ${timeBcd.substring(6,8)}:${timeBcd.substring(8,10)}:${timeBcd.substring(10,12)}`;\n                        \n                        // 3.5 解析附加信息（如果有）\n                        const additionalInfoHex = itemBody.substring(56); // 附加信息起始位置\n                        var itemProperties = {}; // 当前数据项的附加属性\n\n                        if (additionalInfoHex.length() >= 4) {\n                            var addOffset = 0;\n                            while (addOffset < additionalInfoHex.length() - 4) {\n                                const addId = additionalInfoHex.substring(addOffset, addOffset + 2);\n                                const addLen = Integer.parseInt(additionalInfoHex.substring(addOffset + 2, addOffset + 4), 16);\n                                addOffset = addOffset + 4;\n\n                                if (addOffset + addLen * 2 > additionalInfoHex.length()) {\n                                    break;\n                                }\n\n                                const addValue = additionalInfoHex.substring(addOffset, addOffset + addLen * 2);\n                                addOffset = addOffset + addLen * 2;\n\n                                // 解析常见附加信息ID\n                                if (addId === \"01\") {\n                                    itemProperties.mileage = NumberUtil.div(Integer.parseInt(addValue, 16), 10, 1);\n                                } else if (addId === \"02\") {\n                                    itemProperties.fuel = Integer.parseInt(addValue, 16);\n                                } else if (addId === \"03\") {\n                                    itemProperties.recorderSpeed = Integer.parseInt(addValue, 16);\n                                } else if (addId === \"04\") {\n                                    itemProperties.alarmEventId = Integer.parseInt(addValue, 16);\n                                } else if (addId === \"30\") {\n                                    itemProperties.signalStrength = Integer.parseInt(addValue, 16);\n                                } else if (addId === \"31\") {\n                                    itemProperties.gnssCount = Integer.parseInt(addValue, 16);\n                                }\n                            }\n                        }\n\n                        // 3.6 构建位置数据对象\n                        var locationItem = {\n                            index: i + 1,\n                            latitude: lat,\n                            longitude: lng,\n                            coordinates: `${lng},${lat}`,\n                            altitude: Integer.parseInt(altitude, 16),\n                            currentSpeed: NumberUtil.div(Integer.parseInt(speed, 16), 10, 1),\n                            currentDirection: directionVal,\n                            currentDirectionDesc: directionDesc,\n                            reportTime: reportTime,\n                            gnssState: (statusVal & 0x00000002) === 2 ? \"1\" : \"0\",\n                            accState: (statusVal & 0x00000001) === 1 ? \"1\" : \"0\",\n                            alarmFlag: alarmFlag,\n                            status: status,\n                            drivingState: (statusVal & 0x00400000) !== 0 ? \"1\" : \"0\",\n                            locationInfo: `${lng},${lat}#${directionDesc}#${NumberUtil.div(Integer.parseInt(speed, 16), 10, 1)}#${Integer.parseInt(altitude, 16)}`\n                        };\n                        \n                        // 合并附加属性\n                        for (key in itemProperties) {\n                            locationItem[key] = itemProperties[key];\n                        }\n                        \n                        // 添加到数组\n                        locationList.push(locationItem);\n                        parseCount = parseCount + 1;\n                        \n                        // 如果是最后一条，同时赋值到properties.properties（保持向后兼容）\n                        if (i === dataItemCount - 1) {\n                            properties.properties.latitude = lat;\n                            properties.properties.longitude = lng;\n                            properties.properties.coordinates = `${lng},${lat}`;\n                            properties.properties.altitude = Integer.parseInt(altitude, 16);\n                            properties.properties.currentSpeed = NumberUtil.div(Integer.parseInt(speed, 16), 10, 1);\n                            properties.properties.currentDirection = directionVal;\n                            properties.properties.currentDirectionDesc = directionDesc;\n                            properties.properties.reportTime = reportTime;\n                            properties.properties.gnssState = (statusVal & 0x00000002) === 2 ? \"1\" : \"0\";\n                            properties.properties.accState = (statusVal & 0x00000001) === 1 ? \"1\" : \"0\";\n                            properties.properties.alarmFlag = alarmFlag;\n                            properties.properties.status = status;\n                            properties.ts = date_format_long(reportTime);\n                            properties.properties.locationInfo = locationItem.locationInfo;\n                            properties.properties.drivingState = (statusVal & 0x00400000) !== 0 ? \"1\" : \"0\";\n                            \n                            // 最后一条的附加属性也赋值到properties.properties\n                            for (key in itemProperties) {\n                                properties.properties[key] = itemProperties[key];\n                            }\n                        }\n\n                    } catch (e) {\n                        log.error(\"解析批量位置数据项{}失败：{}\", i + 1, e.getMessage());\n                        break;\n                    }\n                }\n\n                // 4. 赋值物模型属性（批量信息）\n                properties.properties.batchDataItemCount = dataItemCount;\n                properties.properties.batchLocationType = locationType;\n                properties.properties.batchParseCount = parseCount; // 实际解析的数量\n                properties.data.locationList = locationList; // 所有位置数据数组\n\n                // 5. 生成平台通用应答\n                const batchReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"0704\",\n                    \"00\"\n                );\n                properties.replyPayload = batchReply;\n\n                log.info(\"解析批量位置数据成功：终端【{}】，应解析【{}】条，实际解析【1】条（最后一条）\",\n                    terminalPhone, dataItemCount);\n\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `批量位置数据解析失败：${e.getMessage()}`;\n                log.error(\"decode 批量位置数据错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        } else if (msgId === \"0102\") {\n            // 终端鉴权报文（0x0102，厂家文档2.7）\n            properties.data.functionId = \"terminalAuth\";\n            properties.data.functionName = \"终端鉴权上报\";\n            try {\n                // 1. 校验消息体长度（厂家文档：消息体仅含鉴权码，长度≥1字节，你的报文消息体长度2字节）\n                const msgBodyByteLen = msgBody.length() / 2;\n                if (msgBodyByteLen < 1) {\n                    throw new Error(`鉴权消息体不足（实际${msgBodyByteLen}字节，需≥1字节）`);\n                }\n\n                // 2. 解析鉴权码（厂家文档：终端重连后上报，与0x8100中的鉴权码一致）\n                const authCode = msgBody; // 消息体即为鉴权码（如你的报文 msgBody=3132）\n\n                // 3. 赋值物模型属性（对齐你之前的物模型定义）\n                properties.properties.terminalPhone = terminalPhone;\n                properties.properties.authCode = authCode; // 新增鉴权码属性\n                properties.properties.authTime = DateUtil.now(); // 鉴权时间\n                properties.properties.gpsState = \"unknown\"; // 鉴权报文无定位状态，设为未知\n                properties.properties.alarmStatus = []; // 鉴权报文无告警，设为空\n\n                // 4. 生成平台通用应答（0x8001，厂家文档2.2：终端鉴权需回复通用应答）\n                // 在 decode 函数的 0x0102 解析分支中\n                const authReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq, // 传入终端鉴权的流水号（如你的报文0001，符合选中协议）\n                    \"0102\",\n                    \"00\"\n                );\n                properties.replyPayload = authReply; // 赋值应答报文\n\n                // 5. 触发鉴权成功事件（对齐物模型events）\n                const authEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"authSuccess\", // 新增鉴权成功事件（可补充到物模型）\n                    \"data\": {\n                        \"content\": `终端【${terminalPhone}】鉴权成功，鉴权码：${authCode}，流水号：${msgSeq}`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"包含终端手机号、鉴权码、鉴权时间\" // 对齐物模型event字段描述\n                        }\n                    }\n                };\n                result.push(authEvent);\n\n                log.info(\"解析终端鉴权成功：终端【{}】，鉴权码【{}】，流水号【{}】\",\n                    terminalPhone, authCode, msgSeq);\n            } catch (e) {\n                // 鉴权失败处理：生成通用应答（结果码1=失败）\n                const errorReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"0102\",\n                    \"01\" // 结果码=1（失败）\n                );\n                properties.replyPayload = errorReply;\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `终端鉴权解析失败：${e.getMessage()}`;\n                log.error(\"decode 鉴权错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        }\n        // ------------------------------ decode 函数新增：解析 0x0210 休眠电池电量更新 ------------------------------\n        else if (msgId === \"0210\") {\n            // 休眠电池电量更新（每小时发送一次，平台回复通用应答）\n            properties.data.functionId = \"sleepBatteryUpdate\";\n            properties.data.functionName = \"休眠电池电量更新\";\n            try {\n                // 1. 校验消息体长度（应为7字节：电池百分比1字节+时间6字节）\n                if (msgBodyLen !== 7) {\n                    throw new Error(`0x0210 消息体长度错误（实际${msgBodyLen}字节，应为7字节）`);\n                }\n\n                // 2. 解析电池百分比（起始字节0，BYTE）\n                const batteryPercent = Integer.parseInt(msgBody.substring(0, 2), 16);\n                // 校验电池百分比范围（0-100）\n                if (batteryPercent < 0 || batteryPercent > 100) {\n                    log.warn(\"电池百分比超出正常范围（{}），但仍继续解析\", batteryPercent);\n                }\n\n                // 3. 解析时间（起始字节1，BCD[6]）\n                const timeBcd = msgBody.substring(2, 14); // 6字节=12位16进制\n                // 校验时间BCD格式长度\n                if (timeBcd.length() !== 12) {\n                    throw new Error(`时间BCD字段长度错误（实际${timeBcd.length()}位，应为12位）`);\n                }\n\n                // 4. 赋值物模型属性\n                properties.properties.batteryPercent = batteryPercent;\n                properties.properties.reportTime = `20${timeBcd.substring(0,2)}-${timeBcd.substring(2,4)}-${timeBcd.substring(4,6)} ${timeBcd.substring(6,8)}:${timeBcd.substring(8,10)}:${timeBcd.substring(10,12)}`;\n                properties.ts = date_format_long(properties.properties.reportTime);\n                // 5. 生成平台通用应答（0x8001）\n                const batteryReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"0210\",\n                    \"00\"\n                );\n                properties.replyPayload = batteryReply;\n\n                // 6. 触发电池电量更新事件\n                const batteryEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"batteryUpdate\",\n                    \"data\": {\n                        \"content\": `终端【${terminalPhone}】休眠电池电量更新：${batteryPercent}%，时间${properties.properties.reportTime}`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"包含电池百分比、上报时间\"\n                        }\n                    }\n                };\n                result.push(batteryEvent);\n\n                log.info(\"解析 0x0210 成功：终端【{}】，电池电量【{}%】，时间【{}】，应答报文【{}】\",\n                    terminalPhone, batteryPercent, properties.properties.reportTime, batteryReply);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `0x0210 解析失败：${e.getMessage()}`;\n                log.error(\"decode 0x0210 错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        }\n        // ------------------------------ decode 函数新增：解析 0x0107 终端属性查询应答 ------------------------------\n        else if (msgId === \"0107\") {\n            properties.data.functionId = \"terminalPropertyReport\";\n            properties.data.functionName = \"终端属性查询应答\";\n            try {\n                // 1. 校验消息体长度（最小应为69字节）\n                const msgBodyByteLen = msgBody.length() / 2;\n                if (msgBodyByteLen < 69) {\n                    throw new Error(`终端属性消息体不足（实际${msgBodyByteLen}字节，需≥69字节）`);\n                }\n\n                var offset = 0;\n\n                // 2. 解析终端类型（WORD，2字节）\n                const terminalType = Integer.parseInt(msgBody.substring(offset, offset + 4), 16);\n                offset = offset + 4;\n\n                // 3. 制造商ID（5字节）\n                const manufacturerId = hexToAscii(msgBody.substring(offset, offset + 10)).trim();\n                offset = offset + 10;\n\n                // 4. 终端型号（20字节）\n                const terminalModel = hexToAscii(msgBody.substring(offset, offset + 40)).trim();\n                offset = offset + 40;\n\n                // 5. 终端ID（7字节）\n                const terminalId = hexToAscii(msgBody.substring(offset, offset + 14)).trim();\n                offset = offset + 14;\n\n                // 6. 终端SIM卡ICCID（10字节BCD）\n                const iccidBcd = msgBody.substring(offset, offset + 20);\n                const iccid = hex_bcdToDec(iccidBcd, 0).replace(/[^0-9]/g, \'\');\n                offset = offset + 20;\n\n                // 7. 终端硬件版本号长度（BYTE，1字节）\n                const hwVerLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n\n                // 8. 终端硬件版本号（STRING）\n                const hardwareVersion = hexToAscii(msgBody.substring(offset, offset + hwVerLen * 2)).trim();\n                offset = offset + hwVerLen * 2;\n\n                // 9. 终端固件版本号长度（BYTE，1字节）\n                const fwVerLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n\n                // 10. 终端固件版本号（STRING）\n                const firmwareVersion = hexToAscii(msgBody.substring(offset, offset + fwVerLen * 2)).trim();\n                offset = offset + fwVerLen * 2;\n\n                // 11. GNSS模块属性（BYTE，1字节）\n                const gnssModuleAttr = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n\n                // 12. 通信模块属性（BYTE，1字节）\n                const commModuleAttr = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n\n                // 解析GNSS属性\n                const gnssSupport = (gnssModuleAttr & 0x01) === 1 ? \"GPS\" : \"\";\n                const beidouSupport = (gnssModuleAttr & 0x02) === 2 ? \"北斗\" : \"\";\n                const glonassSupport = (gnssModuleAttr & 0x04) === 4 ? \"GLONASS\" : \"\";\n                const galileoSupport = (gnssModuleAttr & 0x08) === 8 ? \"Galileo\" : \"\";\n\n                // 组装GNSS支持列表\n                const gnssList = [gnssSupport, beidouSupport, glonassSupport, galileoSupport].filter((item) => item !== \"\");\n                const gnssString = gnssList.length > 0 ? gnssList.join(\"+\") : \"未知\";\n\n                // 解析通信模块属性\n                const commTypeMap = {\n                    \"0\": \"GPRS\",\n                    \"1\": \"CDMA\",\n                    \"2\": \"TD-SCDMA\",\n                    \"3\": \"WCDMA\",\n                    \"4\": \"CDMA2000\",\n                    \"5\": \"TD-LTE\",\n                    \"6\": \"FDD-LTE\",\n                    \"7\": \"其他\"\n                };\n                const commType = commTypeMap[commModuleAttr] || `未知（${commModuleAttr}）`;\n\n                // 赋值物模型属性\n                properties.properties.terminalType = terminalType;\n                properties.properties.manufacturerId = manufacturerId;\n                properties.properties.terminalModel = terminalModel;\n                properties.properties.terminalId = terminalId;\n                properties.properties.iccid = iccid;\n                properties.properties.hardwareVersion = hardwareVersion;\n                properties.properties.firmwareVersion = firmwareVersion;\n                properties.properties.gnssModule = gnssString;\n                properties.properties.commModule = commType;\n                properties.properties.propertyReportTime = DateUtil.now();\n\n                // 生成平台通用应答\n                const propertyReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"0107\",\n                    \"00\"\n                );\n                properties.replyPayload = propertyReply;\n\n                // 触发终端属性上报事件\n                const propertyEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"terminalPropertyReport\",\n                    \"data\": {\n                        \"content\": `终端【${terminalPhone}】上报属性：制造商【${manufacturerId}】，型号【${terminalModel}】，硬件版本【${hardwareVersion}】，固件版本【${firmwareVersion}】，GNSS【${gnssString}】，通信【${commType}】`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"包含终端完整属性信息\"\n                        }\n                    }\n                };\n                result.push(propertyEvent);\n\n                log.info(\"解析终端属性成功：终端【{}】，制造商【{}】，型号【{}】，ICCID【{}】，硬件版本【{}】，固件版本【{}】，GNSS【{}】，通信【{}】\",\n                    terminalPhone, manufacturerId, terminalModel, iccid, hardwareVersion, firmwareVersion, gnssString, commType);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `终端属性解析失败：${e.getMessage()}`;\n                log.error(\"decode 终端属性错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        }\n        // ------------------------------ decode 函数新增：解析 0x1007 时区同步指令 ------------------------------\n        else if (msgId === \"1007\") {\n            properties.data.functionId = \"timezoneSync\";\n            properties.data.functionName = \"时区同步指令\";\n            try {\n                // 1. 解析消息体（时区偏移量，BYTE，1字节，单位：15分钟）\n                // 时区=值*15分钟，如东八区(UTC+8)=8*4=32(0x20)\n                const msgBodyByteLen = msgBody.length() / 2;\n                if (msgBodyByteLen < 1) {\n                    throw new Error(`时区同步消息体不足（实际${msgBodyByteLen}字节，需≥1字节）`);\n                }\n\n                const timezoneOffset = Integer.parseInt(msgBody.substring(0, 2), 16);\n                // 计算时区（单位：小时）\n                const timezoneHours = NumberUtil.div(timezoneOffset * 15, 60, 1);\n                // 判断东西时区\n                const timezoneStr = timezoneHours >= 0 ? `UTC+${timezoneHours}` : `UTC${timezoneHours}`;\n\n                // 赋值物模型属性\n                properties.properties.timezoneOffset = timezoneOffset;\n                properties.properties.timezoneHours = timezoneHours;\n                properties.properties.timezone = timezoneStr;\n                properties.properties.timezoneSyncTime = DateUtil.now();\n\n                // 生成平台通用应答\n                const timezoneReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"1007\",\n                    \"00\"\n                );\n                properties.replyPayload = timezoneReply;\n\n                // 触发时区同步事件\n                const timezoneEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"timezoneSync\",\n                    \"data\": {\n                        \"content\": `终端【${terminalPhone}】上报时区同步：${timezoneStr}（偏移量${timezoneOffset}*15分钟）`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"包含时区偏移量、时区小时数\"\n                        }\n                    }\n                };\n                result.push(timezoneEvent);\n\n                log.info(\"解析时区同步成功：终端【{}】，时区【{}】，偏移量【{}】\",\n                    terminalPhone, timezoneStr, timezoneOffset);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `时区同步解析失败：${e.getMessage()}`;\n                log.error(\"decode 时区同步错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        }\n        // ------------------------------ decode 函数新增：解析 0x0109 请求同步时间 ------------------------------\n        else if (msgId === \"0109\") {\n            properties.data.functionId = \"requestTimeSync\";\n            properties.data.functionName = \"请求同步时间\";\n            try {\n                // 1. 校验消息体长度（选中内容：该指令无消息体，消息体长度必须为0）\n                if (msgBodyLen !== 0) {\n                    throw new Error(`0x0109 无效消息体（协议要求无消息体，实际${msgBodyLen}字节）`);\n                }\n\n                // 2. 赋值核心属性（对齐现有解析风格，关联选中内容的“终端请求”场景）\n                properties.properties.requestType = \"timeSync\";\n                properties.properties.requestSeq = msgSeq; // 终端请求流水号（后续应答需复用）\n                properties.properties.requestTime = DateUtil.now()\n\n                // 3. 生成 0x8109 同步时间应答（平台→终端，遵循你提供的 0x8109 规范）\n                const timeSyncReply = buildTimeSyncReply(\n                    terminalPhone, // 终端手机号（如 777777777943）\n                    msgSeq, // 应答流水号=终端请求流水号（选中内容核心规则）\n                    \"00\" // 应答结果：0=成功\n                );\n                properties.replyPayload = timeSyncReply; // 赋值应答报文\n\n                // 4. 触发时间同步请求事件\n                const timeSyncEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"timeSyncRequest\",\n                    \"data\": {\n                        \"content\": `终端【${terminalPhone}】请求同步时间，流水号【${msgSeq}】`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"包含终端手机号、请求流水号，平台已返回0x8109应答\"\n                        }\n                    }\n                };\n                result.push(timeSyncEvent);\n\n                log.info(\"解析 0x0109 成功：终端【{}】，请求流水号【{}】，应答报文【{}】\",\n                    terminalPhone, msgSeq, timeSyncReply);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `0x0109 解析失败：${e.getMessage()}`;\n                log.error(\"decode 0x0109 错误：{}\", e.getMessage());\n            }\n        }\n        // ------------------------------ decode 函数中新增：解析终端位置查询应答（0x0201） ------------------------------\n        else if (msgId === \"0201\") {\n            // 终端位置查询应答（0x0201，JT/T 808-2013 2.12）- 对应平台查询指令（0x8201）\n            properties.data.functionId = \"locationQueryReply\";\n            properties.data.functionName = \"位置查询应答上报\";\n            try {\n                // 1. 校验消息体长度（协议要求：位置应答体≥24字节，含基础位置信息）\n                const msgBodyByteLen = msgBody.length() / 2;\n                if (msgBodyByteLen < 24) {\n                    throw new Error(`位置查询应答体不足（实际${msgBodyByteLen}字节，需≥24字节）`);\n                }\n\n                // 2. 解析位置应答体（同0x0200格式，对齐协议2.10位置汇报结构）\n                const alarmFlag = msgBody.substring(0, 8); // 报警标志（4字节）\n                const status = msgBody.substring(8, 16); // 状态（4字节）\n                const latHex = msgBody.substring(16, 24); // 纬度（4字节，×10^6）\n                const lngHex = msgBody.substring(24, 32); // 经度（4字节，×10^6）\n                const altitude = msgBody.substring(32, 36); // 高程（2字节）\n                const speed = msgBody.substring(36, 40); // 速度（2字节，1/10 km/h）\n                const direction = msgBody.substring(40, 44); // 方向（2字节）\n                const timeBcd = msgBody.substring(44, 56); // 时间（6字节BCD，YYMMDDhhmmss）\n\n                // 3. 转换位置数据（符合物模型格式，如选中内容中终端注册字段的格式要求）\n                let lat = NumberUtil.div(Integer.parseInt(latHex, 16), 1000000, 6); // 保留6位小数\n                let lng = NumberUtil.div(Integer.parseInt(lngHex, 16), 1000000, 6);\n                const statusVal = Integer.parseInt(status, 16);\n                // 处理经纬度正负（协议2.10：bit2=纬度正负，bit3=经度正负）\n                if ((statusVal & 0x00000004) !== 0) {\n                    lat = -lat;\n                }\n                if ((statusVal & 0x00000008) !== 0) {\n                    lng = -lng;\n                }\n\n                // 4. 组装位置数据对象（用于传入buildLocationQueryReply）\n                const locationData = {\n                    alarmFlag: alarmFlag,\n                    status: status,\n                    latHex: latHex,\n                    lngHex: lngHex,\n                    altitude: altitude,\n                    speed: speed,\n                    direction: direction,\n                    timeBcd: timeBcd,\n                    lat: lat, // 转换后的纬度（°）\n                    lng: lng, // 转换后的经度（°）\n                    currentSpeed: NumberUtil.div(Integer.parseInt(speed, 16), 10, 1) // 转换后的速度（km/h）\n                };\n\n                // 5. 调用buildLocationQueryReply：生成结构化应答结果（或验证应答合法性）\n                // 应答流水号=平台查询指令（0x8201）的流水号（从终端0x0201报文的消息头msgSeq提取，协议要求）\n                const queryReplyResult = buildLocationQueryReply(\n                    terminalPhone, // 终端手机号（12位，与查询指令一致）\n                    msgSeq, // 应答流水号=平台查询指令的流水号（协议核心要求，类似选中内容的“应答流水号关联原指令”）\n                    locationData // 解析后的位置数据\n                );\n\n                // 6. 赋值物模型属性（对齐现有物模型的位置字段）\n                properties.properties.latitude = lat;\n                properties.properties.longitude = lng;\n                properties.properties.coordinates = `${lng},${lat}`;\n                properties.properties.currentSpeed = locationData.currentSpeed;\n                properties.properties.currentDirection = Integer.parseInt(direction, 16);\n                properties.properties.reportTime = `20${timeBcd.substring(0,2)}-${timeBcd.substring(2,4)}-${timeBcd.substring(4,6)} ${timeBcd.substring(6,8)}:${timeBcd.substring(8,10)}:${timeBcd.substring(10,12)}`;\n                properties.properties.gpsState = (statusVal & 0x00000002) === 2 ? \"1\" : \"0\"; // 定位状态\n                properties.properties.queryReplyPayload = queryReplyResult; // 存储结构化应答结果\n\n                // 7. 触发位置查询成功事件（对齐物模型events）\n                const querySuccessEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"locationQuerySuccess\",\n                    \"data\": {\n                        \"content\": `终端【${terminalPhone}】位置查询应答成功，位置（${lat}°N, ${lng}°E），速度${locationData.currentSpeed}km/h`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"包含终端手机号、位置、速度、查询时间\"\n                        }\n                    }\n                };\n                result.push(querySuccessEvent);\n\n                log.info(\"解析位置查询应答成功：终端【{}】，流水号【{}】，位置（{}°N, {}°E）\",\n                    terminalPhone, msgSeq, lat, lng);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `位置查询应答解析失败：${e.getMessage()}`;\n                log.error(\"decode 位置查询应答错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n\n        } // ------------------------------ decode 函数新增：解析 0x0112 省电模式上传 ------------------------------\n        else if (msgId === \"0112\") {\n            properties.data.functionId = \"uploadPowerMode\";\n            properties.data.functionName = \"省电模式上传（A6S特有）\";\n            try {\n                // 1. 校验消息体长度（你提供的示例消息体长度6字节=12位16进制，可按实际调整）\n                if (msgBodyLen < 6) {\n                    throw new Error(`0x0112 消息体不足（实际${msgBodyLen}字节，最小6字节）`);\n                }\n                // 2. 按你提供的规范提取字段（起始字节0-5）\n                // 2.1 省电模式（起始字节0，BYTE=2位16进制）\n                const powerModeHex = msgBody.substring(0, 2);\n                const powerModeVal = Integer.parseInt(powerModeHex, 16);\n                // 模式映射（你提供的规范：1=普通定位，2=省电1，3=省电2，4=深度省电，11=自定义）\n                const powerModeMap = {\n                    \"1\": \"普通定位（实时定位）\",\n                    \"2\": \"省电模式1\",\n                    \"3\": \"省电模式2\",\n                    \"4\": \"深度省电\",\n                    \"11\": \"自定义省电模式\"\n                };\n                const powerMode = powerModeMap[powerModeVal] || `未知模式（${powerModeVal}）`;\n\n                // 2.2 保留字段（起始字节1-5，5字节=10位16进制，按示例填充00）\n                const reserved = msgBody.substring(2, 12); // 示例中 0008020000\n\n                // 3. 赋值核心属性（对齐A6S设备特有功能）\n                properties.properties.powerMode = powerMode;\n                properties.properties.powerModeCode = powerModeVal;\n                properties.properties.reservedField = reserved;\n                properties.properties.uploadTime = DateUtil.now();\n\n                // 4. 生成 0x8001 通用应答（确认已接收省电模式）\n                const powerModeReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq, // 应答流水号=终端0x0112流水号\n                    \"0112\", // 应答目标消息ID=0x0112\n                    \"00\" // 结果码=成功\n                );\n                properties.replyPayload = powerModeReply;\n\n                // 5. 触发省电模式上传事件\n                const powerModeEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"powerModeUpload\",\n                    \"data\": {\n                        \"content\": `A6S终端【${terminalPhone}】上传省电模式：${powerMode}，保留字段【${reserved}】`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"A6S设备特有功能，包含省电模式类型、上传时间\"\n                        }\n                    }\n                };\n                result.push(powerModeEvent);\n\n                log.info(\"解析 0x0112 成功：终端【{}】，省电模式【{}】，应答报文【{}】\",\n                    terminalPhone, powerMode, powerModeReply);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `0x0112 解析失败：${e.getMessage()}`;\n                log.error(\"decode 0x0112 错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        } else if (msgId === \"0200\") {\n            // 位置信息汇报（厂家文档2.10，不变）\n            properties.data.functionId = \"locationReport\";\n            properties.data.functionName = \"位置信息汇报\";\n            try {\n                const msgBodyByteLen = msgBody.length() / 2;\n                if (msgBodyByteLen < 23) {\n                    throw new Error(`位置消息体长度不足（实际${msgBodyByteLen}字节，需至少23字节）`);\n                }\n                const alarmFlagHex = msgBody.substring(0, 8);\n                const statusHex = msgBody.substring(8, 16);\n                const latHex = msgBody.substring(16, 24);\n                const lngHex = msgBody.substring(24, 32);\n                const altitudeHex = msgBody.substring(32, 36);\n                const speedHex = msgBody.substring(36, 40);\n                const directionHex = msgBody.substring(40, 44);\n                const timeBcd = msgBody.substring(44, 56);\n\n                let lat = NumberUtil.div(Integer.parseInt(latHex, 16), 1000000, 6);\n                let lng = NumberUtil.div(Integer.parseInt(lngHex, 16), 1000000, 6);\n                const statusVal = Integer.parseInt(statusHex, 16);\n                const directionVal=Integer.parseInt(directionHex, 16);\n                if ((statusVal & 0x00000004) !== 0) {\n                    lat = -lat;\n                }\n                if ((statusVal & 0x00000008) !== 0) {\n                    lng = -lng;\n                }\n\n                properties.properties.latitude = lat;\n                properties.properties.longitude = lng;\n                properties.properties.coordinates = `${lng},${lat}`;\n                // properties.properties.latitude = \"123.01574\";\n                // properties.properties.longitude = \"43.25142\";\n                properties.properties.altitude = Integer.parseInt(altitudeHex, 16);\n                properties.properties.currentSpeed = NumberUtil.div(Integer.parseInt(speedHex, 16), 10, 1);\n                properties.properties.currentDirection = directionVal;\n                properties.properties.reportTime = `20${timeBcd.substring(0,2)}-${timeBcd.substring(2,4)}-${timeBcd.substring(4,6)} ${timeBcd.substring(6,8)}:${timeBcd.substring(8,10)}:${timeBcd.substring(10,12)}`;\n                properties.ts = date_format_long(properties.properties.reportTime);\n                var directionDesc=directDescParse(directionVal);\n\n\n                // 新增：将经纬度、方向、速度、高度拼接成一个字段\n               // 新增：将经纬度、方向、速度、高度拼接成一个字段\n                const locationData = `${lng},${lat}#${directionDesc}#${properties.properties.currentSpeed}#${properties.properties.altitude}`;\n                properties.properties.locationInfo = locationData;\n\n                // 状态位解析\n                properties.properties.accState = (statusVal & 0x00000001) === 1 ? \"1\" : \"0\";\n                properties.properties.gnssState = (statusVal & 0x00000002) === 2 ? \"1\" : \"0\";\n                properties.properties.drivingState = (statusVal & 0x00400000) === 0x00400000 ? \"1\" : \"0\";\n\n                log.info(\"解析位置汇报成功：终端【{}】，位置（{}°N, {}°E），速度【{}km/h】\",\n                    terminalPhone, lat, lng, properties.properties.currentSpeed);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `位置字段解析失败：${e.getMessage()}`;\n                log.error(\"decode 位置字段错误：{}\", e.getMessage());\n            }\n        }\n        // ------------------------------ decode 新增：解析 0x1107 上传ICCID（支持字母） ------------------------------\n        else if (msgId === \"1107\") {\n            properties.data.functionId = \"uploadICCID\";\n            properties.data.functionName = \"上传ICCID\";\n            try {\n                var offset = 0;\n                const iccidLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n                const iccidHex = msgBody.substring(offset, offset + iccidLen * 2);\n                const iccidStr = hexToAscii(iccidHex).trim();\n                offset = offset + iccidLen * 2;\n                const modelLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n                const modelHex = msgBody.substring(offset, offset + modelLen * 2);\n                const deviceModel = hexToAscii(modelHex).trim();\n                offset = offset + modelLen * 2;\n                const verLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n                const verHex = msgBody.substring(offset, offset + verLen * 2);\n                const versionStr = hexToAscii(verHex).trim();\n                offset = offset + verLen * 2;\n                // 7. 赋值物模型属性\n                properties.properties.iccid = iccidStr; // 支持字母\n                properties.properties.deviceModel = deviceModel;\n                properties.properties.firmwareVersion = versionStr;\n                properties.properties.iccidUploadTime = DateUtil.now();\n\n                // 8. 平台通用应答（0x8001）\n                const iccidReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"1107\",\n                    \"00\"\n                );\n                properties.replyPayload = iccidReply;\n                log.info(\"解析 0x1107 成功：终端【{}】，ICCID【{}】，型号【{}】，版本【{}】\",\n                    terminalPhone, iccidStr, deviceModel, versionStr);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `0x1107 解析失败：${e.getMessage()}`;\n                log.error(\"decode 0x1107 错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        }\n        else if (msgId === \"0002\") {\n            // 终端心跳（厂家文档2.3）\n            properties.data.functionId = \"heartbeat\";\n            properties.data.functionName = \"终端心跳\";\n            properties.properties.heartbeatTime = DateUtil.now();\n            // 构建平台通用应答（0x8001）\n            const heartbeatReply = buildPlatformCommonReply(\n                terminalPhone,\n                msgSeq,\n                \"0002\",\n                \"00\"\n            );\n            properties.replyPayload = heartbeatReply;\n            log.info(\"解析终端心跳成功：终端【{}】，应答【{}】\", terminalPhone, heartbeatReply);\n        } else if (msgId === \"0001\") {\n            // 终端通用应答（厂家文档2.1）\n            properties.data.functionId = \"terminalResponse\";\n            properties.data.functionName = \"终端通用应答\";\n            try {\n                const respSeq = msgBody.substring(0, 4);\n                const respMsgId = msgBody.substring(4, 8);\n                const resultCode = msgBody.substring(8, 10);\n                const resultDescMap = {\n                    \"00\": \"成功\",\n                    \"01\": \"失败\",\n                    \"02\": \"消息有误\",\n                    \"03\": \"不支持\"\n                };\n                const resultDesc = resultDescMap[resultCode] || `未知结果（${resultCode}）`;\n\n                properties.properties.respMsgSeq = respSeq;\n                properties.properties.respTargetMsgId = respMsgId;\n                properties.properties.operationResult = resultDesc;\n                log.info(\"解析终端应答成功：终端【{}】，应答消息ID【{}】，结果【{}】\",\n                    terminalPhone, respMsgId, resultDesc);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `应答字段解析失败：${e.getMessage()}`;\n                log.error(\"decode 应答字段错误：{}\", e.getMessage());\n            }\n        } else {\n            properties.data.functionId = \"unknownMsgId\";\n            properties.data.functionName = \"未知消息ID\";\n            properties.properties.parseStatus = \"fail\";\n            properties.properties.error = `不支持的消息ID【${msgId}】`;\n            log.warn(\"decode 未知消息ID：终端【{}】，消息ID【{}】\", terminalPhone, msgId);\n        }\n\n        // 8. 组装结果\n        result.push(properties);\n    } catch (e) {\n        const errProps = {\n            \"messageType\": \"PROPERTIES\",\n            \"deviceId\": \"unknown\",\n            \"properties\": {\n                \"sourcePayload\": payload,\n                \"payloadClean\": payloadClean,\n                \"parseStatus\": \"fail\",\n                \"error\": e.getMessage()\n            },\n            \"data\": {\n                \"functionId\": \"decodeFail\",\n                \"functionName\": \"报文解析失败\"\n            }\n        };\n        result.push(errProps);\n        log.error(\"decode 全局错误：{}\", e.getMessage());\n    }\n\n    // log.info(\"decode 完成：终端手机号【{}】，返回数据条数【{}】\",\n    //     result[0].properties.terminalPhone || \"unknown\", result.length);\n    return result;\n};\n//0704 测试\n//1007\n//0704 测试\n// return decode(\"7e02000076085530427757006400000000004c000201cd180f072997b00009001300752511151322510104000000c230011931010ae4020064e60100e7080000000400000000f50101f6080860362074596357fb0100eb2b000c00b2898608851925d204710400060089ffffffff000600c5fe7fffef0006002d000034f6000300a864f87e\");\n// // //时间同步\n// return encode({\n//     \"messageType\": \"FUNCTIONS\",\n//     \"function\": \"queryLocation\",\n//     \"data\": {\n//         \"terminalPhone\": \"085530427757\"\n//     }\n// })\n// return decode(\"7e02100007085530427757005126251115122419637e\")\nreturn decode(\"7e070401770855304277570185000401005b00000000004c000201cc2d680729c7c3002000c8007325111908200701040000037030011f31010ce4020064e60100e7080000000400000000fb0100eb1d00060089ffffffff000600c5fe7fffef0006002d0000353e000300a864005b00000000004c000201cc2b260729daa0004b0280005225111908203401040000037530011e310110e4020064e60100e7080000000400000000fb0100eb1d00060089ffffffff000600c5fe7fffef0006002d000034a8000300a864005b00000000004c000201cc2be10729dd4700470254004025111908203801040000037630011e310110e4020064e60100e7080000000400000000fb0100eb1d00060089ffffffff000600c5fe7fffef0006002d000036c4000300a864005b00000000004c000201cc33a20729e787003700d8003425111908210101040000037a30011d310113e4020064e60100e7080000000400000000fb0100eb1d00060089ffffffff000600c5fe7fffef0006002d000037fa000300a864517e\")');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/Ctwing(电信AEP)/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/Ctwing(电信AEP)/(勿改)NB水浸传感器.ms', '{\n  \"properties\" : { },\n  \"id\" : \"115352b38c6c46faa9e8704b53301ab5\",\n  \"script\" : null,\n  \"groupId\" : \"69eeb7ac5e72480d97f16064fe01a938\",\n  \"name\" : \"(勿改)NB水浸传感器\",\n  \"createTime\" : 1757328685149,\n  \"updateTime\" : 1760501022745,\n  \"lock\" : \"0\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"68bd7ea11c9e6085163c3f52\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"[\\n    {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"waterState\\\": false,\\n            \\\"battery\\\": 100,\\n            \\\"csq\\\": 31\\n        }\\n    }\\n]\",\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n/**\n * 解码：设备数据转平台格式\n * @param {Object} payload 设备数据，包含APPdata字段（base64编码）\n * @returns {Array} 平台消息数组，包含事件或属性\n */\nvar decode = payload => {\n    //天翼物联消息入口={\"APPdata\":\"KDg2NTA5ODA3MDMyNjU+\"}\n    var py = toJson(payload);\n    var appdataBase64 = py.APPdata;\n    //解码\n    var rawString = base64Decode(appdataBase64);\n    // 去除无用字符\n    \n    rawString = rawString.replace(/@/g, \"\").replace(/\\(/g, \"\").replace(/\\)/g, \"\");\n    var fields = rawString.split(\'_\');\n    if (fields.length < 8) {\n        throw new Error(\"数据格式无效\");\n    }\n\n    var deviceId = fields[0];\n    var eventType = fields[5];\n    var timestamp = fields[6];\n    var battery = Integer.parseInt(fields[4]);\n    var csq = Integer.parseInt(fields[2]);\n\n    var messages = [];\n    var eventMessage = {\n        \"messageType\": \"EVENT\",\n        \"event\": \"\",\n        \"data\": {\n            \"ts\": timestamp\n        }\n    };\n    var propertiesMessage = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {\n            \"waterState\": false,\n            \"battery\": battery,\n            \"csq\": csq\n        }\n    };\n\n    if (eventType === \"SJOPEN\") {\n        eventMessage.event = \"water_alarm\";\n        propertiesMessage.properties.waterState = true;\n        messages.push(eventMessage);\n    } else if (eventType === \"SJCLOSE\") {\n        eventMessage.event = \"water_normal\";\n        propertiesMessage.properties.waterState = false;\n        messages.push(eventMessage);\n    }else if(eventType === \"POINT\") {\n         eventMessage.event = \"point\";\n        propertiesMessage.properties.waterState = false;\n        messages.push(eventMessage);\n    }\n    messages.push(propertiesMessage);\n    return messages;\n};\n\n/**\n * 编码：平台指令转设备格式\n * @param {Object} payload 平台指令\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\n */\nvar encode = payload => {\n    var result = \"\";\n    // 水浸设备通常只读，无控制功能，保留基本结构\n    if (payload.functionId) {\n        // 如有需要，可扩展编码逻辑\n        result = \"指令已处理\";\n    }\n    return result;\n};\n\n\n// 调试示例\nvar testPayload = {\"APPdata\":\"KDg2NTA5ODA3MDMyNjU0OV9TSjAxXzMxXzE1NV8xMDBfUE9JTlRfMTc1OTkwMDM2N180NjAxMTM1MDA5ODI5ODEpQEBAQEBAQEBAQEBAQEA=\"};\nreturn decode(testPayload);\n// return encode({});\n');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/Ctwing(电信AEP)/group.json', '{\n  \"properties\" : { },\n  \"id\" : \"69eeb7ac5e72480d97f16064fe01a938\",\n  \"name\" : \"Ctwing(电信AEP)\",\n  \"type\" : \"api\",\n  \"parentId\" : \"0\",\n  \"path\" : \"ctwing\",\n  \"createTime\" : null,\n  \"updateTime\" : 1756360473066,\n  \"createBy\" : null,\n  \"updateBy\" : \"test\",\n  \"paths\" : [ ],\n  \"options\" : [ ]\n}');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/(勿改)2P1688-单相挂式电表.ms', '{\n  \"properties\" : { },\n  \"id\" : \"3f5006921a744607b85cac6716f91fcf\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"(勿改)2P1688-单相挂式电表\",\n  \"createTime\" : 1757057069574,\n  \"updateTime\" : 1763642756205,\n  \"lock\" : \"0\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"HnDdSnj1kiQg\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n/**\n * magic-api 脚本 - 645协议解析（基于《单相4G蓝牙壁挂645协议_改版.pdf》修正）\n * 功能：实现645协议与物模型的双向转换（encode：物模型→16进制报文；decode：16进制报文→物模型）\n * 依赖：Hutool（HexUtil/JSONUtil/StrUtil/NumberUtil）、log\n */\nimport cn.hutool.core.util.HexUtil;\nimport cn.hutool.core.util.StrUtil;\nimport cn.hutool.core.util.NumberUtil;\nimport cn.hutool.json.JSONUtil;\nimport log;\n\n/**\n * 帧头构建工具（协议2-3：帧头格式定义）\n * 协议2-3明确：帧头 = 68（起始符） + 电表地址（12位16进制） + 68（起始符） + 控制码（2位16进制）\n * @param {String} meterNo - 电表表号（12位16进制，大写，必传，协议1-6定义为设备唯一标识）\n * @param {String} controlCode - 控制码（A0=数据操作/AA=事件包/A2=继电器控制，大写，协议1-7定义）\n * @returns {String} 完整帧头（16进制字符串）\n * @throws {Error} 表号格式错误时抛出异常（协议要求12位，不符则无法构建帧头）\n */\nvar buildFrameHeader = (meterNo, controlCode) => {\n    if (!meterNo || meterNo.length() !== 12) {\n        const errMsg = `电表表号格式错误：需12位16进制，当前为【${meterNo}】`;\n        log.error(\"encode 错误：{}\", errMsg);\n        throw new Error(errMsg);\n    }\n    return `68${meterNo}68${controlCode}`;\n};\n\n/**\n * 报文预处理（协议2-3/2-9：设备标识提取规则）\n * 协议2-3：报文第2-14位为电表地址（设备唯一标识）；协议2-9：预处理需清除空格并统一格式\n * @param {String} payload - 完整16进制报文（可含空格，设备上报原始报文）\n * @returns {Object} 设备基础信息（统一大写，deviceId=电表地址，productKey为固定值）\n */\nvar preDecode = (payload) => {\n    const payloadClean = StrUtil.removeAll(payload, \' \'); // 协议2-9：清除报文空格，统一格式\n    const deviceId = payloadClean.substring(2, 14); // 协议2-3：提取第2-14位作为设备标识（电表地址）\n    return {\n        \"deviceId\": deviceId,\n        \"productKey\": \"HnDdSnj1kiQg\"\n    };\n};\n\n// ------------------------------ encode子函数：指令构建（按协议章节拆分） ------------------------------\n/**\n * 构建查询用电量指令（协议2-11：查询全部数据指令）\n * 协议2-11定义：查询数据指令数据区固定为\"043335C433\"，功能为获取电表所有采集数据（电量、电压等）\n * @param {String} frameHeader - 完整帧头（buildFrameHeader构建，含表号和控制码A0）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildMeterReadCmd = (frameHeader) => {\n    const dataArea = \"043335C433\"; // 协议2-11：查询全部数据的固定数据区\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建开关阀指令（协议2-107：继电器控制指令）\n * 协议2-107定义：分闸数据区含\"4D\"，合闸数据区含\"4E\"，数据区长度固定为11字节（0A）\n * @param {String} frameHeader - 完整帧头（含表号和控制码A2）\n * @param {String} valveOn - 开关状态（0=分闸，1=合闸）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildSwitchOnOffCmd = (frameHeader, valveOn) => {\n    const dataArea = valveOn === \"0\" \n        ? \"0A35333333333333334D33\" // 协议2-107：分闸数据区（含状态码4D）\n        : \"0A35333333333333334E33\"; // 协议2-107：合闸数据区（含状态码4E）\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建远程购电指令（协议2-80：4G购电指令）\n * 协议2-80定义：数据区格式=0C3135343A + 4字节购电量（BCD+反写+加0x33） + 4字节购电序号（加0x33）\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @param {String} energy - 购电量（字符串格式，如\"100\"代表100kWh）\n * @param {Number} purchaseId - 购电序号（递增，确保唯一性）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildPurchaseCmd = (frameHeader, energy, purchaseId) => {\n    const energyBcd = hex_decToBcd(energy, 4, 2); // 协议1-151：电量转4字节BCD（2位小数）\n    const energyReverse = hex_reverse(energyBcd); // 协议1-151：电量BCD反写（中间两组交换）\n    const energyHex = hex_add33(energyReverse); // 协议1-8：发送端数据需加0x33\n    const purchaseIdHex = hex_add33(hex_fromDecScaledLE(purchaseId + \"\", 0, 4)); // 协议2-80：购电序号转4字节（加0x33）\n    const dataArea = `0C3135343A${energyHex}${purchaseIdHex}`; // 协议2-80：购电指令固定数据区格式\n    log.info(\"购电参数转换：购电量【{}】→+0x33后【{}】，购电序号【{}】→Hex【{}】\", \n        energy, energyHex, purchaseId, purchaseIdHex);\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建矫正电量指令（协议2-60：设置剩余/总电量指令）\n * 协议2-60定义：数据区格式=0C4B493553 + 4字节总电量（BCD+反写+加0x33） + 4字节剩余电量（同规则）\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @param {String} remainEnergy - 目标剩余电量（字符串格式）\n * @param {String} totalEnergy - 目标总电量（字符串格式）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildSetEnergyValueCmd = (frameHeader, remainEnergy, totalEnergy) => {\n    // 协议1-151（BCD反写）+协议1-8（加0x33）：剩余电量转换\n    const remainEnergyHex = hex_add33(hex_reverse(hex_decToBcd(remainEnergy, 4, 2)));\n    // 协议1-151+协议1-8：总电量转换\n    const totalEnergyHex = hex_add33(hex_reverse(hex_decToBcd(totalEnergy, 4, 2)));\n    log.info(\"矫正电量转换：剩余电量【{}】→Hex【{}】，总电量【{}】→Hex【{}】\", \n        remainEnergy, remainEnergyHex, totalEnergy, totalEnergyHex);\n    const dataArea = `0C4B493553${totalEnergyHex}${remainEnergyHex}`; // 协议2-60：矫正电量固定数据区格式\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建重启设备指令（协议2-10：数据操作-重启指令）\n * 协议2-10定义：重启指令数据区固定为\"044B49354A\"，控制码为A0\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildRestartCmd = (frameHeader) => {\n    const dataArea = \"044B49354A\"; // 协议2-10：重启指令固定数据区\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建清零指令（协议2-10：数据操作-清零指令）\n * 协议2-10定义：清零指令数据区与重启一致，均为\"044B49354A\"，控制码为A0\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildResetCmd = (frameHeader) => {\n    return buildRestartCmd(frameHeader); // 协议2-10：清零与重启数据区相同，复用函数\n};\n\n/**\n * 构建上报事件指令（协议2-xx：事件上报触发指令）\n * 协议定义：上报事件指令数据区固定为\"044B493549\"，控制码为A0\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildUpEventCmd = (frameHeader) => {\n    const dataArea = \"044B493549\"; // 协议2-xx：上报事件固定数据区\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建扣除电量指令（协议2-xx：扣除电量指令）\n * 协议定义：数据区格式=0C3137343A + 4字节扣电量（BCD+反写+加0x33） + 4字节扣电序号（加0x33）\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @param {String} energy - 扣电量（字符串格式）\n * @param {Number} deductId - 扣电序号（递增）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildDeductEnergyCmd = (frameHeader, energy, deductId) => {\n    // 协议1-151（BCD反写）+协议1-8（加0x33）：扣电量转换\n    const energyHex = hex_add33(hex_reverse(hex_decToBcd(energy, 4, 2)));\n    // 协议2-xx：扣电序号转4字节（加0x33）\n    const deductIdHex = hex_add33(hex_fromDecScaledLE(deductId + \"\", 0, 4));\n    log.info(\"扣除电量转换：电量【{}】→Hex【{}】，序号【{}】→Hex【{}】\", \n        energy, energyHex, deductId, deductIdHex);\n    const dataArea = `0C3137343A${energyHex}${deductIdHex}`; // 协议2-xx：扣除电量固定数据区格式\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建设置4G服务器地址指令（协议2-xx：服务器地址配置指令）\n * 协议定义：数据区格式=4B493555 + IP（ASCII→加0x33） + 0xFF（转32） + 端口（ASCII→加0x33），需计算数据长度\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @param {String} host - 服务器IP（如\"192.168.1.1\"）\n * @param {String} port - 服务器端口（如\"8080\"）\n * @returns {String} 完整指令体（帧头+数据长度+数据区）\n */\nvar buildSetServerAddrCmd = (frameHeader, host, port) => {\n    const hostHex = hex_add33(hex_fromAscii(host)); // 协议1-8：IP转ASCII后加0x33\n    const portHex = hex_add33(hex_fromAscii(port)); // 协议1-8：端口转ASCII后加0x33\n    const dot = \"32\"; // 协议隐含：0xFF+0x33=0x122→低8位为0x22→16进制32，作为IP与端口分隔符\n    const dataArea = `4B493555${hostHex}${dot}${portHex}`; // 协议2-xx：服务器地址数据区格式\n    const dataLenHex = hex_645MakeLen(dataArea); // 协议1-8：计算数据长度（需加0x33）\n    return `${frameHeader}${dataLenHex}${dataArea}`;\n};\n\n// ------------------------------ 核心函数：encode（物模型→16进制报文，协议2-xx） ------------------------------\n/**\n * 645协议encode（物模型→16进制报文）\n * 核心逻辑：按物模型功能ID（funcId）匹配协议指令，构建帧头+数据区+CS校验+结尾16（协议1-4通用格式）\n * @param {String} functionReqJson - 物模型JSON字符串（含function、data等）\n * @param {Object} shadow - 设备影子（存储历史数据如purchaseTimes）\n * @returns {String|null} 完整16进制报文（失败返回null）\n */\nvar encode = (functionReqJson, shadow) => {\n    const functionReq = toJson(functionReqJson);\n    const funcId = functionReq.getStr(\"function\");\n    const funcData = functionReq.getObj(\"data\", {});\n    const meterNo = funcData.getStr(\"meterNo\");\n    \n    // 协议2-xx：仅支持FUNCTIONS类型消息（指令下发）\n    if (functionReq.getStr(\"messageType\") !== \"FUNCTIONS\") {\n        const errMsg = \"messageType必须为FUNCTIONS，当前格式不支持\";\n        log.error(\"encode 错误：{}\", errMsg);\n        throw new Error(errMsg);\n    }\n    // 协议1-6：表号（meterNo）为设备唯一标识，指令下发必传\n    if (!meterNo) {\n        const errMsg = \"物模型data中必须包含meterNo（电表表号）\";\n        log.error(\"encode 错误：{}\", errMsg);\n        throw new Error(errMsg);\n    }\n\n    let cmdBody = \"\";\n    let controlCode = \"\";\n\n    // 分支1：查询用电量（协议2-11）\n    if (funcId === \"meterRead\") {\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildMeterReadCmd(buildFrameHeader(meterNo, controlCode));\n    }\n    // 分支2：开关阀（协议2-107）\n    else if (funcId === \"switchOnOff\") {\n        const valveOn = funcData.getStr(\"valveOn\");\n        controlCode = \"A2\"; // 协议2-107：继电器控制控制码\n        cmdBody = buildSwitchOnOffCmd(buildFrameHeader(meterNo, controlCode), valveOn);\n    }\n    // 分支3：远程购电（协议2-80）\n    else if (funcId === \"purchase\") {\n        const energy = funcData.getStr(\"energy\");\n        const inputId = funcData.getInt(\"purchaseId\") || 0;\n        const shadowId = shadow_getVal(shadow, \"purchaseTimes\") || 0;\n        // 取最大值+1：确保购电序号递增（协议2-80要求序号唯一）\n        const purchaseId = NumberUtil.max(inputId, shadowId, 1) + 1;\n        \n        if (!energy) {\n            throw new Error(\"远程购电需传入energy（购电量）\");\n        }\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildPurchaseCmd(buildFrameHeader(meterNo, controlCode), energy, purchaseId);\n    }\n    // 分支4：矫正电量（协议2-60）\n    else if (funcId === \"setEnergyValue\") {\n        const remainEnergy = funcData.getStr(\"remainEnergy\");\n        const totalEnergy = funcData.getStr(\"totalEnergy\");\n        if (!remainEnergy || !totalEnergy) {\n            throw new Error(\"矫正电量需传入remainEnergy和totalEnergy\");\n        }\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildSetEnergyValueCmd(buildFrameHeader(meterNo, controlCode), remainEnergy, totalEnergy);\n    }\n    // 分支5：重启设备（协议2-10）\n    else if (funcId === \"restart\") {\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildRestartCmd(buildFrameHeader(meterNo, controlCode));\n    }\n    // 分支6：清零（协议2-10）\n    else if (funcId === \"reset\") {\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildResetCmd(buildFrameHeader(meterNo, controlCode));\n    }\n    // 分支7：上报事件（协议2-xx）\n    else if (funcId === \"upEvent\") {\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildUpEventCmd(buildFrameHeader(meterNo, controlCode));\n    }\n    // 分支8：扣除电量（协议2-xx）\n    else if (funcId === \"deductEnergy\") {\n        const deductEnergy = funcData.getStr(\"energy\");\n        const deductInputId = funcData.getInt(\"purchaseId\") || 0;\n        const deductShadowId = shadow_getVal(shadow, \"deductTimes\") || 0;\n        // 取最大值+1：确保扣电序号递增\n        const deductId = NumberUtil.max(deductInputId, deductShadowId, 1) + 1;\n        \n        if (!deductEnergy) {\n            throw new Error(\"扣除电量需传入energy\");\n        }\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildDeductEnergyCmd(buildFrameHeader(meterNo, controlCode), deductEnergy, deductId);\n    }\n    // 分支9：设置4G服务器地址（协议2-xx）\n    else if (funcId === \"setRemote4GServerAddr\") {\n        const host = funcData.getStr(\"host\");\n        const port = funcData.getStr(\"port\");\n        const sign = funcData.getStr(\"sign\");\n        \n        if (!host || !port) {\n            throw new Error(\"设置服务器地址需传入host和port\");\n        }\n        // 协议隐含：签名验证（防止恶意修改地址）\n        if (sign !== \"18160222\") {\n            log.warn(\"encode 警告：服务器地址设置签名错误\");\n            cmdBody = buildSetServerAddrCmd(buildFrameHeader(meterNo, \"A0\"), host, port) + \"11\";\n            return cmdBody;\n        }\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildSetServerAddrCmd(buildFrameHeader(meterNo, controlCode), host, port);\n    }\n    // 分支10：自定义指令（上层传入完整16进制）\n    else if (funcId === \"cmd\") {\n        return funcData.getStr(\"hex\");\n    }\n    // 分支11：未知功能（不支持）\n    else {\n        log.error(\"encode 错误：不支持的功能ID【{}】\", funcId);\n        return null;\n    }\n\n    // 协议1-9：CS校验（该位之前所有数据之和对256取余）\n    const cs = cs_check(cmdBody, 256);\n    // 协议1-4：完整报文格式=指令体+CS+16（结尾符）\n    const finalFrame = `${cmdBody}${cs}16`;\n    log.info(\"encode 成功：功能【{}】，表号【{}】，报文【{}】\", funcId, meterNo, finalFrame);\n    return finalFrame;\n};\n\n// ------------------------------ 核心函数：decode（16进制报文→物模型，协议2-xx） ------------------------------\n/**\n * 645协议decode（16进制报文→物模型）\n * 核心逻辑：按协议通用格式（协议1-4）提取控制码/数据区，再按控制码分支解析（A0/A2/AA）\n * @param {String} payload - 完整16进制报文（设备上报原始报文）\n * @param {Object} context - 上下文（预留，暂未使用）\n * @returns {Array} 解析结果（含PROPERTIES对象，data字段存指令标识，properties存设备属性）\n */\nvar decode = (payload, context) => {\n    const result = [];\n    const payloadClean = StrUtil.removeAll(payload, \' \').toUpperCase();;\n    \n    // 初始化返回结构：按需求将sourcePayload移至properties，data仅保留核心指令标识\n    const properties = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {\n            \"sourcePayload\": payload // 原始报文，便于溯源\n        },\n        \"data\": { // 仅保留指令核心标识，与设备属性分离\n            \"functionId\": \"\",\n            \"functionName\": \"\",\n            \"parseStatus\": \"success\"\n        }\n    };\n\n    // 协议1-4：提取通用核心字段（仅内部解析用，不对外暴露）\n    const controlCode = payloadClean.substring(16, 18); // 控制码：第16-18位（协议1-7）\n    const dataLenHex = payloadClean.substring(18, 20); // 数据长度：第18-20位（协议1-8）\n    const dataLen = Integer.parseInt(dataLenHex, 16); // 数据长度转十进制（需减0x33，此处内部解析已处理）\n    const dataArea = payloadClean.substring(20, 20 + dataLen * 2); // 数据区：第20位后（协议1-4）\n    const di = hex_sub33(dataArea.substring(0, 8)); // DI码：数据区前8位-0x33（协议2-10：数据操作标识）\n\n    // 分支1：控制码AA（事件包，协议2-120）\n    if (controlCode === \"AA\") {\n        const eventHead = dataArea.substring(0, 8); // 事件头：数据区前8位（协议2-120）\n        \n        // 子分支1.1：注册包（协议2-121）\n        if (eventHead === \"AAAAAA01\" && dataArea.length() > 8) {\n            properties.data.functionId = \"deviceRegister\";\n            properties.data.functionName = \"设备注册\"; // 协议2-121：注册包功能描述\n            \n            const jsonHex = dataArea.substring(8); // JSON数据区：事件头后（协议2-121）\n            const jsonStr = HexUtil.decodeHexStr(jsonHex).replaceAll(\"(\\\\w+):\", \"\\\"$1\\\":\"); // 修复JSON格式\n            const deviceInfo = JSONUtil.parseObj(jsonStr);\n\n            // 协议2-121：注册包返回设备基础信息（IMEI/ICCID/信号等）\n            properties.properties.imei = deviceInfo.getStr(\"imei\");\n            properties.properties.iccid = deviceInfo.getStr(\"iccid\");\n            properties.properties.csq = deviceInfo.getInt(\"csq\");\n            properties.properties.firmwareVersion = deviceInfo.getStr(\"ver\");\n            properties.properties.signalDesc = csq(deviceInfo.getInt(\"csq\"));\n        }\n        // 子分支1.2：心跳包（协议2-127）\n        else if (eventHead === \"AAAAAA02\") {\n            properties.data.functionId = \"heartbeat\";\n            properties.data.functionName = \"设备心跳\"; // 协议2-127：心跳包功能描述\n        }\n        // 子分支1.3：未知事件（协议未适配）\n        else {\n            properties.data.functionId = \"unknownEvent\";\n            properties.data.functionName = \"未知事件\";\n            properties.data.parseStatus = \"fail\";\n        }\n    }\n    // 分支2：控制码A0（数据操作，协议2-10）\n    else if (controlCode === \"A0\") {\n        // 子分支2.1：查询用电量响应（DI=00029100，协议2-11）\n        if (di === \"00029100\") {\n            properties.data.functionId = \"meterRead\";\n            properties.data.functionName = \"读表（查询全部数据）\"; // 协议2-11：功能描述\n            \n            // 协议1-151：电量解析（减0x33+反写+除以100，2位小数）\n            properties.properties.remainEnergy = NumberUtil.div(\n                Integer.parseInt(reverseTwoDigit(hex_sub33(dataArea.substring(10, 18)))),\n                100,\n                2\n            );\n            properties.properties.totalEnergy = NumberUtil.div(\n                Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(18, 26)))),\n                100,\n                2\n            );\n            // 协议1-153：电压解析（减0x33+反写+除以100，1位小数）\n            properties.properties.voltage = NumberUtil.div(\n                Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(26, 34)))),\n                10,\n                1\n            );\n            // 协议1-153：电流解析（减0x33+反写+除以100，3位小数）\n            properties.properties.current = NumberUtil.div(\n                Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(34, 42)))),\n                1000,\n                3\n            );\n            // 协议1-153：功率/功率因子解析（反写+减0x33）\n            properties.properties.power = Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(42, 50))));\n            properties.properties.totalPower = Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(50, 58))));\n            properties.properties.powerFactor = Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(58, 62))));\n            // 协议1-153：信号/开关状态/设备信息解析\n            properties.properties.csq = Integer.parseInt(dataArea.substring(62, 64));\n            properties.properties.imei = dataArea.substring(66, 82);\n            properties.properties.iccid = dataArea.substring(82, 102);\n            properties.properties.firmwareVersion = hex_toAscii(dataArea.substring(102, 122));\n            properties.properties.purchaseTimes = Integer.parseInt(hex_sub33(dataArea.substring(122, 130)), 16);\n            properties.properties.csqDesc = csq(properties.properties.csq);\n            properties.properties.openState = hex_sub33(dataArea.substring(64, 66)) === \"1B\" ? 1 : 0; // 协议1-153：1B=合闸\n            properties.properties.openStateDesc = properties.properties.openState === 1 ? \"合闸\" : \"拉闸\";\n        }\n        // 子分支2.2：远程购电响应（DI=FE020107/FE030107，协议2-80）\n        else if (di===\"FE020107\" ||di===\"FE030107\") {\n            properties.data.functionId = \"purchase\";\n            properties.data.functionName = \"远程购电响应\"; // 协议2-80：功能描述\n            const purchaseData = dataArea.substring(8); // 购电数据区：DI码后（协议2-80）\n            \n            // 协议2-80：购电响应数据解析（反写+减0x33+除以100）\n            properties.properties.totalEnergy = NumberUtil.div(\n                Integer.parseInt(hex_reverse(hex_sub33(purchaseData.substring(0, 8)))),\n                100,\n                2\n            );\n            const remainEnergyRaw = NumberUtil.div(\n                Integer.parseInt(hex_reverse(hex_sub33(purchaseData.substring(8, 16)))),\n                100,\n                2\n            );\n            properties.properties.purchaseTimes = Integer.parseInt(hex_sub33(purchaseData.substring(16, 24)), 16);\n            const zheng = Integer.parseInt(hex_reverse(hex_sub33(purchaseData.substring(24, 32)))); // 剩余电量正负标识\n            properties.properties.remainEnergy = zheng === 0 ? remainEnergyRaw : -remainEnergyRaw;\n        }\n        // 子分支2.3：扣除电量响应（DI=FE040107，协议2-xx）\n        else if (di === \"FE040107\") {\n            properties.data.functionId = \"deductEnergy\";\n            properties.data.functionName = \"扣除电量响应\"; // 协议2-xx：功能描述\n            \n            const deductData = dataArea.substring(8); // 扣电数据区：DI码后\n            // 协议2-xx：扣电响应数据解析（反写+减0x33+除以100）\n            const remainEnergyRaw = NumberUtil.div(\n                Integer.parseInt(reverseTwoDigit(hex_sub33(deductData.substring(0, 8)))),\n                100,\n                2\n            );\n            properties.properties.totalEnergy = NumberUtil.div(\n                Integer.parseInt(hex_reverse(hex_sub33(deductData.substring(8, 16)))),\n                100,\n                2\n            );\n            properties.properties.deductTimes = Integer.parseInt(hex_sub33(deductData.substring(16, 24)), 16);\n            const zheng = Integer.parseInt(hex_reverse(hex_sub33(deductData.substring(24, 32)))); // 剩余电量正负标识\n            properties.properties.remainEnergy = zheng === 0 ? remainEnergyRaw : -remainEnergyRaw;\n        }\n        // 子分支2.4：矫正电量响应（DI=18160220，协议2-60）\n        else if (di === \"18160220\") {\n            properties.data.functionId = \"setEnergyValue\";\n            properties.data.functionName = \"矫正电量响应\"; // 协议2-60：功能描述\n            \n            const flag = hex_sub33(dataArea.substring(8, 10)); // 协议2-60：执行结果标识（01=成功，其他=失败）\n            properties.properties.operationResult = flag === \"01\" ? \"成功\" : \"失败\";\n        }\n        // 子分支2.5：上报事件响应（DI=18160216，协议2-xx）\n        else if (di === \"18160216\") {\n            properties.data.functionId = \"upEvent\";\n            properties.data.functionName = \"上报事件响应\"; // 协议2-xx：功能描述\n            \n            const flag = hex_sub33(dataArea.substring(8, 10)); // 执行结果标识（01=成功）\n            properties.properties.operationResult = flag === \"01\" ? \"成功\" : \"失败\";\n        }\n        // 子分支2.6：写入表号响应（DI=18160215，协议2-21）\n        else if (di === \"18160215\") {\n            properties.data.functionId = \"writeMeterNo\";\n            properties.data.functionName = \"写入表号响应\"; // 协议2-21：功能描述\n            \n            const flag = hex_sub33(dataArea.substring(8, 10)); // 协议2-21：执行结果标识（01=成功）\n            properties.properties.operationResult = flag === \"01\" ? \"成功\" : \"失败\";\n            properties.properties.meterNo = dataArea.substring(12, 24); // 协议2-21：返回写入的表号\n        }\n        // 子分支2.7：重启响应（DI=18160217，协议2-10）\n        else if (di === \"18160217\") {\n            properties.data.functionId = \"restart\";\n            properties.data.functionName = \"重启响应\"; // 协议2-10：功能描述\n            \n            const flag = hex_sub33(dataArea.substring(8, 10)); // 协议2-10：执行结果标识（01=成功）\n            properties.properties.operationResult = flag === \"01\" ? \"成功\" : \"失败\";\n        }\n        // 子分支2.8：查询设备状态响应（DI=00029200/00029300，协议2-16）\n        else if (di===\"00029200\" ||di===\"00029300\") {\n            properties.data.functionId = \"queryDeviceStatus\";\n            properties.data.functionName = \"查询设备状态\"; // 协议2-16：功能描述\n            properties.properties.chipState = dataArea.substring(28, 30); // 协议2-16：计量芯片状态\n        }\n        // 子分支2.9：未知数据操作（协议未适配）\n        else {\n            properties.data.functionId = \"unknownDataOperation\";\n            properties.data.functionName = \"未知数据操作\";\n            properties.data.parseStatus = \"fail\";\n        }\n    }\n    // 分支3：控制码A2（继电器控制，协议2-107）\n    else if (controlCode === \"A2\") {\n        properties.data.functionId = \"switchOnOff\";\n        properties.data.functionName = \"开关阀响应\"; // 协议2-107：功能描述\n        \n        const statusCode = dataArea.substring(8, 10); // 协议2-107：开关状态码（4D/4E/8E）\n        let valveOpResult = \"\";\n        let currentOpenState = \"\";\n        \n        if (statusCode === \"4D\") {\n            valveOpResult = \"断闸（断电）成功\"; // 协议2-107：4D=分闸成功\n            currentOpenState = \"0\";\n        }\n        else if (statusCode === \"4E\") {\n            valveOpResult = \"合闸（来电）成功\"; // 协议2-107：4E=合闸成功\n            currentOpenState = \"1\";\n        }\n        else if (statusCode === \"8E\") {\n            valveOpResult = \"合闸失败（剩余电量≤0）\"; // 协议2-107：8E=合闸失败（余额不足）\n            currentOpenState = \"0\";\n            // 协议2-107：余额不足触发告警\n            properties.properties.events = [{\n                \"id\": \"lowBalanceAlarm\",\n                \"name\": \"余额不足告警\",\n                \"value\": \"合闸失败：剩余电量≤0，无法通电\",\n                \"level\": \"warn\"\n            }];\n        }\n        else {\n            valveOpResult = `未知操作结果（状态码【${statusCode}】）`;\n            currentOpenState = \"未知\";\n            properties.data.parseStatus = \"fail\";\n        }\n        \n        properties.properties.openState = currentOpenState;\n        properties.properties.openStateDesc = currentOpenState === \"1\" ? \"合闸\" : \"拉闸\";\n        properties.properties.operationResult = valveOpResult;\n    }\n    // 分支4：未知控制码（协议未适配，仅支持A0/A2/AA）\n    else {\n        properties.data.functionId = \"unknownControlCode\";\n        properties.data.functionName = \"未知控制码\";\n        properties.data.parseStatus = \"fail\";\n    }\n\n    result.push(properties);\n    log.info(\"decode 完成：解析状态【{}】，功能【{}】\", \n        properties.data.parseStatus, properties.data.functionId);\n    return result;\n};\n\n// return preDecode(\"68250707ea8dda68aa4baaaaaa017b6373713a33312c696d65693a3836363536303038383335363834312c69636369643a38393836313132353231353038333433393132382c7665723a434658303153303031387dd216\")\n// 测试示例（需传入物模型JSON字符串）\n// const testReq = \'{\"messageType\":\"FUNCTIONS\",\"function\":\"switchOnOff\",\"data\":{\"valveOn\":1,\"meterNo\":\"250707EA8DDA\"}}\';\n//买电\n// const testReq=\'{\"messageType\":\"FUNCTIONS\",\"function\":\"purchase\",\"data\":{\"meterNo\":\"250707ea8dda\",\"energy\":\"1\",\"purchaseId\":1}}\'\n\n// const testReq=\'{\"messageType\":\"FUNCTIONS\",\"function\":\"upEvent\",\"data\":{\"meterNo\":\"250707ea8dda\"}}\'\n\n// const testReq = \'{\"messageType\":\"FUNCTIONS\",\"function\":\"meterRead\",\"data\":{\"meterNo\":\"250707EA8DDA\"}}\';\n// const testReq =\'{\"data\":{\"meterNo\":\"250707EA8DDA\",\"host\":\"tcp.nexiot.xyz\",\"port\":\"19999\"},\"function\":\"setRemote4GServerAddr\",\"messageType\":\"FUNCTIONS\"}\';\n// return encode(testReq,{\"state\":{\"desired\":{},\"reported\":{\"originalMessage\":\"68250707ea8dda68a0413335c433353367333333333433835533333b33333333333333333333333333224d0866560088356841898611252150834391284346583031533030313833333359c416\",\"meterNo\":\"250707EA8DDA\",\"controlCode\":\"A0\",\"eventType\":\"设备心跳\",\"imei\":\"0866560088356841\",\"iccid\":\"89861125215083439128\",\"csq\":22,\"firmwareVersion\":\"CFX01S0018\",\"signalDesc\":\"中\",\"remainEnergy\":34,\"totalEnergy\":100,\"voltage\":225,\"current\":0.008,\"power\":0,\"powerFactor\":0,\"csqDesc\":\"好\",\"openState\":0,\"openStateDesc\":\"拉闸\",\"purchaseTimes\":38,\"functionId\":\"meterRead\",\"functionName\":\"读表\",\"businessType\":\"继电器控制\"}},\"metadata\":{\"desired\":{},\"reported\":{\"originalMessage\":{\"timestamp\":1757684549},\"meterNo\":{\"timestamp\":1757684549},\"controlCode\":{\"timestamp\":1757684549},\"eventType\":{\"timestamp\":1757684506},\"imei\":{\"timestamp\":1757684549},\"iccid\":{\"timestamp\":1757684549},\"csq\":{\"timestamp\":1757684549},\"firmwareVersion\":{\"timestamp\":1757684549},\"signalDesc\":{\"timestamp\":1757677305},\"remainEnergy\":{\"timestamp\":1757684549},\"totalEnergy\":{\"timestamp\":1757684549},\"voltage\":{\"timestamp\":1757684549},\"current\":{\"timestamp\":1757684549},\"power\":{\"timestamp\":1757684549},\"powerFactor\":{\"timestamp\":1757684549},\"csqDesc\":{\"timestamp\":1757684549},\"openState\":{\"timestamp\":1757684549},\"openStateDesc\":{\"timestamp\":1757684549},\"purchaseTimes\":{\"timestamp\":1757684549},\"functionId\":{\"timestamp\":1757684549},\"functionName\":{\"timestamp\":1757684549},\"businessType\":{\"timestamp\":1757678920}}},\"timestamp\":1757684549,\"version\":175});\n// return encode(\'{\"messageType\":\"FUNCTIONS\",\"function\":\"switchOnOff\",\"data\":{\"meterNo\":\"250707ea8dda\",\"valveOn\":0}}\')\n// 解码测试（传入完整报文）\n// return encode(testReq)\n// return decode(\"68250707ea8dda68a0413335c43335c7743333383333338a5533334a33333333333333333333333333314e08665600883568418986112521508343912843465830315330303138333333407616\", {});\n\n//充值\n// return decode(\"68250707ea8dda68a205353333334e1716\")\n\n//矫正电量和剩余电量\nreturn decode(\"68250707ea8dda68a0413335c433354556ab5a33333433545533333b33333333333333333333333333264e086656008835684189861125215083439128434658303153303031383333339f8016\")\n\n// return decode(\"68250707ea8dda68a0143137343a33cc3c3333339356333333cf33333333cf16\")\n\n// return encode(`{\"messageType\":\"FUNCTIONS\",\"function\":\"setRemote4GServerAddr\",\"data\":{\"meterNo\":\"250707BCACA3\",\"host\":\"HnDdSnj1kiQg.tcp.192886.xyz\",\"port\":\"19999\",\"sign\":\"18160222\"}}`\n// )');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/(勿改)Modbus七彩灯泡-TCP.ms', '{\n  \"properties\" : { },\n  \"id\" : \"28e1ebff48ee4124822c30b9ea0aaebb\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"(勿改)Modbus七彩灯泡-TCP\",\n  \"createTime\" : 1761309135090,\n  \"updateTime\" : 1763035962344,\n  \"lock\" : \"1\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"FzpVZ9unsUvU\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"[\\n    {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": \\\"8119000000050903020040\\\",\\n            \\\"protectionLevel\\\": \\\"IPX54\\\",\\n            \\\"firmwareVersion\\\": \\\"V1.0\\\",\\n            \\\"currentLightColor\\\": 0,\\n            \\\"currentFlashMode\\\": 4,\\n            \\\"lightStatus\\\": \\\"常亮\\\"\\n        },\\n        \\\"deviceId\\\": \\\"09\\\"\\n    }\\n]\",\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n/**\n * 解码：解析Modbus RTU报文，映射物模型（无switch，适配枚举）\n * @param {string} payload - 原始ASCII报文\n * @param {object} context - 上下文信息\n * @returns {string} 物模型JSON字符串\n */\nvar decode = (payload, context) => {\n    // 1. ASCII转16进制（修正原始报文解析逻辑）\n    payload=hex_toAscii(payload);\n    var payloadHex = payload.substring(12,payload.length());\n    var result = [];\n    // 2. 构造物模型基础对象（含固定属性）\n    var propertiesObj = { \n        \"messageType\": \"PROPERTIES\", \n        \"properties\": {\n            \"sourcePayload\": payload,\n            \"protectionLevel\": \"IPX54\", // 固定防护等级（参考🔶3-17）\n            \"firmwareVersion\": \"V1.0\"   // 固定固件版本（参考🔶3-9）\n        }\n    };\n    var eventObj = { \n        \"messageType\": \"EVENT\", \n        \"deviceId\": \"\", \n        \"event\": \"\", \n        \"data\": {}\n    };\n\n    // 3. 基础校验：Modbus帧最小长度（地址2+功能码2+数据2+CRC2=8字符）\n    if (payloadHex.length() < 8) {\n       return propertiesObj;\n    }\n\n    // 4. 提取Modbus核心字段（参考🔶3-31、🔶3-52）\n    var deviceAddrHex = payloadHex.substring(0, 2); // 设备485地址（1字节）\n    var funcCodeHex = payloadHex.substring(2, 4); // 功能码（1字节）\n    var dataHex = payloadHex.substring(6, payloadHex.length()); // 数据区（排除地址、功能码、CRC）\n    propertiesObj.deviceId = deviceAddrHex;\n    eventObj.deviceId = deviceAddrHex;\n\n    // 5. 解析\"查询灯光状态\"响应（功能码03，参考🔶3-131至🔶3-137）\n    if (funcCodeHex === \"03\") {\n        if (dataHex.length() === 4) { // 数据区需2字节（DH+DL），对应4字符16进制\n            var dlInt = Integer.parseInt(dataHex.substring(2, 4), 16); // DL字节存状态（参考🔶3-135）\n            var lightState = {\n                \"flashMode\": 0,  // 枚举值（0=熄灭，4=常亮，5=慢闪，6=爆闪）\n                \"lightColor\": 0, // 枚举值（0=不亮，1=红…7=紫）\n                \"lightStatus\": \"熄灭\"\n            };\n\n            // 5.1 解析灯光颜色（Y值：低4位，参考🔶3-77、🔶3-78）\n            var yValue = dlInt & 0x0F;\n            if (yValue === 1) {\n                lightState.lightColor = 1;\n            } else if (yValue === 2) {\n                lightState.lightColor = 2;\n            } else if (yValue === 3) {\n                lightState.lightColor = 3;\n            } else if (yValue === 4) {\n                lightState.lightColor = 4;\n            } else if (yValue === 5) {\n                lightState.lightColor = 5;\n            } else if (yValue === 6) {\n                lightState.lightColor = 6;\n            } else if (yValue === 7) {\n                lightState.lightColor = 7;\n            } else {\n                lightState.lightColor = 0;\n            }\n\n            // 5.2 解析闪灯方式（X值：高4位，参考🔶3-77、🔶3-78）\n            var xValue = (dlInt >> 4) & 0x0F;\n            if (xValue === 4) {\n                lightState.flashMode = 4;\n                lightState.lightStatus = \"常亮\";\n            } else if (xValue === 5) {\n                lightState.flashMode = 5;\n                lightState.lightStatus = \"慢闪\";\n            } else if (xValue === 6) {\n                lightState.flashMode = 6;\n                lightState.lightStatus = \"爆闪\";\n            } else {\n                lightState.flashMode = 0;\n                lightState.lightStatus = \"熄灭\";\n            }\n\n            // 5.3 映射物模型属性（枚举值赋值）\n            propertiesObj.properties.currentLightColor = lightState.lightColor;\n            propertiesObj.properties.currentFlashMode = lightState.flashMode;\n            propertiesObj.properties.lightStatus = lightState.lightStatus;\n\n            result.push(propertiesObj);\n        } \n    }\n\n    return result;\n};\n\n/**\n * 编码函数（无switch，适配枚举输入，调用modbus_crc16）\n * @param {string} payload - 物模型功能调用JSON\n * @returns {string} 16进制Modbus RTU报文\n */\nvar encode = payload => {\n    var obj = toJson(payload);\n    var deviceAddr = modbus_addr(obj.data.slaveAddress || \"01\") ; // 默认地址01（参考🔶3-27）\n    var func = obj.function;\n    var params = obj.data;\n    var modbusFrame = \"\";\n\n    // 1. 控制灯光状态（function=controlLight，参考🔶3-75至🔶3-78）\n    if (func === \"controlLight\") {\n        var lightColor = params.lightColor || \"0\"; // 枚举值（0-7）\n        var flashMode = params.flashMode || \"4\";   // 枚举值（4-6）\n        // 构造指令体（地址+06功能码+00C2寄存器+00XY数据）\n        var cmdBody = deviceAddr + \"0600C200\" + flashMode+lightColor;\n        var crcHex = modbus_crc16(cmdBody); // 调用CRC工具函数\n        modbusFrame = cmdBody + crcHex;\n    }\n\n    // 2. 设置485地址（function=set485Addr，参考🔶3-111）\n    // if (func === \"set485Addr\") {\n    //     var newAddr = params.newAddr || \"01\"; // 新地址（0-255，16进制）\n    //     newAddr = newAddr.padStart(2, \"0\");\n    //     // 构造指令体（地址+06功能码+00C0寄存器+00新地址）\n    //     var cmdBody = deviceAddr + \"0600C000\" + newAddr;\n    //     var crcHex = modbus_crc16(cmdBody);\n    //     modbusFrame = cmdBody + crcHex;\n    // }\n\n    // 3. 查询灯光状态（function=queryLightState，参考🔶3-132）\n    if (func === \"queryLightState\") {\n        // 构造指令体（地址+03功能码+0070寄存器+0001读取个数）\n        var cmdBody = deviceAddr + \"0300700001\";\n        var crcHex = modbus_crc16(cmdBody);\n        modbusFrame = cmdBody + crcHex;\n    }\n\n    // 4. 查询在线设备（function=queryOnlineDevice，参考🔶3-127）\n    if (func === \"queryOnlineDevice\") {\n        // 构造指令体（地址+03功能码+003F寄存器+0000读取个数）\n        var cmdBody = deviceAddr + \"03003F0000\";\n        var crcHex = modbus_crc16(cmdBody);\n        modbusFrame = cmdBody + crcHex;\n    }\n\n    // 5. 设备复位（function=resetDevice，参考🔶3-91）\n    if (func === \"resetDevice\") {\n        // 构造指令体（地址+06功能码+000C寄存器+0000数据）\n        var cmdBody = deviceAddr + \"06000C0000\";\n        var crcHex = modbus_crc16(cmdBody);\n        modbusFrame = cmdBody + crcHex;\n    }\n\n    // 6. Modbus指令透传（function=cmd）\n    if (func === \"cmd\") {\n        var hexCmd = params.hexCmd || \"\";\n        if (hexCmd.length() % 2 === 0) { // 校验16进制字符串长度为偶数\n            var cmdWithoutCrc = hexCmd;\n            // 若指令已带CRC则截取前半部分，否则直接计算\n            if (hexCmd.length() >= 4) {\n                cmdWithoutCrc = hexCmd.substring(0, hexCmd.length() - 4);\n            }\n            var crcHex = modbus_crc16(cmdWithoutCrc);\n            modbusFrame = cmdWithoutCrc + crcHex;\n        }\n    }\n\n    return modbusFrame.toUpperCase();\n};\n\n\n// 测试调用（示例输入报文：ASCII编码的Modbus帧）\n// return decode(\"313636393030303030303036303930363030433230303437\", {});\n\n// return decode(\"38313139303030303030303530393033303230303430\")\n\nreturn encode({\"messageType\":\"FUNCTIONS\",\"function\":\"controlAllTracksLoop\",\"data\":{\"slaveAddress\":\"1\",\"loopSwitch\":\"01\"}}\n);');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/(勿改)Modbus三色声光报警器.ms', '{\n  \"properties\" : { },\n  \"id\" : \"bc71417ece744f2996b675c04d60c52d\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"(勿改)Modbus三色声光报警器\",\n  \"createTime\" : 1761981458383,\n  \"updateTime\" : 1765244135823,\n  \"lock\" : \"0\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"mVnhk9Vk40Ga\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n/**\n * 解码：Modbus RTU报文转物模型属性/事件\n * @param {string} payload - 原始ASCII报文\n * @param {object} context - 上下文\n * @returns {string} 物模型JSON字符串\n */\nvar decode = (payload, context) => {\n    //容兼TCP-HEX和ModbusRTU\n    var asciiPayload;\n    var payloadHex;\n    //如果是Modbus-TCP-HEX模式\n    if(hex_isAsciiPrintable(payload)){\n      // 1. ASCII转16进制，提取有效数据\n      asciiPayload = hex_toAscii(payload);\n      payloadHex = asciiPayload.substring(12, asciiPayload.length());\n    }//Modbus-RTU格式\n    else{\n      payloadHex= payload;\n    }\n    payloadHex=payloadHex.toUpperCase();\n    var result = [];\n\n    // 2. 基础对象初始化\n    var propertiesObj = {\n        \"messageType\": \"PROPERTIES\",\n        \"deviceId\": \"\",\n        \"properties\": {\n            \"sourcePayload\": payload,\n            \"protectionLevel\": \"IPX65\",\n            \"firmwareVersion\": \"V1.3\",\n            \"audioFormat\": \"MP3(≤192Kbps)、WAV\",\n            \"memoryCapacity\": \"4M\",\n            \"commStatus\": \"1\"\n        }\n    };\n    var eventObj = {\n        \"messageType\": \"EVENT\",\n        \"deviceId\": \"\",\n        \"event\": \"\",\n        \"data\": {}\n    };\n\n    // 3. 报文长度校验\n    if (payloadHex.length() < 8) {\n        propertiesObj.properties.commStatus = \"0\";\n        eventObj.event = \"commErrorAlarm\";\n        eventObj.data = {\"content\": \"报文长度不足8字符，通信异常\"};\n        result.push(propertiesObj);\n        result.push(eventObj);\n        return JSON.stringify(result);\n    }\n\n    // 4. 提取核心字段\n    var slaveAddrHex = payloadHex.substring(0, 2); // 从站地址（1字节）\n    var funcCodeHex = payloadHex.substring(2, 4); // 功能码（1字节）\n    var dataHex = payloadHex.substring(4, payloadHex.length()); // 数据区（排除CRC）\n    propertiesObj.deviceId = slaveAddrHex;\n    eventObj.deviceId = slaveAddrHex;\n    propertiesObj.properties.device485Addr = Integer.parseInt(slaveAddrHex, 16);\n\n    // 5. 解析功能码03（查询响应）\n    if (funcCodeHex === \"03\") {\n        // 5.1 查询播放状态（0x42）\n        if (dataHex.substring(0, 4) === \"0042\") {\n            var playStateCode = dataHex.substring(6, 8);\n            propertiesObj.properties.currentPlayState = playStateCode;\n        }\n        // 5.2 查询当前音量（0x43）\n        if (dataHex.substring(0, 4) === \"02DE\") {\n            var volume = Integer.parseInt(dataHex.substring(4, 6), 16);\n            propertiesObj.properties.alarmVolume = volume;\n            propertiesObj.properties.currentVolume = volume;\n        }\n        // 5.3 查询声光状态（0x70）\n        if (dataHex.substring(0, 4) === \"0070\") {\n            var lightStateCode = dataHex.substring(6, 8);\n            propertiesObj.properties.currentLightMode = lightStateCode;\n            var audioState = Integer.parseInt(dataHex.substring(4, 6), 16) === 0 ? \"无播放\" : \"播放中\";\n            propertiesObj.properties.audioState = audioState;\n        }\n        // 5.4 查询总文件数（0x49）\n        if (dataHex.substring(0, 4) === \"0049\") {\n            var totalFile = Integer.parseInt(dataHex.substring(4, 8), 16);\n            propertiesObj.properties.totalFileCount = totalFile;\n        }\n        // 5.5 查询当前曲目（0x4D）\n        if (dataHex.substring(0, 4) === \"004D\") {\n            var currentSeq = Integer.parseInt(dataHex.substring(4, 8), 16);\n            propertiesObj.properties.currentFileSeq = currentSeq;\n        }\n        result.push(propertiesObj);\n    }\n\n    // 6. 解析功能码06（控制响应）\n    if (funcCodeHex === \"06\") {\n        // 6.1 设定音量响应（0x06）\n        if (dataHex.substring(0, 4) === \"0006\") {\n            var volume = Integer.parseInt(dataHex.substring(6, 8), 16);\n            propertiesObj.properties.alarmVolume = volume;\n        }\n        // 6.2 设定波特率响应（0x0B）\n        if (dataHex.substring(0, 4) === \"000B\") {\n            var baudCode = dataHex.substring(6, 8);\n            var baudMap = {\"01\":\"9600\",\"02\":\"19200\",\"03\":\"38400\",\"04\":\"57600\",\"05\":\"115200\",\"06\":\"256000\",\"07\":\"35250\",\"09\":\"4800\"};\n            propertiesObj.properties.serialBaudRate = baudMap[baudCode] || \"9600\";\n        }\n        // 6.3 设定设备地址响应（0xC0）\n        if (dataHex.substring(0, 4) === \"00C0\") {\n            var newAddr = Integer.parseInt(dataHex.substring(6, 8), 16);\n            propertiesObj.properties.device485Addr = newAddr;\n        }\n        // 6.4 单独控制警灯响应（0xC2）\n        if (dataHex.substring(0, 4) === \"00C2\") {\n            var lightMode = dataHex.substring(6, 8);\n            propertiesObj.properties.currentLightMode = lightMode;\n        }\n        result.push(propertiesObj);\n    }\n\n    // 7. 通信异常处理\n    if (funcCodeHex === \"83\" || funcCodeHex === \"86\") { // 功能码错误响应\n        propertiesObj.properties.commStatus = \"0\";\n        eventObj.event = \"commErrorAlarm\";\n        eventObj.data = {\"content\": \"设备返回错误响应，功能码：\" + funcCodeHex};\n        result.push(propertiesObj);\n        result.push(eventObj);\n    }\n\n    return result;\n};\n\n/**\n * 编码：物模型Function调用转Modbus RTU指令\n * @param {string} payload - 物模型JSON\n * @returns {string} 16进制指令（含CRC）\n */\nvar encode = (payload) => {\n    var obj = toJson(payload);\n    var funcId = obj.function;\n    var params = obj.data;\n    var slaveAddr = params.slaveAddress || \"01\";\n    // 从站地址转2位16进制\n    slaveAddr = modbus_addr(slaveAddr);\n    var modbusFrame = \"\";\n\n    // 1. 0x0F：指定文件夹文件名播放\n    if (funcId === \"playByFolderFile\") {\n        var folderHex = hex_padLeft(hex_even(params.folderNum+\"\"),1,\"0\") || \"00\";\n        var fileHex =hex_padLeft(hex_even(params.fileNum+\"\"),1,\"0\"); \n        var lightCtrl = params.lightCtrlCode || \"00\";\n        var cmdBody = slaveAddr + \"06\" + lightCtrl + \"0F\" + folderHex + fileHex;\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 2. 0x01/0x02：下一曲/上一曲\n    if (funcId === \"controlPlayNextPrev\") {\n        var ctrlCode = params.controlType;\n        var cmdBody = slaveAddr + \"0600\" + ctrlCode + \"0000\";\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 3. 0x03：根目录指定顺序曲目播放\n    if (funcId === \"playByRootSeq\") {\n        var seqHex = hex_padLeft(hex_even(params.seqNum+\"\"),2,\"0\");\n        var lightCtrl = params.lightCtrlCode || \"00\";\n        var cmdBody = slaveAddr + \"06\" + lightCtrl + \"03\" + seqHex;\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 4. 0x04/0x05：音量加/减\n    if (funcId === \"adjustVolumeStep\") {\n        var adjustCode = params.adjustType;\n        var cmdBody = slaveAddr + \"0600\" + adjustCode + \"0000\";\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 5. 0x06：指定音量设置\n    if (funcId === \"setVolumeLevel\") {\n        var volumeHex = hex_padLeft(hex_even(params.volumeLevel+\"\"),1,\"0\");\n        var cmdBody = slaveAddr + \"06000600\" + volumeHex;\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 6. 0x08：单曲循环指定曲目\n    if (funcId === \"loopSingleTrack\") {\n        var trackHex =hex_padLeft(hex_even(params.trackNum+\"\"),1,\"0\");\n        var cmdBody = slaveAddr + \"06000800\" + trackHex;\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 7. 0x09：指定播放设备\n    if (funcId === \"setPlayDevice\") {\n        var deviceCode = params.deviceType;\n        var cmdBody = slaveAddr + \"06000900\" + deviceCode;\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 8. 0x0B：设定波特率\n    if (funcId === \"setSerialBaudRate\") {\n        var baudCode = params.baudCode;\n        var cmdBody = slaveAddr + \"06000B00\" + baudCode;\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 9. 0x0C：芯片复位\n    if (funcId === \"resetChip\") {\n        var cmdBody = slaveAddr + \"06000C0000\";\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 10. 0x0D/0x0E：播放/暂停\n    if (funcId === \"controlPlayPause\") {\n        var ctrlCode = params.controlType;\n        var cmdBody = slaveAddr + \"0600\" + ctrlCode + \"0000\";\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 11. 0x10：指定文件夹文件循环播放\n    if (funcId === \"loopPlayByFolderFile\") {\n        var folderHex =hex_padLeft(hex_even(params.folderNum+\"\"),1,\"0\");\n        var fileHex = hex_padLeft(hex_even(params.fileNum+\"\"),1,\"0\");\n        var cmdBody = slaveAddr + \"060010\" + folderHex + fileHex;\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 12. 0x11：全部曲目循环控制\n    if (funcId === \"controlAllTracksLoop\") {\n        var loopCode = params.loopSwitch;\n        var cmdBody = slaveAddr + \"06001100\" + loopCode;\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 13. 0x16：停止播放\n    if (funcId === \"stopCurrentPlay\") {\n        var cmdBody = slaveAddr + \"0600160001\";\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 14. 0x17：指定文件夹循环播放\n    if (funcId === \"loopPlayByFolder\") {\n        var folderHex =hex_padLeft(hex_even(params.folderNum+\"\"),1,\"0\");\n        var cmdBody = slaveAddr + \"06001700\" + folderHex;\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 15. 0x18：随机播放\n    if (funcId === \"controlRandomPlay\") {\n        var cmdBody = slaveAddr + \"0600180000\";\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 16. 0x19：当前曲目循环控制\n    if (funcId === \"controlCurrentTrackLoop\") {\n        var loopCode = params.loopSwitch;\n        var cmdBody = slaveAddr + \"06001900\" + loopCode;\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 17. 0xC0：设定设备485地址\n    if (funcId === \"setDevice485Addr\") {\n        var newAddrHex =hex_padLeft(hex_even(params.newAddr+\"\"),1,\"0\"); \n        var cmdBody = slaveAddr + \"0600C000\" + newAddrHex;\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 18. 0xC2：单独控制警灯\n    if (funcId === \"controlLightAlone\") {\n        var lightCode = params.lightMode;\n        var cmdBody = slaveAddr + \"0600C200\" + lightCode;\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 19. 查询播放状态（0x42）\n    if (funcId === \"queryPlayState\") {\n        var cmdBody = slaveAddr + \"0300420001\";\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 20. 查询当前音量（0x43）\n    if (funcId === \"queryCurrentVolume\") {\n        var cmdBody = slaveAddr + \"0300430001\";\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    // 21. 查询声光状态（0x70）\n    if (funcId === \"queryAudioLightState\") {\n        var cmdBody = slaveAddr + \"0300700001\";\n        modbusFrame = cmdBody + modbus_crc16(cmdBody);\n    }\n\n    return modbusFrame;\n};\n\n// return decode(\"31433644303030303030303530313033303244453031\")\n\n// return decode(\"010302de012024\")\n// return encode({\"messageType\":\"FUNCTIONS\",\"function\":\"setVolumeLevel\",\"data\":{\"slaveAddress\":\"1\",\"volumeLevel\":15}}\n// );');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/(勿改)Modbus温湿度光照子设备-MQTT.ms', '{\n  \"properties\" : { },\n  \"id\" : \"29d98ca2d4e74776aeab7f4bece4cccf\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"(勿改)Modbus温湿度光照子设备-MQTT\",\n  \"createTime\" : 1760694513576,\n  \"updateTime\" : 1761556287974,\n  \"lock\" : \"0\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"p0B2kKqdJD8M\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n\nimport cn.hutool.core.util.NumberUtil;\nimport log;\n\n\n/**\n * 获取湿度描述信息\n * @param {number} humidity - 湿度值（%RH）\n * @returns {string} 人性化描述\n */\nconst getHumidityDescription = (humidity) => {\n    if (humidity < 0 || humidity > 100) {\n        return \"湿度传感器数据异常\";\n    }\n    if (humidity < 20) {\n        return \"空气非常干燥，建议使用加湿器\";\n    }\n    if (humidity < 40) {\n        return \"空气偏干燥，适当补水\";\n    }\n    if (humidity < 60) {\n        return \"湿度舒适，适宜居住\";\n    }\n    if (humidity < 80) {\n        return \"湿度适中，体感舒适\";\n    }\n    if (humidity < 90) {\n        return \"湿度较高，建议适当通风\";\n    }\n    return \"湿重环境，注意防潮除湿\";\n};\n\n/**\n * 获取温度描述信息\n * @param {number} temperature - 温度值（℃）\n * @returns {string} 人性化描述\n */\nconst getTemperatureDescription = (temperature) => {\n    if (temperature < -40 || temperature > 125) {\n        return \"温度传感器数据异常\";\n    }\n    if (temperature < 0) {\n        return \"极寒环境，注意防冻保暖\";\n    }\n    if (temperature < 10) {\n        return \"天气寒冷，请添衣保暖\";\n    }\n    if (temperature < 18) {\n        return \"温度凉爽，适宜活动\";\n    }\n    if (temperature < 26) {\n        return \"温度舒适，体感宜人\";\n    }\n    if (temperature < 30) {\n        return \"温度适中，注意补水\";\n    }\n    if (temperature < 35) {\n        return \"天气炎热，注意防暑降温\";\n    }\n    return \"高温环境，避免长时间户外活动\";\n};\n\n/**\n * 获取光照强度描述信息\n * @param {number} illumination - 光照值（LUX）\n * @returns {string} 人性化描述\n */\nconst getIlluminationDescription = (illumination) => {\n    if (illumination < 0 || illumination > 65535) {\n        return \"光照传感器数据异常\";\n    }\n    if (illumination < 10) {\n        return \"环境黑暗，建议开启照明\";\n    }\n    if (illumination < 100) {\n        return \"光线昏暗，适合休息\";\n    }\n    if (illumination < 500) {\n        return \"光线柔和，适宜阅读\";\n    }\n    if (illumination < 1000) {\n        return \"光照适中，舒适自然\";\n    }\n    if (illumination < 3000) {\n        return \"光线充足，适宜工作\";\n    }\n    if (illumination < 10000) {\n        return \"光照强烈，注意防晒\";\n    }\n    return \"强光环境，建议采取防护措施\";\n};\n\n/**\n * 获取综合舒适度评价\n * @param {number} humidity - 湿度\n * @param {number} temperature - 温度\n * @param {number} illumination - 光照\n * @returns {string} 综合舒适度描述\n */\nconst getOverallComfortLevel = (humidity, temperature, illumination) => {\n    // 舒适度评分（简单的加权计算）\n    let comfortScore = 0;\n    \n    // 温度舒适度评分（最重要）\n    if (temperature >= 18 && temperature <= 26) {\n        comfortScore += 40;\n    } else if (temperature >= 15 && temperature <= 28) {\n        comfortScore += 30;\n    } else if (temperature >= 10 && temperature <= 30) {\n        comfortScore += 20;\n    } else {\n        comfortScore += 10;\n    }\n\n    // 湿度舒适度评分\n    if (humidity >= 40 && humidity <= 60) {\n        comfortScore += 30;\n    } else if (humidity >= 30 && humidity <= 70) {\n        comfortScore += 20;\n    } else {\n        comfortScore += 10;\n    }\n\n    // 光照舒适度评分\n    if (illumination >= 100 && illumination <= 1000) {\n        comfortScore += 30;\n    } else if (illumination >= 50 && illumination <= 3000) {\n        comfortScore += 20;\n    } else {\n        comfortScore += 10;\n    }\n\n    // 根据总分返回描述\n    if (comfortScore >= 90) {\n        return \"环境非常舒适，适宜长时间停留\";\n    }\n    if (comfortScore >= 70) {\n        return \"环境舒适，体感良好\";\n    }\n    if (comfortScore >= 50) {\n        return \"环境一般，部分指标需优化\";\n    }\n    return \"环境不适，建议调整温湿度或光照条件\";\n};\nvar encode = (functionReqJson, shadow) => {\n   \n};\n\n// ------------------------------ 核心函数：decode（16进制报文→物模型） ------------------------------\n/**\n * decode逻辑：解析设备返回的Modbus RTU报文，转换为物模型属性\n * @param {String} payload - 设备上报原始16进制报文\n * @param {Object} context - 上下文（暂未使用）\n * @returns {Array} 解析结果（含PROPERTIES对象，含传感数据与事件）\n */\nvar decode = (payload, context) => {\n    const corePayload = payload.substring(12,payload.length());\n    const properties = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {\n            \"sourcePayload\": payload\n        }\n    };\n    const slaveAddrHex = corePayload.substring(0, 2);\n    const slaveAddr = Integer.parseInt(slaveAddrHex, 16);\n    const funcCode = corePayload.substring(2, 4);\n    // 数据长度（4-6位，规格书2-50：数据长度1字节）\n    const dataLenHex = corePayload.substring(4, 6);\n    const dataLen = Integer.parseInt(dataLenHex, 16);\n     // 4. 解析传感数据（对照规格书2-53寄存器地址表）\n    const dataArea = corePayload.substring(6, 6 + dataLen * 2); // 数据区（6-38位，16字节）\n\n    // 4.1 湿度解析（000H寄存器，数据区0-3位，规格书2-53：湿度存储于40001）\n    const humidityHex = dataArea.substring(0, 4);\n    const humidityRaw = Integer.parseInt(humidityHex, 16);\n    const humidity = NumberUtil.div(humidityRaw, 10, 1); // 0.1%RH单位换算为%RH\n    // 验证范围（规格书2-43：湿度0%RH~100%RH）\n    if (humidity >= 0 && humidity <= 100) {\n        properties.properties.humidity = humidity;\n        properties.properties.humidityDesc = getHumidityDescription(humidity);\n    } \n    // 4.2 温度解析（0001H寄存器，数据区4-7位，规格书2-53：温度存储于40002）\n    const tempHex = dataArea.substring(4, 8);\n    const tempRaw = Integer.parseInt(tempHex, 16);\n    const temperature = NumberUtil.div(tempRaw, 10, 1); // 0.1℃单位换算为℃\n    // 验证范围（规格书2-43：温度-40℃~125℃）\n    if (temperature >= -40 && temperature <= 125) {\n        properties.properties.temperature = temperature;\n        properties.properties.temperatureDesc = getTemperatureDescription(temperature);\n    }\n    // 4.3 光照强度解析（0007H寄存器，数据区28-31位，规格书2-53：光照存储于40008）\n    const illuHex = dataArea.substring(28, 32);\n    const illumination = Integer.parseInt(illuHex, 16);\n    // 验证范围（规格书2-43：光照0~65535 LUX）\n    if (illumination >= 0 && illumination <= 65535) {\n        properties.properties.illumination = illumination;\n        properties.properties.illuminationDesc = getIlluminationDescription(illumination);\n\n\n    }\n    if(illumination&&temperature&&humidity){\n        properties.properties.overallComfort = getOverallComfortLevel(humidity, temperature, illumination);\n    }\n    return properties;\n};\n\n// ------------------------------ 测试示例 ------------------------------\n// 1. 测试encode：读取全部数据（从机地址2）\n// const testReadReq = \'{\"messageType\":\"FUNCTIONS\",\"function\":\"readAllData\",\"data\":{\"slaveAddress\":2}}\';\n// log.info(\"测试encode结果：{}\", encode(testReadReq, {}));\n\n// 2. 测试decode：解析用户提供的返回报文（00020000001302031003040112000000000000000000000000）\nconst testPayload = \"136200000013020310029600C1000000000000000000000141\";\n\nreturn decode(testPayload);');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/(勿改)Modbus温湿度光照子设备-TCP.ms', '{\n  \"properties\" : { },\n  \"id\" : \"b67ae4511e674640abc81748f75bca60\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"(勿改)Modbus温湿度光照子设备-TCP\",\n  \"createTime\" : 1760690443126,\n  \"updateTime\" : 1761309086948,\n  \"lock\" : \"1\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"bKFSm8yKgyGS\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"{\\n    \\\"messageType\\\": \\\"PROPERTIES\\\",\\n    \\\"properties\\\": {\\n        \\\"sourcePayload\\\": \\\"02240000001302031003CA00DE000000000000000000000058\\\",\\n        \\\"humidity\\\": 97,\\n        \\\"humidityDesc\\\": \\\"湿重环境，注意防潮除湿\\\",\\n        \\\"temperature\\\": 22.2,\\n        \\\"temperatureDesc\\\": \\\"温度舒适，体感宜人\\\",\\n        \\\"illumination\\\": 88,\\n        \\\"illuminationDesc\\\": \\\"光线昏暗，适合休息\\\",\\n        \\\"overallComfort\\\": \\\"环境舒适，体感良好\\\"\\n    }\\n}\",\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\nimport cn.hutool.core.util.NumberUtil;\nimport log;\n\n\n/**\n * 获取湿度描述信息\n * @param {number} humidity - 湿度值（%RH）\n * @returns {string} 人性化描述\n */\nconst getHumidityDescription = (humidity) => {\n    if (humidity < 0 || humidity > 100) {\n        return \"湿度传感器数据异常\";\n    }\n    if (humidity < 20) {\n        return \"空气非常干燥，建议使用加湿器\";\n    }\n    if (humidity < 40) {\n        return \"空气偏干燥，适当补水\";\n    }\n    if (humidity < 60) {\n        return \"湿度舒适，适宜居住\";\n    }\n    if (humidity < 80) {\n        return \"湿度适中，体感舒适\";\n    }\n    if (humidity < 90) {\n        return \"湿度较高，建议适当通风\";\n    }\n    return \"湿重环境，注意防潮除湿\";\n};\n\n/**\n * 获取温度描述信息\n * @param {number} temperature - 温度值（℃）\n * @returns {string} 人性化描述\n */\nconst getTemperatureDescription = (temperature) => {\n    if (temperature < -40 || temperature > 125) {\n        return \"温度传感器数据异常\";\n    }\n    if (temperature < 0) {\n        return \"极寒环境，注意防冻保暖\";\n    }\n    if (temperature < 10) {\n        return \"天气寒冷，请添衣保暖\";\n    }\n    if (temperature < 18) {\n        return \"温度凉爽，适宜活动\";\n    }\n    if (temperature < 26) {\n        return \"温度舒适，体感宜人\";\n    }\n    if (temperature < 30) {\n        return \"温度适中，注意补水\";\n    }\n    if (temperature < 35) {\n        return \"天气炎热，注意防暑降温\";\n    }\n    return \"高温环境，避免长时间户外活动\";\n};\n\n/**\n * 获取光照强度描述信息\n * @param {number} illumination - 光照值（LUX）\n * @returns {string} 人性化描述\n */\nconst getIlluminationDescription = (illumination) => {\n    if (illumination < 0 || illumination > 65535) {\n        return \"光照传感器数据异常\";\n    }\n    if (illumination < 10) {\n        return \"环境黑暗，建议开启照明\";\n    }\n    if (illumination < 100) {\n        return \"光线昏暗，适合休息\";\n    }\n    if (illumination < 500) {\n        return \"光线柔和，适宜阅读\";\n    }\n    if (illumination < 1000) {\n        return \"光照适中，舒适自然\";\n    }\n    if (illumination < 3000) {\n        return \"光线充足，适宜工作\";\n    }\n    if (illumination < 10000) {\n        return \"光照强烈，注意防晒\";\n    }\n    return \"强光环境，建议采取防护措施\";\n};\n\n/**\n * 获取综合舒适度评价\n * @param {number} humidity - 湿度\n * @param {number} temperature - 温度\n * @param {number} illumination - 光照\n * @returns {string} 综合舒适度描述\n */\nconst getOverallComfortLevel = (humidity, temperature, illumination) => {\n    // 舒适度评分（简单的加权计算）\n    let comfortScore = 0;\n    \n    // 温度舒适度评分（最重要）\n    if (temperature >= 18 && temperature <= 26) {\n        comfortScore += 40;\n    } else if (temperature >= 15 && temperature <= 28) {\n        comfortScore += 30;\n    } else if (temperature >= 10 && temperature <= 30) {\n        comfortScore += 20;\n    } else {\n        comfortScore += 10;\n    }\n\n    // 湿度舒适度评分\n    if (humidity >= 40 && humidity <= 60) {\n        comfortScore += 30;\n    } else if (humidity >= 30 && humidity <= 70) {\n        comfortScore += 20;\n    } else {\n        comfortScore += 10;\n    }\n\n    // 光照舒适度评分\n    if (illumination >= 100 && illumination <= 1000) {\n        comfortScore += 30;\n    } else if (illumination >= 50 && illumination <= 3000) {\n        comfortScore += 20;\n    } else {\n        comfortScore += 10;\n    }\n\n    // 根据总分返回描述\n    if (comfortScore >= 90) {\n        return \"环境非常舒适，适宜长时间停留\";\n    }\n    if (comfortScore >= 70) {\n        return \"环境舒适，体感良好\";\n    }\n    if (comfortScore >= 50) {\n        return \"环境一般，部分指标需优化\";\n    }\n    return \"环境不适，建议调整温湿度或光照条件\";\n};\nvar encode = (functionReqJson, shadow) => {\n   \n};\n\n// ------------------------------ 核心函数：decode（16进制报文→物模型） ------------------------------\n/**\n * decode逻辑：解析设备返回的Modbus RTU报文，转换为物模型属性\n * @param {String} payload - 设备上报原始16进制报文\n * @param {Object} context - 上下文（暂未使用）\n * @returns {Array} 解析结果（含PROPERTIES对象，含传感数据与事件）\n */\nvar decode = (payload, context) => {\n    payload=hex_toAscii(payload);\n    const corePayload = payload.substring(12,payload.length());\n    const properties = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {\n            \"sourcePayload\": payload\n        }\n    };\n    const slaveAddrHex = corePayload.substring(0, 2);\n    const slaveAddr = Integer.parseInt(slaveAddrHex, 16);\n    const funcCode = corePayload.substring(2, 4);\n    // 数据长度（4-6位，规格书2-50：数据长度1字节）\n    const dataLenHex = corePayload.substring(4, 6);\n    const dataLen = Integer.parseInt(dataLenHex, 16);\n     // 4. 解析传感数据（对照规格书2-53寄存器地址表）\n    const dataArea = corePayload.substring(6, 6 + dataLen * 2); // 数据区（6-38位，16字节）\n\n    // 4.1 湿度解析（000H寄存器，数据区0-3位，规格书2-53：湿度存储于40001）\n    const humidityHex = dataArea.substring(0, 4);\n    const humidityRaw = Integer.parseInt(humidityHex, 16);\n    const humidity = NumberUtil.div(humidityRaw, 10, 1); // 0.1%RH单位换算为%RH\n    // 验证范围（规格书2-43：湿度0%RH~100%RH）\n    if (humidity >= 0 && humidity <= 100) {\n        properties.properties.humidity = humidity;\n        properties.properties.humidityDesc = getHumidityDescription(humidity);\n    } \n    // 4.2 温度解析（0001H寄存器，数据区4-7位，规格书2-53：温度存储于40002）\n    const tempHex = dataArea.substring(4, 8);\n    const tempRaw = Integer.parseInt(tempHex, 16);\n    const temperature = NumberUtil.div(tempRaw, 10, 1); // 0.1℃单位换算为℃\n    // 验证范围（规格书2-43：温度-40℃~125℃）\n    if (temperature >= -40 && temperature <= 125) {\n        properties.properties.temperature = temperature;\n        properties.properties.temperatureDesc = getTemperatureDescription(temperature);\n    }\n    // 4.3 光照强度解析（0007H寄存器，数据区28-31位，规格书2-53：光照存储于40008）\n    const illuHex = dataArea.substring(28, 32);\n    const illumination = Integer.parseInt(illuHex, 16);\n    // 验证范围（规格书2-43：光照0~65535 LUX）\n    if (illumination >= 0 && illumination <= 65535) {\n        properties.properties.illumination = illumination;\n        properties.properties.illuminationDesc = getIlluminationDescription(illumination);\n\n\n    }\n    if(illumination&&temperature&&humidity){\n        properties.properties.overallComfort = getOverallComfortLevel(humidity, temperature, illumination);\n    }\n    return properties;\n};\n\nreturn decode(\"3032323430303030303031333032303331303033434130304445303030303030303030303030303030303030303030303538\")\n\n\n');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/(勿改)塔石Modbus-DTU(MQTT通道2).ms', '{\n  \"properties\" : { },\n  \"id\" : \"63be4f42204e431c9f3df9df38d3a16a\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"(勿改)塔石Modbus-DTU(MQTT通道2)\",\n  \"createTime\" : 1760682456942,\n  \"updateTime\" : 1764055031054,\n  \"lock\" : \"0\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"RpZ3VQIa6YE2\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"[\\n    {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": \\\"1668000000050903020040\\\",\\n            \\\"modbusRawData\\\": \\\"1668000000050903020040\\\"\\n        },\\n        \\\"subDevice\\\": {\\n            \\\"slaveAddress\\\": 9,\\n            \\\"protocol\\\": \\\"ModbusRTU\\\"\\n        }\\n    }\\n]\",\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n//编码\nvar encode = payload => {\n	return \'\';\n}\n//解码\nvar decode = (payload, context) => {\n    // 判断是否是MQTT协议层的心跳包（PINGREQ/PINGRESP）\n    // \"70696e67\" 是 \"ping\" 的十六进制表示，可能是应用层自定义心跳\n    if (payload === \"70696e67\") {\n        return null; // 过滤掉基础的ping心跳，不进行业务处理\n    }\n    \n    const pts = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {\n            \"sourcePayload\": payload // 原始报文，便于溯源\n        }\n    };\n    \n    // 将十六进制payload转换为ASCII字符串\n    var hexSource = payload;\n    \n    // 优先判断是否是HEART格式的心跳[6](@ref)\n    if (hexSource.startsWith(\"HEART\")) {\n        // DTU配置的心跳内容：HEART|$(IMEI)|$(CSQ)|$(TIMESTAMP)|$(GPS)|$(ICCID)|$(IMSI)\n        // 解析网关自身的心跳[1,3](@ref)\n        const parts = hexSource.split(\"\\\\|\");\n        if (parts.length >= 7) {\n            pts.properties = {\n                \"imei\": parts[1],\n                \"csq\": Integer.parseInt(parts[2]),  // 信号强度\n                \"timestamp\": parts[3],\n                \"gps\": parts[4],\n                \"iccid\": parts[5],\n                \"imsi\": parts[6],\n                \"heartbeatType\": \"DTU_HEART\"  // 标记为DTU心跳类型\n            };\n            \n            // 解析GPS坐标（经度,纬度）\n            const gpsCoords = parts[4].split(\",\");\n            if (gpsCoords.length === 2) {\n                pts.properties.longitude = gpsCoords[0];  // 经度\n                pts.properties.latitude = gpsCoords[1];   // 纬度\n            }\n        }\n    } \n    // 如果不是HEART心跳，尝试解析为JSON格式[5](@ref)\n    else if (isJson(hexSource)) {\n        pts.properties = toJson(hexSource);\n    }\n    // 最后尝试解析Modbus从站数据\n    else {\n        // 解析Modbus从站地址并关联子设备\n        // 从十六进制报文中提取从站地址（位置12-13字节）\n        const addr = Integer.parseInt(payload.substring(12, 14), 16); // 使用16进制解析\n        pts.subDevice = { \n            \"slaveAddress\": addr,\n            \"protocol\": \"ModbusRTU\"\n        };\n        \n        // 保留原始数据用于后续解析\n        pts.properties.modbusRawData = payload;\n    }\n    \n    return [pts]; // 返回数组格式与TCP版本保持一致\n};\nreturn decode(\"842F000000050903020040\")');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/(勿改)塔石Modbus-DTU(MQTT通道3).ms', '{\n  \"properties\" : { },\n  \"id\" : \"c1833b4bf18348fc916e6d89fb76e7a9\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"(勿改)塔石Modbus-DTU(MQTT通道3)\",\n  \"createTime\" : 1760834956074,\n  \"updateTime\" : 1763035968153,\n  \"lock\" : \"1\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"xbE2CHuBdtBB\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"[\\n    {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": \\\"020310034500D000000000000000000000045998B4\\\"\\n        },\\n        \\\"subDevice\\\": {\\n            \\\"slaveAddress\\\": 2,\\n            \\\"protocol\\\": \\\"ModbusRTU\\\"\\n        }\\n    }\\n]\",\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n//编码\nvar encode = payload => {\n	return \'\';\n}\n//解码\nvar decode = (payload, context) => {\n    // 判断是否是MQTT协议层的心跳包（PINGREQ/PINGRESP）\n    // \"70696e67\" 是 \"ping\" 的十六进制表示，可能是应用层自定义心跳\n    if (payload === \"70696e67\") {\n        return null; // 过滤掉基础的ping心跳，不进行业务处理\n    }\n    \n    const pts = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {\n            \"sourcePayload\": payload // 原始报文，便于溯源\n        }\n    };\n    \n    // 将十六进制payload转换为ASCII字符串\n    var hexSource = payload;\n    \n    // 优先判断是否是HEART格式的心跳[6](@ref)\n    if (hexSource.startsWith(\"HEART\")) {\n        // DTU配置的心跳内容：HEART|$(IMEI)|$(CSQ)|$(TIMESTAMP)|$(GPS)|$(ICCID)|$(IMSI)\n        // 解析网关自身的心跳[1,3](@ref)\n        const parts = hexSource.split(\"\\\\|\");\n        if (parts.length >= 7) {\n            pts.properties = {\n                \"imei\": parts[1],\n                \"csq\": Integer.parseInt(parts[2]),  // 信号强度\n                \"timestamp\": parts[3],\n                \"gps\": parts[4],\n                \"iccid\": parts[5],\n                \"imsi\": parts[6],\n                \"heartbeatType\": \"DTU_HEART\"  // 标记为DTU心跳类型\n            };\n            \n            // 解析GPS坐标（经度,纬度）\n            const gpsCoords = parts[4].split(\",\");\n            if (gpsCoords.length === 2) {\n               //pts.properties.longitude = gpsCoords[0];  // 经度\n              //  pts.properties.latitude = gpsCoords[1];   // 纬度\n            }\n        }\n    } \n    // 如果不是HEART心跳，尝试解析为JSON格式[5](@ref)\n    else if (isJson(hexSource)) {\n        pts.properties = toJson(hexSource);\n    }\n    // 最后尝试解析Modbus从站数据\n    else {\n        // 解析Modbus从站地址并关联子设备\n        // 从十六进制报文中提取从站地址（位置0-2字节）,因为这里是RTU，没有前面6个字节的报文头\n        const addr = Integer.parseInt(payload.substring(0, 2), 16); // 使用16进制解析\n        pts.subDevice = { \n            \"slaveAddress\": addr\n        };\n    }\n    \n    return [pts]; // 返回数组格式与TCP版本保持一致\n};\n\nreturn decode(\"020310034500D000000000000000000000045998B4\")');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/(勿改)塔石Modbus-DTU(TCP通道1).ms', '{\n  \"properties\" : { },\n  \"id\" : \"d758ddd9a5d4491786106934aabcec0b\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"(勿改)塔石Modbus-DTU(TCP通道1)\",\n  \"createTime\" : 1760430248130,\n  \"updateTime\" : 1763035966489,\n  \"lock\" : \"1\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"lWAUlCmM53UF\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n/**\n * 预解码：提取设备身份标识\n * @param {String} payload 设备原始报文（可能是二进制、JSON、16进制字符串等）\n * @returns {Object} {deviceId, productKey}\n */\nvar preDecode =  (payload, context) => {\n    var IMEI=hex_toAscii(payload);\n     var rs = {\n        \"productKey\": \"lWAUlCmM53UF\"\n    };\n    if(IMEI.length()===15 && IMEI.startsWith(\"86\")){\n     rs.deviceId=IMEI\n     return rs;\n    }\n    // TODO：解析设备标识\n    return null;\n};\n\n/**\n * 编码：平台指令转设备格式\n * @param {Object} payload 平台指令\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\n */\nvar encode = (payload, context) => {\n    var result = \"\";\n    // TODO：实现编码逻辑\n    return result;\n};\n\nvar decode = (payload, context) => {\n    const pts = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {\"sourcePayload\":payload}\n    };\n    const hexSource = hex_toAscii(payload);\n    if (isJson(hexSource)) {\n        pts.properties = toJson(hexSource);\n   \n    }else if(hexSource.startsWith(\"HEART\")){\n         //DTU配置的心跳内容：HEART|$(IMEI)|$(CSQ)|$(TIMESTAMP)|$(GPS)|$(ICCID)|$(IMSI)\n        //解析网关自身的心跳\n        const parts = hexSource.split(\"\\\\|\");\n        if (parts.length >= 7) {\n            pts.properties = {\n                \"imei\": parts[1],\n                \"csq\": Integer.parseInt(parts[2]),  // 信号强度\n                \"timestamp\": parts[3],\n                \"gps\": parts[4],\n                \"iccid\": parts[5],\n                \"imsi\": parts[6]\n            };\n            // 解析GPS坐标（经度,纬度）\n            const gpsCoords = parts[4].split(\",\");\n            if (gpsCoords.length === 2) {\n                pts.properties.longitude = gpsCoords[0];  // 经度\n                pts.properties.latitude = gpsCoords[1];   // 纬度\n            }\n        }\n    } else {\n        // 解析Modbus从站地址并关联子设备\n        if(isModbusTcp(hexSource)){\n            const addr = Integer.parseInt(hexSource.substring(12, 14));\n            pts.subDevice = { \"slaveAddress\": addr };\n            return pts;\n        }\n        else if(isModbusRtu(hexSource)){\n            const addr = Integer.parseInt(hexSource.substring(0, 2));\n            pts.subDevice = { \"slaveAddress\": addr };\n            return pts;\n        }else{\n             pts.properties.hexPayload =hexSource\n        }\n\n      \n    }\n    // 网关与子设备解析：通过从站地址匹配子设备物模型（复用现有服务）\n    // ICodecService.decode(\"HnDdSnj1kiQg\", payload)\n    return [pts];\n};\n\nreturn decode(\"303230333130303341384543374546464646454637374331343135444646\")');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/(勿改)塔石Modbus温湿度光照子设备-MQTT-RTU.ms', '{\n  \"properties\" : { },\n  \"id\" : \"bcbf9df24d2a49baa47ae74384a32063\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"(勿改)塔石Modbus温湿度光照子设备-MQTT-RTU\",\n  \"createTime\" : 1760835295809,\n  \"updateTime\" : 1764055033244,\n  \"lock\" : \"0\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"3QAz7HuahAGN\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n\nimport cn.hutool.core.util.NumberUtil;\nimport log;\n\n\n/**\n * 获取湿度描述信息\n * @param {number} humidity - 湿度值（%RH）\n * @returns {string} 人性化描述\n */\nconst getHumidityDescription = (humidity) => {\n    if (humidity < 0 || humidity > 100) {\n        return \"湿度传感器数据异常\";\n    }\n    if (humidity < 20) {\n        return \"空气非常干燥，建议使用加湿器\";\n    }\n    if (humidity < 40) {\n        return \"空气偏干燥，适当补水\";\n    }\n    if (humidity < 60) {\n        return \"湿度舒适，适宜居住\";\n    }\n    if (humidity < 80) {\n        return \"湿度适中，体感舒适\";\n    }\n    if (humidity < 90) {\n        return \"湿度较高，建议适当通风\";\n    }\n    return \"湿重环境，注意防潮除湿\";\n};\n\n/**\n * 获取温度描述信息\n * @param {number} temperature - 温度值（℃）\n * @returns {string} 人性化描述\n */\nconst getTemperatureDescription = (temperature) => {\n    if (temperature < -40 || temperature > 125) {\n        return \"温度传感器数据异常\";\n    }\n    if (temperature < 0) {\n        return \"极寒环境，注意防冻保暖\";\n    }\n    if (temperature < 10) {\n        return \"天气寒冷，请添衣保暖\";\n    }\n    if (temperature < 18) {\n        return \"温度凉爽，适宜活动\";\n    }\n    if (temperature < 26) {\n        return \"温度舒适，体感宜人\";\n    }\n    if (temperature < 30) {\n        return \"温度适中，注意补水\";\n    }\n    if (temperature < 35) {\n        return \"天气炎热，注意防暑降温\";\n    }\n    return \"高温环境，避免长时间户外活动\";\n};\n\n/**\n * 获取光照强度描述信息\n * @param {number} illumination - 光照值（LUX）\n * @returns {string} 人性化描述\n */\nconst getIlluminationDescription = (illumination) => {\n    if (illumination < 0 || illumination > 65535) {\n        return \"光照传感器数据异常\";\n    }\n    if (illumination < 10) {\n        return \"环境黑暗，建议开启照明\";\n    }\n    if (illumination < 100) {\n        return \"光线昏暗，适合休息\";\n    }\n    if (illumination < 500) {\n        return \"光线柔和，适宜阅读\";\n    }\n    if (illumination < 1000) {\n        return \"光照适中，舒适自然\";\n    }\n    if (illumination < 3000) {\n        return \"光线充足，适宜工作\";\n    }\n    if (illumination < 10000) {\n        return \"光照强烈，注意防晒\";\n    }\n    return \"强光环境，建议采取防护措施\";\n};\n\n/**\n * 获取综合舒适度评价\n * @param {number} humidity - 湿度\n * @param {number} temperature - 温度\n * @param {number} illumination - 光照\n * @returns {string} 综合舒适度描述\n */\nconst getOverallComfortLevel = (humidity, temperature, illumination) => {\n    // 舒适度评分（简单的加权计算）\n    let comfortScore = 0;\n    \n    // 温度舒适度评分（最重要）\n    if (temperature >= 18 && temperature <= 26) {\n        comfortScore += 40;\n    } else if (temperature >= 15 && temperature <= 28) {\n        comfortScore += 30;\n    } else if (temperature >= 10 && temperature <= 30) {\n        comfortScore += 20;\n    } else {\n        comfortScore += 10;\n    }\n\n    // 湿度舒适度评分\n    if (humidity >= 40 && humidity <= 60) {\n        comfortScore += 30;\n    } else if (humidity >= 30 && humidity <= 70) {\n        comfortScore += 20;\n    } else {\n        comfortScore += 10;\n    }\n\n    // 光照舒适度评分\n    if (illumination >= 100 && illumination <= 1000) {\n        comfortScore += 30;\n    } else if (illumination >= 50 && illumination <= 3000) {\n        comfortScore += 20;\n    } else {\n        comfortScore += 10;\n    }\n\n    // 根据总分返回描述\n    if (comfortScore >= 90) {\n        return \"环境非常舒适，适宜长时间停留\";\n    }\n    if (comfortScore >= 70) {\n        return \"环境舒适，体感良好\";\n    }\n    if (comfortScore >= 50) {\n        return \"环境一般，部分指标需优化\";\n    }\n    return \"环境不适，建议调整温湿度或光照条件\";\n};\nvar encode = (functionReqJson, shadow) => {\n   \n};\n\n// ------------------------------ 核心函数：decode（16进制报文→物模型） ------------------------------\n/**\n * decode逻辑：解析设备返回的Modbus RTU报文，转换为物模型属性\n * @param {String} payload - 设备上报原始16进制报文\n * @param {Object} context - 上下文（暂未使用）\n * @returns {Array} 解析结果（含PROPERTIES对象，含传感数据与事件）\n */\nvar decode = (payload, context) => {\n    const corePayload = payload;\n    const properties = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {\n            \"sourcePayload\": payload\n        }\n    };\n    const slaveAddrHex = corePayload.substring(0, 2);\n    const slaveAddr = Integer.parseInt(slaveAddrHex, 16);\n    const funcCode = corePayload.substring(2, 4);\n    // 数据长度（4-6位，规格书2-50：数据长度1字节）\n    const dataLenHex = corePayload.substring(4, 6);\n    const dataLen = Integer.parseInt(dataLenHex, 16);\n     // 4. 解析传感数据（对照规格书2-53寄存器地址表）\n    const dataArea = corePayload.substring(6, 6 + dataLen * 2); // 数据区（6-38位，16字节）\n\n    // 4.1 湿度解析（000H寄存器，数据区0-3位，规格书2-53：湿度存储于40001）\n    const humidityHex = dataArea.substring(0, 4);\n    const humidityRaw = Integer.parseInt(humidityHex, 16);\n    const humidity = NumberUtil.div(humidityRaw, 10, 1); // 0.1%RH单位换算为%RH\n    // 验证范围（规格书2-43：湿度0%RH~100%RH）\n    if (humidity >= 0 && humidity <= 100) {\n        properties.properties.humidity = humidity;\n        properties.properties.humidityDesc = getHumidityDescription(humidity);\n    } \n    // 4.2 温度解析（0001H寄存器，数据区4-7位，规格书2-53：温度存储于40002）\n    const tempHex = dataArea.substring(4, 8);\n    const tempRaw = Integer.parseInt(tempHex, 16);\n    const temperature = NumberUtil.div(tempRaw, 10, 1); // 0.1℃单位换算为℃\n    // 验证范围（规格书2-43：温度-40℃~125℃）\n    if (temperature >= -40 && temperature <= 125) {\n        properties.properties.temperature = temperature;\n        properties.properties.temperatureDesc = getTemperatureDescription(temperature);\n    }\n    // 4.3 光照强度解析（0007H寄存器，数据区28-31位，规格书2-53：光照存储于40008）\n    const illuHex = dataArea.substring(28, 32);\n    const illumination = Integer.parseInt(illuHex, 16);\n    // 验证范围（规格书2-43：光照0~65535 LUX）\n    if (illumination >= 0 && illumination <= 65535) {\n        properties.properties.illumination = illumination;\n        properties.properties.illuminationDesc = getIlluminationDescription(illumination);\n\n\n    }\n    if(illumination&&temperature&&humidity){\n        properties.properties.overallComfort = getOverallComfortLevel(humidity, temperature, illumination);\n    }\n    return properties;\n};\n\n// ------------------------------ 测试示例 ------------------------------\n// 1. 测试encode：读取全部数据（从机地址2）\n// const testReadReq = \'{\"messageType\":\"FUNCTIONS\",\"function\":\"readAllData\",\"data\":{\"slaveAddress\":2}}\';\n// log.info(\"测试encode结果：{}\", encode(testReadReq, {}));\n\n// 2. 测试decode：解析用户提供的返回报文（00020000001302031003040112000000000000000000000000）\nconst testPayload = \"020310039B00C8000000000040AFFF1FFFFDFFD3\";\n\nreturn decode(testPayload);');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/(勿改)有人DTU-USR-G770.ms', '{\n  \"properties\" : { },\n  \"id\" : \"62fbeaccb7f3401587ffc143e191a4a6\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"(勿改)有人DTU-USR-G770\",\n  \"createTime\" : 1763793680162,\n  \"updateTime\" : 1763868888802,\n  \"lock\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"9r08rFICF3bo\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"[\\n    {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"properties\\\": {\\n            \\\"imei\\\": \\\"861213059936242\\\",\\n            \\\"iccid\\\": \\\"89861125204091243722\\\",\\n            \\\"sn\\\": \\\"02502025102600020012\\\"\\n        }\\n    }\\n]\",\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n/**\n * 预解码：提取设备身份标识\n * @param {String} payload 设备原始报文（可能是二进制、JSON、16进制字符串等）\n * @returns {Object} {deviceId, productKey}\n */\nvar preDecode = payload => {\n    //DTU配置的心跳内容：nexiot#861213059936242#89861125204091243722#02502025102600020012\n    var hexSource=hex_toAscii(payload)\n    if(hexSource.startsWith(\"heartbeat\")){\n        const parts = hexSource.split(\"\\\\#\");\n        if (parts.length >= 7) {\n            pts.properties = {\n                \"imei\": parts[1],\n                \"iccid\": parts[2],\n                \"sn\": parts[3]\n            };\n        }\n    }\n    var rs = {\n        \"deviceId\": \"861213059936242\",\n        \"productKey\": \"9r08rFICF3bo\"\n    };\n    // TODO：解析设备标识\n    return rs;\n};\n\n/**\n * 编码：平台指令转设备格式\n * @param {Object} payload 平台指令\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\n */\nvar encode = payload => {\n    var result = \"\";\n    // TODO：实现编码逻辑\n    return result;\n};\n\n/**\n * 解码：设备数据转平台格式\n * @param {String} payload 设备原始报文（二进制、JSON、16进制字符串等）\n * @returns {Array} 平台标准消息数组，每个元素结构：\n *   [\n *     {\n *       messageType: \"PROPERTIES\", // 属性类型\n *       properties: {} // 解析后的属性键值对（根据物模型动态调整）\n *     },\n *     {\n *       messageType: \"EVENT\", // 事件类型\n *       event: \"\", // 事件名称\n *       data: {} // 事件参数\n *     }\n *   ]\n */\nvar decode = payload => { \n    //心跳是16进制，数据又是Modbus RTU,简单解决\n    var hexSource=hex_isAsciiPrintable(payload)?hex_toAscii(payload):payload;\n    const pts = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {\"sourcePayload\":payload}\n    };\n    if (isJson(hexSource)) {\n        pts.properties = toJson(hexSource);\n    }else if(hexSource.startsWith(\"heartbeat\") || hexSource.startsWith(\"nexiot\")){\n        //自己在DTU配置的内容\n        //nexiot#861213059936242#89861125204091243722#02502025102600020012\n        const parts = hexSource.split(\"#\");\n        if (parts.length >= 3) {\n            pts.properties = {\n                \"imei\": parts[1],\n                \"iccid\": parts[2],\n                \"sn\": parts[3],\n            };\n        }\n    } else {\n        // 解析Modbus从站地址并关联子设备\n        if(isModbusTcp(hexSource)){\n            const addr = Integer.parseInt(hexSource.substring(12, 14));\n            pts.subDevice = { \"slaveAddress\": addr };\n            return pts;\n        }\n        else if(isModbusRtu(hexSource)){\n            const addr = Integer.parseInt(hexSource.substring(0, 2));\n            pts.subDevice = { \"slaveAddress\": addr };\n            return pts;\n        }else{\n             pts.properties.hexPayload =hexSource\n        }\n\n      \n    }\n    // 网关与子设备解析：通过从站地址匹配子设备物模型（复用现有服务）\n    // ICodecService.decode(\"HnDdSnj1kiQg\", payload)\n    return [pts];\n    return properties;\n};\n\n// 调试示例（正式使用请删除或注释）\n//return preDecode(\"\");\n// return encode({});\n// return decode(\"010600030001b80a\");\nreturn decode(\"6e6578696f7423383631323133303539393336323432233839383631313235323034303931323433373232233032353032303235313032363030303230303132\")');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/(勿改-AI编写)jt808定位器-TCP.ms', '{\n  \"properties\" : { },\n  \"id\" : \"ddf8010b8df3487f8d4741d691785eb3\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"(勿改-AI编写)jt808定位器-TCP\",\n  \"createTime\" : 1762999401383,\n  \"updateTime\" : 1763814604598,\n  \"lock\" : \"0\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"jt808\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"[\\n    {\\n        \\\"messageType\\\": \\\"PROPERTIES\\\",\\n        \\\"deviceId\\\": \\\"unknown\\\",\\n        \\\"properties\\\": {\\n            \\\"sourcePayload\\\": \\\"7e02000069018220444386005600000000004c000201ccf2d6072a5c5b0036007d011125111717353501040000007730011f310117e4020064e60100e7080000000400000000fb0100eb2b000c00b2898608851925d204710300060089ffffffff000600c5fe7fffef0006002d0000c5d0000300a864ba7e\\\",\\n            \\\"payloadClean\\\": \\\"7E02000069018220444386005600000000004C000201CCF2D6072A5C5B0036007D1125111717353501040000007730011F310117E4020064E60100E7080000000400000000FB0100EB2B000C00B2898608851925D204710300060089FFFFFFFF000600C5FE7FFFEF0006002D0000C5D0000300A864BA7E\\\",\\n            \\\"parseStatus\\\": \\\"fail\\\",\\n            \\\"error\\\": \\\"java.lang.Error: 报文结构异常：消息体+校验码超出报文范围（需238位16进制，实际仅236位）\\\"\\n        },\\n        \\\"data\\\": {\\n            \\\"functionId\\\": \\\"decodeFail\\\",\\n            \\\"functionName\\\": \\\"报文解析失败\\\"\\n        }\\n    }\\n]\",\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\nimport cn.hutool.core.util.HexUtil;\nimport cn.hutool.core.date.DateUtil;\nimport cn.hutool.core.util.StrUtil;\nimport cn.hutool.core.util.NumberUtil;\n\nimport cn.hutool.json.JSONUtil;\nimport log;\n\n\n/**\n * 构建JT808消息头（修复：终端手机号直接用BCD编码，不额外转换）\n * @param {String} msgId - 消息ID（8100=注册应答）\n * @param {String} terminalPhone - 终端手机号（12位数字，如018220444386）\n * @param {Integer} msgBodyLen - 消息体长度（字节，严格按选中协议计算）\n * @param {String} msgSeq - 消息流水号（4位16进制，=终端注册流水号）\n * @returns {String} 12字节消息头（24位16进制，符合选中协议）\n */\nvar buildCommonHeader = (msgId, terminalPhone, msgBodyLen, msgSeq) => {\n    // 1. 消息体属性：低10位=消息体长度，高6位=0（严格按选中协议）\n    const msgBodyProps = StrUtil.padPre(msgBodyLen + \"\", 4, \'0\');\n    // 2. 终端手机号：直接用12位数字作为BCD编码（无需hex_even转换，避免破坏BCD格式）\n    const phoneBcd = StrUtil.padPre(terminalPhone, 12, \'0\'); // 确保12位，补前导0\n    // 3. 组装消息头：消息ID(4)+属性(4)+手机号(12)+流水号(4)=24位16进制\n    const msgHeader = msgId + msgBodyProps + phoneBcd + msgSeq;\n    log.debug(\"构建消息头：msgId【{}】，消息体长度【{}】字节，流水号【{}】，手机号BCD【{}】\",\n        msgId, msgBodyLen, msgSeq, phoneBcd);\n    return msgHeader;\n};\nvar directDescParse = (directionVal) =>{\n    var directionDesc = \"北\"; // 默认北方\n    if (directionVal >= 0 && directionVal < 23) {\n        directionDesc = \"北\";\n    } else if (directionVal >= 23 && directionVal < 68) {\n        directionDesc = \"东北\";\n    } else if (directionVal >= 68 && directionVal < 113) {\n        directionDesc = \"东\";\n    } else if (directionVal >= 113 && directionVal < 158) {\n        directionDesc = \"东南\";\n    } else if (directionVal >= 158 && directionVal < 203) {\n        directionDesc = \"南\";\n    } else if (directionVal >= 203 && directionVal < 248) {\n        directionDesc = \"西南\";\n    } else if (directionVal >= 248 && directionVal < 293) {\n        directionDesc = \"西\";\n    } else if (directionVal >= 293 && directionVal < 338) {\n        directionDesc = \"西北\";\n    } else if (directionVal >= 338 && directionVal <= 359) {\n        directionDesc = \"北\";\n    }\n    return directionDesc;\n}\nvar preDecode = (payload) => {\n    payloadClean = StrUtil.removeAll(payload, \' \').toUpperCase();\n    payloadClean = payloadClean.replaceAll(\"7D02\", \"7E\").replaceAll(\"7D01\", \"7D\");\n    const msgHeader = payloadClean.substring(2, 26); // 起始符2位 + 消息头24位 = 2-26位\n    const terminalPhoneHex = msgHeader.substring(8, 20); // 终端手机号（8-20位，6字节BCD）\n    return {\n        \"deviceId\": terminalPhoneHex,\n        \"productKey\": \"jt808\"\n    };\n};\n// ------------------------------ 公共工具函数（适配厂家协议） ------------------------------\nvar bcdToPhone = (bcdHex) => {\n    if (StrUtil.isBlank(bcdHex) || bcdHex.length() !== 12) {\n        log.error(\"BCD转手机号失败：输入不是12位16进制（实际{}位）\", bcdHex.length());\n        return \"\";\n    }\n    var phone = hex_bcdToDec(bcdHex, 0);\n    phone = phone.replace(/[^0-9]/g, \'\');\n    return StrUtil.padPre(phone, 12, \'0\').substring(0, 12);\n};\n\nvar hexToAscii = (hex) => {\n    if (StrUtil.isBlank(hex) || hex.length() % 2 !== 0) {\n        return \"\";\n    }\n    return hex_toAscii(hex);\n};\nvar calcCheckCode = (data) => {\n    if (StrUtil.isBlank(data) || data.length() % 2 !== 0) {\n        log.error(\"校验码计算失败：输入不是有效16进制字符串（长度{}位）\", data.length());\n        return \"00\";\n    }\n    return checkCRCTwoDigit(data).toUpperCase();\n};\n\nvar isValidLatLng = (lat, lng) => {\n    if (lat == null || lng == null) {\n        return false;\n    }\n    if (lat < -90 || lat > 90) {\n        return false;\n    }\n    if (lng < -180 || lng > 180) {\n        return false;\n    }\n    return true;\n};\n\n\n\nvar buildQueryLocationCmd = (terminalPhone, shadow) => {\n    const msgId = \"8201\";\n    const msgBody = \"\";\n    // 使用randomSign()生成流水号\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()),2);\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBody.length() / 2, msgSeq);\n    const msgHeaderBody = msgHeader + msgBody;\n    const checkCode = calcCheckCode(msgHeaderBody);\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\n    log.info(\"构建查询位置指令：终端手机号【{}】，流水号【{}】，报文【{}】\", terminalPhone, msgSeq, finalFrame);\n    return finalFrame;\n};\n\nvar buildSetReportStrategyCmd = (terminalPhone, strategyType, timeInterval, distanceInterval, shadow) => {\n    const msgId = \"8103\";\n    let msgBody = \"03\";\n    msgBody += \"0020000004\" + StrUtil.padPre(Integer.toHexString(strategyType).toUpperCase(), 8, \'0\');\n    msgBody += \"0029000004\" + StrUtil.padPre(Integer.toHexString(timeInterval).toUpperCase(), 8, \'0\');\n    msgBody += \"002C000004\" + StrUtil.padPre(Integer.toHexString(distanceInterval).toUpperCase(), 8, \'0\');\n\n    // 使用randomSign()生成流水号\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()),2);\n\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBody.length() / 2, msgSeq);\n    const msgHeaderBody = msgHeader + msgBody;\n    const checkCode = calcCheckCode(msgHeaderBody);\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\n    log.info(\"构建设置汇报策略指令：终端手机号【{}】，策略【{}】，定时【{}s】，定距【{}m】，流水号【{}】，报文【{}】\",\n        terminalPhone, strategyType, timeInterval, distanceInterval, msgSeq, finalFrame);\n    return finalFrame;\n};\n\nvar buildTempTrackCmd = (terminalPhone, interval, validTime, shadow) => {\n    const msgId = \"8202\";\n    let msgBody = \"\";\n    msgBody += StrUtil.padPre(Integer.toHexString(interval).toUpperCase(), 4, \'0\');\n    msgBody += StrUtil.padPre(Integer.toHexString(validTime).toUpperCase(), 8, \'0\');\n\n    // 使用randomSign()生成流水号\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()),2);\n\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBody.length() / 2, msgSeq);\n    const msgHeaderBody = msgHeader + msgBody;\n    const checkCode = calcCheckCode(msgHeaderBody);\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\n    log.info(\"构建临时跟踪指令：终端手机号【{}】，间隔【{}s】，有效期【{}s】，流水号【{}】，报文【{}】\",\n        terminalPhone, interval, validTime, msgSeq, finalFrame);\n    return finalFrame;\n};\n\n/**\n * 构建文本信息下发指令（0x8300，JT/T 808-2013 3.9）\n * @param {String} terminalPhone - 终端手机号（12位）\n * @param {String} textMessage - 文本信息（字符串，最长102字节，GBK编码）\n * @param {Integer} flag - 标志位（BYTE）：bit0=紧急(1), bit2=显示器显示(4), bit3=TTS播读(8), bit4=广告屏显示(16)\n * @param {Object} shadow - 影子对象\n * @returns {String} 完整指令报文\n */\nvar buildTextMessageCmd = (terminalPhone, textMessage, flag, shadow) => {\n    const msgId = \"8300\";\n    let msgBody = \"\";\n    \n    // 1. 标志位（BYTE，1字节）\n    const flagByte = flag || 0; // 默认0，不设置任何标志\n    msgBody += StrUtil.padPre(Integer.toHexString(flagByte).toUpperCase(), 2, \'0\');\n    \n    // 2. 文本信息（STRING，最长102字节，GBK编码）\n    if (StrUtil.isBlank(textMessage)) {\n        throw new Error(\"文本信息不能为空\");\n    }\n    \n    // 将文本转换为GBK编码的16进制字符串\n    const textHex = hex_fromGBK(textMessage);\n    \n    // 校验长度（最长102字节=204位16进制）\n    if (textHex.length() > 204) {\n        log.warn(\"文本信息长度超过102字节（实际{}字节），将截断\", textHex.length() / 2);\n        msgBody += textHex.substring(0, 204);\n    } else {\n        msgBody += textHex;\n    }\n    \n    // 使用randomSign()生成流水号\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()), 2); \n    \n    // 计算消息体长度（字节）\n    const msgBodyLen = msgBody.length() / 2;\n    \n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, msgSeq);\n    const msgHeaderBody = msgHeader + msgBody;\n    const checkCode = calcCheckCode(msgHeaderBody);\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\n    \n    log.info(\"构建文本信息下发指令：终端手机号【{}】，文本【{}】，标志位【{}】，流水号【{}】，报文【{}】\",\n        terminalPhone, textMessage, flagByte, msgSeq, finalFrame);\n    return finalFrame;\n};\n/**\n * 构建一键重启指令（0x8155，JT/T 808-2013 3.5）- 修复：流水号格式+消息体属性\n * @param {String} terminalPhone - 终端手机号（12位）\n * @param {Object} shadow - 影子对象\n * @returns {String} 完整指令报文\n */\nvar buildRestartCmd = (terminalPhone, shadow) => {\n    const msgId = \"8155\";\n    const msgBody = \"\"; // 文档要求消息体为空，无需修改\n    \n    // 修复核心1：对齐queryLocation的流水号生成逻辑，强制转为2字节16进制（4位）\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()), 2); \n    \n    // 修复核心2：明确消息体长度=0，确保消息体属性为0000（文档强制要求）\n    const msgBodyLen = 0;\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, msgSeq);\n    \n    const msgHeaderBody = msgHeader + msgBody;\n    const checkCode = calcCheckCode(msgHeaderBody);\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\n    \n    log.info(\"构建一键重启指令：终端手机号【{}】，流水号【{}】，报文【{}】\",\n        terminalPhone, msgSeq, finalFrame);\n    return finalFrame;\n};\n\n// ------------------------------ 新增：应答报文构建工具函数（基于厂家文档） ------------------------------\n/**\n * 构建平台通用应答报文（0x8001，JT/T 808-2013 2.2）- 修复参数缺失\n * @param {String} terminalPhone - 终端手机号（12位）\n * @param {String} respSeq - 应答流水号（=终端消息流水号，选中协议核心要求）\n * @param {String} respMsgId - 应答目标消息ID（如0x0102→\"0102\"）\n * @param {String} resultCode - 结果码（00=成功等，选中协议取值）\n * @returns {String} 完整应答报文\n */\nvar buildPlatformCommonReply = (terminalPhone, respSeq, respMsgId, resultCode) => {\n    const msgId = \"8001\"; // 平台通用应答消息ID\n    // 1. 按选中协议组装消息体：应答流水号(4)+目标消息ID(4)+结果码(2)\n    const msgBody = respSeq + respMsgId + resultCode;\n    // 2. 计算消息体长度（字节）\n    const msgBodyLen = msgBody.length() / 2;\n    // 3. 修复：传入第4参数respSeq（=终端流水号，符合选中协议“应答流水号=终端消息流水号”）\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, respSeq);\n    // 4. 计算校验码（消息头+消息体，符合选中协议校验规则）\n    const checkCode = calcCheckCode(msgHeader + msgBody);\n    const replyFrame = `7E${msgHeader}${msgBody}${checkCode}7E`;\n\n    log.info(\"构建平台通用应答：终端【{}】，流水号【{}】，目标ID【{}】，报文【{}】\",\n        terminalPhone, respSeq, respMsgId, replyFrame);\n    return replyFrame;\n};\n/**\n * 构建终端注册应答报文（完全遵循选中协议）\n * @param {String} terminalPhone - 终端手机号（12位数字，如018220444386）\n * @param {String} respSeq - 应答流水号（4位16进制，=终端注册流水号，选中协议核心要求）\n * @param {String} resultCode - 结果码（2位16进制，00=成功，01=车辆已注册等，选中协议取值）\n * @param {String} authCode - 鉴权码（16进制字符串，仅resultCode=00时传入，长度≤20字节）\n * @returns {String} 完整应答报文（含7E首尾符，符合选中协议）\n */\nvar buildTerminalRegisterReply = (terminalPhone, respSeq, resultCode, authCode) => {\n    const msgId = \"8100\"; // 注册应答消息ID（选中协议明确）\n    let msgBody = \"\";\n\n    // 1. 按选中协议组装消息体：应答流水号(4) + 结果码(2) + 鉴权码(可选)\n    msgBody += respSeq; // 应答流水号=终端注册流水号（选中协议核心要求）\n    msgBody += resultCode; // 结果码（2位16进制，如00=成功）\n    // 2. 仅结果码=00时添加鉴权码（选中协议要求）\n    let authCodeHex = \"\";\n    if (resultCode === \"00\" && StrUtil.isNotBlank(authCode)) {\n        authCodeHex = authCode.toUpperCase();\n        // 校验鉴权码长度≤20字节（选中协议要求）\n        if (authCodeHex.length() > 40) { // 20字节=40位16进制\n            log.error(\"鉴权码长度超过20字节（实际{}字节），截断为20字节\", authCodeHex.length() / 2);\n            authCodeHex = authCodeHex.substring(0, 40);\n        }\n        msgBody += authCodeHex;\n    }\n\n    // 3. 计算消息体长度（字节）：16进制位数/2\n    const msgBodyLen = msgBody.length() / 2;\n    // 4. 构建消息头（传入正确的消息体长度和流水号）\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, respSeq);\n    // 5. 计算校验码（从消息头到消息体的逐字节异或，选中协议要求）\n    const checkCode = calcCheckCode(msgHeader + msgBody);\n    // 6. 组装完整报文（首尾7E，无多余字符）\n    const replyFrame = `7E${msgHeader}${msgBody}${checkCode}7E`;\n\n    log.info(\"构建注册应答：终端手机号【{}】，流水号【{}】，结果【{}】，鉴权码【{}】，报文【{}】\",\n        terminalPhone, respSeq, resultCode, authCodeHex || \"无\", replyFrame);\n    return replyFrame;\n};\n\n/**\n * 构建位置信息查询应答（0x0201，JT/T 808-2013 2.12）- 修复参数缺失\n * @param {String} terminalPhone - 终端手机号（12位）\n * @param {String} respSeq - 应答流水号（=平台查询指令的流水号，协议要求）\n * @param {Object} locationData - 位置数据（含lat/lng等）\n * @returns {String} 完整应答报文\n */\nvar buildLocationQueryReply = (terminalPhone, respSeq, locationData) => {\n    const msgId = \"0201\"; // 位置查询应答消息ID\n    // 1. 组装消息体：应答流水号(4)+位置信息体（同0x0200格式）\n    let locationBody = \"\";\n    locationBody += StrUtil.padPre(locationData.alarmFlag || \"00000000\", 8, \'0\');\n    locationBody += StrUtil.padPre(locationData.status || \"00000000\", 8, \'0\');\n    locationBody += StrUtil.padPre(locationData.latHex || \"00000000\", 8, \'0\');\n    locationBody += StrUtil.padPre(locationData.lngHex || \"00000000\", 8, \'0\');\n    locationBody += StrUtil.padPre(locationData.altitude || \"0000\", 4, \'0\');\n    locationBody += StrUtil.padPre(locationData.speed || \"0000\", 4, \'0\');\n    locationBody += StrUtil.padPre(locationData.direction || \"0000\", 4, \'0\');\n    locationBody += locationData.timeBcd || \"251117100000\";\n    const msgBody = respSeq + locationBody;\n\n    // 2. 计算消息体长度（字节）\n    const msgBodyLen = msgBody.length() / 2;\n    // 3. 修复：传入第4参数respSeq（=平台查询指令的流水号，确保终端识别应答归属）\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, respSeq);\n    // 4. 计算校验码\n    const checkCode = calcCheckCode(msgHeader + msgBody);\n    const replyFrame = `7E${msgHeader}${msgBody}${checkCode}7E`;\n\n    log.info(\"构建位置查询应答：终端【{}】，流水号【{}】，位置（{}°N, {}°E），报文【{}】\",\n        terminalPhone, respSeq, locationData.lat, locationData.lng, replyFrame);\n    return replyFrame;\n};\nvar buildDeviceConfigCmd = (terminalPhone, fId, fValue, shadow) => {\n    const msgId = \"8103\";\n    let msgBody = \"\";\n    \n    // 1. 处理参数值：默认按十进制处理，转换为16进制\n    if (StrUtil.isBlank(fValue)) {\n        throw new Error(\"参数值不能为空\");\n    }\n    \n    let paramValueHex = \"\";\n    \n    try {\n        // 默认按十进制解析，直接转换为16进制\n        const intValue = Integer.parseInt(fValue.trim());\n        // 转换为16进制字符串，如果长度为奇数则补前导0（确保字节对齐）\n        paramValueHex = Integer.toHexString(intValue).toUpperCase();\n        if (paramValueHex.length() % 2 !== 0) {\n            paramValueHex = \"0\" + paramValueHex;\n        }\n    } catch (e) {\n        // 数字解析失败，按字符串处理（GBK编码）\n        log.warn(\"参数值【{}】无法解析为数字，按字符串（GBK编码）处理\", fValue);\n        paramValueHex = hex_fromGBK(fValue);\n    }\n    \n    // 2. 计算参数长度（字节数）= 16进制字符串长度 / 2\n    const paramLen = paramValueHex.length() / 2;\n    \n    // 3. 组装消息体（严格按JT808-2013 2.8节格式）\n    msgBody += \"01\"; // 参数总数=1（单次设置1个参数，BYTE类型，2位16进制）\n    msgBody += \"00\"; // 包参数个数：JT808-2013无此字段，固定填充00（2位16进制）\n    // 3.2 组装参数项：参数ID（4字节=8位16进制） + 参数长度（1字节=2位16进制） + 参数值（N字节）\n    msgBody += StrUtil.padPre(fId.toUpperCase(), 8, \'0\'); // 参数ID统一转为大写，确保8位（4字节）\n    msgBody += StrUtil.padPre(Integer.toHexString(paramLen).toUpperCase(), 2, \'0\'); // 参数长度（2位16进制，补前导0）\n    msgBody += paramValueHex.toUpperCase(); // 参数值16进制统一转为大写\n    \n    // 4. 生成消息流水号（对齐现有逻辑：2字节16进制）\n    const msgSeq = hex_fromInt(Integer.parseInt(randomSign()), 2);\n    \n    // 5. 计算消息体长度（字节）= 消息体16进制字符串长度 / 2\n    const msgBodyLen = msgBody.length() / 2;\n    log.debug(\"设置终端参数：终端【{}】，参数ID【{}】，参数值原始【{}】，参数值16进制【{}】，参数长度【{}】字节，消息体总长度【{}】字节\",\n        terminalPhone, fId, fValue, paramValueHex, paramLen, msgBodyLen);\n\n    // 6. 构建消息头（复用现有buildCommonHeader函数）\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, msgSeq);\n\n    // 7. 计算校验码（消息头+消息体，逐字节异或）\n    const msgHeaderBody = msgHeader + msgBody;\n    const checkCode = calcCheckCode(msgHeaderBody);\n\n    // 8. 组装完整报文（首尾符7E）\n    const finalFrame = `7E${msgHeaderBody}${checkCode}7E`;\n\n    // 9. 日志输出\n    log.info(\"构建设置终端参数指令完成：终端手机号【{}】，流水号【{}】，完整报文【{}】\",\n        terminalPhone, msgSeq, finalFrame);\n\n    return finalFrame;\n};\n/**\n * 构建请求同步时间应答（0x8109，遵循你提供的规范）\n * @param {String} terminalPhone - 终端手机号（12位，如 777777777943）\n * @param {String} respSeq - 应答流水号=终端0x0109请求流水号（选中内容核心规则）\n * @param {String} resultCode - 应答结果（0=成功，1=失败等，2位16进制）\n * @returns {String} 完整0x8109应答报文（含7E首尾符）\n */\nvar buildTimeSyncReply = (terminalPhone, respSeq, resultCode) => {\n    const msgId = \"8109\"; // 同步时间应答消息ID\n    // 1. 使用Hutool获取时间参数\n    Date now = DateUtil.date(); // 获取当前时间\n    // 从Date对象中获取各个时间部件（Hutool方式）\n    int year = DateUtil.thisYear(); // 如 2025\n    int month = DateUtil.thisMonth() + 1; // 注意：Hutool的month从1开始（1-12）\n    int day = DateUtil.dayOfMonth(now); // 1-31\n    int hour = DateUtil.hour(now, true); // 0-23 (true表示24小时制)\n    int minute = DateUtil.minute(now); // 0-59\n    int second = DateUtil.second(now); // 0-59\n\n    // 1.1 年（WORD=2字节：高字节=年//256，低字节=年%256，16进制）\n    const yearHigh = StrUtil.padPre(Integer.toHexString(year >> 8).toUpperCase(), 2, \'0\');\n    const yearLow = StrUtil.padPre(Integer.toHexString(year & 0xFF).toUpperCase(), 2, \'0\');\n    const yearHex = yearHigh + yearLow; // 如 2025→07E9（0x07=2025//256，0xE9=2025%256）\n\n    // 1.2 月/日/时/分/秒（各1字节，16进制补0）\n    const monthHex = StrUtil.padPre(Integer.toHexString(month).toUpperCase(), 2, \'0\');\n    const dayHex = StrUtil.padPre(Integer.toHexString(day).toUpperCase(), 2, \'0\');\n    const hourHex = StrUtil.padPre(Integer.toHexString(hour).toUpperCase(), 2, \'0\');\n    const minuteHex = StrUtil.padPre(Integer.toHexString(minute).toUpperCase(), 2, \'0\');\n    const secondHex = StrUtil.padPre(Integer.toHexString(second).toUpperCase(), 2, \'0\');\n\n    // 1.3 应答结果（1字节，2位16进制）\n    const resultCodeHex = StrUtil.padPre(resultCode, 2, \'0\');\n\n    // 1.4 组装消息体（共8字节=16位16进制）\n    const msgBody = yearHex + monthHex + dayHex + hourHex + minuteHex + secondHex + resultCodeHex;\n\n    // 2. 计算消息体长度（8字节）\n    const msgBodyLen = 8;\n\n    // 3. 构建消息头（调用现有buildCommonHeader，传入4个参数）\n    const msgHeader = buildCommonHeader(msgId, terminalPhone, msgBodyLen, respSeq);\n\n    // 4. 计算校验码（消息头+消息体）\n    const checkCode = calcCheckCode(msgHeader + msgBody);\n\n    // 5. 组装完整报文（含7E首尾符）\n    const replyFrame = `7E${msgHeader}${msgBody}${checkCode}7E`;\n\n    log.info(\"构建 0x8109 同步时间应答：终端【{}】，时间【${year}-${month}-${day} ${hour}:${minute}:${second}】，报文【{}】\",\n        terminalPhone, replyFrame);\n    return replyFrame;\n};\n\n// ------------------------------ 核心函数：encode（不变） ------------------------------\nvar encode = (functionReqJson, shadow) => {\n    const functionReq = JSONUtil.parseObj(functionReqJson);\n    const msgType = functionReq.getStr(\"messageType\");\n    const funcId = functionReq.getStr(\"function\");\n    const funcData = functionReq.getObj(\"data\", {});\n\n    if (msgType !== \"FUNCTIONS\") {\n        const errMsg = `不支持的消息类型【${msgType}】，仅支持FUNCTIONS`;\n        log.error(\"encode 错误：{}\", errMsg);\n        throw new Error(errMsg);\n    }\n    const terminalPhone = funcData.getStr(\"terminalPhone\");\n    let finalFrame = null;\n    if (funcId === \"queryLocation\") {\n        finalFrame = buildQueryLocationCmd(terminalPhone, shadow);\n    } else if (funcId === \"setLocationReportStrategy\") {\n        const strategyType = funcData.getStr(\"strategyType\") || \"0\";\n        const timeInterval = funcData.getInt(\"timeInterval\") || 60;\n        const distanceInterval = funcData.getInt(\"distanceInterval\") || 100;\n        finalFrame = buildSetReportStrategyCmd(terminalPhone, strategyType, timeInterval, distanceInterval, shadow);\n    } else if (funcId === \"tempLocationTrack\") {\n        const interval = funcData.getInt(\"interval\") || 0;\n        const validTime = funcData.getInt(\"validTime\") || 3600;\n        finalFrame = buildTempTrackCmd(terminalPhone, interval, validTime, shadow);\n    } else if (funcId === \"cmd\") {\n        const hexCmd = funcData.getStr(\"hexCmd\") || \"\";\n        if (StrUtil.isBlank(hexCmd)) {\n            throw new Error(\"透传指令需传入hexCmd（十六进制指令）\");\n        }\n        finalFrame = hexCmd;\n    } else if (funcId === \"sendTextMessage\") {\n        const textMessage = funcData.getStr(\"textMessage\") || \"\";\n        // 标志位：枚举类型，value为字符串，需要转换为整数\n        const flagStr = funcData.getStr(\"flag\");\n        const flag = flagStr ? Integer.parseInt(flagStr) : 0; // 标志位，默认0\n        finalFrame = buildTextMessageCmd(terminalPhone, textMessage, flag, shadow);\n    } else if (funcId === \"restart\" || funcId === \"oneKeyRestart\") {\n        finalFrame = buildRestartCmd(terminalPhone, shadow);\n    } \n    else if (funcId === \"deviceConfig\") {\n        // 从物模型请求data中提取参数（与优化后的buildSetTerminalParamCmd参数对应）\n        const fId = funcData.getStr(\"fId\"); // 8位16进制参数ID（如\"0001\"）\n        const fValue = funcData.getStr(\"fValue\"); // 已处理的参数值16进制（如\"0000003C\"）\n        finalFrame = buildDeviceConfigCmd(\n            terminalPhone, // 终端手机号\n            fId,           // 8位16进制参数ID\n            fValue,        // 已处理的参数值16进制\n            shadow         // 影子对象（预留）\n        );\n    }  else {\n        const errMsg = `不支持的功能ID【${funcId}】`;\n        log.error(\"encode 错误：{}\", errMsg);\n        throw new Error(errMsg);\n    }\n\n    log.info(\"encode 成功：功能【{}】，终端手机号【{}】，最终报文【{}】\", funcId, terminalPhone, finalFrame);\n    return finalFrame;\n};\n\n// ------------------------------ 核心函数：decode（终极修复） ------------------------------\nvar decode = (payload, context) => {\n    const result = [];\n    let payloadClean = \"\";\n    \n    try {\n        // 1. 报文预处理\n        payloadClean = StrUtil.removeAll(payload, \' \').toUpperCase();\n        payloadClean = payloadClean.replaceAll(\"7D02\", \"7E\").replaceAll(\"7D01\", \"7D\");\n\n        // 2. 基础校验（仅保留首尾7E和最小长度校验）\n        if (!payloadClean.startsWith(\"7E\") || !payloadClean.endsWith(\"7E\")) {\n            throw new Error(`报文首尾标志错误（需7E，实际首：${payloadClean.substring(0,2)}，尾：${payloadClean.substring(payloadClean.length()-2)}）`);\n        }\n        if (payloadClean.length() < 30) { // 最小帧：7E+12字节消息头+0体+1校验码+7E=30位16进制\n            throw new Error(`报文长度不足（实际${payloadClean.length()}位，最小30位）`);\n        }\n\n        // 3. 提取消息头（厂家文档12字节=24位16进制）\n        const msgHeader = payloadClean.substring(2, 26); // 起始符2位 + 消息头24位 = 2-26位\n        const msgId = msgHeader.substring(0, 4); // 消息ID（0-4位）\n        const msgBodyProps = msgHeader.substring(4, 8); // 消息体属性（4-8位）\n        const msgBodyLen = Integer.parseInt(msgBodyProps, 16) & 0x3FF; // 消息体长度（低10位）\n        const terminalPhoneHex = msgHeader.substring(8, 20); // 终端手机号（8-20位，6字节BCD）\n        const msgSeq = msgHeader.substring(20, 24); // 消息流水号（20-24位）\n\n        // 4. 解析终端手机号\n        const terminalPhone = bcdToPhone(terminalPhoneHex);\n        if (terminalPhone.length() !== 12) {\n            throw new Error(`终端手机号解析错误（BCD：${terminalPhoneHex}，转义后：${terminalPhone}）`);\n        }\n        const deviceId = terminalPhone;\n\n        // 5. 初始化返回结构\n        const properties = {\n            \"messageType\": \"PROPERTIES\",\n            \"deviceId\": deviceId,\n            \"properties\": {\n                \"sourcePayload\": payload,\n                \"terminalPhone\": terminalPhone,\n                \"msgId\": msgId,\n                \"msgSeq\": msgSeq,\n                \"parseStatus\": \"success\",\n                \"msgBodyLength\": msgBodyLen\n            },\n            \"data\": {\n                \"functionId\": \"\",\n                \"functionName\": \"\"\n            }\n        };\n\n        // ------------------------------ 终极修复：按厂家协议直接提取，删除冗余判断 ------------------------------\n        const msgBodyStart = 26; // 消息体起始位（2位起始符+24位消息头=26位16进制）\n        const checkCodeStart = msgBodyStart + msgBodyLen * 2; // 消息体结束位=起始位+消息体16进制位数\n        const checkCodeEnd = checkCodeStart + 2; // 校验码结束位（2位16进制）\n\n        // 仅保留越界防护（防止报文严重异常）\n        if (checkCodeEnd > payloadClean.length() - 2) {\n            throw new Error(`报文结构异常：消息体+校验码超出报文范围（需${checkCodeEnd}位16进制，实际仅${payloadClean.length()-2}位）`);\n        }\n\n        // 直接提取消息体和校验码（完全按厂家协议）\n        const msgBody = payloadClean.substring(msgBodyStart, checkCodeStart);\n        const checkCode = payloadClean.substring(checkCodeStart, checkCodeEnd);\n        // ------------------------------ 修复结束 ------------------------------\n\n        // 6. 校验码验证（可选：厂家文档要求验证，保留但允许兼容）\n        const calcCheck = calcCheckCode(msgHeader + msgBody);\n        if (!StrUtil.equalsIgnoreCase(checkCode, calcCheck)) {\n            log.warn(\"校验码不匹配：实际{}，计算{}，继续解析核心字段\", checkCode, calcCheck);\n            // 不抛出错误，避免因校验码偏差导致解析失败\n        }\n\n        // 7. 按消息ID解析（终端注册0x0100，严格遵循厂家文档表6）\n        if (msgId === \"0100\") {\n            properties.data.functionId = \"terminalRegister\";\n            properties.data.functionName = \"终端注册上报\";\n            try {\n                // 厂家文档表6：省域ID(2)+市县域ID(2)+制造商ID(5)+终端型号(20)+终端ID(7)+车牌颜色(1)+车牌(STRING)\n                const provinceId = Integer.parseInt(msgBody.substring(0, 4), 16); // 省域ID（WORD）\n                const cityId = Integer.parseInt(msgBody.substring(4, 8), 16); // 市县域ID（WORD）\n                const manufacturerId = hexToAscii(msgBody.substring(8, 18)).trim(); // 制造商ID（5字节）\n                const terminalModel = hexToAscii(msgBody.substring(18, 58)).trim(); // 终端型号（20字节）\n                const terminalId = hexToAscii(msgBody.substring(58, 72)).trim(); // 终端ID（7字节）\n                const plateColor = Integer.parseInt(msgBody.substring(72, 74), 16); // 车牌颜色（BYTE）\n                properties.properties.plateNumberPayload = msgBody.substring(74);\n                const plateNumber = hex_toGBK(msgBody.substring(74)).trim(); // 车牌（STRING）\n\n                // 赋值核心属性\n                properties.properties.provinceId = provinceId;\n                properties.properties.cityId = cityId;\n                properties.properties.manufacturerId = manufacturerId;\n                properties.properties.terminalModel = terminalModel;\n                properties.properties.terminalId = terminalId;\n                properties.properties.plateColor = plateColor;\n                properties.properties.plateNumber = plateNumber;\n                properties.properties.registerTime = DateUtil.now()\n                // 3. 修复：生成终端注册应答（严格遵循选中协议）\n                const resultCode = \"00\"; // 假设注册成功，实际需按业务逻辑判断（如查询数据库是否已注册）\n                // 3.1 鉴权码：将终端ID转为16进制（符合STRING类型，长度≤20字节）\n                let authCode = \"3132\"; //设备厂家说就是这个\n                // 3.2 调用修复后的函数：传入终端流水号msgSeq（关键！）\n                const registerReply = buildTerminalRegisterReply(\n                    terminalPhone, // 终端手机号（12位）\n                    msgSeq, // 应答流水号=终端注册消息的流水号（选中字段要求）\n                    resultCode, // 结果码（00=成功）\n                    authCode // 鉴权码（16进制，符合长度要求）\n                );\n                properties.replyPayload = registerReply; // 赋值应答内容\n                // ------------------------------ 应答赋值结束 ------------------------------\n                log.info(\"解析终端注册成功：终端【{}】，制造商【{}】，型号【{}】，终端ID【{}】\",\n                    terminalPhone, manufacturerId, terminalModel, terminalId);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `注册字段解析失败：${e.getMessage()}`;\n                log.error(\"decode 注册字段错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        } // ------------------------------ 在 decode 函数的 7. 按消息ID解析 部分新增 ------------------------------\n        else if (msgId === \"0704\") {\n            // 批量位置数据上报（0x0704，JT/T 808-2013）\n            properties.data.functionId = \"batchLocationReport\";\n            properties.data.functionName = \"批量位置数据上报\";\n            try {\n                // 1. 解析批量数据头部（数据项数量+位置数据类型）\n                const dataItemCount = Integer.parseInt(msgBody.substring(0, 4), 16); // WORD，数据项个数\n                const locationType = Integer.parseInt(msgBody.substring(4, 6), 16); // BYTE，位置数据类型（0=正常位置批量汇报）\n\n                log.info(\"批量位置数据上报：终端【{}】，数据项数【{}】，类型【{}】，仅解析最后一条\", terminalPhone, dataItemCount, locationType);\n\n                // 2. 初始化变量，跳过前面的数据项，只解析最后一条\n                var currentOffset = 6; // 当前解析偏移量（跳过前3字节：数据项数2字节+类型1字节）\n\n                // 3. 循环跳过前面的数据项，只解析最后一条\n                for (i in range(0, dataItemCount - 1)) {\n                    try {\n                        // 3.1 解析位置数据长度（WORD，2字节）\n                        const itemLength = Integer.parseInt(msgBody.substring(currentOffset, currentOffset + 4), 16);\n                        currentOffset = currentOffset + 4; // 跳过长度字段\n\n                        // 3.2 计算单条位置数据体结束位置\n                        const itemBodyEnd = currentOffset + itemLength * 2;\n                        if (itemBodyEnd > msgBody.length()) {\n                            log.warn(\"批量位置数据项{}超出消息体范围，跳过\", i + 1);\n                            break;\n                        }\n                        // 如果是最后一条，则解析\n                        if (i === dataItemCount - 1) {\n                            const itemBody = msgBody.substring(currentOffset, itemBodyEnd);\n\n                            // 3.3 解析位置基础信息（同0x0200结构）\n                            const alarmFlag = itemBody.substring(0, 8); // 报警标志（4字节）\n                            const status = itemBody.substring(8, 16); // 状态（4字节）\n                            const latHex = itemBody.substring(16, 24); // 纬度（4字节）\n                            const lngHex = itemBody.substring(24, 32); // 经度（4字节）\n                            const altitude = itemBody.substring(32, 36); // 高程（2字节）\n                            const speed = itemBody.substring(36, 40); // 速度（2字节，1/10 km/h）\n                            const direction = itemBody.substring(40, 44); // 方向（2字节，0-359°）\n                            const timeBcd = itemBody.substring(44, 56); // 时间（6字节BCD）\n\n                            // 3.4 转换位置数据\n                            var lat = NumberUtil.div(Integer.parseInt(latHex, 16), 1000000, 6);\n                            var lng = NumberUtil.div(Integer.parseInt(lngHex, 16), 1000000, 6);\n                            const statusVal = Integer.parseInt(status, 16);\n                            if ((statusVal & 0x00000004) !== 0) {\n                                lat = -lat;\n                            }\n                            if ((statusVal & 0x00000008) !== 0) {\n                                lng = -lng;\n                            }\n\n                            // 解析方向并生成描述（方向描述映射：枚举逻辑）\n                            const directionVal = Integer.parseInt(direction, 16);\n                            var directionDesc=directDescParse(directionVal);\n                            // 3.5 解析附加信息（如果有）\n                            const additionalInfoHex = itemBody.substring(56); // 附加信息起始位置\n\n                            if (additionalInfoHex.length() >= 4) {\n                                var addOffset = 0;\n                                while (addOffset < additionalInfoHex.length() - 4) {\n                                    const addId = additionalInfoHex.substring(addOffset, addOffset + 2);\n                                    const addLen = Integer.parseInt(additionalInfoHex.substring(addOffset + 2, addOffset + 4), 16);\n                                    addOffset = addOffset + 4;\n\n                                    if (addOffset + addLen * 2 > additionalInfoHex.length()) {\n                                        break;\n                                    }\n\n                                    const addValue = additionalInfoHex.substring(addOffset, addOffset + addLen * 2);\n                                    addOffset = addOffset + addLen * 2;\n\n                                    // 解析常见附加信息ID，直接赋值到properties\n                                    if (addId === \"01\") {\n                                        // 里程（DWORD，单位0.1km，需转换为km）\n                                        properties.properties.mileage = NumberUtil.div(Integer.parseInt(addValue, 16), 10, 1);\n                                    } else if (addId === \"02\") {\n                                        properties.properties.fuel = Integer.parseInt(addValue, 16); // 油量（WORD，单位0.1L）\n                                    } else if (addId === \"03\") {\n                                        properties.properties.recorderSpeed = Integer.parseInt(addValue, 16); // 行驶记录仪速度（WORD，单位0.1km/h）\n                                    } else if (addId === \"04\") {\n                                        properties.properties.alarmEventId = Integer.parseInt(addValue, 16); // 需要人工确认报警事件ID（WORD）\n                                    } else if (addId === \"30\") {\n                                        properties.properties.signalStrength = Integer.parseInt(addValue, 16); // 无线通信网络信号强度（BYTE）\n                                    } else if (addId === \"31\") {\n                                        properties.properties.gnssCount = Integer.parseInt(addValue, 16); // GNSS定位卫星数（BYTE）\n                                    }\n                                }\n                            }\n\n                            // 3.6 直接将位置数据赋值到properties（对齐物模型）\n                            if (isValidLatLng(lat, lng)) {\n                                const lnglat=`${lng},${lat}`;\n                                properties.properties.coordinates =wgs84ToGcj02(lnglat);\n                            }\n                            properties.properties.altitude = Integer.parseInt(altitude, 16);\n                            properties.properties.currentSpeed = NumberUtil.div(Integer.parseInt(speed, 16), 10, 1);\n                            properties.properties.currentDirection = directionVal; // 方向值（0-359°）\n                            properties.properties.currentDirectionDesc = directionDesc; // 方向描述（如\"东北\"）\n                            const reportTime=`20${timeBcd.substring(0,2)}-${timeBcd.substring(2,4)}-${timeBcd.substring(4,6)} ${timeBcd.substring(6,8)}:${timeBcd.substring(8,10)}:${timeBcd.substring(10,12)}`;\n                            properties.properties.reportTime = reportTime;\n                            properties.properties.gnssState = (statusVal & 0x00000002) === 2 ? \"1\" : \"0\";\n                            properties.properties.accState = (statusVal & 0x00000001) === 1 ? \"1\" : \"0\";\n                            properties.properties.alarmFlag = alarmFlag;\n                            properties.properties.status = status;\n                            properties.ts = date_format_long(reportTime);\n\n                            // 新增：将经纬度、方向、速度、高度拼接成一个字段\n                            const locationData = `${lng},${lat}#${directionDesc}#${properties.properties.currentSpeed}#${properties.properties.altitude}`;\n                            properties.properties.locationInfo = locationData;\n\n                            // 解析行驶状态（bit22）\n                            properties.properties.drivingState = (statusVal & 0x00400000) !== 0 ? \"1\" : \"0\";\n                        } else {\n                            // 不是最后一条，只移动偏移量\n                            currentOffset = itemBodyEnd;\n                        }\n\n                    } catch (e) {\n                        log.error(\"解析批量位置数据项{}失败：{}\", i + 1, e.getMessage());\n                        break;\n                    }\n                }\n\n                // 4. 赋值物模型属性（批量信息）\n                properties.properties.batchDataItemCount = dataItemCount;\n                properties.properties.batchLocationType = locationType;\n                properties.properties.batchParseCount = 1; // 只解析了最后一条\n\n                // 5. 生成平台通用应答\n                const batchReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"0704\",\n                    \"00\"\n                );\n                properties.replyPayload = batchReply;\n\n                log.info(\"解析批量位置数据成功：终端【{}】，应解析【{}】条，实际解析【1】条（最后一条）\",\n                    terminalPhone, dataItemCount);\n\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `批量位置数据解析失败：${e.getMessage()}`;\n                log.error(\"decode 批量位置数据错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        } else if (msgId === \"0102\") {\n            // 终端鉴权报文（0x0102，厂家文档2.7）\n            properties.data.functionId = \"terminalAuth\";\n            properties.data.functionName = \"终端鉴权上报\";\n            try {\n                // 1. 校验消息体长度（厂家文档：消息体仅含鉴权码，长度≥1字节，你的报文消息体长度2字节）\n                const msgBodyByteLen = msgBody.length() / 2;\n                if (msgBodyByteLen < 1) {\n                    throw new Error(`鉴权消息体不足（实际${msgBodyByteLen}字节，需≥1字节）`);\n                }\n\n                // 2. 解析鉴权码（厂家文档：终端重连后上报，与0x8100中的鉴权码一致）\n                const authCode = msgBody; // 消息体即为鉴权码（如你的报文 msgBody=3132）\n\n                // 3. 赋值物模型属性（对齐你之前的物模型定义）\n                properties.properties.terminalPhone = terminalPhone;\n                properties.properties.authCode = authCode; // 新增鉴权码属性\n                properties.properties.authTime = DateUtil.now(); // 鉴权时间\n                properties.properties.gpsState = \"unknown\"; // 鉴权报文无定位状态，设为未知\n                properties.properties.alarmStatus = []; // 鉴权报文无告警，设为空\n\n                // 4. 生成平台通用应答（0x8001，厂家文档2.2：终端鉴权需回复通用应答）\n                // 在 decode 函数的 0x0102 解析分支中\n                const authReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq, // 传入终端鉴权的流水号（如你的报文0001，符合选中协议）\n                    \"0102\",\n                    \"00\"\n                );\n                properties.replyPayload = authReply; // 赋值应答报文\n\n                // 5. 触发鉴权成功事件（对齐物模型events）\n                const authEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"authSuccess\", // 新增鉴权成功事件（可补充到物模型）\n                    \"data\": {\n                        \"content\": `终端【${terminalPhone}】鉴权成功，鉴权码：${authCode}，流水号：${msgSeq}`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"包含终端手机号、鉴权码、鉴权时间\" // 对齐物模型event字段描述\n                        }\n                    }\n                };\n                result.push(authEvent);\n\n                log.info(\"解析终端鉴权成功：终端【{}】，鉴权码【{}】，流水号【{}】\",\n                    terminalPhone, authCode, msgSeq);\n            } catch (e) {\n                // 鉴权失败处理：生成通用应答（结果码1=失败）\n                const errorReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"0102\",\n                    \"01\" // 结果码=1（失败）\n                );\n                properties.replyPayload = errorReply;\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `终端鉴权解析失败：${e.getMessage()}`;\n                log.error(\"decode 鉴权错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        }\n        // ------------------------------ decode 函数新增：解析 0x0210 休眠电池电量更新 ------------------------------\n        else if (msgId === \"0210\") {\n            // 休眠电池电量更新（每小时发送一次，平台回复通用应答）\n            properties.data.functionId = \"sleepBatteryUpdate\";\n            properties.data.functionName = \"休眠电池电量更新\";\n            try {\n                // 1. 校验消息体长度（应为7字节：电池百分比1字节+时间6字节）\n                if (msgBodyLen !== 7) {\n                    throw new Error(`0x0210 消息体长度错误（实际${msgBodyLen}字节，应为7字节）`);\n                }\n\n                // 2. 解析电池百分比（起始字节0，BYTE）\n                const batteryPercent = Integer.parseInt(msgBody.substring(0, 2), 16);\n                // 校验电池百分比范围（0-100）\n                if (batteryPercent < 0 || batteryPercent > 100) {\n                    log.warn(\"电池百分比超出正常范围（{}），但仍继续解析\", batteryPercent);\n                }\n\n                // 3. 解析时间（起始字节1，BCD[6]）\n                const timeBcd = msgBody.substring(2, 14); // 6字节=12位16进制\n                // 校验时间BCD格式长度\n                if (timeBcd.length() !== 12) {\n                    throw new Error(`时间BCD字段长度错误（实际${timeBcd.length()}位，应为12位）`);\n                }\n\n                // 4. 赋值物模型属性\n                properties.properties.batteryPercent = batteryPercent;\n                properties.properties.reportTime = `20${timeBcd.substring(0,2)}-${timeBcd.substring(2,4)}-${timeBcd.substring(4,6)} ${timeBcd.substring(6,8)}:${timeBcd.substring(8,10)}:${timeBcd.substring(10,12)}`;\n                properties.ts = date_format_long(properties.properties.reportTime);\n                // 5. 生成平台通用应答（0x8001）\n                const batteryReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"0210\",\n                    \"00\"\n                );\n                properties.replyPayload = batteryReply;\n\n                // 6. 触发电池电量更新事件\n                const batteryEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"batteryUpdate\",\n                    \"data\": {\n                        \"content\": `终端【${terminalPhone}】休眠电池电量更新：${batteryPercent}%，时间${properties.properties.reportTime}`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"包含电池百分比、上报时间\"\n                        }\n                    }\n                };\n                result.push(batteryEvent);\n\n                log.info(\"解析 0x0210 成功：终端【{}】，电池电量【{}%】，时间【{}】，应答报文【{}】\",\n                    terminalPhone, batteryPercent, properties.properties.reportTime, batteryReply);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `0x0210 解析失败：${e.getMessage()}`;\n                log.error(\"decode 0x0210 错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        }\n        // ------------------------------ decode 函数新增：解析 0x0107 终端属性查询应答 ------------------------------\n        else if (msgId === \"0107\") {\n            properties.data.functionId = \"terminalPropertyReport\";\n            properties.data.functionName = \"终端属性查询应答\";\n            try {\n                // 1. 校验消息体长度（最小应为69字节）\n                const msgBodyByteLen = msgBody.length() / 2;\n                if (msgBodyByteLen < 69) {\n                    throw new Error(`终端属性消息体不足（实际${msgBodyByteLen}字节，需≥69字节）`);\n                }\n\n                var offset = 0;\n\n                // 2. 解析终端类型（WORD，2字节）\n                const terminalType = Integer.parseInt(msgBody.substring(offset, offset + 4), 16);\n                offset = offset + 4;\n\n                // 3. 制造商ID（5字节）\n                const manufacturerId = hexToAscii(msgBody.substring(offset, offset + 10)).trim();\n                offset = offset + 10;\n\n                // 4. 终端型号（20字节）\n                const terminalModel = hexToAscii(msgBody.substring(offset, offset + 40)).trim();\n                offset = offset + 40;\n\n                // 5. 终端ID（7字节）\n                const terminalId = hexToAscii(msgBody.substring(offset, offset + 14)).trim();\n                offset = offset + 14;\n\n                // 6. 终端SIM卡ICCID（10字节BCD）\n                const iccidBcd = msgBody.substring(offset, offset + 20);\n                const iccid = hex_bcdToDec(iccidBcd, 0).replace(/[^0-9]/g, \'\');\n                offset = offset + 20;\n\n                // 7. 终端硬件版本号长度（BYTE，1字节）\n                const hwVerLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n\n                // 8. 终端硬件版本号（STRING）\n                const hardwareVersion = hexToAscii(msgBody.substring(offset, offset + hwVerLen * 2)).trim();\n                offset = offset + hwVerLen * 2;\n\n                // 9. 终端固件版本号长度（BYTE，1字节）\n                const fwVerLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n\n                // 10. 终端固件版本号（STRING）\n                const firmwareVersion = hexToAscii(msgBody.substring(offset, offset + fwVerLen * 2)).trim();\n                offset = offset + fwVerLen * 2;\n\n                // 11. GNSS模块属性（BYTE，1字节）\n                const gnssModuleAttr = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n\n                // 12. 通信模块属性（BYTE，1字节）\n                const commModuleAttr = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n\n                // 解析GNSS属性\n                const gnssSupport = (gnssModuleAttr & 0x01) === 1 ? \"GPS\" : \"\";\n                const beidouSupport = (gnssModuleAttr & 0x02) === 2 ? \"北斗\" : \"\";\n                const glonassSupport = (gnssModuleAttr & 0x04) === 4 ? \"GLONASS\" : \"\";\n                const galileoSupport = (gnssModuleAttr & 0x08) === 8 ? \"Galileo\" : \"\";\n\n                // 组装GNSS支持列表\n                const gnssList = [gnssSupport, beidouSupport, glonassSupport, galileoSupport].filter((item) => item !== \"\");\n                const gnssString = gnssList.length > 0 ? gnssList.join(\"+\") : \"未知\";\n\n                // 解析通信模块属性\n                const commTypeMap = {\n                    \"0\": \"GPRS\",\n                    \"1\": \"CDMA\",\n                    \"2\": \"TD-SCDMA\",\n                    \"3\": \"WCDMA\",\n                    \"4\": \"CDMA2000\",\n                    \"5\": \"TD-LTE\",\n                    \"6\": \"FDD-LTE\",\n                    \"7\": \"其他\"\n                };\n                const commType = commTypeMap[commModuleAttr] || `未知（${commModuleAttr}）`;\n\n                // 赋值物模型属性\n                properties.properties.terminalType = terminalType;\n                properties.properties.manufacturerId = manufacturerId;\n                properties.properties.terminalModel = terminalModel;\n                properties.properties.terminalId = terminalId;\n                properties.properties.iccid = iccid;\n                properties.properties.hardwareVersion = hardwareVersion;\n                properties.properties.firmwareVersion = firmwareVersion;\n                properties.properties.gnssModule = gnssString;\n                properties.properties.commModule = commType;\n                properties.properties.propertyReportTime = DateUtil.now();\n\n                // 生成平台通用应答\n                const propertyReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"0107\",\n                    \"00\"\n                );\n                properties.replyPayload = propertyReply;\n\n                // 触发终端属性上报事件\n                const propertyEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"terminalPropertyReport\",\n                    \"data\": {\n                        \"content\": `终端【${terminalPhone}】上报属性：制造商【${manufacturerId}】，型号【${terminalModel}】，硬件版本【${hardwareVersion}】，固件版本【${firmwareVersion}】，GNSS【${gnssString}】，通信【${commType}】`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"包含终端完整属性信息\"\n                        }\n                    }\n                };\n                result.push(propertyEvent);\n\n                log.info(\"解析终端属性成功：终端【{}】，制造商【{}】，型号【{}】，ICCID【{}】，硬件版本【{}】，固件版本【{}】，GNSS【{}】，通信【{}】\",\n                    terminalPhone, manufacturerId, terminalModel, iccid, hardwareVersion, firmwareVersion, gnssString, commType);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `终端属性解析失败：${e.getMessage()}`;\n                log.error(\"decode 终端属性错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        }\n        // ------------------------------ decode 函数新增：解析 0x1007 时区同步指令 ------------------------------\n        else if (msgId === \"1007\") {\n            properties.data.functionId = \"timezoneSync\";\n            properties.data.functionName = \"时区同步指令\";\n            try {\n                // 1. 解析消息体（时区偏移量，BYTE，1字节，单位：15分钟）\n                // 时区=值*15分钟，如东八区(UTC+8)=8*4=32(0x20)\n                const msgBodyByteLen = msgBody.length() / 2;\n                if (msgBodyByteLen < 1) {\n                    throw new Error(`时区同步消息体不足（实际${msgBodyByteLen}字节，需≥1字节）`);\n                }\n\n                const timezoneOffset = Integer.parseInt(msgBody.substring(0, 2), 16);\n                // 计算时区（单位：小时）\n                const timezoneHours = NumberUtil.div(timezoneOffset * 15, 60, 1);\n                // 判断东西时区\n                const timezoneStr = timezoneHours >= 0 ? `UTC+${timezoneHours}` : `UTC${timezoneHours}`;\n\n                // 赋值物模型属性\n                properties.properties.timezoneOffset = timezoneOffset;\n                properties.properties.timezoneHours = timezoneHours;\n                properties.properties.timezone = timezoneStr;\n                properties.properties.timezoneSyncTime = DateUtil.now();\n\n                // 生成平台通用应答\n                const timezoneReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"1007\",\n                    \"00\"\n                );\n                properties.replyPayload = timezoneReply;\n\n                // 触发时区同步事件\n                const timezoneEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"timezoneSync\",\n                    \"data\": {\n                        \"content\": `终端【${terminalPhone}】上报时区同步：${timezoneStr}（偏移量${timezoneOffset}*15分钟）`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"包含时区偏移量、时区小时数\"\n                        }\n                    }\n                };\n                result.push(timezoneEvent);\n\n                log.info(\"解析时区同步成功：终端【{}】，时区【{}】，偏移量【{}】\",\n                    terminalPhone, timezoneStr, timezoneOffset);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `时区同步解析失败：${e.getMessage()}`;\n                log.error(\"decode 时区同步错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        }\n        // ------------------------------ decode 函数新增：解析 0x0109 请求同步时间 ------------------------------\n        else if (msgId === \"0109\") {\n            properties.data.functionId = \"requestTimeSync\";\n            properties.data.functionName = \"请求同步时间\";\n            try {\n                // 1. 校验消息体长度（选中内容：该指令无消息体，消息体长度必须为0）\n                if (msgBodyLen !== 0) {\n                    throw new Error(`0x0109 无效消息体（协议要求无消息体，实际${msgBodyLen}字节）`);\n                }\n\n                // 2. 赋值核心属性（对齐现有解析风格，关联选中内容的“终端请求”场景）\n                properties.properties.requestType = \"timeSync\";\n                properties.properties.requestSeq = msgSeq; // 终端请求流水号（后续应答需复用）\n                properties.properties.requestTime = DateUtil.now()\n\n                // 3. 生成 0x8109 同步时间应答（平台→终端，遵循你提供的 0x8109 规范）\n                const timeSyncReply = buildTimeSyncReply(\n                    terminalPhone, // 终端手机号（如 777777777943）\n                    msgSeq, // 应答流水号=终端请求流水号（选中内容核心规则）\n                    \"00\" // 应答结果：0=成功\n                );\n                properties.replyPayload = timeSyncReply; // 赋值应答报文\n\n                // 4. 触发时间同步请求事件\n                const timeSyncEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"timeSyncRequest\",\n                    \"data\": {\n                        \"content\": `终端【${terminalPhone}】请求同步时间，流水号【${msgSeq}】`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"包含终端手机号、请求流水号，平台已返回0x8109应答\"\n                        }\n                    }\n                };\n                result.push(timeSyncEvent);\n\n                log.info(\"解析 0x0109 成功：终端【{}】，请求流水号【{}】，应答报文【{}】\",\n                    terminalPhone, msgSeq, timeSyncReply);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `0x0109 解析失败：${e.getMessage()}`;\n                log.error(\"decode 0x0109 错误：{}\", e.getMessage());\n            }\n        }\n        // ------------------------------ decode 函数中新增：解析终端位置查询应答（0x0201） ------------------------------\n        else if (msgId === \"0201\") {\n            // 终端位置查询应答（0x0201，JT/T 808-2013 2.12）- 对应平台查询指令（0x8201）\n            properties.data.functionId = \"locationQueryReply\";\n            properties.data.functionName = \"位置查询应答上报\";\n            try {\n                // 1. 校验消息体长度（协议要求：应答流水号2字节 + 位置信息≥28字节）\n                const msgBodyByteLen = msgBody.length() / 2;\n                if (msgBodyByteLen < 30) {\n                    throw new Error(`位置查询应答体不足（实际${msgBodyByteLen}字节，需≥30字节：应答流水号2字节+位置信息28字节）`);\n                }\n\n                // 2. 解析应答流水号（前2字节，4位16进制）\n                const replySeq = msgBody.substring(0, 4);\n                properties.properties.replySeq = replySeq;\n\n                // 3. 解析位置信息体（从第3字节开始，同0x0200格式，对齐协议2.10位置汇报结构）\n                const locationBodyStart = 4; // 跳过应答流水号（4位16进制=2字节）\n                const alarmFlag = msgBody.substring(locationBodyStart, locationBodyStart + 8); // 报警标志（4字节）\n                const status = msgBody.substring(locationBodyStart + 8, locationBodyStart + 16); // 状态（4字节）\n                const latHex = msgBody.substring(locationBodyStart + 16, locationBodyStart + 24); // 纬度（4字节，×10^6）\n                const lngHex = msgBody.substring(locationBodyStart + 24, locationBodyStart + 32); // 经度（4字节，×10^6）\n                const altitude = msgBody.substring(locationBodyStart + 32, locationBodyStart + 36); // 高程（2字节）\n                const speed = msgBody.substring(locationBodyStart + 36, locationBodyStart + 40); // 速度（2字节，1/10 km/h）\n                const direction = msgBody.substring(locationBodyStart + 40, locationBodyStart + 44); // 方向（2字节）\n                const timeBcd = msgBody.substring(locationBodyStart + 44, locationBodyStart + 56); // 时间（6字节BCD，YYMMDDhhmmss）\n\n                // 4. 转换位置数据（符合物模型格式）\n                let lat = NumberUtil.div(Integer.parseInt(latHex, 16), 1000000, 6); // 保留6位小数\n                let lng = NumberUtil.div(Integer.parseInt(lngHex, 16), 1000000, 6);\n                const statusVal = Integer.parseInt(status, 16);\n                // 处理经纬度正负（协议2.10：bit2=纬度正负，bit3=经度正负）\n                if ((statusVal & 0x00000004) !== 0) {\n                    lat = -lat;\n                }\n                if ((statusVal & 0x00000008) !== 0) {\n                    lng = -lng;\n                }\n\n                // 5. 解析时间（BCD编码：YYMMDDhhmmss，YY是年份后两位，如25表示2025年）\n                const year = `20${timeBcd.substring(0, 2)}`; // 年份：20 + YY\n                const month = timeBcd.substring(2, 4); // 月份\n                const day = timeBcd.substring(4, 6); // 日期\n                const hour = timeBcd.substring(6, 8); // 小时\n                const minute = timeBcd.substring(8, 10); // 分钟\n                const second = timeBcd.substring(10, 12); // 秒\n                const reportTime = `${year}-${month}-${day} ${hour}:${minute}:${second}`;\n\n                // 6. 组装位置数据对象（用于传入buildLocationQueryReply）\n                const locationData = {\n                    alarmFlag: alarmFlag,\n                    status: status,\n                    latHex: latHex,\n                    lngHex: lngHex,\n                    altitude: altitude,\n                    speed: speed,\n                    direction: direction,\n                    timeBcd: timeBcd,\n                    lat: lat, // 转换后的纬度（°）\n                    lng: lng, // 转换后的经度（°）\n                    currentSpeed: NumberUtil.div(Integer.parseInt(speed, 16), 10, 1) // 转换后的速度（km/h）\n                };\n                // 7. 调用buildLocationQueryReply：生成结构化应答结果（或验证应答合法性）\n                // 应答流水号=平台查询指令（0x8201）的流水号（从终端0x0201报文的消息头msgSeq提取，协议要求）\n                const queryReplyResult = buildLocationQueryReply(\n                    terminalPhone, // 终端手机号（12位，与查询指令一致）\n                    msgSeq, // 应答流水号=平台查询指令的流水号（协议核心要求，类似选中内容的\"应答流水号关联原指令\"）\n                    locationData // 解析后的位置数据\n                );\n\n                // 8. 赋值物模型属性（对齐现有物模型的位置字段）\n                if (isValidLatLng(lat, lng)) {\n                    const lnglat=`${lng},${lat}`;\n                    properties.properties.coordinates =wgs84ToGcj02(lnglat);\n                }\n                properties.properties.currentSpeed = locationData.currentSpeed;\n                properties.properties.currentDirection = Integer.parseInt(direction, 16);\n                properties.properties.reportTime = reportTime;\n                properties.properties.gpsState = (statusVal & 0x00000002) === 2 ? \"1\" : \"0\"; // 定位状态\n                properties.properties.queryReplyPayload = queryReplyResult; // 存储结构化应答结果\n                log.info(\"解析位置查询应答成功：终端【{}】，应答流水号【{}】，位置（{}°N, {}°E），时间【{}】\",\n                    terminalPhone, replySeq, lat, lng, reportTime);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `位置查询应答解析失败：${e.getMessage()}`;\n                log.error(\"decode 位置查询应答错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n\n        } // ------------------------------ decode 函数新增：解析 0x0112 省电模式上传 ------------------------------\n        else if (msgId === \"0112\") {\n            properties.data.functionId = \"uploadPowerMode\";\n            properties.data.functionName = \"省电模式上传（A6S特有）\";\n            try {\n                // 1. 校验消息体长度（你提供的示例消息体长度6字节=12位16进制，可按实际调整）\n                if (msgBodyLen < 6) {\n                    throw new Error(`0x0112 消息体不足（实际${msgBodyLen}字节，最小6字节）`);\n                }\n                // 2. 按你提供的规范提取字段（起始字节0-5）\n                // 2.1 省电模式（起始字节0，BYTE=2位16进制）\n                const powerModeHex = msgBody.substring(0, 2);\n                const powerModeVal = Integer.parseInt(powerModeHex, 16);\n                // 模式映射（你提供的规范：1=普通定位，2=省电1，3=省电2，4=深度省电，11=自定义）\n                const powerModeMap = {\n                    \"1\": \"普通定位（实时定位）\",\n                    \"2\": \"省电模式1\",\n                    \"3\": \"省电模式2\",\n                    \"4\": \"深度省电\",\n                    \"11\": \"自定义省电模式\"\n                };\n                const powerMode = powerModeMap[powerModeVal] || `未知模式（${powerModeVal}）`;\n\n                // 2.2 保留字段（起始字节1-5，5字节=10位16进制，按示例填充00）\n                const reserved = msgBody.substring(2, 12); // 示例中 0008020000\n\n                // 3. 赋值核心属性（对齐A6S设备特有功能）\n                properties.properties.powerMode = powerMode;\n                properties.properties.powerModeCode = powerModeVal;\n                properties.properties.reservedField = reserved;\n                properties.properties.uploadTime = DateUtil.now();\n\n                // 4. 生成 0x8001 通用应答（确认已接收省电模式）\n                const powerModeReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq, // 应答流水号=终端0x0112流水号\n                    \"0112\", // 应答目标消息ID=0x0112\n                    \"00\" // 结果码=成功\n                );\n                properties.replyPayload = powerModeReply;\n\n                // 5. 触发省电模式上传事件\n                const powerModeEvent = {\n                    \"messageType\": \"EVENT\",\n                    \"deviceId\": deviceId,\n                    \"event\": \"powerModeUpload\",\n                    \"data\": {\n                        \"content\": `A6S终端【${terminalPhone}】上传省电模式：${powerMode}，保留字段【${reserved}】`,\n                        \"timestamp\": System.currentTimeMillis(),\n                        \"expands\": {\n                            \"desc\": \"A6S设备特有功能，包含省电模式类型、上传时间\"\n                        }\n                    }\n                };\n                result.push(powerModeEvent);\n\n                log.info(\"解析 0x0112 成功：终端【{}】，省电模式【{}】，应答报文【{}】\",\n                    terminalPhone, powerMode, powerModeReply);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `0x0112 解析失败：${e.getMessage()}`;\n                log.error(\"decode 0x0112 错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        } else if (msgId === \"0200\") {\n            // 位置信息汇报（厂家文档2.10，不变）\n            properties.data.functionId = \"locationReport\";\n            properties.data.functionName = \"位置信息汇报\";\n            try {\n                const msgBodyByteLen = msgBody.length() / 2;\n                if (msgBodyByteLen < 23) {\n                    throw new Error(`位置消息体长度不足（实际${msgBodyByteLen}字节，需至少23字节）`);\n                }\n                const alarmFlagHex = msgBody.substring(0, 8);\n                const statusHex = msgBody.substring(8, 16);\n                const latHex = msgBody.substring(16, 24);\n                const lngHex = msgBody.substring(24, 32);\n                const altitudeHex = msgBody.substring(32, 36);\n                const speedHex = msgBody.substring(36, 40);\n                const directionHex = msgBody.substring(40, 44);\n                const timeBcd = msgBody.substring(44, 56);\n\n                let lat = NumberUtil.div(Integer.parseInt(latHex, 16), 1000000, 6);\n                let lng = NumberUtil.div(Integer.parseInt(lngHex, 16), 1000000, 6);\n                const statusVal = Integer.parseInt(statusHex, 16);\n                const directionVal=Integer.parseInt(directionHex, 16);\n                if ((statusVal & 0x00000004) !== 0) {\n                    lat = -lat;\n                }\n                if ((statusVal & 0x00000008) !== 0) {\n                    lng = -lng;\n                }\n                if (isValidLatLng(lat, lng)) {\n                    const lnglat=`${lng},${lat}`;\n                    properties.properties.coordinates =wgs84ToGcj02(lnglat);\n                }\n                properties.properties.altitude = Integer.parseInt(altitudeHex, 16);\n                properties.properties.currentSpeed = NumberUtil.div(Integer.parseInt(speedHex, 16), 10, 1);\n                properties.properties.currentDirection = directionVal;\n                properties.properties.reportTime = `20${timeBcd.substring(0,2)}-${timeBcd.substring(2,4)}-${timeBcd.substring(4,6)} ${timeBcd.substring(6,8)}:${timeBcd.substring(8,10)}:${timeBcd.substring(10,12)}`;\n                properties.ts = date_format_long(properties.properties.reportTime);\n                var directionDesc=directDescParse(directionVal);\n\n\n                // 新增：将经纬度、方向、速度、高度拼接成一个字段\n               // 新增：将经纬度、方向、速度、高度拼接成一个字段\n                const locationData = `${lng},${lat}#${directionDesc}#${properties.properties.currentSpeed}#${properties.properties.altitude}`;\n                properties.properties.locationInfo = locationData;\n\n                // 状态位解析\n                properties.properties.accState = (statusVal & 0x00000001) === 1 ? \"1\" : \"0\";\n                properties.properties.gnssState = (statusVal & 0x00000002) === 2 ? \"1\" : \"0\";\n                properties.properties.drivingState = (statusVal & 0x00400000) === 0x00400000 ? \"1\" : \"0\";\n\n                // 生成 0x8001 通用应答（确认已接收位置信息汇报）\n                const locationReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq, // 应答流水号=终端0x0200流水号\n                    \"0200\", // 应答目标消息ID=0x0200\n                    \"00\" // 结果码=成功\n                );\n                properties.replyPayload = locationReply;\n\n                log.info(\"解析位置汇报成功：终端【{}】，位置（{}°N, {}°E），速度【{}km/h】\",\n                    terminalPhone, lat, lng, properties.properties.currentSpeed);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `位置字段解析失败：${e.getMessage()}`;\n                log.error(\"decode 位置字段错误：{}\", e.getMessage());\n                \n                // 解析失败时也生成通用应答（结果码1=失败）\n                const errorReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"0200\",\n                    \"01\" // 结果码=1（失败）\n                );\n                properties.replyPayload = errorReply;\n            }\n        }\n        // ------------------------------ decode 新增：解析 0x1107 上传ICCID（支持字母） ------------------------------\n        else if (msgId === \"1107\") {\n            properties.data.functionId = \"uploadICCID\";\n            properties.data.functionName = \"上传ICCID\";\n            try {\n                var offset = 0;\n                // 1. ICCID 长度（BYTE）\n                if (msgBody.length() < 2) {\n                    throw new Error(\"0x1107 消息体不足以读取ICCID长度\");\n                }\n                const iccidLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n                // 2. ICCID 内容（STRING，长度=iccidLen）\n                if (offset + iccidLen * 2 > msgBody.length()) {\n                    throw new Error(\"0x1107 ICCID长度超出消息体范围\");\n                }\n                const iccidHex = msgBody.substring(offset, offset + iccidLen * 2);\n                const iccidStr = hexToAscii(iccidHex).trim();\n                offset = offset + iccidLen * 2;\n\n                // 3. 设备型号长度（BYTE）\n                if (offset + 2 > msgBody.length()) {\n                    throw new Error(\"0x1107 消息体不足以读取设备型号长度\");\n                }\n                const modelLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n                // 4. 设备型号（STRING）\n                if (offset + modelLen * 2 > msgBody.length()) {\n                    throw new Error(\"0x1107 设备型号长度超出消息体范围\");\n                }\n                const modelHex = msgBody.substring(offset, offset + modelLen * 2);\n                const deviceModel = hexToAscii(modelHex).trim();\n                offset = offset + modelLen * 2;\n\n                // 5. 版本号长度（BYTE）\n                if (offset + 2 > msgBody.length()) {\n                    throw new Error(\"0x1107 消息体不足以读取版本号长度\");\n                }\n                const verLen = Integer.parseInt(msgBody.substring(offset, offset + 2), 16);\n                offset = offset + 2;\n                // 6. 版本号（STRING）\n                if (offset + verLen * 2 > msgBody.length()) {\n                    throw new Error(\"0x1107 版本号长度超出消息体范围\");\n                }\n                const verHex = msgBody.substring(offset, offset + verLen * 2);\n                const versionStr = hexToAscii(verHex).trim();\n                offset = offset + verLen * 2;\n\n                // 7. 赋值物模型属性\n                properties.properties.iccid = iccidStr; // 支持字母\n                properties.properties.deviceModel = deviceModel;\n                properties.properties.firmwareVersion = versionStr;\n                properties.properties.iccidUploadTime = DateUtil.now();\n\n                // 8. 平台通用应答（0x8001）\n                const iccidReply = buildPlatformCommonReply(\n                    terminalPhone,\n                    msgSeq,\n                    \"1107\",\n                    \"00\"\n                );\n                properties.replyPayload = iccidReply;\n                log.info(\"解析 0x1107 成功：终端【{}】，ICCID【{}】，型号【{}】，版本【{}】\",\n                    terminalPhone, iccidStr, deviceModel, versionStr);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `0x1107 解析失败：${e.getMessage()}`;\n                log.error(\"decode 0x1107 错误：{}，消息体【{}】\", e.getMessage(), msgBody);\n            }\n        }\n        else if (msgId === \"0002\") {\n            // 终端心跳（厂家文档2.3）\n            properties.data.functionId = \"heartbeat\";\n            properties.data.functionName = \"终端心跳\";\n            properties.properties.heartbeatTime = DateUtil.now();\n\n            // 构建平台通用应答（0x8001）\n            const heartbeatReply = buildPlatformCommonReply(\n                terminalPhone,\n                msgSeq,\n                \"0002\",\n                \"00\"\n            );\n            properties.replyPayload = heartbeatReply;\n            log.info(\"解析终端心跳成功：终端【{}】，应答【{}】\", terminalPhone, heartbeatReply);\n        } else if (msgId === \"0001\") {\n            // 终端通用应答（厂家文档2.1）\n            properties.data.functionId = \"terminalResponse\";\n            properties.data.functionName = \"终端通用应答\";\n            try {\n                const respSeq = msgBody.substring(0, 4);\n                const respMsgId = msgBody.substring(4, 8);\n                const resultCode = msgBody.substring(8, 10);\n                const resultDescMap = {\n                    \"00\": \"成功\",\n                    \"01\": \"失败\",\n                    \"02\": \"消息有误\",\n                    \"03\": \"不支持\"\n                };\n                const resultDesc = resultDescMap[resultCode] || `未知结果（${resultCode}）`;\n\n                properties.properties.respMsgSeq = respSeq;\n                properties.properties.respTargetMsgId = respMsgId;\n                properties.properties.operationResult = resultDesc;\n                log.info(\"解析终端应答成功：终端【{}】，应答消息ID【{}】，结果【{}】\",\n                    terminalPhone, respMsgId, resultDesc);\n            } catch (e) {\n                properties.properties.parseStatus = \"fail\";\n                properties.properties.error = `应答字段解析失败：${e.getMessage()}`;\n                log.error(\"decode 应答字段错误：{}\", e.getMessage());\n            }\n        }else if (msgId === \"0808\") {\n            properties.data.functionId = \"jt808\";\n            properties.data.functionName = \"jt808标识协议\";\n            log.info(\"标准808协议，无需回复：终端【{}】\",terminalPhone);\n        } else {\n            properties.data.functionId = \"unknownMsgId\";\n            properties.data.functionName = \"未知消息ID\";\n            properties.properties.parseStatus = \"fail\";\n            properties.properties.error = `不支持的消息ID【${msgId}】`;\n            log.warn(\"decode 未知消息ID：终端【{}】，消息ID【{}】\", terminalPhone, msgId);\n            \n            // 生成平台通用应答（0x8001），结果码00表示成功（避免终端因收到不支持应答而掉线）\n            const unknownReply = buildPlatformCommonReply(\n                terminalPhone,\n                msgSeq,\n                msgId,\n                \"00\" // 结果码00=成功（即使不支持该消息ID，也返回成功以保持连接）\n            );\n            properties.replyPayload = unknownReply;\n            log.info(\"已返回通用应答（成功）：终端【{}】，消息ID【{}】，应答报文【{}】\", terminalPhone, msgId, unknownReply);\n        }\n\n        // 8. 组装结果\n        result.push(properties);\n    } catch (e) {\n        const errProps = {\n            \"messageType\": \"PROPERTIES\",\n            \"deviceId\": \"unknown\",\n            \"properties\": {\n                \"sourcePayload\": payload,\n                \"payloadClean\": payloadClean,\n                \"parseStatus\": \"fail\",\n                \"error\": e.getMessage()\n            },\n            \"data\": {\n                \"functionId\": \"decodeFail\",\n                \"functionName\": \"报文解析失败\"\n            }\n        };\n        result.push(errProps);\n        log.error(\"decode 全局错误：{}\", e.getMessage());\n    }\n\n    // log.info(\"decode 完成：终端手机号【{}】，返回数据条数【{}】\",\n    //     result[0].properties.terminalPhone || \"unknown\", result.length);\n    return result;\n};\n//0704 测试\n//1007\n//0704 测试\nreturn decode(\"7e02000076085530427757006400000000004c000201cd180f072997b00009001300752511151322510104000000c230011931010ae4020064e60100e7080000000400000000f50101f6080860362074596357fb0100eb2b000c00b2898608851925d204710400060089ffffffff000600c5fe7fffef0006002d000034f6000300a864f87e\");\n// // //时间同步\n// return encode({\n//     \"messageType\": \"FUNCTIONS\",\n//     \"function\": \"queryLocation\",\n//     \"data\": {\n//         \"terminalPhone\": \"085530427757\"\n//     }\n// })\n// return decode(\"7e02100007085530427757005126251115122419637e\")\n// return decode(\"7e02000069018220444386005600000000004c000201ccf2d6072a5c5b0036007d011125111717353501040000007730011f310117e4020064e60100e7080000000400000000fb0100eb2b000c00b2898608851925d204710300060089ffffffff000600c5fe7fffef0006002d0000c5d0000300a864ba7e\")\n// return encode({\"messageType\":\"FUNCTIONS\",\"function\":\"deviceConfig\",\"data\":{\"fId\":\"0001\",\"terminalPhone\":\"085530427757\",\"fValue\":\"02\"}})');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/group.json', '{\n  \"properties\" : { },\n  \"id\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"TCP\",\n  \"type\" : \"api\",\n  \"parentId\" : \"0\",\n  \"path\" : \"tcp\",\n  \"createTime\" : 1752800005714,\n  \"updateTime\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : null,\n  \"paths\" : [ ],\n  \"options\" : [ ]\n}');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/优化2P1688-单相挂式电表.ms', '{\n  \"properties\" : { },\n  \"id\" : \"5a5abc5d072f44b1a9c7ec4929337a68\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"优化2P1688-单相挂式电表\",\n  \"createTime\" : 1757805665183,\n  \"updateTime\" : 1763036121818,\n  \"lock\" : \"1\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"new_HnDdSnj1kiQg\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n/**\n * magic-api 脚本 - 645协议解析（基于《单相4G蓝牙壁挂645协议_改版.pdf》修正）\n * 功能：实现645协议与物模型的双向转换（encode：物模型→16进制报文；decode：16进制报文→物模型）\n * 依赖：Hutool（HexUtil/JSONUtil/StrUtil/NumberUtil）、log\n */\nimport cn.hutool.core.util.HexUtil;\nimport cn.hutool.core.util.StrUtil;\nimport cn.hutool.core.util.NumberUtil;\nimport cn.hutool.json.JSONUtil;\nimport log;\n\n/**\n * 帧头构建工具（协议2-3：帧头格式定义）\n * 协议2-3明确：帧头 = 68（起始符） + 电表地址（12位16进制） + 68（起始符） + 控制码（2位16进制）\n * @param {String} meterNo - 电表表号（12位16进制，大写，必传，协议1-6定义为设备唯一标识）\n * @param {String} controlCode - 控制码（A0=数据操作/AA=事件包/A2=继电器控制，大写，协议1-7定义）\n * @returns {String} 完整帧头（16进制字符串）\n * @throws {Error} 表号格式错误时抛出异常（协议要求12位，不符则无法构建帧头）\n */\nvar buildFrameHeader = (meterNo, controlCode) => {\n    if (!meterNo || meterNo.length() !== 12) {\n        const errMsg = `电表表号格式错误：需12位16进制，当前为【${meterNo}】`;\n        log.error(\"encode 错误：{}\", errMsg);\n        throw new Error(errMsg);\n    }\n    return `68${meterNo}68${controlCode}`;\n};\n\n/**\n * 报文预处理（协议2-3/2-9：设备标识提取规则）\n * 协议2-3：报文第2-14位为电表地址（设备唯一标识）；协议2-9：预处理需清除空格并统一格式\n * @param {String} payload - 完整16进制报文（可含空格，设备上报原始报文）\n * @returns {Object} 设备基础信息（统一大写，deviceId=电表地址，productKey为固定值）\n */\nvar preDecode = (payload) => {\n    const payloadClean = StrUtil.removeAll(payload, \' \'); // 协议2-9：清除报文空格，统一格式\n    const deviceId = payloadClean.substring(2, 14); // 协议2-3：提取第2-14位作为设备标识（电表地址）\n    return {\n        \"deviceId\": deviceId,\n        \"productKey\": \"HnDdSnj1kiQg\"\n    };\n};\n\n// ------------------------------ encode子函数：指令构建（按协议章节拆分） ------------------------------\n/**\n * 构建查询用电量指令（协议2-11：查询全部数据指令）\n * 协议2-11定义：查询数据指令数据区固定为\"043335C433\"，功能为获取电表所有采集数据（电量、电压等）\n * @param {String} frameHeader - 完整帧头（buildFrameHeader构建，含表号和控制码A0）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildMeterReadCmd = (frameHeader) => {\n    const dataArea = \"043335C433\"; // 协议2-11：查询全部数据的固定数据区\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建开关阀指令（协议2-107：继电器控制指令）\n * 协议2-107定义：分闸数据区含\"4D\"，合闸数据区含\"4E\"，数据区长度固定为11字节（0A）\n * @param {String} frameHeader - 完整帧头（含表号和控制码A2）\n * @param {String} valveOn - 开关状态（0=分闸，1=合闸）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildSwitchOnOffCmd = (frameHeader, valveOn) => {\n    const dataArea = valveOn === \"0\" ?\n        \"0A35333333333333334D33\" // 协议2-107：分闸数据区（含状态码4D）\n        :\n        \"0A35333333333333334E33\"; // 协议2-107：合闸数据区（含状态码4E）\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建远程购电指令（协议2-80：4G购电指令）\n * 协议2-80定义：数据区格式=0C3135343A + 4字节购电量（BCD+反写+加0x33） + 4字节购电序号（加0x33）\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @param {String} energy - 购电量（字符串格式，如\"100\"代表100kWh）\n * @param {Number} purchaseId - 购电序号（递增，确保唯一性）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildPurchaseCmd = (frameHeader, energy, purchaseId) => {\n    const energyBcd = hex_decToBcd(energy, 4, 2); // 协议1-151：电量转4字节BCD（2位小数）\n    const energyReverse = hex_reverse(energyBcd); // 协议1-151：电量BCD反写（中间两组交换）\n    const energyHex = hex_add33(energyReverse); // 协议1-8：发送端数据需加0x33\n    const purchaseIdHex = hex_add33(hex_fromDecScaledLE(purchaseId + \"\", 0, 4)); // 协议2-80：购电序号转4字节（加0x33）\n    const dataArea = `0C3135343A${energyHex}${purchaseIdHex}`; // 协议2-80：购电指令固定数据区格式\n    log.info(\"购电参数转换：购电量【{}】→+0x33后【{}】，购电序号【{}】→Hex【{}】\",\n        energy, energyHex, purchaseId, purchaseIdHex);\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建矫正电量指令（协议2-60：设置剩余/总电量指令）\n * 协议2-60定义：数据区格式=0C4B493553 + 4字节总电量（BCD+反写+加0x33） + 4字节剩余电量（同规则）\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @param {String} remainEnergy - 目标剩余电量（字符串格式）\n * @param {String} totalEnergy - 目标总电量（字符串格式）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildSetEnergyValueCmd = (frameHeader, remainEnergy, totalEnergy) => {\n    // 协议1-151（BCD反写）+协议1-8（加0x33）：剩余电量转换\n    const remainEnergyHex = hex_add33(hex_reverse(hex_decToBcd(remainEnergy, 4, 2)));\n    // 协议1-151+协议1-8：总电量转换\n    const totalEnergyHex = hex_add33(hex_reverse(hex_decToBcd(totalEnergy, 4, 2)));\n    log.info(\"矫正电量转换：剩余电量【{}】→Hex【{}】，总电量【{}】→Hex【{}】\",\n        remainEnergy, remainEnergyHex, totalEnergy, totalEnergyHex);\n    const dataArea = `0C4B493553${totalEnergyHex}${remainEnergyHex}`; // 协议2-60：矫正电量固定数据区格式\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建重启设备指令（协议2-10：数据操作-重启指令）\n * 协议2-10定义：重启指令数据区固定为\"044B49354A\"，控制码为A0\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildRestartCmd = (frameHeader) => {\n    const dataArea = \"044B49354A\"; // 协议2-10：重启指令固定数据区\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建清零指令（协议2-10：数据操作-清零指令）\n * 协议2-10定义：清零指令数据区与重启一致，均为\"044B49354A\"，控制码为A0\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildResetCmd = (frameHeader) => {\n    return buildRestartCmd(frameHeader); // 协议2-10：清零与重启数据区相同，复用函数\n};\n\n/**\n * 构建上报事件指令（协议2-xx：事件上报触发指令）\n * 协议定义：上报事件指令数据区固定为\"044B493549\"，控制码为A0\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildUpEventCmd = (frameHeader) => {\n    const dataArea = \"044B493549\"; // 协议2-xx：上报事件固定数据区\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建扣除电量指令（协议2-xx：扣除电量指令）\n * 协议定义：数据区格式=0C3137343A + 4字节扣电量（BCD+反写+加0x33） + 4字节扣电序号（加0x33）\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @param {String} energy - 扣电量（字符串格式）\n * @param {Number} deductId - 扣电序号（递增）\n * @returns {String} 完整指令体（帧头+数据区）\n */\nvar buildDeductEnergyCmd = (frameHeader, energy, deductId) => {\n    // 协议1-151（BCD反写）+协议1-8（加0x33）：扣电量转换\n    const energyHex = hex_add33(hex_reverse(hex_decToBcd(energy, 4, 2)));\n    // 协议2-xx：扣电序号转4字节（加0x33）\n    const deductIdHex = hex_add33(hex_fromDecScaledLE(deductId + \"\", 0, 4));\n    log.info(\"扣除电量转换：电量【{}】→Hex【{}】，序号【{}】→Hex【{}】\",\n        energy, energyHex, deductId, deductIdHex);\n    const dataArea = `0C3137343A${energyHex}${deductIdHex}`; // 协议2-xx：扣除电量固定数据区格式\n    return `${frameHeader}${dataArea}`;\n};\n\n/**\n * 构建设置4G服务器地址指令（协议2-xx：服务器地址配置指令）\n * 协议定义：数据区格式=4B493555 + IP（ASCII→加0x33） + 0xFF（转32） + 端口（ASCII→加0x33），需计算数据长度\n * @param {String} frameHeader - 完整帧头（含表号和控制码A0）\n * @param {String} host - 服务器IP（如\"192.168.1.1\"）\n * @param {String} port - 服务器端口（如\"8080\"）\n * @returns {String} 完整指令体（帧头+数据长度+数据区）\n */\nvar buildSetServerAddrCmd = (frameHeader, host, port) => {\n    const hostHex = hex_add33(hex_fromAscii(host)); // 协议1-8：IP转ASCII后加0x33\n    const portHex = hex_add33(hex_fromAscii(port)); // 协议1-8：端口转ASCII后加0x33\n    const dot = \"32\"; // 协议隐含：0xFF+0x33=0x122→低8位为0x22→16进制32，作为IP与端口分隔符\n    const dataArea = `4B493555${hostHex}${dot}${portHex}`; // 协议2-xx：服务器地址数据区格式\n    const dataLenHex = hex_645MakeLen(dataArea); // 协议1-8：计算数据长度（需加0x33）\n    return `${frameHeader}${dataLenHex}${dataArea}`;\n};\n\n// ------------------------------ 核心函数：encode（物模型→16进制报文，协议2-xx） ------------------------------\n/**\n * 645协议encode（物模型→16进制报文）\n * 核心逻辑：按物模型功能ID（funcId）匹配协议指令，构建帧头+数据区+CS校验+结尾16（协议1-4通用格式）\n * @param {String} functionReqJson - 物模型JSON字符串（含function、data等）\n * @param {Object} shadow - 设备影子（存储历史数据如purchaseTimes）\n * @returns {String|null} 完整16进制报文（失败返回null）\n */\nvar encode = (functionReqJson, shadow) => {\n    const functionReq = toJson(functionReqJson);\n    const funcId = functionReq.getStr(\"function\");\n    const funcData = functionReq.getObj(\"data\", {});\n    const meterNo = funcData.getStr(\"meterNo\");\n\n    // 协议2-xx：仅支持FUNCTIONS类型消息（指令下发）\n    if (functionReq.getStr(\"messageType\") !== \"FUNCTIONS\") {\n        const errMsg = \"messageType必须为FUNCTIONS，当前格式不支持\";\n        log.error(\"encode 错误：{}\", errMsg);\n        throw new Error(errMsg);\n    }\n    // 协议1-6：表号（meterNo）为设备唯一标识，指令下发必传\n    if (!meterNo) {\n        const errMsg = \"物模型data中必须包含meterNo（电表表号）\";\n        log.error(\"encode 错误：{}\", errMsg);\n        throw new Error(errMsg);\n    }\n\n    let cmdBody = \"\";\n    let controlCode = \"\";\n\n    // 分支1：查询用电量（协议2-11）\n    if (funcId === \"meterRead\") {\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildMeterReadCmd(buildFrameHeader(meterNo, controlCode));\n    }\n    // 分支2：开关阀（协议2-107）\n    else if (funcId === \"switchOnOff\") {\n        const valveOn = funcData.getStr(\"valveOn\");\n        controlCode = \"A2\"; // 协议2-107：继电器控制控制码\n        cmdBody = buildSwitchOnOffCmd(buildFrameHeader(meterNo, controlCode), valveOn);\n    }\n    // 分支3：远程购电（协议2-80）\n    else if (funcId === \"purchase\") {\n        const energy = funcData.getStr(\"energy\");\n        const inputId = funcData.getInt(\"purchaseId\") || 0;\n        const shadowId = shadow_getVal(shadow, \"purchaseTimes\") || 0;\n        // 取最大值+1：确保购电序号递增（协议2-80要求序号唯一）\n        const purchaseId = NumberUtil.max(inputId, shadowId, 1) + 1;\n\n        if (!energy) {\n            throw new Error(\"远程购电需传入energy（购电量）\");\n        }\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildPurchaseCmd(buildFrameHeader(meterNo, controlCode), energy, purchaseId);\n    }\n    // 分支4：矫正电量（协议2-60）\n    else if (funcId === \"setEnergyValue\") {\n        const remainEnergy = funcData.getStr(\"remainEnergy\");\n        const totalEnergy = funcData.getStr(\"totalEnergy\");\n        if (!remainEnergy || !totalEnergy) {\n            throw new Error(\"矫正电量需传入remainEnergy和totalEnergy\");\n        }\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildSetEnergyValueCmd(buildFrameHeader(meterNo, controlCode), remainEnergy, totalEnergy);\n    }\n    // 分支5：重启设备（协议2-10）\n    else if (funcId === \"restart\") {\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildRestartCmd(buildFrameHeader(meterNo, controlCode));\n    }\n    // 分支6：清零（协议2-10）\n    else if (funcId === \"reset\") {\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildResetCmd(buildFrameHeader(meterNo, controlCode));\n    }\n    // 分支7：上报事件（协议2-xx）\n    else if (funcId === \"upEvent\") {\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildUpEventCmd(buildFrameHeader(meterNo, controlCode));\n    }\n    // 分支8：扣除电量（协议2-xx）\n    else if (funcId === \"deductEnergy\") {\n        const deductEnergy = funcData.getStr(\"energy\");\n        const deductInputId = funcData.getInt(\"purchaseId\") || 0;\n        const deductShadowId = shadow_getVal(shadow, \"deductTimes\") || 0;\n        // 取最大值+1：确保扣电序号递增\n        const deductId = NumberUtil.max(deductInputId, deductShadowId, 1) + 1;\n\n        if (!deductEnergy) {\n            throw new Error(\"扣除电量需传入energy\");\n        }\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildDeductEnergyCmd(buildFrameHeader(meterNo, controlCode), deductEnergy, deductId);\n    }\n    // 分支9：设置4G服务器地址（协议2-xx）\n    else if (funcId === \"setRemote4GServerAddr\") {\n        const host = funcData.getStr(\"host\");\n        const port = funcData.getStr(\"port\");\n        const sign = funcData.getStr(\"sign\");\n\n        if (!host || !port) {\n            throw new Error(\"设置服务器地址需传入host和port\");\n        }\n        // 协议隐含：签名验证（防止恶意修改地址）\n        if (sign !== \"18160222\") {\n            log.warn(\"encode 警告：服务器地址设置签名错误\");\n            cmdBody = buildSetServerAddrCmd(buildFrameHeader(meterNo, \"A0\"), host, port) + \"11\";\n            return cmdBody;\n        }\n        controlCode = \"A0\"; // 协议2-10：数据操作控制码\n        cmdBody = buildSetServerAddrCmd(buildFrameHeader(meterNo, controlCode), host, port);\n    }\n    // 分支10：自定义指令（上层传入完整16进制）\n    else if (funcId === \"cmd\") {\n        return funcData.getStr(\"hex\");\n    }\n    // 分支11：未知功能（不支持）\n    else {\n        log.error(\"encode 错误：不支持的功能ID【{}】\", funcId);\n        return null;\n    }\n\n    // 协议1-9：CS校验（该位之前所有数据之和对256取余）\n    const cs = cs_check(cmdBody, 256);\n    // 协议1-4：完整报文格式=指令体+CS+16（结尾符）\n    const finalFrame = `${cmdBody}${cs}16`;\n    log.info(\"encode 成功：功能【{}】，表号【{}】，报文【{}】\", funcId, meterNo, finalFrame);\n    return finalFrame;\n};\n\n// ------------------------------ 核心函数：decode（16进制报文→物模型，协议2-xx） ------------------------------\n/**\n * 645协议decode（16进制报文→物模型）\n * 核心逻辑：按协议通用格式（协议1-4）提取控制码/数据区，再按控制码分支解析（A0/A2/AA）\n * @param {String} payload - 完整16进制报文（设备上报原始报文）\n * @param {Object} context - 上下文（预留，暂未使用）\n * @returns {Array} 解析结果（含PROPERTIES对象，data字段存指令标识，properties存设备属性）\n */\nvar decode = (payload, context) => {\n    const result = [];\n    const payloadClean = StrUtil.removeAll(payload, \' \').toUpperCase();;\n\n    // 初始化返回结构：按需求将sourcePayload移至properties，data仅保留核心指令标识\n    const properties = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {\n            \"sourcePayload\": payload // 原始报文，便于溯源\n        },\n        \"data\": { // 仅保留指令核心标识，与设备属性分离\n            \"functionId\": \"\",\n            \"functionName\": \"\",\n            \"parseStatus\": \"success\"\n        }\n    };\n\n    // 协议1-4：通用报文格式要求最小长度为10字节（20位16进制），不足则解析失败\n    if (payloadClean.length() < 20) {\n        properties.data.parseStatus = \"fail\";\n        properties.data.functionName = \"报文解析失败\";\n        properties.data.error = \"报文长度不足（最小需10字节=20位16进制）\";\n        result.push(properties);\n        return result;\n    }\n\n    // 协议1-4：提取通用核心字段（仅内部解析用，不对外暴露）\n    const controlCode = payloadClean.substring(16, 18); // 控制码：第16-18位（协议1-7）\n    const dataLenHex = payloadClean.substring(18, 20); // 数据长度：第18-20位（协议1-8）\n    const dataLen = Integer.parseInt(dataLenHex, 16); // 数据长度转十进制（需减0x33，此处内部解析已处理）\n    const dataArea = payloadClean.substring(20, 20 + dataLen * 2); // 数据区：第20位后（协议1-4）\n    const di = hex_sub33(dataArea.substring(0, 8)); // DI码：数据区前8位-0x33（协议2-10：数据操作标识）\n\n    // 分支1：控制码AA（事件包，协议2-120）\n    if (controlCode === \"AA\") {\n        const eventHead = dataArea.substring(0, 8); // 事件头：数据区前8位（协议2-120）\n\n        // 子分支1.1：注册包（协议2-121）\n        if (eventHead === \"AAAAAA01\" && dataArea.length() > 8) {\n            properties.data.functionId = \"deviceRegister\";\n            properties.data.functionName = \"设备注册\"; // 协议2-121：注册包功能描述\n\n            const jsonHex = dataArea.substring(8); // JSON数据区：事件头后（协议2-121）\n            const jsonStr = HexUtil.decodeHexStr(jsonHex).replaceAll(\"(\\\\w+):\", \"\\\"$1\\\":\"); // 修复JSON格式\n            const deviceInfo = JSONUtil.parseObj(jsonStr);\n\n            // 协议2-121：注册包返回设备基础信息（IMEI/ICCID/信号等）\n            properties.properties.imei = deviceInfo.getStr(\"imei\");\n            properties.properties.iccid = deviceInfo.getStr(\"iccid\");\n            properties.properties.csq = deviceInfo.getInt(\"csq\");\n            properties.properties.firmwareVersion = deviceInfo.getStr(\"ver\");\n            properties.properties.signalDesc = csq(deviceInfo.getInt(\"csq\"));\n        }\n        // 子分支1.2：心跳包（协议2-127）\n        else if (eventHead === \"AAAAAA02\") {\n            properties.data.functionId = \"heartbeat\";\n            properties.data.functionName = \"设备心跳\"; // 协议2-127：心跳包功能描述\n        }\n        // 子分支1.3：未知事件（协议未适配）\n        else {\n            properties.data.functionId = \"unknownEvent\";\n            properties.data.functionName = \"未知事件\";\n            properties.data.parseStatus = \"fail\";\n        }\n    }\n    // 分支2：控制码A0（数据操作，协议2-10）\n    else if (controlCode === \"A0\") {\n        // 子分支2.1：查询用电量响应（DI=00029100，协议2-11）\n        if (di === \"00029100\") {\n            properties.data.functionId = \"meterRead\";\n            properties.data.functionName = \"读表（查询全部数据）\"; // 协议2-11：功能描述\n\n            // 协议1-151：电量解析（反写+减0x33+除以100，2位小数）\n            properties.properties.remainEnergy = NumberUtil.div(\n                Integer.parseInt(reverseTwoDigit(hex_sub33(dataArea.substring(10, 18)))),\n                100,\n                2\n            );\n            properties.properties.totalEnergy = NumberUtil.div(\n                Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(18, 26)))),\n                100,\n                2\n            );\n            // 协议1-153：电压解析（反写+减0x33+除以10，1位小数）\n            properties.properties.voltage = NumberUtil.div(\n                Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(26, 34)))),\n                10,\n                1\n            );\n            // 协议1-153：电流解析（反写+减0x33+除以1000，3位小数）\n            properties.properties.current = NumberUtil.div(\n                Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(34, 42)))),\n                1000,\n                3\n            );\n            // 协议1-153：功率/功率因子解析（反写+减0x33）\n            properties.properties.power = Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(42, 50))));\n            properties.properties.totalPower = Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(50, 58))));\n            properties.properties.powerFactor = Integer.parseInt(hex_reverse(hex_sub33(dataArea.substring(58, 62))));\n            // 协议1-153：信号/开关状态/设备信息解析\n            properties.properties.csq = Integer.parseInt(dataArea.substring(62, 64));\n            properties.properties.imei = dataArea.substring(66, 82);\n            properties.properties.iccid = dataArea.substring(82, 102);\n            properties.properties.firmwareVersion = hex_toAscii(dataArea.substring(102, 122));\n            properties.properties.purchaseTimes = Integer.parseInt(hex_sub33(dataArea.substring(122, 130)), 16);\n            properties.properties.csqDesc = csq(properties.properties.csq);\n            properties.properties.openState = hex_sub33(dataArea.substring(64, 66)) === \"1B\" ? 1 : 0; // 协议1-153：1B=合闸\n            properties.properties.openStateDesc = properties.properties.openState === 1 ? \"合闸\" : \"拉闸\";\n        }\n        // 子分支2.2：远程购电响应（DI=FE020107/FE030107，协议2-80）\n        else if (di === \"FE020107\" || di === \"FE030107\") {\n            properties.data.functionId = \"purchase\";\n            properties.data.functionName = \"远程购电响应\"; // 协议2-80：功能描述\n            const purchaseData = dataArea.substring(8); // 购电数据区：DI码后（协议2-80）\n\n            // 协议2-80：购电响应数据解析（反写+减0x33+除以100）\n            properties.properties.totalEnergy = NumberUtil.div(\n                Integer.parseInt(hex_reverse(hex_sub33(purchaseData.substring(0, 8)))),\n                100,\n                2\n            );\n            const remainEnergyRaw = NumberUtil.div(\n                Integer.parseInt(hex_reverse(hex_sub33(purchaseData.substring(8, 16)))),\n                100,\n                2\n            );\n            properties.properties.purchaseTimes = Integer.parseInt(hex_sub33(purchaseData.substring(16, 24)), 16);\n            const zheng = Integer.parseInt(hex_reverse(hex_sub33(purchaseData.substring(24, 32)))); // 剩余电量正负标识\n            properties.properties.remainEnergy = zheng === 0 ? remainEnergyRaw : -remainEnergyRaw;\n        }\n        // 子分支2.3：扣除电量响应（DI=FE040107，协议2-xx）\n        else if (di === \"FE040107\") {\n            properties.data.functionId = \"deductEnergy\";\n            properties.data.functionName = \"扣除电量响应\"; // 协议2-xx：功能描述\n\n            const deductData = dataArea.substring(8); // 扣电数据区：DI码后\n            // 协议2-xx：扣电响应数据解析（反写+减0x33+除以100）\n            const remainEnergyRaw = NumberUtil.div(\n                Integer.parseInt(reverseTwoDigit(hex_sub33(deductData.substring(0, 8)))),\n                100,\n                2\n            );\n            properties.properties.totalEnergy = NumberUtil.div(\n                Integer.parseInt(hex_reverse(hex_sub33(deductData.substring(8, 16)))),\n                100,\n                2\n            );\n            properties.properties.deductTimes = Integer.parseInt(hex_sub33(deductData.substring(16, 24)), 16);\n            const zheng = Integer.parseInt(hex_reverse(hex_sub33(deductData.substring(24, 32)))); // 剩余电量正负标识\n            properties.properties.remainEnergy = zheng === 0 ? remainEnergyRaw : -remainEnergyRaw;\n        }\n        // 子分支2.4：矫正电量响应（DI=18160220，协议2-60）\n        else if (di === \"18160220\") {\n            properties.data.functionId = \"setEnergyValue\";\n            properties.data.functionName = \"矫正电量响应\"; // 协议2-60：功能描述\n\n            const flag = hex_sub33(dataArea.substring(8, 10)); // 协议2-60：执行结果标识（01=成功，其他=失败）\n            properties.properties.operationResult = flag === \"01\" ? \"成功\" : \"失败\";\n        }\n        // 子分支2.5：上报事件响应（DI=18160216，协议2-xx）\n        else if (di === \"18160216\") {\n            properties.data.functionId = \"upEvent\";\n            properties.data.functionName = \"上报事件响应\"; // 协议2-xx：功能描述\n\n            const flag = hex_sub33(dataArea.substring(8, 10)); // 执行结果标识（01=成功）\n            properties.properties.operationResult = flag === \"01\" ? \"成功\" : \"失败\";\n        }\n        // 子分支2.6：写入表号响应（DI=18160215，协议2-21）\n        else if (di === \"18160215\") {\n            properties.data.functionId = \"writeMeterNo\";\n            properties.data.functionName = \"写入表号响应\"; // 协议2-21：功能描述\n\n            const flag = hex_sub33(dataArea.substring(8, 10)); // 协议2-21：执行结果标识（01=成功）\n            properties.properties.operationResult = flag === \"01\" ? \"成功\" : \"失败\";\n            properties.properties.meterNo = dataArea.substring(12, 24); // 协议2-21：返回写入的表号\n        }\n        // 子分支2.7：重启响应（DI=18160217，协议2-10）\n        else if (di === \"18160217\") {\n            properties.data.functionId = \"restart\";\n            properties.data.functionName = \"重启响应\"; // 协议2-10：功能描述\n\n            const flag = hex_sub33(dataArea.substring(8, 10)); // 协议2-10：执行结果标识（01=成功）\n            properties.properties.operationResult = flag === \"01\" ? \"成功\" : \"失败\";\n        }\n        // 子分支2.8：查询设备状态响应（DI=00029200/00029300，协议2-16）\n        else if (di === \"00029200\" || di === \"00029300\") {\n            properties.data.functionId = \"queryDeviceStatus\";\n            properties.data.functionName = \"查询设备状态\"; // 协议2-16：功能描述\n            properties.properties.chipState = dataArea.substring(28, 30); // 协议2-16：计量芯片状态\n        }\n        // 子分支2.9：未知数据操作（协议未适配）\n        else {\n            properties.data.functionId = \"unknownDataOperation\";\n            properties.data.functionName = \"未知数据操作\";\n            properties.data.parseStatus = \"fail\";\n        }\n    }\n    // 分支3：控制码A2（继电器控制，协议2-107）\n    else if (controlCode === \"A2\") {\n        properties.data.functionId = \"switchOnOff\";\n        properties.data.functionName = \"开关阀响应\"; // 协议2-107：功能描述\n\n        const statusCode = dataArea.substring(8, 10); // 协议2-107：开关状态码（4D/4E/8E）\n        let valveOpResult = \"\";\n        let currentOpenState = \"\";\n\n        if (statusCode === \"4D\") {\n            valveOpResult = \"断闸（断电）成功\"; // 协议2-107：4D=分闸成功\n            currentOpenState = \"0\";\n        } else if (statusCode === \"4E\") {\n            valveOpResult = \"合闸（来电）成功\"; // 协议2-107：4E=合闸成功\n            currentOpenState = \"1\";\n        } else if (statusCode === \"8E\") {\n            valveOpResult = \"合闸失败（剩余电量≤0）\"; // 协议2-107：8E=合闸失败（余额不足）\n            currentOpenState = \"0\";\n            // 协议2-107：余额不足触发告警\n            properties.properties.events = [{\n                \"id\": \"lowBalanceAlarm\",\n                \"name\": \"余额不足告警\",\n                \"value\": \"合闸失败：剩余电量≤0，无法通电\",\n                \"level\": \"warn\"\n            }];\n        } else {\n            valveOpResult = `未知操作结果（状态码【${statusCode}】）`;\n            currentOpenState = \"未知\";\n            properties.data.parseStatus = \"fail\";\n        }\n\n        properties.properties.openState = currentOpenState;\n        properties.properties.openStateDesc = currentOpenState === \"1\" ? \"合闸\" : \"拉闸\";\n        properties.properties.operationResult = valveOpResult;\n    }\n    // 分支4：未知控制码（协议未适配，仅支持A0/A2/AA）\n    else {\n        properties.data.functionId = \"unknownControlCode\";\n        properties.data.functionName = \"未知控制码\";\n        properties.data.parseStatus = \"fail\";\n    }\n\n    result.push(properties);\n    log.info(\"decode 完成：解析状态【{}】，功能【{}】\",\n        properties.data.parseStatus, properties.data.functionId);\n    return result;\n};\n\nreturn decode(\"68250707ea8dda68a0413335c43335c7743333383333338a5533334a33333333333333333333333333314e08665600883568418986112521508343912843465830315330303138333333407616\", {});\n\n//充值\n// return decode(\"68250707ea8dda68a205353333334e1716\")\n\n//矫正电量和剩余电量\n// return decode(\"68250707ea8dda68a0413335c433354556ab5a33333433545533333b33333333333333333333333333264e086656008835684189861125215083439128434658303153303031383333339f8016\")\n\n// return decode(\"68250707ea8dda68a0143137343a33cc3c3333339356333333cf33333333cf16\")');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/小蘑菇插座.ms', '{\n  \"properties\" : { },\n  \"id\" : \"b5723ec5a8e24bdaa647e60a1dc82638\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"小蘑菇插座\",\n  \"createTime\" : 1753423344428,\n  \"updateTime\" : 1756640058748,\n  \"lock\" : \"1\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"68831a1f38fc106a8dac3c13\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"[]\",\n  \"description\" : \"AI自动生成的解析和协议\",\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\nimport log;\n\n// 16进制转10进制数字\nvar hexToInt = hex => {\n  return Integer.parseInt(hex, 16);\n};\n// 预解码，解析上报的设备编号 deviceId\nvar preDecode = payload => {\n    var result = {}\n    var payloadHex = payload.toUpperCase() // 转为大写\n    // 校验报文长度和帧头\n    if (payloadHex.length() >= 18 && payloadHex.substring(0, 4) === \"A5A5\") {\n        // 从第5位开始取4字节（8个字符）作为 deviceId\n        result.deviceId = payloadHex.substring(4, 12)\n    }\n    return result\n}\n\nvar decode =(payload,context) => {\n  log.info(\"进入编解码,payload={},context={}\",payload,context)\n  var result = [];\n  var payloadHex =payload.toUpperCase();\n  var propertiesObj = { \"messageType\": \"PROPERTIES\", \"properties\": {} };\n  var eventObj = { \"messageType\": \"EVENT\", \"event\": \"\", \"data\": {} };\n\n  // 验证帧头帧尾\n  if (payloadHex.substring(0, 4) != \"A5A5\" || payloadHex.substring(payloadHex.length() - 4) != \"5A5A\") {\n    return jsonToStr([{ \"error\": \"无效帧格式\" }]);\n  }\n\n  // 提取核心字段\n  var deviceId = payloadHex.substring(4, 8); // 设备ID（4字节）\n  var cmdCode = payloadHex.substring(8, 10); // 命令码（1字节）\n  var dataLen = hexToInt(payloadHex.substring(10, 12)); // 数据长度\n  var dataHex = payloadHex.substring(12, 12 + dataLen * 2); // 数据区\n  var checksum = payloadHex.substring(12 + dataLen * 2, 14 + dataLen * 2); // 校验和\n\n  // 设备ID存入所有对象\n  propertiesObj.deviceId = deviceId;\n  eventObj.deviceId = deviceId;\n  //验证新内容\n  propertiesObj.context=context;\n  propertiesObj.tcpEncode = \'HEX\';\n  propertiesObj.replyPayload = \'727270632C676574637371\'\n  // 1. 属性上报（命令码01）\n  if (cmdCode == \"01\" && dataLen == 7) {\n    // 解析开关状态（01=开，00=关）\n    propertiesObj.properties.powerState = dataHex.substring(0, 2) == \"01\" ? \"01\" : \"00\";\n    // 解析电流（2字节，单位0.01A）\n    var currentHex = dataHex.substring(2, 6);\n    propertiesObj.properties.current = (hexToInt(currentHex) * 0.01).toFixed(2);\n    // 解析电压（2字节，单位0.1V）\n    var voltageHex = dataHex.substring(6, 10);\n    propertiesObj.properties.voltage = (hexToInt(voltageHex) * 0.1).toFixed(1);\n    // 解析功率（2字节，单位1W）\n    var powerHex = dataHex.substring(10, 14);\n    propertiesObj.properties.power = hexToInt(powerHex).toString();\n    // 加入结果集\n    result.push(propertiesObj);\n  }\n\n  // 2. 事件上报（命令码02）\n  if (cmdCode == \"02\" && dataLen >= 3) {\n    // 事件类型（01=过载，02=过压，03=上线，04=下线）\n    var eventType = dataHex.substring(0, 2);\n    if (eventType == \"01\") {\n      eventObj.event = \"overload\";\n      eventObj.data.overload = hexToInt(dataHex.substring(2, 6)) + \"W\"; // 过载功率\n    }\n    if (eventType == \"03\") {\n      eventObj.event = \"online\";\n      eventObj.data.online = \"设备上线\";\n    }\n    if (eventType == \"04\") {\n      eventObj.event = \"offline\";\n      eventObj.data.offline = \"设备下线\";\n    }\n    result.push(eventObj);\n  }\n\n  // 3. 响应报文（命令码04）\n  if (cmdCode == \"04\" && dataLen == 1) {\n    var replyObj = {\n      \"messageType\": \"REPLY\",\n      \"function\": \"switch\",\n      \"data\": { \"result\": dataHex == \"00\" ? \"success\" : \"fail\" }\n    };\n    replyObj.deviceId = deviceId;\n    result.push(replyObj);\n  }\n\n  return jsonToStr(result);\n};\n\nvar encode = payload => {\n  var obj = toJson(payload);\n  var deviceId = obj.data.deviceId; // 设备ID（4位16进制，如\"0001\"）\n  var func = obj.function;\n  var params = obj.data;\n\n  // 控制开关（function=switch）\n  if (func == \"switch\") {\n    var state = params.state; // 目标状态：01=开，00=关\n    if (state != \"01\" && state != \"00\") {\n      return \"\"; // 无效状态，返回空\n    }\n\n    // 数据区：控制类型(01)+目标状态\n    var dataHex = \"01\" + state;\n    var dataLen = dataHex.length() / 2; // 数据长度（字节数）\n    var cmdCode = \"03\"; // 控制指令命令码\n\n    // 拼接完整报文（无校验和）\n    var frame = \"A5A5\" + \n                deviceId + \n                cmdCode + \n                Integer.toHexString(dataLen) + // 数据长度（1位16进制）\n                dataHex + \n                \"5A5A\";\n\n    return frame.toUpperCase(); // 转为大写16进制\n  }\n\n  return \"\"; // 不支持的指令\n};\n\n// return preDecode(\"A5A5000101070105DC08F004B05A5A\")\n//属性上报报文\nreturn decode(\'A5A5000201070103E809C405DC5A5A\');\n\n//过载事件报文\n// return decode(\"A5A5000102030104B0F35A5A\")\n\n\n// return encode(\'{\"deviceId\": \"0001\",\"function\": \"switch\",\"data\": { \"state\": \"01\" }}\')\n\n\n// return encode(\'{\"messageType\":\"FUNCTIONS\",\"function\":\"switch\",\"data\":{\"deviceId\":\"00010107\",\"state\":\"01\"}}\')');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/TCP/测试.ms', '{\n  \"properties\" : { },\n  \"id\" : \"a930b0de13e84cc0b20b50719ccf91cb\",\n  \"script\" : null,\n  \"groupId\" : \"f4beb08dc7fe4157b9f63a22a0e1a430\",\n  \"name\" : \"测试\",\n  \"createTime\" : 1759128844552,\n  \"updateTime\" : 1761578442711,\n  \"lock\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"DMxljo8wABX0\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\nimport log;\n\n// 16进制转10进制数字\nvar hexToInt = hex => {\n  return Integer.parseInt(hex, 16);\n};\n// 预解码，解析上报的设备编号 deviceId\nvar preDecode = payload => {\n    var result = {}\n    var payloadHex = payload.toUpperCase() // 转为大写\n    // 校验报文长度和帧头\n    if (payloadHex.length() >= 18 && payloadHex.substring(0, 4) === \"A5A5\") {\n        // 从第5位开始取4字节（8个字符）作为 deviceId\n        result.deviceId = payloadHex.substring(4, 12)\n    }\n    return result\n}\n\nvar decode =(payload,context) => {\n  log.info(\"进入编解码,payload={},context={}\",payload,context)\n  var result = [];\n  var payloadHex =payload.toUpperCase();\n  var propertiesObj = { \"messageType\": \"PROPERTIES\", \"properties\": {} };\n  var eventObj = { \"messageType\": \"EVENT\", \"event\": \"\", \"data\": {} };\n\n  // 验证帧头帧尾\n  if (payloadHex.substring(0, 4) != \"A5A5\" || payloadHex.substring(payloadHex.length() - 4) != \"5A5A\") {\n    return jsonToStr([{ \"error\": \"无效帧格式\" }]);\n  }\n\n  // 提取核心字段\n  var deviceId = payloadHex.substring(4, 8); // 设备ID（4字节）\n  var cmdCode = payloadHex.substring(8, 10); // 命令码（1字节）\n  var dataLen = hexToInt(payloadHex.substring(10, 12)); // 数据长度\n  var dataHex = payloadHex.substring(12, 12 + dataLen * 2); // 数据区\n  var checksum = payloadHex.substring(12 + dataLen * 2, 14 + dataLen * 2); // 校验和\n\n  // 设备ID存入所有对象\n  propertiesObj.deviceId = deviceId;\n  eventObj.deviceId = deviceId;\n  //验证新内容\n  propertiesObj.context=context;\n  propertiesObj.tcpEncode = \'HEX\';\n  propertiesObj.replyPayload = \'727270632C676574637371\'\n  // 1. 属性上报（命令码01）\n  if (cmdCode == \"01\" && dataLen == 7) {\n    // 解析开关状态（01=开，00=关）\n    propertiesObj.properties.powerState = dataHex.substring(0, 2) == \"01\" ? \"01\" : \"00\";\n    // 解析电流（2字节，单位0.01A）\n    var currentHex = dataHex.substring(2, 6);\n    propertiesObj.properties.current = (hexToInt(currentHex) * 0.01).toFixed(2);\n    // 解析电压（2字节，单位0.1V）\n    var voltageHex = dataHex.substring(6, 10);\n    propertiesObj.properties.voltage = (hexToInt(voltageHex) * 0.1).toFixed(1);\n    // 解析功率（2字节，单位1W）\n    var powerHex = dataHex.substring(10, 14);\n    propertiesObj.properties.power = hexToInt(powerHex).toString();\n    // 加入结果集\n    result.push(propertiesObj);\n  }\n\n  // 2. 事件上报（命令码02）\n  if (cmdCode == \"02\" && dataLen >= 3) {\n    // 事件类型（01=过载，02=过压，03=上线，04=下线）\n    var eventType = dataHex.substring(0, 2);\n    if (eventType == \"01\") {\n      eventObj.event = \"overload\";\n      eventObj.data.overload = hexToInt(dataHex.substring(2, 6)) + \"W\"; // 过载功率\n    }\n    if (eventType == \"03\") {\n      eventObj.event = \"online\";\n      eventObj.data.online = \"设备上线\";\n    }\n    if (eventType == \"04\") {\n      eventObj.event = \"offline\";\n      eventObj.data.offline = \"设备下线\";\n    }\n    result.push(eventObj);\n  }\n\n  // 3. 响应报文（命令码04）\n  if (cmdCode == \"04\" && dataLen == 1) {\n    var replyObj = {\n      \"messageType\": \"REPLY\",\n      \"function\": \"switch\",\n      \"data\": { \"result\": dataHex == \"00\" ? \"success\" : \"fail\" }\n    };\n    replyObj.deviceId = deviceId;\n    result.push(replyObj);\n  }\n\n  return jsonToStr(result);\n};\n\nvar encode = payload => {\n  var obj = toJson(payload);\n  var deviceId = obj.data.deviceId; // 设备ID（4位16进制，如\"0001\"）\n  var func = obj.function;\n  var params = obj.data;\n\n  // 控制开关（function=switch）\n  if (func == \"switch\") {\n    var state = params.state; // 目标状态：01=开，00=关\n    if (state != \"01\" && state != \"00\") {\n      return \"\"; // 无效状态，返回空\n    }\n\n    // 数据区：控制类型(01)+目标状态\n    var dataHex = \"01\" + state;\n    var dataLen = dataHex.length() / 2; // 数据长度（字节数）\n    var cmdCode = \"03\"; // 控制指令命令码\n\n    // 拼接完整报文（无校验和）\n    var frame = \"A5A5\" +\n                deviceId +\n                cmdCode +\n                Integer.toHexString(dataLen) + // 数据长度（1位16进制）\n                dataHex +\n                \"5A5A\";\n\n    return frame.toUpperCase(); // 转为大写16进制\n  }\n\n  return \"\"; // 不支持的指令\n};\n\n//预解码，得到deviceId\n//return preDecode(\"A5A5000101070105DC08F004B05A5A\")\n//属性上报报文\n// return decode(\'A5A5000101070105DC08F004B07A5A5A\');\n\n//过载事件报文\n// return decode(\"A5A5000102030104B0F35A5A\")\n\n\n// return encode(\'{\"deviceId\": \"0001\",\"function\": \"switch\",\"data\": { \"state\": \"01\" }}\')\n\n\n// return encode(\'{\"messageType\":\"FUNCTIONS\",\"function\":\"switch\",\"data\":{\"deviceId\":\"00010107\",\"state\":\"01\"}}\')');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/WYJ/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/WYJ/group.json', '{\n  \"properties\" : { },\n  \"id\" : \"2e016115940a4f44a23304032d0d733e\",\n  \"name\" : \"WYJ\",\n  \"type\" : \"api\",\n  \"parentId\" : \"0\",\n  \"path\" : null,\n  \"createTime\" : 1759988107836,\n  \"updateTime\" : null,\n  \"createBy\" : \"test \",\n  \"updateBy\" : null,\n  \"paths\" : [ ],\n  \"options\" : [ ]\n}');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/group.json', '{\n  \"properties\" : { },\n  \"id\" : \"77b59996549d4638a85888f7edd8131d\",\n  \"name\" : \"test\",\n  \"type\" : \"api\",\n  \"parentId\" : \"0\",\n  \"path\" : \"test\",\n  \"createTime\" : 1753682463817,\n  \"updateTime\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : null,\n  \"paths\" : [ ],\n  \"options\" : [ ]\n}');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/小蘑菇插座.ms', '{\n  \"properties\" : { },\n  \"id\" : \"6ead3277d72e4740bbe5e2a29c2672f4\",\n  \"script\" : null,\n  \"groupId\" : \"77b59996549d4638a85888f7edd8131d\",\n  \"name\" : \"小蘑菇插座\",\n  \"createTime\" : 1753682493898,\n  \"updateTime\" : 1756640045105,\n  \"lock\" : \"1\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"68831a1f38fc106a8dac3c13\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"{\\n    \\\"deviceId\\\": \\\"00010107\\\"\\n}\",\n  \"description\" : \"AI自动生成的解析和协议\",\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\nimport log;\n\n// 16进制转10进制数字\nvar hexToInt = hex => {\n  return Integer.parseInt(hex, 16);\n};\n// 预解码，解析上报的设备编号 deviceId\nvar preDecode = payload => {\n    var result = {}\n    var payloadHex = payload.toUpperCase() // 转为大写\n    // 校验报文长度和帧头\n    if (payloadHex.length() >= 18 && payloadHex.substring(0, 4) === \"A5A5\") {\n        // 从第5位开始取4字节（8个字符）作为 deviceId\n        result.deviceId = payloadHex.substring(4, 12)\n    }\n    return result\n}\n\nvar decode =(payload,context) => {\n  log.info(\"进入编解码,payload={},context={}\",payload,context)\n  var result = [];\n  var payloadHex =payload.toUpperCase();\n  var propertiesObj = { \"messageType\": \"PROPERTIES\", \"properties\": {} };\n  var eventObj = { \"messageType\": \"EVENT\", \"event\": \"\", \"data\": {} };\n\n  // 验证帧头帧尾\n  if (payloadHex.substring(0, 4) != \"A5A5\" || payloadHex.substring(payloadHex.length() - 4) != \"5A5A\") {\n    return jsonToStr([{ \"error\": \"无效帧格式\" }]);\n  }\n\n  // 提取核心字段\n  var deviceId = payloadHex.substring(4, 8); // 设备ID（4字节）\n  var cmdCode = payloadHex.substring(8, 10); // 命令码（1字节）\n  var dataLen = hexToInt(payloadHex.substring(10, 12)); // 数据长度\n  var dataHex = payloadHex.substring(12, 12 + dataLen * 2); // 数据区\n  var checksum = payloadHex.substring(12 + dataLen * 2, 14 + dataLen * 2); // 校验和\n\n  // 设备ID存入所有对象\n  propertiesObj.deviceId = deviceId;\n  eventObj.deviceId = deviceId;\n  //验证新内容\n  propertiesObj.context=context;\n  propertiesObj.tcpEncode = \'HEX\';\n  propertiesObj.replyPayload = \'727270632C676574637371\'\n  // 1. 属性上报（命令码01）\n  if (cmdCode == \"01\" && dataLen == 7) {\n    // 解析开关状态（01=开，00=关）\n    propertiesObj.properties.powerState = dataHex.substring(0, 2) == \"01\" ? \"01\" : \"00\";\n    // 解析电流（2字节，单位0.01A）\n    var currentHex = dataHex.substring(2, 6);\n    propertiesObj.properties.current = (hexToInt(currentHex) * 0.01).toFixed(2);\n    // 解析电压（2字节，单位0.1V）\n    var voltageHex = dataHex.substring(6, 10);\n    propertiesObj.properties.voltage = (hexToInt(voltageHex) * 0.1).toFixed(1);\n    // 解析功率（2字节，单位1W）\n    var powerHex = dataHex.substring(10, 14);\n    propertiesObj.properties.power = hexToInt(powerHex).toString();\n    // 加入结果集\n    result.push(propertiesObj);\n  }\n\n  // 2. 事件上报（命令码02）\n  if (cmdCode == \"02\" && dataLen >= 3) {\n    // 事件类型（01=过载，02=过压，03=上线，04=下线）\n    var eventType = dataHex.substring(0, 2);\n    if (eventType == \"01\") {\n      eventObj.event = \"overload\";\n      eventObj.data.overload = hexToInt(dataHex.substring(2, 6)) + \"W\"; // 过载功率\n    }\n    if (eventType == \"03\") {\n      eventObj.event = \"online\";\n      eventObj.data.online = \"设备上线\";\n    }\n    if (eventType == \"04\") {\n      eventObj.event = \"offline\";\n      eventObj.data.offline = \"设备下线\";\n    }\n    result.push(eventObj);\n  }\n\n  // 3. 响应报文（命令码04）\n  if (cmdCode == \"04\" && dataLen == 1) {\n    var replyObj = {\n      \"messageType\": \"REPLY\",\n      \"function\": \"switch\",\n      \"data\": { \"result\": dataHex == \"00\" ? \"success\" : \"fail\" }\n    };\n    replyObj.deviceId = deviceId;\n    result.push(replyObj);\n  }\n\n  return jsonToStr(result);\n};\n\nvar encode = payload => {\n  var obj = toJson(payload);\n  var deviceId = obj.data.deviceId; // 设备ID（4位16进制，如\"0001\"）\n  var func = obj.function;\n  var params = obj.data;\n\n  // 控制开关（function=switch）\n  if (func == \"switch\") {\n    var state = params.state; // 目标状态：01=开，00=关\n    if (state != \"01\" && state != \"00\") {\n      return \"\"; // 无效状态，返回空\n    }\n\n    // 数据区：控制类型(01)+目标状态\n    var dataHex = \"01\" + state;\n    var dataLen = dataHex.length() / 2; // 数据长度（字节数）\n    var cmdCode = \"03\"; // 控制指令命令码\n\n    // 拼接完整报文（无校验和）\n    var frame = \"A5A5\" + \n                deviceId + \n                cmdCode + \n                Integer.toHexString(dataLen) + // 数据长度（1位16进制）\n                dataHex + \n                \"5A5A\";\n\n    return frame.toUpperCase(); // 转为大写16进制\n  }\n\n  return \"\"; // 不支持的指令\n};\n\n// return preDecode(\"A5A5000101070105DC08F004B05A5A\")\n//属性上报报文\nreturn decode(\'A5A5000101070105DC08F004B07A5A5A\');\n\n//过载事件报文\n// return decode(\"A5A5000102030104B0F35A5A\")\n\n\n// return encode(\'{\"deviceId\": \"0001\",\"function\": \"switch\",\"data\": { \"state\": \"01\" }}\')\n\n\n// return encode(\'{\"messageType\":\"FUNCTIONS\",\"function\":\"switch\",\"data\":{\"deviceId\":\"00010107\",\"state\":\"01\"}}\')');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/开关面板-MQTT-doc编写.ms', '{\n  \"properties\" : { },\n  \"id\" : \"e3857faf66c04d9499c4d1e6a4406036\",\n  \"script\" : null,\n  \"groupId\" : \"77b59996549d4638a85888f7edd8131d\",\n  \"name\" : \"开关面板-MQTT-doc编写\",\n  \"createTime\" : 1754144167814,\n  \"updateTime\" : 1756640056667,\n  \"lock\" : \"1\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"688cd92fdb9e0158872f4aa9\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : \"开关面板-MQTT-doc编写\",\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\nimport log\n\n\n/**\n * 编码：平台指令转设备格式\n * @param {Object} payload 平台指令\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\n */\nvar encode = payload => {\n  var rs=toJson(payload);\n  rs.iot=\'演示iot\'\n  rs.randomNum=randomSign();\n  // TODO：实现编码逻辑\n  return rs;\n};\n');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/开关面板-文档版-TCP.ms', '{\n  \"properties\" : { },\n  \"id\" : \"44e371fdbede4e44a0b3ddf7620c8b54\",\n  \"script\" : null,\n  \"groupId\" : \"77b59996549d4638a85888f7edd8131d\",\n  \"name\" : \"开关面板-文档版-TCP\",\n  \"createTime\" : 1753764305597,\n  \"updateTime\" : 1756640054871,\n  \"lock\" : \"1\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"38fc80e\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : \"文档演示协议\",\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\nimport log;\n\n// 16进制转10进制数字\nvar hexToInt = hex => {\n  return Integer.parseInt(hex, 16);\n};\n// 预解码，解析上报的设备编号 deviceId\nvar preDecode = payload => {\n    var result = {}\n    var payloadHex = payload.toUpperCase() // 转为大写\n    // 校验报文长度和帧头\n    if (payloadHex.length() >= 18 && payloadHex.substring(0, 4) === \"A5A5\") {\n        // 从第5位开始取4字节（8个字符）作为 deviceId\n        result.deviceId = payloadHex.substring(4, 12)\n    }\n    return result\n}\n\nvar decode =(payload,context) => {\n  log.info(\"进入编解码,payload={},context={}\",payload,context)\n  var result = [];\n  var payloadHex =payload.toUpperCase();\n  var propertiesObj = { \"messageType\": \"PROPERTIES\", \"properties\": {} };\n  var eventObj = { \"messageType\": \"EVENT\", \"event\": \"\", \"data\": {} };\n\n  // 验证帧头帧尾\n  if (payloadHex.substring(0, 4) != \"A5A5\" || payloadHex.substring(payloadHex.length() - 4) != \"5A5A\") {\n    return jsonToStr([{ \"error\": \"无效帧格式\" }]);\n  }\n\n  // 提取核心字段\n  var deviceId = payloadHex.substring(4, 8); // 设备ID（4字节）\n  var cmdCode = payloadHex.substring(8, 10); // 命令码（1字节）\n  var dataLen = hexToInt(payloadHex.substring(10, 12)); // 数据长度\n  var dataHex = payloadHex.substring(12, 12 + dataLen * 2); // 数据区\n  var checksum = payloadHex.substring(12 + dataLen * 2, 14 + dataLen * 2); // 校验和\n\n  // 设备ID存入所有对象\n  propertiesObj.deviceId = deviceId;\n  eventObj.deviceId = deviceId;\n  //验证新内容\n  propertiesObj.context=context;\n  propertiesObj.tcpEncode = \'HEX\';\n  propertiesObj.replyPayload = \'727270632C676574637371\'\n  // 1. 属性上报（命令码01）\n  if (cmdCode == \"01\" && dataLen == 7) {\n    // 解析开关状态（01=开，00=关）\n    propertiesObj.properties.powerState = dataHex.substring(0, 2) == \"01\" ? \"01\" : \"00\";\n    // 解析电流（2字节，单位0.01A）\n    var currentHex = dataHex.substring(2, 6);\n    propertiesObj.properties.current = (hexToInt(currentHex) * 0.01).toFixed(2);\n    // 解析电压（2字节，单位0.1V）\n    var voltageHex = dataHex.substring(6, 10);\n    propertiesObj.properties.voltage = (hexToInt(voltageHex) * 0.1).toFixed(1);\n    // 解析功率（2字节，单位1W）\n    var powerHex = dataHex.substring(10, 14);\n    propertiesObj.properties.power = hexToInt(powerHex).toString();\n    // 加入结果集\n    result.push(propertiesObj);\n  }\n\n  // 2. 事件上报（命令码02）\n  if (cmdCode == \"02\" && dataLen >= 3) {\n    // 事件类型（01=过载，02=过压，03=上线，04=下线）\n    var eventType = dataHex.substring(0, 2);\n    if (eventType == \"01\") {\n      eventObj.event = \"overload\";\n      eventObj.data.overload = hexToInt(dataHex.substring(2, 6)) + \"W\"; // 过载功率\n    }\n    if (eventType == \"03\") {\n      eventObj.event = \"online\";\n      eventObj.data.online = \"设备上线\";\n    }\n    if (eventType == \"04\") {\n      eventObj.event = \"offline\";\n      eventObj.data.offline = \"设备下线\";\n    }\n    result.push(eventObj);\n  }\n\n  // 3. 响应报文（命令码04）\n  if (cmdCode == \"04\" && dataLen == 1) {\n    var replyObj = {\n      \"messageType\": \"REPLY\",\n      \"function\": \"switch\",\n      \"data\": { \"result\": dataHex == \"00\" ? \"success\" : \"fail\" }\n    };\n    replyObj.deviceId = deviceId;\n    result.push(replyObj);\n  }\n\n  return jsonToStr(result);\n};\n\nvar encode = payload => {\n  var obj = toJson(payload);\n  var deviceId = obj.data.deviceId; // 设备ID（4位16进制，如\"0001\"）\n  var func = obj.function;\n  var params = obj.data;\n\n  // 控制开关（function=switch）\n  if (func == \"switch\") {\n    var state = params.state; // 目标状态：01=开，00=关\n    if (state != \"01\" && state != \"00\") {\n      return \"\"; // 无效状态，返回空\n    }\n\n    // 数据区：控制类型(01)+目标状态\n    var dataHex = \"01\" + state;\n    var dataLen = dataHex.length() / 2; // 数据长度（字节数）\n    var cmdCode = \"03\"; // 控制指令命令码\n\n    // 拼接完整报文（无校验和）\n    var frame = \"A5A5\" + \n                deviceId + \n                cmdCode + \n                Integer.toHexString(dataLen) + // 数据长度（1位16进制）\n                dataHex + \n                \"5A5A\";\n\n    return frame.toUpperCase(); // 转为大写16进制\n  }\n\n  return \"\"; // 不支持的指令\n};\n\n//预解码，得到deviceId\n// return preDecode(\"A5A5000101070105DC08F004B05A5A\")\n//属性上报报文\nreturn decode(\'A5A5000101070105DC08F004B07A5A5A\');\n\n//过载事件报文\n// return decode(\"A5A5000102030104B0F35A5A\")\n\n\n// return encode(\'{\"deviceId\": \"0001\",\"function\": \"switch\",\"data\": { \"state\": \"01\" }}\')\n\n\n// return encode(\'{\"messageType\":\"FUNCTIONS\",\"function\":\"switch\",\"data\":{\"deviceId\":\"00010107\",\"state\":\"01\"}}\')');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/扬尘.ms', '{\n  \"properties\" : { },\n  \"id\" : \"d2fe7854ec1f42938792e57ece7fe7fa\",\n  \"script\" : null,\n  \"groupId\" : \"77b59996549d4638a85888f7edd8131d\",\n  \"name\" : \"扬尘\",\n  \"createTime\" : 1764828618411,\n  \"updateTime\" : 1765162211689,\n  \"lock\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"pBA9ZE0tPl1x\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"{\\n    \\\"deviceId\\\": \\\"ZJshQDptchejianxx1\\\"\\n}\",\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\nimport cn.hutool.core.util.HexUtil;\nimport cn.hutool.core.util.StrUtil;\nimport cn.hutool.core.util.NumberUtil;\nimport cn.hutool.core.date.DateUtil;\nimport cn.hutool.json.JSONUtil;\nimport log;\n\n/**\n * HJ212-2017 污染物在线监控（监测）系统数据传输标准\n * 扬尘监测设备解析文档\n * 修复点：\n * 1. 兼容无\\r\\n结束符的报文场景\n * 2. 优化长度校验逻辑，避免硬编码结束符长度\n * 3. 修正CRC提取和数据内容截取逻辑\n * 4. 增强MN字段提取的鲁棒性\n * 5. 保留magic-api原生语法（range/for in）\n * 6. 所有if语句强制使用{}包裹\n * 7. 移除switch，替换为if-else if逻辑\n */\n\n/**\n * ASCII字符串转16进制\n * @param {String} ascii - ASCII字符串\n * @returns {String} 16进制字符串\n */\nvar asciiToHex = (ascii) => {\n    if (StrUtil.isBlank(ascii)) {\n        return \"\";\n    }\n    return hex_fromAscii(ascii);\n};\n/**\n * 计算CRC16校验码（HJ212标准，使用Modbus CRC16）\n * @param {String} data - 数据内容（ASCII字符串）\n * @returns {String} 4位16进制CRC校验码（低字节在前）\n */\nvar calcCRC16 = (data) => {\n    if (StrUtil.isBlank(data)) {\n        return \"0000\";\n    }\n    const dataHex = asciiToHex(data);\n    if (StrUtil.isBlank(dataHex)) {\n        return \"0000\";\n    }\n    const crcResult = modbus_crc16(dataHex);\n    if (StrUtil.isBlank(crcResult)) {\n        return \"0000\";\n    }\n    return crcResult.toUpperCase();\n};\n\n/**\n * 16进制转ASCII字符串\n * @param {String} hex - 16进制字符串\n * @returns {String} ASCII字符串\n */\nvar hexToAscii = (hex) => {\n    if (StrUtil.isBlank(hex) || hex.length() % 2 !== 0) {\n        return \"\";\n    }\n    return hex_toAscii(hex);\n};\n\n\n\n/**\n * 解析HJ212数据包\n * @param {String} payload - 16进制数据包\n * @param {Object} context - 上下文对象\n * @returns {Array} 解析结果数组\n */\nvar decode = (payload, context) => {\n    const result = [];\n    let payloadClean = \"\";\n\n    try {\n        // 1. 报文预处理：去除空格，转为大写\n        payloadClean = StrUtil.removeAll(payload, \' \').toUpperCase();\n\n        // 2. 将16进制转换为ASCII字符串\n        const asciiPayload = hexToAscii(payloadClean);\n        if (StrUtil.isBlank(asciiPayload)) {\n            throw new Error(\"16进制转ASCII失败，报文格式错误\");\n        }\n        log.info(\"转换后的ASCII报文：{}\", asciiPayload);\n\n        // 3. 基础校验：检查起始符\n        if (!asciiPayload.startsWith(\"##\")) {\n            throw new Error(`报文起始符错误（需##，实际：${asciiPayload.substring(0, 2)}）`);\n        }\n\n        // 4. 提取数据长度（起始符后4位ASCII数字）- 增强容错\n        const lenStr = asciiPayload.substring(2, 6).trim();\n        if (!StrUtil.isNumeric(lenStr)) {\n            throw new Error(`数据长度字段错误（需4位数字，实际：${lenStr}）`);\n        }\n        const dataLen = Integer.parseInt(lenStr);\n        log.info(\"解析数据长度：{}\", dataLen);\n\n        // 5. 重新计算偏移：兼容无\\r\\n的场景\n        const dataStart = 6; // ##(2) + 长度(4) = 6\n        const expectedMinLength = dataStart + dataLen + 4; // 数据内容+4位CRC（无\\r\\n）\n        if (asciiPayload.length() < expectedMinLength) {\n            throw new Error(`报文长度不足（最小需${expectedMinLength}字符，实际${asciiPayload.length()}字符）`);\n        }\n\n        // 6. 动态提取数据内容和CRC（核心修复）\n        const dataContent = asciiPayload.substring(dataStart, dataStart + dataLen);\n        const crcHex = asciiPayload.substring(dataStart + dataLen, dataStart + dataLen + 4);\n        // 不再强制校验\\r\\n，仅判断是否存在\n        const hasEndFlag = asciiPayload.length() > dataStart + dataLen + 4 \n            ? asciiPayload.substring(dataStart + dataLen + 4) : \"\";\n        if (StrUtil.isNotBlank(hasEndFlag) && !hasEndFlag.startsWith(\"\\r\\n\")) {\n            log.warn(\"报文结束符非\\\\r\\\\n，实际：{}\", hasEndFlag);\n        }\n\n        // 7. 校验CRC\n        const calcCrc = calcCRC16(dataContent);\n        const calcCrcHex = StrUtil.padPre(calcCrc, 4, \'0\').toUpperCase();\n        if (!StrUtil.equalsIgnoreCase(crcHex, calcCrcHex)) {\n            log.warn(\"CRC校验不匹配：实际{}，计算{}，继续解析\", crcHex, calcCrcHex);\n        }\n\n        // 8. 解析数据内容\n        // 特殊处理CP字段：CP=&&...&&，内部包含;不能直接分割\n        const fields = {};\n        let cpFullContent = \"\";\n        \n        // 提取CP字段完整内容（CP=&&...&&）\n        const cpStartIdx = dataContent.indexOf(\"CP=&&\");\n        if (cpStartIdx >= 0) {\n            const cpEndIdx = dataContent.indexOf(\"&&\", cpStartIdx + 5);\n            if (cpEndIdx > cpStartIdx) {\n                cpFullContent = dataContent.substring(cpStartIdx + 3, cpEndIdx + 2); // 包含&&...&&\n            }\n        }\n        \n        // 解析CP之前的字段\n        const beforeCp = cpStartIdx >= 0 ? dataContent.substring(0, cpStartIdx) : dataContent;\n        const fieldPairs = beforeCp.split(\";\");\n        for (i in range(0, fieldPairs.length)) {\n            const pair = fieldPairs[i];\n            if (StrUtil.isBlank(pair)) {\n                continue;\n            }\n            const equalIndex = pair.indexOf(\"=\");\n            if (equalIndex > 0) {\n                const key = pair.substring(0, equalIndex);\n                const value = pair.substring(equalIndex + 1);\n                fields[key] = value;\n            }\n        }\n        \n        // 将完整CP内容放入fields\n        if (StrUtil.isNotBlank(cpFullContent)) {\n            fields[\"CP\"] = cpFullContent;\n        }\n\n        // 9. 提取关键字段（增强MN字段提取）\n        const st = fields[\"ST\"] || \"\";\n        const cn = fields[\"CN\"] || \"\";\n        const mn = fields[\"MN\"] || \"\";\n        const flag = fields[\"Flag\"] || \"0\";\n        const cp = fields[\"CP\"] || \"\";\n\n        if (StrUtil.isBlank(mn)) {\n            // 备用提取MN：直接从ASCII报文中匹配（兼容字段解析失败）\n            const mnMatch = asciiPayload.match(/MN=([^;]+)/);\n            const backupMn = mnMatch ? mnMatch[1] : \"\";\n            if (StrUtil.isBlank(backupMn)) {\n                throw new Error(\"设备唯一标识（MN）为空，无法识别设备\");\n            }\n            fields[\"MN\"] = backupMn;\n        }\n        const deviceId = fields[\"MN\"];\n\n        // 10. 初始化返回结构\n        const properties = {\n            \"messageType\": \"PROPERTIES\",\n            \"deviceId\": deviceId,\n            \"properties\": {\n                \"sourcePayload\": payload,\n                \"payload\": asciiPayload,\n                \"mn\": deviceId,\n                \"st\": st,\n                \"cn\": cn,\n                \"flag\": flag,\n                \"parseStatus\": \"success\"\n            },\n            \"data\": {\n                \"functionId\": \"\",\n                \"functionName\": \"\"\n            }\n        };\n\n        // 11. 解析CP字段（兼容多值格式：a05002-Rtd=0.99,a05002-ZsRtd=0.99）\n        if (StrUtil.isNotBlank(cp) && cn === \"2011\") {\n            properties.data.functionId = \"realTimeDataReport\";\n            properties.data.functionName = \"实时数据上报\";\n            \n            let cpContent = cp;\n            if (cpContent.startsWith(\"&&\")) {\n                cpContent = cpContent.substring(2);\n            }\n            if (cpContent.endsWith(\"&&\")) {\n                cpContent = cpContent.substring(0, cpContent.length() - 2);\n            }\n\n            // 解析DataTime\n            const dataTimePrefix = \"DataTime=\";\n            const dataTimeIndex = cpContent.indexOf(dataTimePrefix);\n            if (dataTimeIndex >= 0) {\n                const dataTimeStart = dataTimeIndex + dataTimePrefix.length();\n                const dataTimeEnd = cpContent.indexOf(\";\", dataTimeStart);\n                const dataTimeStr = dataTimeEnd > 0 \n                    ? cpContent.substring(dataTimeStart, dataTimeEnd) \n                    : cpContent.substring(dataTimeStart);\n                if (dataTimeStr.length() === 14) {\n                    const dataTime = `${dataTimeStr.substring(0,4)}-${dataTimeStr.substring(4,6)}-${dataTimeStr.substring(6,8)} ${dataTimeStr.substring(8,10)}:${dataTimeStr.substring(10,12)}:${dataTimeStr.substring(12,14)}`;\n                    properties.properties.dataTime = dataTime;\n                    properties.ts = date_format_long(dataTime);\n                }\n            }\n\n            // 解析监测因子，格式：a05002-Rtd=0.99,a05002-ZsRtd=0.99,a05002-Flag=N\n            // 直接映射为物模型属性：a05002_Rtd, a05002_ZsRtd, a05002_Flag\n            const cpItems = cpContent.split(\";\");\n            \n            for (j in range(0, cpItems.length)) {\n                const item = cpItems[j];\n                if (StrUtil.isBlank(item)) {\n                    continue;\n                }\n                \n                // 按逗号分割处理同一因子的多个子属性\n                const parts = item.split(\",\");\n                \n                for (k in range(0, parts.length)) {\n                    const part = parts[k];\n                    if (StrUtil.isBlank(part) || !part.contains(\"=\")) {\n                        continue;\n                    }\n                    \n                    const equalIdx = part.indexOf(\"=\");\n                    const factorPart = part.substring(0, equalIdx);\n                    const valuePart = part.substring(equalIdx + 1);\n\n                    if (StrUtil.isBlank(factorPart) || StrUtil.isBlank(valuePart)) {\n                        continue;\n                    }\n\n                    // 解析因子编码和子属性类型（如：a24087-Rtd -> propKey=\"a24087_Rtd\"）\n                    const dashIdx = factorPart.indexOf(\"-\");\n                    if (dashIdx > 0) {\n                        const factorCode = factorPart.substring(0, dashIdx);\n                        const subType = factorPart.substring(dashIdx + 1);\n                        // 生成物模型属性名：factorCode_subType（如 a24087_Rtd）\n                        const propKey = `${factorCode}_${subType}`;\n                        \n                        // Rtd和ZsRtd解析为数值，Flag保持字符串\n                        if (subType === \"Rtd\" || subType === \"ZsRtd\") {\n                            try {\n                                properties.properties[propKey] = NumberUtil.parseNumber(valuePart);\n                            } catch (e) {\n                                log.warn(\"因子{}解析失败：{}\", propKey, e.getMessage());\n                                properties.properties[propKey] = valuePart;\n                            }\n                        } else {\n                            properties.properties[propKey] = valuePart;\n                        }\n                    }\n                }\n            }\n            log.info(\"解析实时数据上报成功：设备【{}】，时间【{}】\", deviceId, properties.properties.dataTime);\n        } else if (cn === \"2012\") {\n            properties.data.functionId = \"historyDataReport\";\n            properties.data.functionName = \"历史数据上报\";\n            log.info(\"解析历史数据上报：设备【{}】\", deviceId);\n        } else if (cn === \"2051\") {\n            properties.data.functionId = \"heartbeat\";\n            properties.data.functionName = \"设备心跳\";\n            properties.properties.heartbeatTime = DateUtil.now();\n            log.info(\"解析设备心跳：设备【{}】\", deviceId);\n        } else {\n            properties.data.functionId = \"unknownCommand\";\n            properties.data.functionName = `未知命令【${cn}】`;\n            log.warn(\"解析未知命令：设备【{}】，命令编号【{}】\", deviceId, cn);\n        }\n\n        // 12. 组装结果\n        result.push(properties);\n    } catch (e) {\n        const errProps = {\n            \"messageType\": \"PROPERTIES\",\n            \"deviceId\": \"unknown\",\n            \"properties\": {\n                \"sourcePayload\": payload,\n                \"payloadClean\": payloadClean,\n                \"parseStatus\": \"fail\",\n                \"error\": e.getMessage()\n            },\n            \"data\": {\n                \"functionId\": \"decodeFail\",\n                \"functionName\": \"报文解析失败\"\n            }\n        };\n        result.push(errProps);\n\n        const failEvent = {\n            \"messageType\": \"EVENT\",\n            \"deviceId\": \"unknown\",\n            \"event\": \"decodeFail\",\n            \"data\": {\n                \"content\": `HJ212报文解析失败：${e.getMessage()}`,\n                \"timestamp\": System.currentTimeMillis(),\n                \"expands\": { \"desc\": \"包含原始报文、错误原因\" }\n            }\n        };\n        result.push(failEvent);\n\n        log.error(\"decode 全局错误：{}\", e.getMessage());\n    }\n\n    return result;\n};\n\n/**\n * 构建HJ212应答报文\n * @param {String} mn - 设备唯一标识\n * @param {String} cn - 命令编号\n * @param {String} qn - 请求编号（可选）\n * @returns {String} 16进制应答报文\n */\nvar buildReply = (mn, cn, qn) => {\n    const st = \"91\";\n    const replyCn = \"9011\";\n    const result = \"1\";\n    \n    let dataContent = `ST=${st};CN=${replyCn};`;\n    if (StrUtil.isNotBlank(qn)) {\n        dataContent += `QN=${qn};`;\n    }\n    dataContent += `MN=${mn};Flag=0;CP=&&DataTime=${DateUtil.format(DateUtil.date(), \"yyyyMMddHHmmss\")};ExeRtn=${result}&&`;\n    \n    const crc = calcCRC16(dataContent);\n    const crcHex = StrUtil.padPre(crc, 4, \'0\').toUpperCase();\n    const dataLen = StrUtil.padPre(dataContent.length() + \"\", 4, \'0\');\n    const asciiFrame = `##${dataLen}${dataContent}${crcHex}\\r\\n`;\n    const hexFrame = hex_fromAscii(asciiFrame);\n    \n    log.info(\"构建HJ212应答：设备【{}】，命令【{}】，报文【{}】\", mn, cn, hexFrame);\n    return hexFrame;\n};\n\n/**\n * 编码函数（下发指令）\n * @param {String} functionReqJson - 功能请求JSON\n * @param {Object} shadow - 影子对象\n * @returns {String} 16进制指令报文\n */\nvar encode = (functionReqJson, shadow) => {\n    const functionReq = JSONUtil.parseObj(functionReqJson);\n    const msgType = functionReq.getStr(\"messageType\");\n    const funcId = functionReq.getStr(\"function\");\n    const funcData = functionReq.getObj(\"data\", {});\n\n    if (msgType !== \"FUNCTIONS\") {\n        const errMsg = `不支持的消息类型【${msgType}】，仅支持FUNCTIONS`;\n        log.error(\"encode 错误：{}\", errMsg);\n        throw new Error(errMsg);\n    }\n\n    const mn = funcData.getStr(\"mn\");\n    if (StrUtil.isBlank(mn)) {\n        throw new Error(\"设备唯一标识（MN）不能为空\");\n    }\n\n    let finalFrame = null;\n    if (funcId === \"queryData\") {\n        const st = \"91\";\n        const cn = \"2011\";\n        const dataContent = `ST=${st};CN=${cn};MN=${mn};Flag=0;CP=&&DataTime=${DateUtil.format(DateUtil.date(), \"yyyyMMddHHmmss\")}&&`;\n        const crc = calcCRC16(dataContent);\n        const crcHex = StrUtil.padPre(crc, 4, \'0\').toUpperCase();\n        const dataLen = StrUtil.padPre(dataContent.length() + \"\", 4, \'0\');\n        const asciiFrame = `##${dataLen}${dataContent}${crcHex}\\r\\n`;\n        finalFrame = asciiToHex(asciiFrame);\n    } else if (funcId === \"cmd\") {\n        const hexCmd = funcData.getStr(\"hexCmd\") || \"\";\n        if (StrUtil.isBlank(hexCmd)) {\n            throw new Error(\"透传指令需传入hexCmd（十六进制指令）\");\n        }\n        finalFrame = hexCmd;\n    } else {\n        const errMsg = `不支持的功能ID【${funcId}】`;\n        log.error(\"encode 错误：{}\", errMsg);\n        throw new Error(errMsg);\n    }\n\n    log.info(\"encode 成功：功能【{}】，设备【{}】，最终报文【{}】\", funcId, mn, finalFrame);\n    return finalFrame;\n};\n\n/**\n * 预处理函数（提取设备ID）\n * @param {String} payload - 16进制数据包\n * @returns {Object} 包含deviceId和productKey的对象，提取失败返回null\n */\nvar preDecode = (payload) => {\n    try {\n        let payloadClean = StrUtil.removeAll(payload, \' \').toUpperCase();\n        const asciiPayload = hexToAscii(payloadClean);\n        \n        if (StrUtil.isBlank(asciiPayload) || !asciiPayload.startsWith(\"##\")) {\n            return null;\n        }\n\n        // 提取MN字段\n        const mnIdx = asciiPayload.indexOf(\"MN=\");\n        if (mnIdx >= 0) {\n            const mnStart = mnIdx + 3;\n            const mnEnd = asciiPayload.indexOf(\";\", mnStart);\n            const mn = mnEnd > mnStart ? asciiPayload.substring(mnStart, mnEnd) : asciiPayload.substring(mnStart);\n            if (StrUtil.isNotBlank(mn)) {\n                return { \"deviceId\": mn};\n            }\n        }\n    } catch (e) {\n        log.warn(\"preDecode 错误：{}\", e.getMessage());\n    }\n    \n    return null;\n};\n\n// 测试用例（执行解析）\nreturn decode(\"232330343336514e3d32303235313230383130333730303930303b53543d33313b434e3d323031313b50573d3132333435363b4d4e3d5a4a7368514470746368656a69616e7878313b466c61673d343b43503d26264461746154696d653d32303235313230383130333730303b6130353030322d5274643d302e30302c6130353030322d5a735274643d302e30302c6130353030322d466c61673d4e3b6132343038372d5274643d302e37342c6132343038372d5a735274643d302e37342c6132343038372d466c61673d4e3b6132343038382d5274643d302e37342c6132343038382d5a735274643d302e37342c6132343038382d466c61673d4e3b6130313031322d5274643d32312e33302c6130313031322d466c61673d4e3b6130313031332d5274643d2d38352e34352c6130313031332d466c61673d4e3b6130313031312d5274643d392e38372c6130313031312d466c61673d4e3b6130313031342d5274643d312e31322c6130313031342d466c61673d4e3b6131393030312d5274643d32302e35342c6131393030312d466c61673d4e3b6130303030302d5274643d36353130302e34332c6130303030302d466c61673d4e2626343130300d0a\", {});\n\n\n// return decode;\n\n');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/智能插座(格林物联).ms', '{\n  \"properties\" : { },\n  \"id\" : \"1975956f8f474cf1a914373daaa0709d\",\n  \"script\" : null,\n  \"groupId\" : \"77b59996549d4638a85888f7edd8131d\",\n  \"name\" : \"智能插座(格林物联)\",\n  \"createTime\" : 1754285636730,\n  \"updateTime\" : 1757926385395,\n  \"lock\" : \"0\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"681c0775c2dc427d0480ab5f\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"{\\n    \\\"messageType\\\": \\\"PROPERTIES\\\",\\n    \\\"properties\\\": {\\n        \\\"temp\\\": 1,\\n        \\\"sn\\\": \\\"11\\\"\\n    },\\n    \\\"replyPayload\\\": {\\n        \\\"tips\\\": \\\"我想改啥就改啥\\\",\\n        \\\"randomNo\\\": \\\"10\\\",\\n        \\\"wings\\\": \\\"universal-iot-great\\\",\\n        \\\"iot\\\": \\\"iotuniv\\\"\\n    }\\n}\",\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n\n\nimport log;\n\nvar url=\"\";\n\nvar post = (url,body) =>{\n   \n}\n\nvar encode = payload => {\n    var dt=toJson(payload)\n    dt.dxxc=randomSign();\n    return dt;\n}\n\n//解码\nvar decode = payload => {\n    var result = []\n    log.info(\"编解码收到消息={}\",payload)\n    var dt=toJson(payload)\n    var propertiesObj = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {}\n    }\n\n    var repayObj={}\n    repayObj.tips=\"我想改啥就改啥\"\n    repayObj.randomNo=randomSign()\n    repayObj.wings=\"universal-iot-great\"\n    repayObj.iot=\"iotuniv\"\n    //设置属性\n    propertiesObj.properties=dt\n    propertiesObj.properties.sn=randomSign()\n    //MQTT设置回复\n    propertiesObj.replyPayload=repayObj\n    // propertiesObj.replyPayload=\"xzzxc\"+randomSign()//设置回复的内容\n    //propertiesObj.downTopic=\"$thing/down/681c0775c2dc427d0480ab5f/cz001923\" //设置回复的主题\n    return propertiesObj;\n}\n\n//设备增加\nvar add = payload => {\n    var da=post(url,payload)\n    var rs={\n        \"code\":0,\n        \"msg\":\"success\",\n        \"codec\":\"add\",\n        \"codec\":da\n    }\n    return rs;\n}\n\n//设备更新\nvar update = payload => {\n    var da=post(url,payload)\n    var rs={\n        \"code\":0,\n        \"msg\":\"success\",\n        \"codec\":\"update\",\n        \"codec\":da\n    }\n    return rs;\n}\n\n//设备查询\nvar query = payload => {\n   var da=post(url,payload)\n    var rs={\n        \"code\":0,\n        \"req\":0,\n        \"msg\":\"success\",\n        \"codec\":\"query\",\n        \"codec\":da\n    }\n    return rs;\n}\n\n//功能调用\nvar function = payload => {\n    var da=post(url,payload)\n    var rs={\n        \"code\":0,\n        \"msg\":\"success\",\n        \"codec\":\"function\",\n        \"codec\":da\n    }\n    return rs;\n}\n\n\n\n\nreturn decode(\"{\'temp\':1}\")');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/测试一下.ms', '{\n  \"properties\" : { },\n  \"id\" : \"181c74a56e98491d8765bfd37f804e53\",\n  \"script\" : null,\n  \"groupId\" : \"77b59996549d4638a85888f7edd8131d\",\n  \"name\" : \"测试一下\",\n  \"createTime\" : 1764058783366,\n  \"updateTime\" : 1764058795763,\n  \"lock\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"mqtt-demo\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n/**\n * 解码：设备数据转平台格式\n */\nvar decode = payload => {\n\n    // 转 JSON\n    var dt = {};\n    try {\n        dt = toJson(payload);\n    } catch(e) {\n        log.error(\"JSON解析失败: {}\", payload);\n        return [];\n    }\n\n    // 属性字典 —— 与物模型字段一致\n    var properties = {\n        messageType: \"PROPERTIES\",\n        properties: {\n            battery: dt.battery,\n            co2: dt.co2,\n            humidity: dt.humidity,\n            light_level: dt.light_level,\n            pir: dt.pir,\n            pm10: dt.pm10,\n            pm2_5: dt.pm2_5,\n            pressure: dt.pressure,\n            temperature: dt.temperature,\n            tvoc: dt.tvoc\n        }\n    };\n\n    // 返回数组（平台格式要求）\n    return [properties];\n};\n');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/测试协议.ms', '{\n  \"properties\" : { },\n  \"id\" : \"618420e3db4744e1a026c863be182084\",\n  \"script\" : null,\n  \"groupId\" : \"77b59996549d4638a85888f7edd8131d\",\n  \"name\" : \"测试协议\",\n  \"createTime\" : 1757926689547,\n  \"updateTime\" : 1760623340487,\n  \"lock\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"V2Yvb7DN6o0N\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n/**\n * 预解码：提取设备身份标识\n * @param {String} payload 设备原始报文（可能是二进制、JSON、16进制字符串等）\n * @returns {Object} {deviceId, productKey}\n */\nvar preDecode = payload => {\n    var rs = {\n        \"deviceId\": \"11111\",\n        \"productKey\": \"\"\n    };\n    // TODO：解析设备标识\n    return rs;\n};\n\n/**\n * 编码：平台指令转设备格式\n * @param {Object} payload 平台指令\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\n */\nvar encode = payload => {\n    var result = \"\";\n    // TODO：实现编码逻辑\n    return result;\n};\n\n/**\n * 解码：设备数据转平台格式\n * @param {String} payload 设备原始报文（二进制、JSON、16进制字符串等）\n * @returns {Array} 平台标准消息数组，每个元素结构：\n *   [\n *     {\n *       messageType: \"PROPERTIES\", // 属性类型\n *       properties: {} // 解析后的属性键值对（根据物模型动态调整）\n *     },\n *     {\n *       messageType: \"EVENT\", // 事件类型\n *       event: \"\", // 事件名称\n *       data: {} // 事件参数\n *     }\n *   ]\n */\nvar decode = payload => {\n    var rs = [];\n    // 属性\n    var properties = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {\n          \"slaveAddress\":9\n        },\n        \"subDevice\":true\n    };\n    // rs.push(properties);\n    \n    // 事件\n    var event = {\n        \"messageType\": \"EVENT\",\n        \"event\": \"\",\n        \"data\": {}\n    };\n    // rs.push(event);\n    \n    return rs;\n};\n\n// 调试示例（正式使用请删除或注释）\n//return preDecode(\"\");\n// return encode({});\n// return decode(\"\");');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/测试数据/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/测试数据/group.json', '{\n  \"properties\" : { },\n  \"id\" : \"e496630153cb41feb43339d4acbfc3e0\",\n  \"name\" : \"测试数据\",\n  \"type\" : \"api\",\n  \"parentId\" : \"77b59996549d4638a85888f7edd8131d\",\n  \"path\" : \"851\",\n  \"createTime\" : null,\n  \"updateTime\" : 1760060512347,\n  \"createBy\" : null,\n  \"updateBy\" : \"test\",\n  \"paths\" : [ ],\n  \"options\" : [ ]\n}');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/测试数据/测试数据.ms', '{\n  \"properties\" : { },\n  \"id\" : \"3ebb6d7086d340ca8dab5fb90a016974\",\n  \"script\" : null,\n  \"groupId\" : \"e496630153cb41feb43339d4acbfc3e0\",\n  \"name\" : \"测试数据\",\n  \"createTime\" : 1760060588477,\n  \"updateTime\" : 1764835481854,\n  \"lock\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"Xtu3ErgfePF7\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : null,\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\nimport com.alibaba.fastjson2.JSONObject\nimport log;\n\n// 16进制转10进制数字\nvar hexToInt = hex => {\n  return Integer.parseInt(hex, 16);\n};\n// 预解码，解析上报的设备编号 deviceId\nvar preDecode = (payload, context) => {\n    var result = {}\n    var payloadHex = payload.toUpperCase() // 转为大写\n    // 校验报文长度和帧头\n    if (payloadHex.length() >= 18 && payloadHex.substring(0, 4) === \"A5A5\") {\n        // 从第5位开始取4字节（8个字符）作为 deviceId\n        result.deviceId = payloadHex.substring(4, 12)\n    }\n    return result\n}\n\nvar decode =(payload,context) => {\n  log.info(\"进入编解码,payload={},context={}\",payload,context)\n  var result = [];\n  var payloadHex =payload.toUpperCase();\n  var propertiesObj = { \"messageType\": \"PROPERTIES\", \"properties\": {} };\n  var eventObj = { \"messageType\": \"EVENT\", \"event\": \"\", \"data\": {} };\n\n  // 验证帧头帧尾\n  if (payloadHex.substring(0, 4) != \"A5A5\" || payloadHex.substring(payloadHex.length() - 4) != \"5A5A\") {\n    return jsonToStr([{ \"error\": \"无效帧格式\" }]);\n  }\n\n  // 提取核心字段\n  var deviceId = payloadHex.substring(4, 8); // 设备ID（4字节）\n  var cmdCode = payloadHex.substring(8, 10); // 命令码（1字节）\n  var dataLen = hexToInt(payloadHex.substring(10, 12)); // 数据长度\n  var dataHex = payloadHex.substring(12, 12 + dataLen * 2); // 数据区\n  var checksum = payloadHex.substring(12 + dataLen * 2, 14 + dataLen * 2); // 校验和\n\n  // 设备ID存入所有对象\n  propertiesObj.deviceId = deviceId;\n  eventObj.deviceId = deviceId;\n  //验证新内容\n  propertiesObj.context=context;\n  propertiesObj.tcpEncode = \'HEX\';\n  propertiesObj.replyPayload = \'727270632C676574637371\'\n  // 1. 属性上报（命令码01）\n  if (cmdCode == \"01\" && dataLen == 7) {\n    // 解析开关状态（01=开，00=关）\n    propertiesObj.properties.powerState = dataHex.substring(0, 2) == \"01\" ? \"01\" : \"00\";\n    // 解析电流（2字节，单位0.01A）\n    var currentHex = dataHex.substring(2, 6);\n    propertiesObj.properties.current = (hexToInt(currentHex) * 0.01).toFixed(2);\n    // 解析电压（2字节，单位0.1V）\n    var voltageHex = dataHex.substring(6, 10);\n    propertiesObj.properties.voltage = (hexToInt(voltageHex) * 0.1).toFixed(1);\n    // 解析功率（2字节，单位1W）\n    var powerHex = dataHex.substring(10, 14);\n    propertiesObj.properties.power = hexToInt(powerHex).toString();\n    // 加入结果集\n    result.push(propertiesObj);\n  }\n\n  // 2. 事件上报（命令码02）\n  if (cmdCode == \"02\" && dataLen >= 3) {\n    // 事件类型（01=过载，02=过压，03=上线，04=下线）\n    var eventType = dataHex.substring(0, 2);\n    if (eventType == \"01\") {\n      eventObj.event = \"overload\";\n      eventObj.data.overload = hexToInt(dataHex.substring(2, 6)) + \"W\"; // 过载功率\n    }\n    if (eventType == \"03\") {\n      eventObj.event = \"online\";\n      eventObj.data.online = \"设备上线\";\n    }\n    if (eventType == \"04\") {\n      eventObj.event = \"offline\";\n      eventObj.data.offline = \"设备下线\";\n    }\n    result.push(eventObj);\n  }\n\n  // 3. 响应报文（命令码04）\n  if (cmdCode == \"04\" && dataLen == 1) {\n    var replyObj = {\n      \"messageType\": \"REPLY\",\n      \"function\": \"switch\",\n      \"data\": { \"result\": dataHex == \"00\" ? \"success\" : \"fail\" }\n    };\n    replyObj.deviceId = deviceId;\n    result.push(replyObj);\n  }\n\n  return JSONObject.toJSONString(result);\n};\n\nvar encode = payload => {\n  var obj = toJson(payload);\n  var deviceId = obj.data.deviceId; // 设备ID（4位16进制，如\"0001\"）\n  var func = obj.function;\n  var params = obj.data;\n\n  // 控制开关（function=switch）\n  if (func == \"switch\") {\n    var state = params.state; // 目标状态：01=开，00=关\n    if (state != \"01\" && state != \"00\") {\n      return \"\"; // 无效状态，返回空\n    }\n\n    // 数据区：控制类型(01)+目标状态\n    var dataHex = \"01\" + state;\n    var dataLen = dataHex.length() / 2; // 数据长度（字节数）\n    var cmdCode = \"03\"; // 控制指令命令码\n    \n    // 拼接完整报文（无校验和）\n    var frame = \"A5A5\" + \n                deviceId + \n                cmdCode + \n                Integer.toHexString(dataLen) + // 数据长度（1位16进制）\n                dataHex + \n                \"5A5A\";\n\n    return frame.toUpperCase(); // 转为大写16进制\n  }\n\n  return \"\"; // 不支持的指令\n};\n\n\n//预解码，得到deviceId\n// return preDecode(\"A5A5000101070105DC08F004B05A5A\")\n//属性上报报文\nreturn decode(\'A5A5000101070105DC08F004B07A5A5A\');\n\n//过载事件报文\n// return decode(\"A5A5000102030104B0F35A5A\")\n\n\n// return encode(\'{\"deviceId\": \"0001\",\"function\": \"switch\",\"data\": { \"state\": \"01\" }}\')\n\n\n// return encode(\'{\"messageType\":\"FUNCTIONS\",\"function\":\"switch\",\"data\":{\"deviceId\":\"00010107\",\"state\":\"01\"}}\')');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/test/演示教学一下.ms', '{\n  \"properties\" : { },\n  \"id\" : \"3b003406803b42d3b00ea0bde1892a50\",\n  \"script\" : null,\n  \"groupId\" : \"77b59996549d4638a85888f7edd8131d\",\n  \"name\" : \"演示教学一下\",\n  \"createTime\" : 1754210880647,\n  \"updateTime\" : 1764317226227,\n  \"lock\" : \"1\",\n  \"createBy\" : \"test\",\n  \"updateBy\" : \"test\",\n  \"path\" : \"DEMO\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"{\\n    \\\"messageType\\\": \\\"PROPERTIES\\\",\\n    \\\"properties\\\": {\\n        \\\"payload\\\": \\\"A1B2C3\\\",\\n        \\\"randomStr\\\": \\\"38678\\\"\\n    }\\n}\",\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\n/**\n * 预解码：提取设备身份标识\n * @param {String} payload 设备原始报文（可能是二进制、JSON、16进制字符串等）\n * @returns {Object} {deviceId, productKey}\n */\nvar preDecode = payload => {\n    var rs = {\n        \"deviceId\": \"\",\n        \"productKey\": \"\"\n    };\n    // TODO：解析设备标识\n    return rs;\n};\n\n/**\n * 编码：平台指令转设备格式\n * @param {Object} payload 平台指令\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\n */\nvar encode = payload => {\n    var result = \"\";\n    // TODO：实现编码逻辑\n    return result;\n};\n\n/**\n * 解码：设备数据转平台格式\n * @param {String} payload 设备原始报文（二进制、JSON、16进制字符串等）\n * @returns {Array} 平台标准消息数组，每个元素结构：\n *   [\n *     {\n *       messageType: \"PROPERTIES\", // 属性类型\n *       properties: {} // 解析后的属性键值对（根据物模型动态调整）\n *     },\n *     {\n *       messageType: \"EVENT\", // 事件类型\n *       event: \"\", // 事件名称\n *       data: {} // 事件参数\n *     }\n *   ]\n */\nvar decode = payload => {\n    var rs = [];\n    let isJsonParam=false;\n    let newPayload={}\n    if(isJson(payload)){\n        newPayload=toJson(payload)\n        isJsonParam=true\n    }\n    // 属性\n    var propertiesObj = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {}\n    };\n    propertiesObj.properties=newPayload\n    propertiesObj.isJsonParam=isJsonParam\n\n    rs.push(propertiesObj);\n    // 事件\n    var event = {\n        \"messageType\": \"EVENT\",\n        \"event\": \"\",\n        \"data\": {}\n    };\n    // rs.push(event);\n    \n    return propertiesObj;\n};\n\n// 调试示例（正式使用请删除或注释）\n//return preDecode(\"\");\n// return encode({});\nreturn decode(\'{\"current\": \"199.00\",\"power\": \"199\",\"powerState\": 0,\"voltage\": \"199.8\"}\');');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/测试分组/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/测试分组/group.json', '{\n  \"properties\" : { },\n  \"id\" : \"bea746cb74484886b5ea0d1efc678636\",\n  \"name\" : \"测试分组\",\n  \"type\" : \"api\",\n  \"parentId\" : \"0\",\n  \"path\" : \"/testprotocol\",\n  \"createTime\" : 1755154048548,\n  \"updateTime\" : null,\n  \"createBy\" : \"test\",\n  \"updateBy\" : null,\n  \"paths\" : [ ],\n  \"options\" : [ ]\n}');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/自定义topic/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/自定义topic/(自定义topic)网关DTU.ms', '{\n  \"properties\" : { },\n  \"id\" : \"89d48f4934854776a2053e6074875d8e\",\n  \"script\" : null,\n  \"groupId\" : \"0832586a78d64902b320466caf0d6a7a\",\n  \"name\" : \"(自定义topic)网关DTU\",\n  \"createTime\" : 1764147903529,\n  \"updateTime\" : 1764166259006,\n  \"lock\" : null,\n  \"createBy\" : \"nexiot\",\n  \"updateBy\" : \"nexiot\",\n  \"path\" : \"lB0Tl1rgf8uz\",\n  \"method\" : \"POST\",\n  \"parameters\" : [ ],\n  \"options\" : [ ],\n  \"requestBody\" : null,\n  \"headers\" : [ ],\n  \"paths\" : [ ],\n  \"responseBody\" : \"{\\n    \\\"deviceId\\\": \\\"abc1233321\\\"\\n}\",\n  \"description\" : null,\n  \"requestBodyDefinition\" : null,\n  \"responseBodyDefinition\" : null\n}\r\n================================\r\nimport cn.hutool.json.JSONUtil\nimport cn.hutool.core.util.StrUtil\n/**\n * 预解码：提取设备身份标识\n * @param {String} payload 设备原始报文（可能是二进制、JSON、16进制字符串等）\n * @param {String} context 对于这里就是topic\n * @returns {Object} {deviceId, productKey}\n */\nvar preDecode = (payload,context) => {\n    var deviceId;\n    context=StrUtil.str(context);\n    //topic格式五花八门，比如这种$third/zxc/abc1233321\n    if(context.contains(\"/\")){\n        var parts=context.split(\"\\\\/\");\n        deviceId = parts[parts.length - 1];\n    }\n    //可能deviceId来自消息体\n    else if(JSONUtil.isTypeJSON(payload)){\n        payload=toJson(payload);\n        device=payload.deviceId;\n    }\n    if(deviceId==null){\n        //没解出来，不执行了\n        return null;\n    }\n    var rs = {\n        \"deviceId\": deviceId\n    };\n    // TODO：解析设备标识\n    return rs;\n};\n\n/**\n * 编码：平台指令转设备格式\n * @param {Object} payload 平台指令\n * @returns {String} 设备可识别的报文（二进制、JSON、16进制字符串等）\n */\nvar encode = payload => {\n    return payload;\n};\n\n/**\n * 解码：设备数据转平台格式\n * @param {String} payload 设备原始报文（二进制、JSON、16进制字符串等）\n * @returns {Array} 平台标准消息数组，每个元素结构：\n *   [\n *     {\n *       messageType: \"PROPERTIES\", // 属性类型\n *       properties: {} // 解析后的属性键值对（根据物模型动态调整）\n *     },\n *     {\n *       messageType: \"EVENT\", // 事件类型\n *       event: \"\", // 事件名称\n *       data: {} // 事件参数\n *     }\n *   ]\n */\nvar decode = payload => {\n    var rs = [];\n    // 属性\n    var properties = {\n        \"messageType\": \"PROPERTIES\",\n        \"properties\": {}\n    };\n    if(JSONUtil.isTypeJSON(payload)){\n        properties.properties=toJson(payload);\n    }else{\n        properties.properties.sourcePayload=payload;\n    }\n    properties.replyPayload=randomSign();\n    properties.downTopic=\"$third/down/abc1233321\";\n    // rs.push(properties);\n    \n    // 事件\n    var event = {\n        \"messageType\": \"EVENT\",\n        \"event\": \"\",\n        \"data\": {}\n    };\n    // rs.push(event);\n    \n    return properties;\n};\n\n// 调试示例（正式使用请删除或注释）\n//return preDecode(\"\");\n// return encode({});\n// return decode(\"\");\n\nreturn preDecode(\"0903007000018499\",\"$third/zxc/abc1233321\");');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/api/自定义topic/group.json', '{\n  \"properties\" : { },\n  \"id\" : \"0832586a78d64902b320466caf0d6a7a\",\n  \"name\" : \"自定义topic\",\n  \"type\" : \"api\",\n  \"parentId\" : \"0\",\n  \"path\" : \"thirdTopic\",\n  \"createTime\" : 1764147830209,\n  \"updateTime\" : null,\n  \"createBy\" : \"nexiot\",\n  \"updateBy\" : null,\n  \"paths\" : [ ],\n  \"options\" : [ ]\n}');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/datasource/', 'this is directory');
INSERT INTO `protocol_file` (`file_path`, `file_content`) VALUES ('universal/function/', 'this is directory');
COMMIT;

-- ----------------------------
-- Table structure for protocol_file_backup
-- ----------------------------
DROP TABLE IF EXISTS `protocol_file_backup`;
CREATE TABLE `protocol_file_backup` (
  `id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '原对象ID',
  `create_date` bigint NOT NULL COMMENT '备份时间',
  `tag` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '标签',
  `type` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '类型',
  `name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '原名称',
  `content` longblob COMMENT '备份内容',
  `create_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '操作人',
  PRIMARY KEY (`id`,`create_date`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- ----------------------------
-- Records of protocol_file_backup
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for qrtz_blob_triggers
-- ----------------------------
DROP TABLE IF EXISTS `qrtz_blob_triggers`;
CREATE TABLE `qrtz_blob_triggers` (
  `sched_name` varchar(120) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度名称',
  `trigger_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_triggers表trigger_name的外键',
  `trigger_group` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_triggers表trigger_group的外键',
  `blob_data` blob COMMENT '存放持久化Trigger对象',
  PRIMARY KEY (`sched_name`,`trigger_name`,`trigger_group`) USING BTREE,
  CONSTRAINT `qrtz_blob_triggers_ibfk_1` FOREIGN KEY (`sched_name`, `trigger_name`, `trigger_group`) REFERENCES `qrtz_triggers` (`sched_name`, `trigger_name`, `trigger_group`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='Blob类型的触发器表';

-- ----------------------------
-- Records of qrtz_blob_triggers
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for qrtz_calendars
-- ----------------------------
DROP TABLE IF EXISTS `qrtz_calendars`;
CREATE TABLE `qrtz_calendars` (
  `sched_name` varchar(120) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度名称',
  `calendar_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '日历名称',
  `calendar` blob NOT NULL COMMENT '存放持久化calendar对象',
  PRIMARY KEY (`sched_name`,`calendar_name`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='日历信息表';

-- ----------------------------
-- Records of qrtz_calendars
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for qrtz_cron_triggers
-- ----------------------------
DROP TABLE IF EXISTS `qrtz_cron_triggers`;
CREATE TABLE `qrtz_cron_triggers` (
  `sched_name` varchar(120) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度名称',
  `trigger_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_triggers表trigger_name的外键',
  `trigger_group` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_triggers表trigger_group的外键',
  `cron_expression` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'cron表达式',
  `time_zone_id` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '时区',
  PRIMARY KEY (`sched_name`,`trigger_name`,`trigger_group`) USING BTREE,
  CONSTRAINT `qrtz_cron_triggers_ibfk_1` FOREIGN KEY (`sched_name`, `trigger_name`, `trigger_group`) REFERENCES `qrtz_triggers` (`sched_name`, `trigger_name`, `trigger_group`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='Cron类型的触发器表';

-- ----------------------------
-- Records of qrtz_cron_triggers
-- ----------------------------
BEGIN;
INSERT INTO `qrtz_cron_triggers` (`sched_name`, `trigger_name`, `trigger_group`, `cron_expression`, `time_zone_id`) VALUES ('UnivScheduler', 'TASK_CLASS_NAME18', '场景联动功能下发', '0 0 9 1,7,13,15,16,20,23,24,26,31 * ?', 'Asia/Shanghai');
INSERT INTO `qrtz_cron_triggers` (`sched_name`, `trigger_name`, `trigger_group`, `cron_expression`, `time_zone_id`) VALUES ('UnivScheduler', 'TASK_CLASS_NAME19', '场景联动功能下发', '0 0 9 * * ?', 'Asia/Shanghai');
INSERT INTO `qrtz_cron_triggers` (`sched_name`, `trigger_name`, `trigger_group`, `cron_expression`, `time_zone_id`) VALUES ('UnivScheduler', 'TASK_CLASS_NAME21', '场景联动功能下发', '0 0 9 * * ?', 'Asia/Shanghai');
INSERT INTO `qrtz_cron_triggers` (`sched_name`, `trigger_name`, `trigger_group`, `cron_expression`, `time_zone_id`) VALUES ('UnivScheduler', 'TASK_CLASS_NAME22', '场景联动功能下发', '0 30 * * * ?', 'Asia/Shanghai');
COMMIT;

-- ----------------------------
-- Table structure for qrtz_fired_triggers
-- ----------------------------
DROP TABLE IF EXISTS `qrtz_fired_triggers`;
CREATE TABLE `qrtz_fired_triggers` (
  `sched_name` varchar(120) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度名称',
  `entry_id` varchar(95) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度器实例id',
  `trigger_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_triggers表trigger_name的外键',
  `trigger_group` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_triggers表trigger_group的外键',
  `instance_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度器实例名',
  `fired_time` bigint NOT NULL COMMENT '触发的时间',
  `sched_time` bigint NOT NULL COMMENT '定时器制定的时间',
  `priority` int NOT NULL COMMENT '优先级',
  `state` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '状态',
  `job_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '任务名称',
  `job_group` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '任务组名',
  `is_nonconcurrent` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '是否并发',
  `requests_recovery` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '是否接受恢复执行',
  PRIMARY KEY (`sched_name`,`entry_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='已触发的触发器表';

-- ----------------------------
-- Records of qrtz_fired_triggers
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for qrtz_job_details
-- ----------------------------
DROP TABLE IF EXISTS `qrtz_job_details`;
CREATE TABLE `qrtz_job_details` (
  `sched_name` varchar(120) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度名称',
  `job_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '任务名称',
  `job_group` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '任务组名',
  `description` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '相关介绍',
  `job_class_name` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '执行任务类名称',
  `is_durable` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '是否持久化',
  `is_nonconcurrent` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '是否并发',
  `is_update_data` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '是否更新数据',
  `requests_recovery` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '是否接受恢复执行',
  `job_data` blob COMMENT '存放持久化job对象',
  PRIMARY KEY (`sched_name`,`job_name`,`job_group`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='任务详细信息表';

-- ----------------------------
-- Records of qrtz_job_details
-- ----------------------------
BEGIN;
INSERT INTO `qrtz_job_details` (`sched_name`, `job_name`, `job_group`, `description`, `job_class_name`, `is_durable`, `is_nonconcurrent`, `is_update_data`, `requests_recovery`, `job_data`) VALUES ('RuoyiScheduler', 'TASK_CLASS_NAME50', 'DEFAULT', NULL, 'com.ruoyi.quartz.util.QuartzDisallowConcurrentExecution', '0', '1', '0', '0', 0xACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000F5441534B5F50524F504552544945537372001E636F6D2E72756F79692E71756172747A2E646F6D61696E2E5379734A6F6200000000000000010200084C000A636F6E63757272656E747400124C6A6176612F6C616E672F537472696E673B4C000E63726F6E45787072657373696F6E71007E00094C000C696E766F6B6554617267657471007E00094C00086A6F6247726F757071007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C00076A6F624E616D6571007E00094C000D6D697366697265506F6C69637971007E00094C000673746174757371007E000978720027636F6D2E72756F79692E636F6D6D6F6E2E636F72652E646F6D61696E2E42617365456E7469747900000000000000010200074C0008637265617465427971007E00094C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C0006706172616D7371007E00034C000672656D61726B71007E00094C000B73656172636856616C756571007E00094C0008757064617465427971007E00094C000A75706461746554696D6571007E000C787074000561646D696E7372000E6A6176612E7574696C2E44617465686A81014B597419030000787077080000017BA5B7A46878707400007070707400013174000C3020302036202A202A203F207400246465766963654F6E6C696E65486973746F72795461736B2E73617665282764617465272974000744454641554C547372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B02000078700000000000000032740021E8AEBEE5A487E59CA8E7BABFE78AB6E68081E4BF9DE5AD98EFBC88E697A5EFBC8974000133740001307800);
INSERT INTO `qrtz_job_details` (`sched_name`, `job_name`, `job_group`, `description`, `job_class_name`, `is_durable`, `is_nonconcurrent`, `is_update_data`, `requests_recovery`, `job_data`) VALUES ('RuoyiScheduler', 'TASK_CLASS_NAME52', 'DEFAULT', NULL, 'com.ruoyi.quartz.util.QuartzDisallowConcurrentExecution', '0', '1', '0', '0', 0xACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000F5441534B5F50524F504552544945537372001E636F6D2E72756F79692E71756172747A2E646F6D61696E2E5379734A6F6200000000000000010200084C000A636F6E63757272656E747400124C6A6176612F6C616E672F537472696E673B4C000E63726F6E45787072657373696F6E71007E00094C000C696E766F6B6554617267657471007E00094C00086A6F6247726F757071007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C00076A6F624E616D6571007E00094C000D6D697366697265506F6C69637971007E00094C000673746174757371007E000978720027636F6D2E72756F79692E636F6D6D6F6E2E636F72652E646F6D61696E2E42617365456E7469747900000000000000010200074C0008637265617465427971007E00094C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C0006706172616D7371007E00034C000672656D61726B71007E00094C000B73656172636856616C756571007E00094C0008757064617465427971007E00094C000A75706461746554696D6571007E000C787074000561646D696E7372000E6A6176612E7574696C2E44617465686A81014B597419030000787077080000017BA5CA9BE078707400007070707400013174000C302030203230204C202A203F7400256465766963654F6E6C696E65486973746F72795461736B2E7361766528276D6F6E7468272974000744454641554C547372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B02000078700000000000000034740021E8AEBEE5A487E59CA8E7BABFE78AB6E68081E4BF9DE5AD98EFBC88E69C88EFBC8974000131740001307800);
INSERT INTO `qrtz_job_details` (`sched_name`, `job_name`, `job_group`, `description`, `job_class_name`, `is_durable`, `is_nonconcurrent`, `is_update_data`, `requests_recovery`, `job_data`) VALUES ('RuoyiScheduler', 'TASK_CLASS_NAME53', 'DEFAULT', NULL, 'com.ruoyi.quartz.util.QuartzDisallowConcurrentExecution', '0', '1', '0', '0', 0xACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000F5441534B5F50524F504552544945537372001E636F6D2E72756F79692E71756172747A2E646F6D61696E2E5379734A6F6200000000000000010200084C000A636F6E63757272656E747400124C6A6176612F6C616E672F537472696E673B4C000E63726F6E45787072657373696F6E71007E00094C000C696E766F6B6554617267657471007E00094C00086A6F6247726F757071007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C00076A6F624E616D6571007E00094C000D6D697366697265506F6C69637971007E00094C000673746174757371007E000978720027636F6D2E72756F79692E636F6D6D6F6E2E636F72652E646F6D61696E2E42617365456E7469747900000000000000010200074C0008637265617465427971007E00094C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C0006706172616D7371007E00034C000672656D61726B71007E00094C000B73656172636856616C756571007E00094C0008757064617465427971007E00094C000A75706461746554696D6571007E000C787074000561646D696E7372000E6A6176612E7574696C2E44617465686A81014B597419030000787077080000017D122632A878707400007070707400013174000D302030202A2F32202A202A203F7400296465766963654F6E6C696E6553746174655461736B2E7570646174654F6E6C696E655374617465282974000744454641554C547372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B02000078700000000000000035740018E8AEBEE5A487E59CA8E7BABFE78AB6E68081E588A4E696AD74000131740001307800);
INSERT INTO `qrtz_job_details` (`sched_name`, `job_name`, `job_group`, `description`, `job_class_name`, `is_durable`, `is_nonconcurrent`, `is_update_data`, `requests_recovery`, `job_data`) VALUES ('UnivScheduler', 'TASK_CLASS_NAME18', '场景联动功能下发', NULL, 'cn.universal.quartz.util.QuartzDisallowConcurrentExecution', '0', '1', '0', '0', 0xACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000F5441534B5F50524F5045525449455373720021636E2E756E6976657273616C2E71756172747A2E646F6D61696E2E5379734A6F62000000000000000102000E4C000A636F6E63757272656E747400124C6A6176612F6C616E672F537472696E673B4C0008637265617465427971007E00094C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C000E63726F6E45787072657373696F6E71007E00094C000C696E766F6B6554617267657471007E00094C00086A6F6247726F757071007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C00076A6F624E616D6571007E00094C000D6D697366697265506F6C69637971007E00094C0006706172616D7371007E00034C000672656D61726B71007E00094C000673746174757371007E00094C0008757064617465427971007E00094C000A75706461746554696D6571007E000A787074000131740004746573747372000E6A6176612E7574696C2E44617465686A81014B597419030000787077080000019A04C93EA878740025302030203920312C372C31332C31352C31362C32302C32332C32342C32362C3331202A203F74002B7363656E654C696E6B616765536572766963652E71756172747A46756E6374696F6E446F776E2838384C29740018E59CBAE699AFE88194E58AA8E58A9FE883BDE4B88BE58F917372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B0200007870000000000000001274000A7363656E6549643A3838740001337371007E00053F40000000000000770800000010000000007874000074000131740004746573747371007E000F77080000019A04C93EA8787800);
INSERT INTO `qrtz_job_details` (`sched_name`, `job_name`, `job_group`, `description`, `job_class_name`, `is_durable`, `is_nonconcurrent`, `is_update_data`, `requests_recovery`, `job_data`) VALUES ('UnivScheduler', 'TASK_CLASS_NAME19', '场景联动功能下发', NULL, 'cn.universal.quartz.util.QuartzDisallowConcurrentExecution', '0', '1', '0', '0', 0xACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000F5441534B5F50524F5045525449455373720021636E2E756E6976657273616C2E71756172747A2E646F6D61696E2E5379734A6F62000000000000000102000E4C000A636F6E63757272656E747400124C6A6176612F6C616E672F537472696E673B4C0008637265617465427971007E00094C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C000E63726F6E45787072657373696F6E71007E00094C000C696E766F6B6554617267657471007E00094C00086A6F6247726F757071007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C00076A6F624E616D6571007E00094C000D6D697366697265506F6C69637971007E00094C0006706172616D7371007E00034C000672656D61726B71007E00094C000673746174757371007E00094C0008757064617465427971007E00094C000A75706461746554696D6571007E000A787074000131740004746573747372000E6A6176612E7574696C2E44617465686A81014B597419030000787077080000019A540954A87874000B3020302039202A202A203F74002B7363656E654C696E6B616765536572766963652E71756172747A46756E6374696F6E446F776E2839344C29740018E59CBAE699AFE88194E58AA8E58A9FE883BDE4B88BE58F917372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B0200007870000000000000001374000A7363656E6549643A3934740001337371007E00053F40000000000000770800000010000000007874000074000131740004746573747371007E000F77080000019A540954A8787800);
INSERT INTO `qrtz_job_details` (`sched_name`, `job_name`, `job_group`, `description`, `job_class_name`, `is_durable`, `is_nonconcurrent`, `is_update_data`, `requests_recovery`, `job_data`) VALUES ('UnivScheduler', 'TASK_CLASS_NAME21', '场景联动功能下发', NULL, 'cn.universal.quartz.util.QuartzDisallowConcurrentExecution', '0', '1', '0', '0', 0xACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000F5441534B5F50524F5045525449455373720021636E2E756E6976657273616C2E71756172747A2E646F6D61696E2E5379734A6F62000000000000000102000E4C000A636F6E63757272656E747400124C6A6176612F6C616E672F537472696E673B4C0008637265617465427971007E00094C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C000E63726F6E45787072657373696F6E71007E00094C000C696E766F6B6554617267657471007E00094C00086A6F6247726F757071007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C00076A6F624E616D6571007E00094C000D6D697366697265506F6C69637971007E00094C0006706172616D7371007E00034C000672656D61726B71007E00094C000673746174757371007E00094C0008757064617465427971007E00094C000A75706461746554696D6571007E000A787074000131740004746573747372000E6A6176612E7574696C2E44617465686A81014B597419030000787077080000019A9A350F807874000B3020302039202A202A203F74002B7363656E654C696E6B616765536572766963652E71756172747A46756E6374696F6E446F776E2839374C29740018E59CBAE699AFE88194E58AA8E58A9FE883BDE4B88BE58F917372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B0200007870000000000000001574000A7363656E6549643A3937740001337371007E00053F40000000000000770800000010000000007874000074000130740004746573747371007E000F77080000019A9A350F80787800);
INSERT INTO `qrtz_job_details` (`sched_name`, `job_name`, `job_group`, `description`, `job_class_name`, `is_durable`, `is_nonconcurrent`, `is_update_data`, `requests_recovery`, `job_data`) VALUES ('UnivScheduler', 'TASK_CLASS_NAME22', '场景联动功能下发', NULL, 'cn.universal.quartz.util.QuartzDisallowConcurrentExecution', '0', '1', '0', '0', 0xACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000F5441534B5F50524F5045525449455373720021636E2E756E6976657273616C2E71756172747A2E646F6D61696E2E5379734A6F62000000000000000102000E4C000A636F6E63757272656E747400124C6A6176612F6C616E672F537472696E673B4C0008637265617465427971007E00094C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C000E63726F6E45787072657373696F6E71007E00094C000C696E766F6B6554617267657471007E00094C00086A6F6247726F757071007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C00076A6F624E616D6571007E00094C000D6D697366697265506F6C69637971007E00094C0006706172616D7371007E00034C000672656D61726B71007E00094C000673746174757371007E00094C0008757064617465427971007E00094C000A75706461746554696D6571007E000A78707400013174000464656D6F7372000E6A6176612E7574696C2E44617465686A81014B597419030000787077080000019AA0E38E387874000C30203330202A202A202A203F74002B7363656E654C696E6B616765536572766963652E71756172747A46756E6374696F6E446F776E2839364C29740018E59CBAE699AFE88194E58AA8E58A9FE883BDE4B88BE58F917372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B0200007870000000000000001674000A7363656E6549643A3936740001337371007E00053F4000000000000077080000001000000000787400007400013074000464656D6F7371007E000F77080000019AA0E38E38787800);
INSERT INTO `qrtz_job_details` (`sched_name`, `job_name`, `job_group`, `description`, `job_class_name`, `is_durable`, `is_nonconcurrent`, `is_update_data`, `requests_recovery`, `job_data`) VALUES ('WasuScheduler', 'TASK_CLASS_NAME11', '场景联动功能下发', NULL, 'cn.universal.quartz.util.QuartzDisallowConcurrentExecution', '0', '1', '0', '0', 0xACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000F5441534B5F50524F5045525449455373720021636E2E756E6976657273616C2E71756172747A2E646F6D61696E2E5379734A6F62000000000000000102000E4C000A636F6E63757272656E747400124C6A6176612F6C616E672F537472696E673B4C0008637265617465427971007E00094C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C000E63726F6E45787072657373696F6E71007E00094C000C696E766F6B6554617267657471007E00094C00086A6F6247726F757071007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C00076A6F624E616D6571007E00094C000D6D697366697265506F6C69637971007E00094C0006706172616D7371007E00034C000672656D61726B71007E00094C000673746174757371007E00094C0008757064617465427971007E00094C000A75706461746554696D6571007E000A787074000131740003696F747372000E6A6176612E7574696C2E44617465686A81014B59741903000078707708000001983653EF5C7874000F3020313020392C3136202A202A203F7400257363656E654C696E6B616765536572766963652E66756E6374696F6E446F776E2836344C29740018E59CBAE699AFE88194E58AA8E58A9FE883BDE4B88BE58F917372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B0200007870000000000000000B74000A7363656E6549643A3634740001337371007E00053F400000000000007708000000100000000078707400013071007E000E71007E00107800);
COMMIT;

-- ----------------------------
-- Table structure for qrtz_locks
-- ----------------------------
DROP TABLE IF EXISTS `qrtz_locks`;
CREATE TABLE `qrtz_locks` (
  `sched_name` varchar(120) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度名称',
  `lock_name` varchar(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '悲观锁名称',
  PRIMARY KEY (`sched_name`,`lock_name`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='存储的悲观锁信息表';

-- ----------------------------
-- Records of qrtz_locks
-- ----------------------------
BEGIN;
INSERT INTO `qrtz_locks` (`sched_name`, `lock_name`) VALUES ('UnivScheduler', 'STATE_ACCESS');
INSERT INTO `qrtz_locks` (`sched_name`, `lock_name`) VALUES ('UnivScheduler', 'TRIGGER_ACCESS');
COMMIT;

-- ----------------------------
-- Table structure for qrtz_paused_trigger_grps
-- ----------------------------
DROP TABLE IF EXISTS `qrtz_paused_trigger_grps`;
CREATE TABLE `qrtz_paused_trigger_grps` (
  `sched_name` varchar(120) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度名称',
  `trigger_group` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_triggers表trigger_group的外键',
  PRIMARY KEY (`sched_name`,`trigger_group`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='暂停的触发器表';

-- ----------------------------
-- Records of qrtz_paused_trigger_grps
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for qrtz_scheduler_state
-- ----------------------------
DROP TABLE IF EXISTS `qrtz_scheduler_state`;
CREATE TABLE `qrtz_scheduler_state` (
  `sched_name` varchar(120) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度名称',
  `instance_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '实例名称',
  `last_checkin_time` bigint NOT NULL COMMENT '上次检查时间',
  `checkin_interval` bigint NOT NULL COMMENT '检查间隔时间',
  PRIMARY KEY (`sched_name`,`instance_name`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='调度器状态表';

-- ----------------------------
-- Records of qrtz_scheduler_state
-- ----------------------------
BEGIN;
INSERT INTO `qrtz_scheduler_state` (`sched_name`, `instance_name`, `last_checkin_time`, `checkin_interval`) VALUES ('UnivScheduler', 'aleo1765194678543', 1765263622385, 150000);
INSERT INTO `qrtz_scheduler_state` (`sched_name`, `instance_name`, `last_checkin_time`, `checkin_interval`) VALUES ('UnivScheduler', 'iv-ye35y84e0w5i3z4vmt5l1764982338435', 1765263699135, 150000);
INSERT INTO `qrtz_scheduler_state` (`sched_name`, `instance_name`, `last_checkin_time`, `checkin_interval`) VALUES ('UnivScheduler', 'xxx1763772830274', 1765263654122, 150000);
COMMIT;

-- ----------------------------
-- Table structure for qrtz_simple_triggers
-- ----------------------------
DROP TABLE IF EXISTS `qrtz_simple_triggers`;
CREATE TABLE `qrtz_simple_triggers` (
  `sched_name` varchar(120) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度名称',
  `trigger_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_triggers表trigger_name的外键',
  `trigger_group` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_triggers表trigger_group的外键',
  `repeat_count` bigint NOT NULL COMMENT '重复的次数统计',
  `repeat_interval` bigint NOT NULL COMMENT '重复的间隔时间',
  `times_triggered` bigint NOT NULL COMMENT '已经触发的次数',
  PRIMARY KEY (`sched_name`,`trigger_name`,`trigger_group`) USING BTREE,
  CONSTRAINT `qrtz_simple_triggers_ibfk_1` FOREIGN KEY (`sched_name`, `trigger_name`, `trigger_group`) REFERENCES `qrtz_triggers` (`sched_name`, `trigger_name`, `trigger_group`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='简单触发器的信息表';

-- ----------------------------
-- Records of qrtz_simple_triggers
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for qrtz_simprop_triggers
-- ----------------------------
DROP TABLE IF EXISTS `qrtz_simprop_triggers`;
CREATE TABLE `qrtz_simprop_triggers` (
  `sched_name` varchar(120) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度名称',
  `trigger_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_triggers表trigger_name的外键',
  `trigger_group` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_triggers表trigger_group的外键',
  `str_prop_1` varchar(512) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'String类型的trigger的第一个参数',
  `str_prop_2` varchar(512) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'String类型的trigger的第二个参数',
  `str_prop_3` varchar(512) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'String类型的trigger的第三个参数',
  `int_prop_1` int DEFAULT NULL COMMENT 'int类型的trigger的第一个参数',
  `int_prop_2` int DEFAULT NULL COMMENT 'int类型的trigger的第二个参数',
  `long_prop_1` bigint DEFAULT NULL COMMENT 'long类型的trigger的第一个参数',
  `long_prop_2` bigint DEFAULT NULL COMMENT 'long类型的trigger的第二个参数',
  `dec_prop_1` decimal(13,4) DEFAULT NULL COMMENT 'decimal类型的trigger的第一个参数',
  `dec_prop_2` decimal(13,4) DEFAULT NULL COMMENT 'decimal类型的trigger的第二个参数',
  `bool_prop_1` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'Boolean类型的trigger的第一个参数',
  `bool_prop_2` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'Boolean类型的trigger的第二个参数',
  PRIMARY KEY (`sched_name`,`trigger_name`,`trigger_group`) USING BTREE,
  CONSTRAINT `qrtz_simprop_triggers_ibfk_1` FOREIGN KEY (`sched_name`, `trigger_name`, `trigger_group`) REFERENCES `qrtz_triggers` (`sched_name`, `trigger_name`, `trigger_group`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='同步机制的行锁表';

-- ----------------------------
-- Records of qrtz_simprop_triggers
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for qrtz_triggers
-- ----------------------------
DROP TABLE IF EXISTS `qrtz_triggers`;
CREATE TABLE `qrtz_triggers` (
  `sched_name` varchar(120) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '调度名称',
  `trigger_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '触发器的名字',
  `trigger_group` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '触发器所属组的名字',
  `job_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_job_details表job_name的外键',
  `job_group` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'qrtz_job_details表job_group的外键',
  `description` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '相关介绍',
  `next_fire_time` bigint DEFAULT NULL COMMENT '上一次触发时间（毫秒）',
  `prev_fire_time` bigint DEFAULT NULL COMMENT '下一次触发时间（默认为-1表示不触发）',
  `priority` int DEFAULT NULL COMMENT '优先级',
  `trigger_state` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '触发器状态',
  `trigger_type` varchar(8) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '触发器的类型',
  `start_time` bigint NOT NULL COMMENT '开始时间',
  `end_time` bigint DEFAULT NULL COMMENT '结束时间',
  `calendar_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '日程表名称',
  `misfire_instr` smallint DEFAULT NULL COMMENT '补偿执行的策略',
  `job_data` blob COMMENT '存放持久化job对象',
  PRIMARY KEY (`sched_name`,`trigger_name`,`trigger_group`) USING BTREE,
  KEY `sched_name` (`sched_name`,`job_name`,`job_group`) USING BTREE,
  CONSTRAINT `qrtz_triggers_ibfk_1` FOREIGN KEY (`sched_name`, `job_name`, `job_group`) REFERENCES `qrtz_job_details` (`sched_name`, `job_name`, `job_group`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='触发器详细信息表';

-- ----------------------------
-- Records of qrtz_triggers
-- ----------------------------
BEGIN;
INSERT INTO `qrtz_triggers` (`sched_name`, `trigger_name`, `trigger_group`, `job_name`, `job_group`, `description`, `next_fire_time`, `prev_fire_time`, `priority`, `trigger_state`, `trigger_type`, `start_time`, `end_time`, `calendar_name`, `misfire_instr`, `job_data`) VALUES ('RuoyiScheduler', 'TASK_CLASS_NAME50', 'DEFAULT', 'TASK_CLASS_NAME50', 'DEFAULT', NULL, 1640296800000, -1, 5, 'WAITING', 'CRON', 1640244959000, 0, NULL, 2, '');
INSERT INTO `qrtz_triggers` (`sched_name`, `trigger_name`, `trigger_group`, `job_name`, `job_group`, `description`, `next_fire_time`, `prev_fire_time`, `priority`, `trigger_state`, `trigger_type`, `start_time`, `end_time`, `calendar_name`, `misfire_instr`, `job_data`) VALUES ('RuoyiScheduler', 'TASK_CLASS_NAME52', 'DEFAULT', 'TASK_CLASS_NAME52', 'DEFAULT', NULL, 1640952000000, -1, 5, 'WAITING', 'CRON', 1640244959000, 0, NULL, -1, '');
INSERT INTO `qrtz_triggers` (`sched_name`, `trigger_name`, `trigger_group`, `job_name`, `job_group`, `description`, `next_fire_time`, `prev_fire_time`, `priority`, `trigger_state`, `trigger_type`, `start_time`, `end_time`, `calendar_name`, `misfire_instr`, `job_data`) VALUES ('RuoyiScheduler', 'TASK_CLASS_NAME53', 'DEFAULT', 'TASK_CLASS_NAME53', 'DEFAULT', NULL, 1640246400000, -1, 5, 'WAITING', 'CRON', 1640244959000, 0, NULL, -1, '');
INSERT INTO `qrtz_triggers` (`sched_name`, `trigger_name`, `trigger_group`, `job_name`, `job_group`, `description`, `next_fire_time`, `prev_fire_time`, `priority`, `trigger_state`, `trigger_type`, `start_time`, `end_time`, `calendar_name`, `misfire_instr`, `job_data`) VALUES ('UnivScheduler', 'TASK_CLASS_NAME18', '场景联动功能下发', 'TASK_CLASS_NAME18', '场景联动功能下发', NULL, 1765587600000, -1, 5, 'PAUSED', 'CRON', 1765263507000, 0, NULL, 2, '');
INSERT INTO `qrtz_triggers` (`sched_name`, `trigger_name`, `trigger_group`, `job_name`, `job_group`, `description`, `next_fire_time`, `prev_fire_time`, `priority`, `trigger_state`, `trigger_type`, `start_time`, `end_time`, `calendar_name`, `misfire_instr`, `job_data`) VALUES ('UnivScheduler', 'TASK_CLASS_NAME19', '场景联动功能下发', 'TASK_CLASS_NAME19', '场景联动功能下发', NULL, 1765328400000, -1, 5, 'PAUSED', 'CRON', 1765263508000, 0, NULL, 2, '');
INSERT INTO `qrtz_triggers` (`sched_name`, `trigger_name`, `trigger_group`, `job_name`, `job_group`, `description`, `next_fire_time`, `prev_fire_time`, `priority`, `trigger_state`, `trigger_type`, `start_time`, `end_time`, `calendar_name`, `misfire_instr`, `job_data`) VALUES ('UnivScheduler', 'TASK_CLASS_NAME21', '场景联动功能下发', 'TASK_CLASS_NAME21', '场景联动功能下发', NULL, 1765328400000, -1, 5, 'WAITING', 'CRON', 1765263508000, 0, NULL, 2, '');
INSERT INTO `qrtz_triggers` (`sched_name`, `trigger_name`, `trigger_group`, `job_name`, `job_group`, `description`, `next_fire_time`, `prev_fire_time`, `priority`, `trigger_state`, `trigger_type`, `start_time`, `end_time`, `calendar_name`, `misfire_instr`, `job_data`) VALUES ('UnivScheduler', 'TASK_CLASS_NAME22', '场景联动功能下发', 'TASK_CLASS_NAME22', '场景联动功能下发', NULL, 1765265400000, -1, 5, 'WAITING', 'CRON', 1765263508000, 0, NULL, 2, '');
INSERT INTO `qrtz_triggers` (`sched_name`, `trigger_name`, `trigger_group`, `job_name`, `job_group`, `description`, `next_fire_time`, `prev_fire_time`, `priority`, `trigger_state`, `trigger_type`, `start_time`, `end_time`, `calendar_name`, `misfire_instr`, `job_data`) VALUES ('WasuScheduler', 'TASK_CLASS_NAME11', '场景联动功能下发', 'TASK_CLASS_NAME11', '场景联动功能下发', NULL, 1753319400000, 1753258200000, 5, 'WAITING', 'CRON', 1753258127000, 0, NULL, 2, '');
COMMIT;

-- ----------------------------
-- Table structure for rule_model
-- ----------------------------
DROP TABLE IF EXISTS `rule_model`;
CREATE TABLE `rule_model` (
  `id` bigint NOT NULL COMMENT 'id',
  `rule_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '规则名称',
  `data_level` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '数据级别',
  `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '描述',
  `status` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '状态',
  `product_key` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '产品KEY',
  `config` json DEFAULT NULL COMMENT '规则配置',
  `creator_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '创建人',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='规则模型';

-- ----------------------------
-- Records of rule_model
-- ----------------------------
BEGIN;
INSERT INTO `rule_model` (`id`, `rule_name`, `data_level`, `description`, `status`, `product_key`, `config`, `creator_id`, `create_time`, `update_time`) VALUES (1938517288869347328, '模拟设备', 'product', '123', 'stop', '681c0775c2dc427d0480ab5f', '{\"appId\": \"18uYTbqYeq3hDDRy\", \"fields\": \"*\", \"targets\": [{\"id\": \"54d669a6-0c1a-46db-99ba-563d78ff8209\", \"url\": \"http://127.0.0.1:9092/test/echo\", \"type\": \"http\"}, {\"id\": \"f188f1c4-1e46-4e15-ba5b-a41b33af075c\", \"url\": \"http://192.168.2.3/alarmAll/record\", \"type\": \"http\"}], \"condition\": \"properties.temperature  &gt; 100\"}', 'demo', '2025-06-27 16:38:32', '2025-11-19 11:55:47');
INSERT INTO `rule_model` (`id`, `rule_name`, `data_level`, `description`, `status`, `product_key`, `config`, `creator_id`, `create_time`, `update_time`) VALUES (1951455958190497792, '数据转发', 'group', NULL, 'run', NULL, '{\"appId\": \"*\", \"fields\": \"*\", \"targets\": [{\"id\": \"057dbea2-2b5c-4303-af0b-2f080f5c1b56\", \"url\": \"http://127.0.0.1:9092/test/echo\", \"type\": \"http\"}]}', 'iot', '2025-08-02 09:32:11', '2025-11-20 22:09:24');
INSERT INTO `rule_model` (`id`, `rule_name`, `data_level`, `description`, `status`, `product_key`, `config`, `creator_id`, `create_time`, `update_time`) VALUES (1961701182498099200, '1', 'product', NULL, 'stop', 'lipSSVUj9XLt', '{\"appId\": \"*\", \"fields\": \"*\", \"targets\": [], \"condition\": \"\"}', 'demo', '2025-08-30 16:03:03', '2025-11-06 14:26:29');
INSERT INTO `rule_model` (`id`, `rule_name`, `data_level`, `description`, `status`, `product_key`, `config`, `creator_id`, `create_time`, `update_time`) VALUES (1967971436119359488, '4444', 'product', NULL, 'stop', 'V2Yvb7DN6o0N', '{\"appId\": \"*\", \"fields\": \"deviceNode\", \"targets\": [{\"id\": \"bd6db219-fd05-43ff-9624-2729f5e7e40c\", \"url\": \"http://iot.192886.xyz:81/rule/flow/detail/create\", \"type\": \"http\"}]}', 'demo', '2025-09-16 23:18:48', '2025-11-06 14:26:27');
INSERT INTO `rule_model` (`id`, `rule_name`, `data_level`, `description`, `status`, `product_key`, `config`, `creator_id`, `create_time`, `update_time`) VALUES (1970406416770637824, '测试', 'device', NULL, 'stop', 'pbJNWPtDJp7a', '{\"appId\": \"*\", \"fields\": \"*\", \"targets\": []}', 'demo', '2025-09-23 16:34:33', '2025-11-06 14:26:25');
INSERT INTO `rule_model` (`id`, `rule_name`, `data_level`, `description`, `status`, `product_key`, `config`, `creator_id`, `create_time`, `update_time`) VALUES (1971930997784256512, '00', 'product', NULL, 'stop', 'ASbtxsqpS4fG', '{\"appId\": \"*\", \"fields\": \"*\", \"targets\": []}', 'demo', '2025-09-27 21:32:41', '2025-11-06 14:26:21');
INSERT INTO `rule_model` (`id`, `rule_name`, `data_level`, `description`, `status`, `product_key`, `config`, `creator_id`, `create_time`, `update_time`) VALUES (1972457700340211712, '213213', 'product', NULL, 'stop', 'HXZnfxzYMPDZ', '{\"appId\": \"*\", \"fields\": \"*\", \"targets\": []}', 'demo', '2025-09-29 08:25:37', '2025-11-06 14:26:14');
INSERT INTO `rule_model` (`id`, `rule_name`, `data_level`, `description`, `status`, `product_key`, `config`, `creator_id`, `create_time`, `update_time`) VALUES (1972500406126977024, 'hh', 'device', NULL, 'run', 'HnDdSnj1kiQg', '{\"appId\": \"*\", \"fields\": \"*\", \"targets\": []}', 'demo', '2025-09-29 11:15:19', '2025-11-17 15:03:15');
INSERT INTO `rule_model` (`id`, `rule_name`, `data_level`, `description`, `status`, `product_key`, `config`, `creator_id`, `create_time`, `update_time`) VALUES (1978752281910370304, '测试', 'device', NULL, 'run', 'RpZ3VQIa6YE2', '{\"appId\": \"*\", \"fields\": \"*\", \"targets\": [], \"condition\": \"properties.temperature&lt;=20\"}', 'demo', '2025-10-16 17:18:02', '2025-11-17 20:49:52');
INSERT INTO `rule_model` (`id`, `rule_name`, `data_level`, `description`, `status`, `product_key`, `config`, `creator_id`, `create_time`, `update_time`) VALUES (1988495821573914624, 'hh', 'product', NULL, 'run', 'wvp_zutai_test', '{\"appId\": \"*\", \"fields\": \"*\", \"targets\": []}', 'demo', '2025-11-12 14:35:23', '2025-11-17 20:49:43');
INSERT INTO `rule_model` (`id`, `rule_name`, `data_level`, `description`, `status`, `product_key`, `config`, `creator_id`, `create_time`, `update_time`) VALUES (1990993516310028288, 'zl测试数据转发', 'device', NULL, 'run', '9n91IXPUWsmq', '{\"appId\": \"JmhpPHiPSnl4KwyQ\", \"fields\": \"*\", \"targets\": [], \"condition\": \"dx &gt; 0\"}', 'demo', '2025-11-19 12:00:20', '2025-11-19 20:35:00');
COMMIT;

-- ----------------------------
-- Table structure for rule_model_instance
-- ----------------------------
DROP TABLE IF EXISTS `rule_model_instance`;
CREATE TABLE `rule_model_instance` (
  `id` bigint NOT NULL COMMENT 'id',
  `model_id` bigint DEFAULT NULL COMMENT '模型id',
  `relation_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '关联类型',
  `relation_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '关联id',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='规则实例';

-- ----------------------------
-- Records of rule_model_instance
-- ----------------------------
BEGIN;
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1485428032639234048, 1485419002550185984, 'device', '9f0faba72b5d47718cd9353041e97d40');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1486157429939785728, 1483700361927532544, 'device', '4858f039e4b44fe0987c330392f65815');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1486157429943980032, 1483700361927532544, 'device', 'd125e66e026349bf9a52ac19b126cff2');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1493045086909276160, 1486153439457988608, 'product', 'HBkRhKSj');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1493098852232671232, 1491677415030571008, 'group', '1491675370504503296');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1493493945724760064, 1493493945519239168, 'product', 'test');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1493496334934536192, 1493496334917758976, 'product', 'test');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1493754343145287680, 1493754343090761728, 'product', 'test');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1493785487857373184, 1493785487672823808, 'product', 'HBkRhKSj');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1493905699827015680, 1493830716295647232, 'product', 'HBkRhKSj');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1496786018855018496, 1496786018825658368, 'product', 'HBkRhKSj');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1499592722411155456, 1499592722356629504, 'product', 'HBkRhKSj');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1499636471300337664, 1499636471229034496, 'product', '1111');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1499636605828444160, 1499636605807472640, 'product', '1111');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1600323699565502464, 1497109632061964288, 'product', 'HBkRhKSj');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1600828170421497856, 1554365384672628736, 'product', '62e8aaa9cd68f383e4c18d87');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1602134252485971968, 1600781613110226944, 'product', '632ad1abcd6868ad76930e19');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1610462666376708096, 1610458620202942464, 'group', '1610458307660185600');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1610468879919316992, 1610467431496122368, 'product', '15104868');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1691642130799837184, 1508625094050508800, 'device', '4aaabeb0d3504d3ca39d8184b1844e55');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1692461242133778432, 1692461241966006272, 'group', '1481967386374025216');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1748168860993400832, 1742787987305517056, 'product', '658940dc59765da0afc52cc7');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1759858576130158592, 1759858576100798464, 'product', '65d1bba259767f6aa55801a6');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1927703560096690176, 1927703559882780672, 'product', '682d6ed9e4b0262696ffe0b3');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1968491757771603968, 1968491757733855232, 'product', '3fNNNCKfiNhI');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1968491949333856256, 1961701182498099200, 'product', 'lipSSVUj9XLt');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1968833154739580928, 1967971436119359488, 'product', 'V2Yvb7DN6o0N');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1970406416846135296, 1970406416770637824, 'device', NULL);
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1971930997826199552, 1971930997784256512, 'product', 'ASbtxsqpS4fG');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1972600777402949632, 1972600777314869248, 'product', 'DMxljo8wABX0');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1975769534623318016, 1972457700340211712, 'product', 'HXZnfxzYMPDZ');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1976173487273979904, 1972852674605031424, 'device', NULL);
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1978693952202792960, 1972500406126977024, 'device', NULL);
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1990401965007466496, 1988495821573914624, 'product', 'wvp_zutai_test');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1990402000696799232, 1978752281910370304, 'device', NULL);
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1990992049276706816, 1938517288869347328, 'product', '681c0775c2dc427d0480ab5f');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1991123035171815424, 1990993516310028288, 'device', NULL);
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1991509182632857600, 1951455958190497792, 'group', '1950770676340260864');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1993549440782385152, 1991044925835350016, 'product', '9n91IXPUWsmq');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1993587596491722752, 1993587596416225280, 'product', '9r08rFICF3bo');
INSERT INTO `rule_model_instance` (`id`, `model_id`, `relation_type`, `relation_id`) VALUES (1996056798909595648, 1996056798850875392, 'product', '9r08rFICF3bo');
COMMIT;

-- ----------------------------
-- Table structure for rulego_chain
-- ----------------------------
DROP TABLE IF EXISTS `rulego_chain`;
CREATE TABLE `rulego_chain` (
  `id` bigint NOT NULL COMMENT '主键ID',
  `rulego_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'rulego规则链ID',
  `chain_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '规则链名称',
  `description` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '规则链描述',
  `creator_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '创建人unionId',
  `creator_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '创建人姓名',
  `status` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT 'draft' COMMENT '状态：draft-草稿，deployed-已部署，stopped-已停止',
  `dsl_content` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '规则链DSL内容(JSON格式)',
  `last_sync_time` datetime DEFAULT NULL COMMENT '最后同步时间',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `deleted` tinyint(1) DEFAULT '0' COMMENT '是否删除：0-未删除，1-已删除',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uk_rulego_id` (`rulego_id`) USING BTREE,
  KEY `idx_creator_id` (`creator_id`) USING BTREE,
  KEY `idx_status` (`status`) USING BTREE,
  KEY `idx_create_time` (`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='rulego规则链管理表';

-- ----------------------------
-- Records of rulego_chain
-- ----------------------------
BEGIN;
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1962764522171285504, 'iot_ENn2Hj', '开始吧1', '执行规则2', 'iot', 'iot', 'deployed', '{\"ruleChain\":{\"id\":\"iot_ENn2Hj\",\"name\":\"开始吧\",\"debugMode\":false,\"root\":true,\"disabled\":false,\"additionalInfo\":{\"createTime\":\"2025/09/02 14:28:23\",\"layoutX\":\"280\",\"layoutY\":\"280\",\"noDefaultInput\":false,\"updateTime\":\"2025/10/07 08:39:05\",\"username\":\"admin\"}},\"metadata\":{\"firstNodeIndex\":0,\"nodes\":[{\"id\":\"node_4\",\"additionalInfo\":{\"layoutX\":859,\"layoutY\":101},\"type\":\"exprFilter\",\"name\":\"表达式过滤\",\"debugMode\":false,\"configuration\":{\"expr\":\"msg.temperature>50\"}},{\"id\":\"node_8\",\"additionalInfo\":{\"layoutX\":514,\"layoutY\":374},\"type\":\"x/modbus\",\"name\":\"Modbus读...\",\"debugMode\":false,\"configuration\":{\"address\":\"50\",\"cmd\":\"ReadCoils\",\"encodingConfig\":{\"endianness\":1,\"wordorder\":1},\"quantity\":\"1\",\"regType\":\"0\",\"rtuConfig\":{\"dataBits\":8,\"parity\":0,\"speed\":19200,\"stopBits\":2},\"server\":\"tcp://127.0.0.1:502\",\"tcpConfig\":{\"caPath\":\"\",\"certPath\":\"\",\"keyPath\":\"\",\"timeout\":5},\"unitId\":1,\"value\":\"1\"}},{\"id\":\"node_12\",\"additionalInfo\":{\"layoutX\":1087,\"layoutY\":314},\"type\":\"restApiCall\",\"name\":\"推送物联网平台\",\"debugMode\":false,\"configuration\":{\"body\":\"${metadata}\",\"headers\":{\"Content-Type\":\"application/json\"},\"maxParallelRequestsCount\":200,\"proxyPort\":0,\"readTimeoutMs\":2000,\"requestMethod\":\"POST\",\"restEndpointUrlPattern\":\"http://iot.192886.xyz:81/test/echo\"}},{\"id\":\"node_14\",\"additionalInfo\":{\"layoutX\":1391,\"layoutY\":251},\"type\":\"end\",\"name\":\"结束\",\"debugMode\":false,\"configuration\":null}],\"connections\":[{\"fromId\":\"node_8\",\"toId\":\"node_4\",\"type\":\"Success\"},{\"fromId\":\"node_4\",\"toId\":\"node_12\",\"type\":\"True\"},{\"fromId\":\"node_12\",\"toId\":\"node_14\",\"type\":\"Success\"}]}}', '2025-10-16 11:34:11', '2025-09-02 14:28:23', '2025-10-16 11:34:11', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1962788448293232640, 'test_Vf50ar', '演示流程', '不要删除哦～', 'demo', 'demo', 'stopped', '{\"ruleChain\":{\"id\":\"test_Vf50ar\",\"name\":\"演示流程\",\"debugMode\":false,\"root\":true,\"disabled\":true,\"additionalInfo\":{\"createTime\":\"2025/09/02 16:03:27\",\"layoutX\":\"473\",\"layoutY\":\"259\",\"message\":\"the rule chain has been disabled\",\"noDefaultInput\":false,\"updateTime\":\"2025/09/02 16:08:33\",\"username\":\"admin\"}},\"metadata\":{\"firstNodeIndex\":0,\"endpoints\":[{\"id\":\"node_2\",\"additionalInfo\":{\"layoutX\":510,\"layoutY\":104},\"type\":\"endpoint/opcua\",\"name\":\"OPC_UA订...\",\"debugMode\":false,\"configuration\":{\"auth\":\"anonymous\",\"interval\":\"@every 1m\",\"mode\":\"none\",\"nodeIds\":[\"ns=3;i=1003\"],\"policy\":\"None\",\"server\":\"opc.tcp://localhost:4840\"},\"processors\":null,\"routers\":[{\"id\":\"\",\"params\":null,\"from\":{\"path\":\"*\",\"configuration\":null,\"processors\":null},\"to\":{\"path\":\"test_Vf50ar:node_4\",\"configuration\":null,\"wait\":false,\"processors\":null}}]}],\"nodes\":[{\"id\":\"node_4\",\"additionalInfo\":{\"layoutX\":781,\"layoutY\":258},\"type\":\"exprFilter\",\"name\":\"表达式过滤\",\"debugMode\":false,\"configuration\":{\"expr\":\"msg.temperature>1\"}},{\"id\":\"node_6\",\"additionalInfo\":{\"layoutX\":1076,\"layoutY\":257},\"type\":\"restApiCall\",\"name\":\"推送到本平台\",\"debugMode\":false,\"configuration\":{\"body\":\"${msg}\",\"headers\":{\"Content-Type\":\"application/json\"},\"maxParallelRequestsCount\":200,\"proxyPort\":0,\"readTimeoutMs\":2000,\"requestMethod\":\"POST\",\"restEndpointUrlPattern\":\"http://iot.192886.xyz:81/test/echo\"}},{\"id\":\"node_8\",\"additionalInfo\":{\"layoutX\":1449,\"layoutY\":239},\"type\":\"end\",\"name\":\"结束\",\"debugMode\":false,\"configuration\":null}],\"connections\":[{\"fromId\":\"node_4\",\"toId\":\"node_6\",\"type\":\"True\"},{\"fromId\":\"node_6\",\"toId\":\"node_8\",\"type\":\"Success\"}]}}', '2025-11-27 16:19:07', '2025-09-02 16:03:28', '2025-11-27 16:19:07', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1982698497174077440, 'test_RWdrKe', 'demo', 'demo', 'demo', 'demo', 'draft', '{\"ruleChain\":{\"id\":\"test_RWdrKe\",\"name\":\"demo\",\"debugMode\":false,\"root\":true,\"disabled\":false,\"additionalInfo\":{\"createTime\":\"2025/10/27 14:38:53\",\"updateTime\":\"2025/10/27 14:38:53\",\"username\":\"admin\"}},\"metadata\":{\"firstNodeIndex\":0,\"nodes\":null,\"connections\":null}}', '2025-10-27 23:17:00', '2025-10-27 14:38:53', '2025-11-19 14:42:50', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1983692368397889536, 'test_vlDaGH', '3', NULL, 'demo', 'demo', 'stopped', NULL, NULL, '2025-10-30 08:28:11', '2025-11-19 14:42:50', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1984139639128207360, 'test_KBmB4v', 'cehi', NULL, 'demo', 'demo', 'draft', NULL, NULL, '2025-10-31 14:05:28', '2025-11-19 14:42:50', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1984152553885151232, 'test_qBE4Dc', 'ii', NULL, 'demo', 'demo', 'stopped', NULL, NULL, '2025-10-31 14:56:47', '2025-11-19 14:42:50', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1984533097965838336, 'test_YybIqT', '22', NULL, 'demo', 'demo', 'deployed', '{\"ruleChain\":{\"id\":\"test_YybIqT\",\"name\":\"22\",\"debugMode\":false,\"root\":true,\"disabled\":false,\"additionalInfo\":{\"createTime\":\"2025/11/01 16:08:56\",\"updateTime\":\"2025/11/01 16:08:56\",\"username\":\"admin\"}},\"metadata\":{\"firstNodeIndex\":0,\"nodes\":null,\"connections\":null}}', '2025-11-04 09:27:44', '2025-11-01 16:08:56', '2025-11-19 14:42:50', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1986035896444739584, 'test_kQYxTf', '33', NULL, 'demo', 'demo', 'stopped', NULL, NULL, '2025-11-05 19:40:31', '2025-11-19 14:42:50', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1986331459035815936, 'test_re4KMJ', '123', NULL, 'demo', 'demo', 'draft', '{\"ruleChain\":{\"id\":\"test_re4KMJ\",\"name\":\"123\",\"debugMode\":false,\"root\":true,\"disabled\":false,\"additionalInfo\":{\"createTime\":\"2025/11/06 15:14:58\",\"updateTime\":\"2025/11/06 15:14:58\",\"username\":\"admin\"}},\"metadata\":{\"firstNodeIndex\":0,\"nodes\":null,\"connections\":null}}', '2025-11-17 17:05:44', '2025-11-06 15:14:59', '2025-11-19 14:42:50', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1986340243942629376, 'test_tjTEXG', 'ces', NULL, 'demo', 'demo', 'stopped', '{\"ruleChain\":{\"id\":\"test_tjTEXG\",\"name\":\"ces\",\"debugMode\":false,\"root\":true,\"disabled\":true,\"additionalInfo\":{\"createTime\":\"2025/11/06 15:49:53\",\"updateTime\":\"2025/11/06 15:49:53\",\"username\":\"admin\"}},\"metadata\":{\"firstNodeIndex\":0,\"nodes\":null,\"connections\":null}}', '2025-11-12 11:16:45', '2025-11-06 15:49:53', '2025-11-19 14:42:50', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1988116761505087488, 'test_S8kXnx', 'ccc', 'sdasd', 'demo', 'demo', 'deployed', NULL, NULL, '2025-11-11 13:29:08', '2025-11-26 11:11:56', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1988800105158987776, 'test_Liug7G', '测试 ', NULL, 'demo', 'demo', 'draft', NULL, NULL, '2025-11-13 10:44:30', '2025-11-19 14:42:50', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1990345082322157568, 'test_B1jS4U', '12', NULL, 'demo', 'demo', 'deployed', NULL, NULL, '2025-11-17 17:03:41', '2025-11-19 14:42:50', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1990981536002072576, 'test_sTBiWD', 'ZL_ces', 'zl测试规则链', 'demo', 'demo', 'deployed', '{\"ruleChain\":{\"id\":\"test_sTBiWD\",\"name\":\"ZL_ces\",\"debugMode\":false,\"root\":true,\"disabled\":false,\"additionalInfo\":{\"createTime\":\"2025/11/19 11:12:43\",\"updateTime\":\"2025/11/19 11:12:43\",\"username\":\"admin\"}},\"metadata\":{\"firstNodeIndex\":0,\"nodes\":null,\"connections\":null}}', '2025-11-19 11:29:08', '2025-11-19 11:12:43', '2025-11-19 14:42:50', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1991042229791264768, 'test_8uy6NB', '1', '1', 'test', 'test', 'stopped', '{\"ruleChain\":{\"id\":\"test_8uy6NB\",\"name\":\"1\",\"debugMode\":false,\"root\":true,\"disabled\":true,\"additionalInfo\":{\"createTime\":\"2025/11/19 15:13:53\",\"message\":\"the rule chain has been disabled\",\"updateTime\":\"2025/11/19 15:13:53\",\"username\":\"admin\"}},\"metadata\":{\"firstNodeIndex\":0,\"nodes\":null,\"connections\":null}}', '2025-12-02 18:00:30', '2025-11-19 15:13:54', '2025-12-08 13:09:32', 1);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1992783367703285760, 'test_N1EfE2', '3', NULL, 'test', 'test', 'stopped', '{\"ruleChain\":{\"id\":\"test_N1EfE2\",\"name\":\"3\",\"debugMode\":false,\"root\":true,\"disabled\":false,\"additionalInfo\":{\"createTime\":\"2025/11/24 10:32:33\",\"updateTime\":\"2025/11/24 10:32:33\",\"username\":\"admin\"}},\"metadata\":{\"firstNodeIndex\":0,\"nodes\":null,\"connections\":null}}', '2025-11-26 13:14:31', '2025-11-24 10:32:34', '2025-12-08 13:09:29', 1);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1992794581900644352, 'demo_R4UIgc', 'test0111', '11', 'demo', 'demo', 'draft', NULL, NULL, '2025-11-24 11:17:07', '2025-11-24 11:17:07', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1992845175436791808, 'viewToday_yzJVjV', '测试', NULL, 'viewToday', 'viewToday', 'draft', NULL, NULL, '2025-11-24 14:38:10', '2025-11-24 14:38:10', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1993285347903221760, 'demo_MzxjRN', 'xinde ', NULL, 'demo', 'demo', 'draft', NULL, NULL, '2025-11-25 19:47:15', '2025-11-25 19:47:15', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1993497636770103296, 'demo_LpwbkV', 'kjkj', NULL, 'demo', 'demo', 'draft', NULL, NULL, '2025-11-26 09:50:49', '2025-11-26 09:50:49', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1994029529382985728, 'demo_BRBe9m', 'zcv', NULL, 'demo', 'demo', 'draft', NULL, NULL, '2025-11-27 21:04:22', '2025-11-27 21:04:22', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1995719122041851904, 'test_4ss3Z2', 'ceshi', NULL, 'test', 'test', 'draft', '{\"ruleChain\":{\"id\":\"test_4ss3Z2\",\"name\":\"ceshi\",\"debugMode\":false,\"root\":true,\"disabled\":false,\"additionalInfo\":{\"createTime\":\"2025/12/02 12:58:11\",\"updateTime\":\"2025/12/02 12:58:11\",\"username\":\"admin\"}},\"metadata\":{\"firstNodeIndex\":0,\"nodes\":null,\"connections\":null}}', '2025-12-05 19:34:48', '2025-12-02 12:58:12', '2025-12-08 13:09:53', 1);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1995772822756163584, 'test_BBw5QK', 'ceshi2', NULL, 'test', 'test', 'draft', NULL, NULL, '2025-12-02 16:31:35', '2025-12-02 16:31:45', 1);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1995816335547990016, 'test_a2fitC', 'tesrt', NULL, 'test', 'test', 'stopped', '{\"ruleChain\":{\"id\":\"test_a2fitC\",\"name\":\"tesrt\",\"debugMode\":false,\"root\":true,\"disabled\":true,\"additionalInfo\":{\"createTime\":\"2025/12/02 19:24:29\",\"updateTime\":\"2025/12/02 19:24:29\",\"username\":\"admin\"}},\"metadata\":{\"firstNodeIndex\":0,\"nodes\":null,\"connections\":null}}', '2025-12-05 19:34:37', '2025-12-02 19:24:30', '2025-12-08 13:09:50', 1);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1996906199248969728, 'test_rnYV7P', 'ceshi guizelin', NULL, 'test', 'test', 'draft', NULL, NULL, '2025-12-05 19:35:13', '2025-12-08 13:09:44', 1);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1997644850018856960, 'nexiot_sj39o9', '12', NULL, 'nexiot', 'nexiot', 'draft', '{\"ruleChain\":{\"id\":\"nexiot_sj39o9\",\"name\":\"12\",\"debugMode\":false,\"root\":true,\"disabled\":false,\"additionalInfo\":{\"createTime\":\"2025/12/07 20:30:21\",\"updateTime\":\"2025/12/07 20:30:21\",\"username\":\"admin\"}},\"metadata\":{\"firstNodeIndex\":0,\"nodes\":null,\"connections\":null}}', '2025-12-08 10:20:47', '2025-12-07 20:30:21', '2025-12-08 10:20:47', 0);
INSERT INTO `rulego_chain` (`id`, `rulego_id`, `chain_name`, `description`, `creator_id`, `creator_name`, `status`, `dsl_content`, `last_sync_time`, `create_time`, `update_time`, `deleted`) VALUES (1997902459594522624, 'test_vNNMeD', 'test', NULL, 'test', 'test', 'draft', NULL, NULL, '2025-12-08 13:34:00', '2025-12-08 13:34:00', 0);
COMMIT;

-- ----------------------------
-- Table structure for rulego_chain_log
-- ----------------------------
DROP TABLE IF EXISTS `rulego_chain_log`;
CREATE TABLE `rulego_chain_log` (
  `id` bigint NOT NULL COMMENT '主键ID',
  `rulego_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'rulego规则链ID',
  `chain_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT '规则链名称',
  `execution_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '执行ID',
  `input_data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '输入数据',
  `output_data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '输出数据',
  `execution_status` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '执行状态：success-成功，failed-失败',
  `error_message` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '错误信息',
  `execution_time` bigint DEFAULT NULL COMMENT '执行耗时(毫秒)',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `idx_rulego_id` (`rulego_id`) USING BTREE,
  KEY `idx_execution_id` (`execution_id`) USING BTREE,
  KEY `idx_create_time` (`create_time`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='rulego规则链执行日志表';

-- ----------------------------
-- Records of rulego_chain_log
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for scene_linkage
-- ----------------------------
DROP TABLE IF EXISTS `scene_linkage`;
CREATE TABLE `scene_linkage` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `scene_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '场景名称',
  `touch` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT 'one' COMMENT '触发条件 all.全部 one.任意一个',
  `trigger_condition` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '触发条件',
  `exec_action` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '执行动作',
  `sleep_cycle` int DEFAULT NULL COMMENT '沉默周期',
  `create_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `create_time` datetime DEFAULT NULL,
  `update_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `update_time` datetime DEFAULT NULL,
  `status` tinyint DEFAULT '0' COMMENT '0启用 1停用',
  `dev_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '设备id',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=102 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='场景联动';

-- ----------------------------
-- Records of scene_linkage
-- ----------------------------
BEGIN;
INSERT INTO `scene_linkage` (`id`, `scene_name`, `touch`, `trigger_condition`, `exec_action`, `sleep_cycle`, `create_by`, `create_time`, `update_by`, `update_time`, `status`, `dev_id`) VALUES (74, '【天亮了】', 'one', '[{\"trigger\":\"device\",\"type\":\"properties\",\"deviceId\":\"860048070262660-2\",\"deviceName\":\"温湿度子设备(MQTT)-地址2\",\"productKey\":\"p0B2kKqdJD8M\",\"filters\":[{\"key\":\"illumination\",\"value\":\"65\",\"operator\":\"gte\"}]}]', '[{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"250707ea8dda\",\"deviceName\":\"645电壁挂电表(4G)\",\"productKey\":\"HnDdSnj1kiQg\",\"modelId\":\"meterRead\",\"filters\":[],\"execData\":[{\"id\":\"meterNo\",\"name\":\"电表表号\",\"params\":\"250707ea8dda\"}]},{\"trigger\":\"notice\",\"filters\":[],\"noticeTemplateId\":\"9\",\"noticeTemplateName\":\"天黑了~关灯睡觉\",\"receivers\":\"\"}]', 56400, 'demo', '2025-10-18 20:14:50', 'demo', '2025-11-18 15:17:14', 0, NULL);
INSERT INTO `scene_linkage` (`id`, `scene_name`, `touch`, `trigger_condition`, `exec_action`, `sleep_cycle`, `create_by`, `create_time`, `update_by`, `update_time`, `status`, `dev_id`) VALUES (75, '【天黑了】查电量通知钉钉群（群号157440003929）', 'one', '[{\"trigger\":\"device\",\"type\":\"properties\",\"deviceId\":\"860048070262660-2\",\"deviceName\":\"温湿度子设备(MQTT)-地址2\",\"productKey\":\"p0B2kKqdJD8M\",\"filters\":[{\"key\":\"illumination\",\"value\":\"20\",\"operator\":\"lte\"}]}]', '[{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"250707ea8dda\",\"deviceName\":\"645电壁挂电表(4G)\",\"productKey\":\"HnDdSnj1kiQg\",\"modelId\":\"meterRead\",\"filters\":[],\"execData\":[{\"id\":\"meterNo\",\"name\":\"电表表号\",\"params\":\"250707ea8dda\"}]},{\"trigger\":\"notice\",\"filters\":[],\"noticeTemplateId\":\"9\",\"noticeTemplateName\":\"天黑了~关灯睡觉\",\"receivers\":\"\"}]', 56400, 'demo', '2025-10-18 20:17:18', 'demo', '2025-10-26 09:17:18', 0, NULL);
INSERT INTO `scene_linkage` (`id`, `scene_name`, `touch`, `trigger_condition`, `exec_action`, `sleep_cycle`, `create_by`, `create_time`, `update_by`, `update_time`, `status`, `dev_id`) VALUES (76, '【天亮了】光照2500提示通知钉钉群（群号157440003929）', 'one', '[{\"trigger\":\"device\",\"type\":\"properties\",\"deviceId\":\"860048070262660-2\",\"deviceName\":\"温湿度子设备(MQTT)-地址2\",\"productKey\":\"p0B2kKqdJD8M\",\"filters\":[{\"key\":\"illumination\",\"value\":\"2400\",\"operator\":\"gte\"}]}]', '[{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"250707ea8dda\",\"deviceName\":\"645电壁挂电表(4G)\",\"productKey\":\"HnDdSnj1kiQg\",\"modelId\":\"meterRead\",\"filters\":[],\"execData\":[{\"id\":\"meterNo\",\"name\":\"电表表号\",\"params\":\"250707ea8dda\"}]},{\"trigger\":\"notice\",\"filters\":[],\"noticeTemplateId\":\"8\",\"noticeTemplateName\":\"提醒天亮-欢迎进群\",\"receivers\":\"\"}]', 86400, 'demo', '2025-10-19 10:15:29', 'demo', '2025-10-26 09:17:21', 0, NULL);
INSERT INTO `scene_linkage` (`id`, `scene_name`, `touch`, `trigger_condition`, `exec_action`, `sleep_cycle`, `create_by`, `create_time`, `update_by`, `update_time`, `status`, `dev_id`) VALUES (77, '满足全部条件', 'all', '[{\"trigger\":\"device\",\"type\":\"properties\",\"deviceId\":\"89861590112330001924-2\",\"deviceName\":\"通道2子设备\",\"productKey\":\"3QAz7HuahAGN\",\"filters\":[{\"key\":\"illumination\",\"value\":\"2400\",\"operator\":\"gt\"},{\"key\":\"humidity\",\"value\":\"30\",\"operator\":\"gt\"}]}]', '[{\"trigger\":\"notice\",\"filters\":[],\"noticeTemplateId\":\"9\",\"noticeTemplateName\":\"天黑了~关灯睡觉\",\"receivers\":\"\"},{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"250707ea8dda\",\"deviceName\":\"645电壁挂电表(4G)\",\"productKey\":\"HnDdSnj1kiQg\",\"modelId\":\"meterRead\",\"filters\":[],\"execData\":[{\"id\":\"meterNo\",\"name\":\"电表表号\",\"params\":\"250707ea8dda\"}]}]', 64800, 'demo', '2025-10-19 16:29:27', 'demo', '2025-10-27 15:22:25', 0, NULL);
INSERT INTO `scene_linkage` (`id`, `scene_name`, `touch`, `trigger_condition`, `exec_action`, `sleep_cycle`, `create_by`, `create_time`, `update_by`, `update_time`, `status`, `dev_id`) VALUES (88, '定时触发电量查询', 'one', '[{\"trigger\":\"timer\",\"cron\":\"0 0 9 1,7,13,15,16,20,23,24,26,31 * ?\",\"filters\":[]}]', '[{\"trigger\":\"notice\",\"filters\":[],\"noticeTemplateId\":\"8\",\"noticeTemplateName\":\"提醒天亮-欢迎进群\"},{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"250707ea8dda\",\"deviceName\":\"645电壁挂电表(4G)\",\"productKey\":\"HnDdSnj1kiQg\",\"modelId\":\"meterRead\",\"filters\":[],\"execData\":[{\"id\":\"meterNo\",\"name\":\"电表表号\",\"params\":\"250707ea8dda\"}]}]', 86400, 'demo', '2025-10-19 16:36:39', 'demo', '2025-11-15 11:45:42', 1, NULL);
INSERT INTO `scene_linkage` (`id`, `scene_name`, `touch`, `trigger_condition`, `exec_action`, `sleep_cycle`, `create_by`, `create_time`, `update_by`, `update_time`, `status`, `dev_id`) VALUES (92, '视频抓图-开灯-钉钉告警', 'one', '[{\"trigger\":\"device\",\"type\":\"properties\",\"deviceId\":\"860048070262660-2\",\"deviceName\":\"温湿度子设备(TCP)-地址2\",\"productKey\":\"bKFSm8yKgyGS\",\"filters\":[{\"key\":\"illumination\",\"value\":\"2400\",\"operator\":\"gt\"}]}]', '[{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"250707ea8dda\",\"deviceName\":\"DLT645-4G电表(点了通电记得关,有投诉了）\",\"productKey\":\"HnDdSnj1kiQg\",\"modelId\":\"switchOnOff\",\"filters\":[],\"execData\":[{\"id\":\"meterNo\",\"name\":\"表号\",\"params\":\"250707ea8dda\"},{\"id\":\"valveOn\",\"name\":\"开关阀操作\",\"params\":\"1\"}]},{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"860048070262660-1\",\"deviceName\":\"三色声光报警（巨响）-可换音效\",\"productKey\":\"mVnhk9Vk40Ga\",\"modelId\":\"playByRootSeq\",\"filters\":[],\"execData\":[{\"id\":\"slaveAddress\",\"name\":\"从站地址\",\"params\":\"1\"},{\"id\":\"seqNum\",\"name\":\"物理顺序号\",\"params\":\"1\"},{\"id\":\"lightCtrlCode\",\"name\":\"警灯控制码\",\"params\":\"00\"}]},{\"trigger\":\"notice\",\"filters\":[],\"noticeTemplateId\":\"9\",\"noticeTemplateName\":\"天黑了~关灯睡觉\"},{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"9E06F25PCGEA69C\",\"deviceName\":\"4G相机-对着645电表旁边灯\",\"productKey\":\"pbJNWPtDJp7a\",\"modelId\":\"cameraSnapshot\",\"filters\":[],\"execData\":[]}]', 165000, 'demo', '2025-11-02 14:04:31', 'demo', '2025-11-02 20:35:08', 1, NULL);
INSERT INTO `scene_linkage` (`id`, `scene_name`, `touch`, `trigger_condition`, `exec_action`, `sleep_cycle`, `create_by`, `create_time`, `update_by`, `update_time`, `status`, `dev_id`) VALUES (93, '111', 'all', '[{\"trigger\":\"device\",\"type\":\"properties\",\"deviceId\":\"860048070262660-1\",\"deviceName\":\"三色声光报警（巨响）-可换音效\",\"productKey\":\"mVnhk9Vk40Ga\",\"filters\":[{\"key\":\"currentLightMode\",\"value\":\"06\",\"operator\":\"eq\"}]}]', '[{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"860048070262660-9\",\"deviceName\":\"声光报警器-9（点了开记得关,有投诉了）\",\"productKey\":\"FzpVZ9unsUvU\",\"modelId\":\"controlLight\",\"filters\":[],\"execData\":[{\"id\":\"slaveAddress\",\"name\":\"从站地址\",\"params\":\"000\"},{\"id\":\"lightColor\",\"name\":\"灯光颜色\",\"params\":\"1\"},{\"id\":\"flashMode\",\"name\":\"闪灯方式\",\"params\":\"5\"}],\"noticeTemplateId\":\"9\",\"noticeTemplateName\":\"天黑了~关灯睡觉\"}]', 1, 'demo', '2025-11-05 20:15:51', 'demo', '2025-11-10 11:27:10', 1, NULL);
INSERT INTO `scene_linkage` (`id`, `scene_name`, `touch`, `trigger_condition`, `exec_action`, `sleep_cycle`, `create_by`, `create_time`, `update_by`, `update_time`, `status`, `dev_id`) VALUES (94, '111', 'one', '[{\"trigger\":\"timer\",\"cron\":\"0 0 9 * * ?\",\"filters\":[]}]', '[{\"trigger\":\"notice\",\"filters\":[],\"noticeTemplateId\":\"9\",\"noticeTemplateName\":\"天黑了~关灯睡觉\",\"receivers\":\"13888888888\"}]', 12, 'demo', '2025-11-05 20:41:29', 'demo', '2025-11-15 11:45:39', 1, NULL);
INSERT INTO `scene_linkage` (`id`, `scene_name`, `touch`, `trigger_condition`, `exec_action`, `sleep_cycle`, `create_by`, `create_time`, `update_by`, `update_time`, `status`, `dev_id`) VALUES (95, '工厂', 'one', '[{\"trigger\":\"manual\",\"filters\":[]}]', '[{\"trigger\":\"device\",\"deviceId\":\"005\",\"deviceName\":\"刑天\",\"productKey\":\"xCKhOuheCMnV\",\"filters\":[]}]', 1, 'demo', '2025-11-06 09:48:01', 'demo', '2025-11-06 09:48:01', 0, NULL);
INSERT INTO `scene_linkage` (`id`, `scene_name`, `touch`, `trigger_condition`, `exec_action`, `sleep_cycle`, `create_by`, `create_time`, `update_by`, `update_time`, `status`, `dev_id`) VALUES (96, '自动关闭演示设备的灯光', 'one', '[{\"trigger\":\"timer\",\"cron\":\"0 30 * * * ?\",\"filters\":[]}]', '[{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"860048070262660-9\",\"deviceName\":\"声光报警器-9（点了开不关，IP拉黑！）\",\"productKey\":\"FzpVZ9unsUvU\",\"modelId\":\"controlLight\",\"filters\":[],\"execData\":[{\"id\":\"slaveAddress\",\"name\":\"从站地址\",\"params\":\"9\"},{\"id\":\"lightColor\",\"name\":\"灯光颜色\",\"params\":\"0\"},{\"id\":\"flashMode\",\"name\":\"闪灯方式\",\"params\":\"4\"}]},{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"860048070262660-1\",\"deviceName\":\"三色声光报警（巨响）-点了开不关，IP拉黑！\",\"productKey\":\"mVnhk9Vk40Ga\",\"modelId\":\"stopCurrentPlay\",\"filters\":[],\"execData\":[{\"id\":\"slaveAddress\",\"name\":\"从站地址\",\"params\":\"1\"}]},{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"250707ea8dda\",\"deviceName\":\"DLT645-4G电表(点了开不关，IP拉黑！）\",\"productKey\":\"HnDdSnj1kiQg\",\"modelId\":\"switchOnOff\",\"filters\":[],\"execData\":[{\"id\":\"meterNo\",\"name\":\"表号\",\"params\":\"250707ea8dda\"},{\"id\":\"valveOn\",\"name\":\"开关阀操作\",\"params\":\"0\"}]}]', 3600, 'demo', '2025-11-19 07:56:58', 'iot', '2025-11-20 18:50:59', 0, NULL);
INSERT INTO `scene_linkage` (`id`, `scene_name`, `touch`, `trigger_condition`, `exec_action`, `sleep_cycle`, `create_by`, `create_time`, `update_by`, `update_time`, `status`, `dev_id`) VALUES (97, 'ZL设备联动测试', 'one', '[{\"trigger\":\"device\",\"type\":\"properties\",\"deviceId\":\"zl1\",\"deviceName\":\"ZL_001\",\"productKey\":\"9n91IXPUWsmq\",\"filters\":[{\"key\":\"dx\",\"value\":\"10\",\"operator\":\"gt\"}]},{\"trigger\":\"timer\",\"cron\":\"0 0 9 * * ?\",\"filters\":[]},{\"trigger\":\"manual\",\"filters\":[]}]', '[{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"zl1\",\"deviceName\":\"ZL_001\",\"productKey\":\"9n91IXPUWsmq\",\"modelId\":\"zlRestart\",\"filters\":[],\"execData\":[{\"id\":\"root_start\",\"name\":\"启动开关\",\"params\":\"true\"}]},{\"trigger\":\"notice\",\"filters\":[],\"noticeTemplateId\":\"7\",\"noticeTemplateName\":\"短信推送\",\"receivers\":\"\"}]', 60, 'demo', '2025-11-19 11:42:40', 'demo', '2025-11-19 11:42:40', 0, NULL);
INSERT INTO `scene_linkage` (`id`, `scene_name`, `touch`, `trigger_condition`, `exec_action`, `sleep_cycle`, `create_by`, `create_time`, `update_by`, `update_time`, `status`, `dev_id`) VALUES (100, '22', 'one', '[{\"trigger\":\"device\",\"type\":\"properties\",\"deviceId\":\"250707ea8dda\",\"deviceName\":\"DLT645-4G电表(点了开不关，IP拉黑！）\",\"productKey\":\"HnDdSnj1kiQg\",\"filters\":[{\"key\":\"remainEnergy\",\"value\":\"10\",\"operator\":\"lte\"}]}]', '[{\"trigger\":\"device\",\"type\":\"functions\",\"deviceId\":\"250707ea8dda\",\"deviceName\":\"DLT645-4G电表(点了开不关，IP拉黑！）\",\"productKey\":\"HnDdSnj1kiQg\",\"modelId\":\"setParameters\",\"filters\":[],\"execData\":[{\"id\":\"meterNo\",\"name\":\"表号\",\"params\":\"250707ea8dda\"},{\"id\":\"overVoltage\",\"name\":\"电压过载限值\",\"params\":\"25\"},{\"id\":\"overCurrent\",\"name\":\"电流过载限值\",\"params\":\"25\"},{\"id\":\"lowBalance\",\"name\":\"余额不足阈值\",\"params\":\"25\"}],\"noticeTemplateId\":\"8\",\"noticeTemplateName\":\"提醒天亮-欢迎进群\"}]', 22, 'demo', '2025-11-21 15:32:53', 'demo', '2025-11-21 15:33:28', 0, NULL);
COMMIT;

-- ----------------------------
-- Table structure for support_map_areas
-- ----------------------------
DROP TABLE IF EXISTS `support_map_areas`;
CREATE TABLE `support_map_areas` (
  `id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'id',
  `pid` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '父id',
  `name` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '地址',
  `full_name` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '详细地址',
  `deep` varchar(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '深度',
  `location` geometry NOT NULL COMMENT '核心点坐标',
  `polygon` geometry NOT NULL COMMENT '范围坐标',
  PRIMARY KEY (`id`) USING BTREE,
  KEY `pid_index` (`pid`) USING BTREE,
  SPATIAL KEY `sp_index` (`polygon`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- ----------------------------
-- Records of support_map_areas
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for sys_config
-- ----------------------------
DROP TABLE IF EXISTS `sys_config`;
CREATE TABLE `sys_config` (
  `config_id` int NOT NULL AUTO_INCREMENT COMMENT '参数主键',
  `config_name` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '参数名称',
  `config_key` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '参数键名',
  `config_value` varchar(500) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '参数键值',
  `config_type` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT 'N' COMMENT '系统内置（Y是 N否）',
  `create_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`config_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8mb3 COMMENT='参数配置表';

-- ----------------------------
-- Records of sys_config
-- ----------------------------
BEGIN;
INSERT INTO `sys_config` (`config_id`, `config_name`, `config_key`, `config_value`, `config_type`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1, '主框架页-默认皮肤样式名称', 'sys.index.skinName', 'skin-blue', 'Y', 'admin', '2021-08-06 15:21:15', '', NULL, '蓝色 skin-blue、绿色 skin-green、紫色 skin-purple、红色 skin-red、黄色 skin-yellow');
INSERT INTO `sys_config` (`config_id`, `config_name`, `config_key`, `config_value`, `config_type`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (2, '用户管理-账号初始密码', 'sys.user.initPassword', '123456', 'Y', 'admin', '2021-08-06 15:21:15', '', NULL, '初始化密码 123456');
INSERT INTO `sys_config` (`config_id`, `config_name`, `config_key`, `config_value`, `config_type`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (3, '主框架页-侧边栏主题', 'sys.index.sideTheme', 'theme-dark', 'Y', 'admin', '2021-08-06 15:21:15', 'admin', '2021-09-09 15:01:46', '深色主题theme-dark，浅色主题theme-light');
INSERT INTO `sys_config` (`config_id`, `config_name`, `config_key`, `config_value`, `config_type`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (4, '账号自助-验证码开关', 'sys.account.captchaOnOff', 'false', 'Y', 'admin', '2021-08-06 15:21:15', '', '2021-12-30 09:22:06', '是否开启登录验证码功能（true开启，false关闭）');
INSERT INTO `sys_config` (`config_id`, `config_name`, `config_key`, `config_value`, `config_type`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (10, 'OSS云存储服务商', 'sys.oss.cloudStorageService', 'minio', 'Y', 'admin', '2021-08-06 15:21:45', '', NULL, 'OSS云存储服务商(qiniu:七牛云, aliyun:阿里云, qcloud:腾讯云, minio: Minio)');
INSERT INTO `sys_config` (`config_id`, `config_name`, `config_key`, `config_value`, `config_type`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (11, 'OSS预览列表资源开关', 'sys.oss.previewListResource', 'true', 'Y', 'admin', '2021-08-06 15:21:45', '', NULL, 'true:开启, false:关闭');
INSERT INTO `sys_config` (`config_id`, `config_name`, `config_key`, `config_value`, `config_type`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (12, '授权', 'directUrl', 'ddd', 'Y', 'admin', '2021-10-21 18:33:45', NULL, NULL, NULL);
INSERT INTO `sys_config` (`config_id`, `config_name`, `config_key`, `config_value`, `config_type`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (13, '修改密码周期（天）', 'updatePasswordCycle', '90', 'Y', 'admin', '2021-11-02 14:37:25', NULL, NULL, NULL);
COMMIT;

-- ----------------------------
-- Table structure for sys_dict_data
-- ----------------------------
DROP TABLE IF EXISTS `sys_dict_data`;
CREATE TABLE `sys_dict_data` (
  `dict_code` bigint NOT NULL AUTO_INCREMENT COMMENT '字典编码',
  `dict_sort` int DEFAULT '0' COMMENT '字典排序',
  `dict_label` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '字典标签',
  `dict_value` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '字典键值',
  `dict_type` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT '' COMMENT '字典类型',
  `css_class` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '样式属性（其他样式扩展）',
  `list_class` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '表格回显样式',
  `is_default` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT 'N' COMMENT '是否默认（Y是 N否）',
  `status` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '0' COMMENT '状态（0正常 1停用）',
  `create_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`dict_code`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=871 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='字典数据表';

-- ----------------------------
-- Records of sys_dict_data
-- ----------------------------
BEGIN;
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1, 1, '通知', '1', 'sys_notice_type', '', 'primary', 'Y', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '通知类型');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (2, 2, '公告', '2', 'sys_notice_type', '', 'success', 'N', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '公告类型');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (3, 1, '正常', '0', 'sys_notice_status', '', 'success', 'Y', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '正常状态');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (4, 2, '关闭', '1', 'sys_notice_status', '', 'danger', 'N', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '关闭状态');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (5, 1, '系统内置', 'Y', 'sys_dict_type', '', 'danger', 'Y', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '系统内置字典');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (6, 2, '业务字典', 'N', 'sys_dict_type', '', 'primary', 'N', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '业务字典');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (7, 1, '正常', '0', 'sys_dict_status', '', 'success', 'Y', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '正常状态');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (8, 2, '停用', '1', 'sys_dict_status', '', 'danger', 'N', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '停用状态');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (197, 0, '正常', '0', 'sys_normal_disable', NULL, NULL, NULL, '0', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (198, 1, '停用', '1', 'sys_normal_disable', NULL, NULL, NULL, '0', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (199, 0, '显示', '0', 'sys_show_hide', NULL, NULL, NULL, '0', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (200, 1, '隐藏', '1', 'sys_show_hide', NULL, NULL, NULL, '0', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (201, 0, '是', 'Y', 'sys_yes_no', NULL, NULL, NULL, '0', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (202, 1, '否', 'N', 'sys_yes_no', NULL, NULL, NULL, '0', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (203, 0, '成功', '0', 'sys_common_status', NULL, NULL, NULL, '0', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (204, 1, '失败', '1', 'sys_common_status', NULL, NULL, NULL, '0', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (205, 0, '离线', 'false', 'dev_instance_state', NULL, NULL, NULL, '0', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (206, 1, '在线', 'true', 'dev_instance_state', NULL, NULL, NULL, '0', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (217, 0, '操作人', 'operator', 'product_configuration_ctwing', NULL, NULL, NULL, '0', 'iot', '2021-12-29 14:00:04', 'iot', '2022-08-24 14:45:23', '{\"remark\":\"天翼物联默认账户\",\"type\":\"string\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (218, 0, '产品ID', 'productId', 'product_configuration_ctwing', NULL, NULL, NULL, '0', 'iot', '2021-12-29 14:01:40', 'iot', '2022-08-24 14:45:16', '{\"remark\":\"电信产品ID\",\"type\":\"string\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (219, 0, '设备指令缓存时长', 'ttl', 'product_configuration_ctwing', NULL, NULL, NULL, '0', 'iot', '2021-12-29 14:02:30', 'iot', '2022-08-24 14:45:05', '{\"remark\":\"设备指令缓存时长\",\"type\":\"string\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (220, 0, '指令下发数据类型', 'dataType', 'product_configuration_ctwing', NULL, NULL, NULL, '0', 'iot', '2021-12-29 14:06:45', 'iot', '2022-08-24 14:44:54', '{\"remark\":\"下发指令数据类型：1-字符串，2-16进制\",\"type\":\"string\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (221, 0, '指令下发数据方案', 'downParaType', 'product_configuration_ctwing', NULL, NULL, NULL, '0', 'iot', '2021-12-29 14:12:35', 'iot', '2023-05-08 11:37:50', '{\"remark\":\"0：TCP和LWM2M，透传1：MQTT、LWM2M协议非透传profile：有编解码的指令下发\",\"type\":\"string\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (222, 0, '是否透传', 'passThrough', 'product_configuration_ctwing', NULL, NULL, NULL, '0', 'iot', '2021-12-29 14:13:42', 'iot', '2022-08-24 14:44:04', '{\"remark\":\"TRUE|FALSE\",\"type\":\"boolean\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (223, 0, '产品Master-APIKey', 'masterKey', 'product_configuration_ctwing', NULL, NULL, NULL, '0', 'iot', '2021-12-29 14:14:56', 'iot', '2022-08-24 14:43:51', '{\"remark\":\"天翼物联Master-APIkey\",\"type\":\"string\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (224, 0, '发布', '0', 'product_state', NULL, NULL, NULL, '0', 'iot', '2021-12-30 09:33:52', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (226, 1, '停用', '1', 'product_state', NULL, NULL, NULL, '0', 'iot', '2021-12-30 09:34:21', 'iot', '2021-12-30 10:43:32', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (227, 0, '正常', '0', 'application_delete_status', NULL, NULL, NULL, '0', 'iot', '2021-12-30 13:49:44', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (228, 1, '删除', '1', 'application_delete_status', NULL, NULL, NULL, '0', 'iot', '2021-12-30 13:51:19', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (229, 0, '已发布', '1', 'protocol_state', NULL, NULL, NULL, '0', 'iot', '2022-01-06 14:19:09', 'iot', '2022-01-06 14:22:03', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (230, 1, '未发布', '0', 'protocol_state', NULL, NULL, NULL, '0', 'iot', '2022-01-06 14:19:18', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (231, 0, 'jar', 'jar', 'protocol_type', NULL, NULL, NULL, '1', 'iot', '2022-01-06 14:23:43', 'iot', '2025-07-13 11:35:08', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (232, 1, 'jscript', 'jscript', 'protocol_type', NULL, NULL, NULL, '1', 'iot', '2022-01-06 14:24:23', 'iot', '2025-10-26 18:14:54', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (233, 0, '设备', 'device', 'tsl_source', NULL, NULL, NULL, '0', 'iot', '2022-01-06 16:12:20', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (234, 0, '手动', 'manual', 'tsl_source', NULL, NULL, NULL, '0', 'iot', '2022-01-06 16:14:19', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (235, 0, '规则', 'rule', 'tsl_source', NULL, NULL, NULL, '0', 'iot', '2022-01-06 16:14:25', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (236, 0, 'MQTT', 'MQTT', 'connection_protocol', NULL, NULL, NULL, '0', 'iot', '2022-01-12 14:50:36', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (237, 1, 'UDP', 'UDP', 'connection_protocol', NULL, NULL, NULL, '0', 'iot', '2022-01-12 14:50:58', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (238, 2, 'CoAp', 'CoAp', 'connection_protocol', NULL, NULL, NULL, '0', 'iot', '2022-01-12 14:51:11', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (239, 3, 'TCP', 'TCP', 'connection_protocol', NULL, NULL, NULL, '0', 'iot', '2022-01-12 14:51:25', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (240, 4, 'HTTP', 'HTTP', 'connection_protocol', NULL, NULL, NULL, '0', 'iot', '2022-01-12 14:51:32', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (241, 5, 'HTTPS', 'HTTPS', 'connection_protocol', NULL, NULL, NULL, '0', 'iot', '2022-01-12 14:51:42', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (242, 0, 'int', 'int(整数型)', 'model_basic_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:37:04', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (243, 1, 'long', 'long(长整类型)', 'model_basic_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:37:29', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (244, 2, 'float', 'float(单精度浮点型)', 'model_basic_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:37:57', 'iot', '2022-01-24 16:50:47', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (245, 3, 'double', 'double(双精度浮点型)', 'model_basic_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:38:12', 'iot', '2022-01-24 16:51:00', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (246, 4, 'boolean', 'boolean(布尔型)', 'model_basic_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:39:01', 'iot', '2022-01-24 16:51:20', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (247, 5, 'string', 'string(字符串)', 'model_basic_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:39:29', 'iot', '2022-01-24 16:51:31', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (248, 6, 'text', 'text(文本)', 'model_basic_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:39:36', 'iot', '2022-01-24 16:51:37', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (249, 0, 'date', 'date(时间型)', 'model_other_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:42:18', 'iot', '2022-01-24 16:51:57', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (250, 1, 'array', 'array(数组)', 'model_other_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:42:26', 'iot', '2022-01-24 16:52:14', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (251, 2, 'enum', 'enum(枚举)', 'model_other_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:42:56', 'iot', '2022-01-24 16:52:21', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (252, 3, 'object', 'object(结构体)', 'model_other_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:43:08', 'iot', '2022-01-24 16:52:30', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (253, 4, 'geoPoint', 'geoPoint(地理位置)', 'model_other_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:43:27', 'iot', '2022-01-24 16:52:45', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (254, 5, 'file', 'file(文件)', 'model_other_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:43:41', 'iot', '2022-01-24 16:52:52', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (255, 6, 'password', 'password(密码)', 'model_other_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:43:50', 'iot', '2022-01-24 16:52:58', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (256, 7, 'geoShape', 'geoShape(地理形状)', 'model_other_data', NULL, NULL, NULL, '0', 'iot', '2022-01-24 16:44:43', 'iot', '2022-01-24 16:53:13', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (257, 0, 'utc', 'String类型的UTC时间戳(毫秒)', 'model_data_type', NULL, NULL, NULL, '0', 'iot', '2022-01-24 17:27:24', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (258, 1, 'yyyyMMddHHmmss', 'yyyy-MM-dd HH:mm:ss', 'model_data_type', NULL, NULL, NULL, '0', 'iot', '2022-01-24 17:28:55', 'iot', '2022-01-24 17:29:26', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (259, 0, 'url', 'URL(链接)', 'model_file_type', NULL, NULL, NULL, '0', 'iot', '2022-01-24 17:29:54', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (260, 1, 'base64', 'Base64(Base64编码)', 'model_file_type', NULL, NULL, NULL, '0', 'iot', '2022-01-24 17:30:27', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (261, 2, 'binary', 'Binary(二进制)', 'model_file_type', NULL, NULL, NULL, '0', 'iot', '2022-01-24 17:30:54', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (262, 0, 'often_used_unit', '常用单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:22:59', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (263, 1, 'measurement_unit', '计量单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:23:22', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (264, 2, 'area_unit', '面积单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:23:56', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (265, 3, 'time_unit', '时间单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:24:12', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (266, 4, 'volume_unit', '体积单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:24:32', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (267, 5, 'flow_unit', '流量单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:24:53', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (268, 6, 'capacity_unit', '容积单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:25:13', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (269, 7, 'mass_unit', '质量单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:25:30', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (270, 8, 'pressure_unit', '压力单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:25:49', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (271, 9, 'temperature_unit', '温度单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:26:05', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (272, 10, 'energy_unit', '能量单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:26:24', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (275, 11, 'power_unit', '功率单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:29:45', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (276, 12, 'angle_unit', '角度单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:30:02', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (277, 13, 'frequency_unit', '频率单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:30:19', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (278, 14, 'speed_unit', '速度单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:30:31', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (279, 15, 'electricity_unit', '电单位', 'model_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:30:47', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (280, 0, '%', '百分比 %', 'often_used_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:39:33', 'iot', '2022-01-24 18:42:33', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (281, 1, '次', '次 count', 'often_used_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:39:45', 'iot', '2022-08-09 16:34:02', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (282, 2, 'r/min', '转每分钟 r/min', 'often_used_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:40:16', 'iot', '2022-01-24 18:41:21', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (283, 4, '℃', '摄氏度 ℃', 'often_used_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:41:14', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (284, 5, 'dBm', '信号强度 dBm', 'often_used_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:41:51', 'iot', '2022-01-24 18:42:44', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (285, 6, 'kj', '千焦 kj', 'often_used_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:42:01', 'iot', '2022-01-24 18:42:47', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (286, 7, 'ppm', '百万分率 ppm', 'often_used_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:42:10', 'iot', '2022-01-24 18:42:52', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (287, 3, 'db', '分贝 db', 'often_used_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-24 18:42:19', 'iot', '2022-01-24 18:43:31', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (288, 0, 'nm', '纳米 nm', 'measurement_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:48:42', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (289, 0, 'μm', '微米 μm', 'measurement_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:49:00', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (290, 0, 'mm', '毫米 mm', 'measurement_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:49:09', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (291, 0, 'cm', '厘米 cm', 'measurement_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:49:17', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (292, 0, 'm', '米 m', 'measurement_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:49:26', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (293, 0, 'km', '千米 km', 'measurement_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:49:34', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (297, 0, 'mm²', '平方毫米 mm²', 'area_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:51:04', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (298, 0, 'cm²', '平方厘米 cm²', 'area_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:51:12', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (299, 0, 'm²', '平方米 m²', 'area_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:51:22', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (300, 0, 'km²', '平方千米 km²', 'area_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:51:31', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (301, 0, 'hm²', '公顷 hm²', 'area_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:51:41', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (302, 0, 'd', '天 d', 'time_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:51:57', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (303, 0, 'h', '小时 h', 'time_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:52:05', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (304, 0, 'min', '分钟 min', 'time_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:52:14', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (305, 0, 's', '秒 s', 'time_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:52:23', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (306, 0, 'ms', '毫秒 ms', 'time_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:52:33', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (307, 0, 'μs', '微秒 μs', 'time_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:52:42', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (308, 0, 'ns', '纳秒 ns', 'time_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:52:56', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (309, 0, 'mm³', '立方毫米 mm³', 'volume_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:53:13', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (310, 0, 'cm³', '立方厘米 cm³', 'volume_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:53:21', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (311, 0, 'm³', '立方米 m³', 'volume_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:53:31', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (312, 0, 'km³', '立方千米 km³', 'volume_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:53:39', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (313, 0, 'm³/s', '立方米每秒 m³/s', 'flow_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:53:55', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (314, 0, 'km³/s', '立方千米每秒 km³/s', 'flow_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:54:05', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (315, 0, 'cm³/s', '立方厘米每秒 cm³/s', 'flow_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:54:14', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (316, 0, 'l/s', '升每秒 l/s', 'flow_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:54:22', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (317, 0, 'm³/h', '立方米每小时 m³/h', 'flow_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:54:39', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (318, 0, 'km³/h', '立方千米每小时 km³/h', 'flow_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:54:47', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (319, 0, 'cm³/h', '立方厘米每小时 cm³/h', 'flow_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:54:56', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (320, 0, 'l/h', '升每小时 l/h', 'flow_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:55:08', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (321, 0, 'mL', '毫升 mL', 'capacity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:55:21', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (322, 0, 'L', '升 L', 'capacity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:55:29', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (323, 0, 'mg', '毫克 mg', 'mass_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:55:44', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (324, 0, 'g', '克 g', 'mass_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:55:52', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (325, 0, 'kg', '千克 kg', 'mass_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:56:04', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (326, 0, 't', '吨 t', 'mass_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:56:13', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (327, 0, 'Pa', '帕斯卡 Pa', 'pressure_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:56:29', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (328, 0, 'kPa', '千帕斯卡 kPa', 'pressure_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:56:38', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (329, 0, 'N', '牛顿 N', 'pressure_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:56:46', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (330, 0, 'N.m', '牛·米 N.m', 'pressure_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:56:55', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (331, 0, 'K', '开尔文 K', 'temperature_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:57:10', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (332, 0, '℃', '摄氏度 ℃', 'temperature_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:57:18', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (333, 0, '℉', '华氏度 ℉', 'temperature_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:57:41', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (334, 0, 'J', '焦耳 J', 'energy_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:57:54', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (335, 0, 'cal', '卡 cal', 'energy_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:58:03', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (336, 0, 'W', '瓦特 W', 'power_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:58:18', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (337, 0, 'kW', '千瓦特 kW', 'power_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:58:25', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (338, 0, 'rad', '弧度 rad', 'angle_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:58:40', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (339, 0, '°', '度 °', 'angle_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:58:48', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (340, 0, '′', '[角]分 ′', 'angle_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:58:57', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (341, 0, '″', '[角]秒 ', 'angle_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:59:07', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (342, 0, 'Hz', '赫兹 Hz', 'frequency_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:59:18', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (343, 0, 'MHz', '兆赫兹 MHz', 'frequency_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:59:27', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (344, 0, 'GHz', 'G赫兹 GHz', 'frequency_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:59:34', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (345, 0, 'm/s', '米每秒 m/s', 'speed_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:59:47', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (346, 0, 'km/h', '千米每小时 km/h', 'speed_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 09:59:55', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (347, 0, 'kn', '节 kn', 'speed_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:00:06', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (348, 0, 'V', '伏特 V', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:00:24', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (349, 0, 'kV', '千伏 kV', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:00:31', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (350, 0, 'mV', '毫伏 mV', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:00:38', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (351, 0, 'μV', '微伏 μV', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:00:45', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (352, 0, 'A', '安培 A', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:00:53', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (353, 0, 'mA', '毫安 mA', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:01:00', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (354, 0, 'μA', '微安 μA', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:01:08', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (355, 0, 'nA', '纳安 nA', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:01:15', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (356, 0, 'Ω', '欧姆 Ω', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:01:23', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (357, 0, 'KΩ', '千欧 KΩ', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:01:31', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (358, 0, 'MΩ', '兆欧 MΩ', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:01:39', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (359, 0, 'eV', '电子伏 ', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:01:47', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (360, 0, 'kW·h', '千瓦·时 kW·h', 'electricity_unit', NULL, NULL, NULL, '0', 'iot', '2022-01-25 10:01:55', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (361, 0, '通知', 'notice', 'alarm_level', NULL, NULL, NULL, '0', 'iot', '2022-01-25 18:59:20', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (362, 0, '紧急', 'urgent', 'alarm_level', NULL, NULL, NULL, '0', 'iot', '2022-01-25 18:59:27', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (363, 0, '主要', 'primary', 'alarm_level', NULL, NULL, NULL, '0', 'iot', '2022-01-25 18:59:37', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (364, 0, '严重', 'serious', 'alarm_level', NULL, NULL, NULL, '0', 'iot', '2022-01-25 18:59:45', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (365, 0, '直连设备', 'DEVICE', 'instance_node', NULL, NULL, NULL, '0', 'iot', '2022-01-26 11:03:35', 'iot', '2025-09-26 20:55:47', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (366, 1, '网关设备', 'GATEWAY', 'instance_node', NULL, NULL, NULL, '0', 'iot', '2022-01-26 11:04:43', 'iot', '2025-09-26 20:55:43', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (367, 2, '网关子设备', 'GATEWAY_SUB_DEVICE', 'instance_node', NULL, NULL, NULL, '0', 'iot', '2022-01-26 11:05:54', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (370, 0, '属性上报', 'PROPERTIES', 'data_type', NULL, NULL, NULL, '0', 'iot', '2022-01-26 14:35:51', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (371, 1, '事件上报', 'EVENT', 'data_type', NULL, NULL, NULL, '0', 'iot', '2022-01-26 14:36:03', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (372, 2, '功能调用', 'FUNCTIONS', 'data_type', NULL, NULL, NULL, '0', 'iot', '2022-01-26 14:36:16', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (373, 3, '功能回复', 'REPLY', 'data_type', NULL, NULL, NULL, '0', 'iot', '2022-01-26 14:36:27', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (382, 0, '离线判定时间​(分)', 'offlineThreshold', 'product_configuration_public', NULL, NULL, NULL, '0', 'iot', '2022-02-07 15:33:03', 'iot', '2025-09-12 12:54:20', '{\"remark\":\"设备最后一次通信时间超过阈值，则判定离线；默认24小时(单位:分)\",\"type\":\"int\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (383, 0, '保留原始数据', 'requirePayload', 'product_configuration_public', NULL, NULL, NULL, '0', 'iot', '2022-02-08 13:33:15', 'iot', '2025-07-27 13:25:44', '{\"remark\":\"布尔类型；默认false\",\"type\":\"boolean\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (388, 1, '天翼物联', 'ctaiot', 'third_platform', NULL, NULL, NULL, '0', 'iot', '2022-02-14 16:22:29', 'iot', '2025-08-09 20:34:35', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (389, 0, '移动OneNet', 'onenet', 'third_platform', NULL, NULL, NULL, '1', 'iot', '2022-02-14 16:22:53', 'iot', '2025-07-11 09:39:25', '移动新版OneNet');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (420, 0, '云云对接', 'http', 'third_platform', NULL, NULL, NULL, '0', 'iot', '2022-03-17 12:11:54', 'iot', '2022-03-24 13:41:16', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (445, 3, 'magic', 'magic', 'protocol_type', NULL, NULL, NULL, '0', 'iot', '2022-06-08 17:03:01', 'iot', '2022-06-08 17:13:21', '内置大量函数封装');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (446, 0, '第三方指令接收URL', 'thirdDownUrl', 'product_configuration_http', NULL, NULL, NULL, '0', 'iot', '2022-07-13 11:33:21', 'iot', '2025-07-27 14:00:59', '{\"remark\":\"将通过这个URL下发指令，如没有可不填\",\"type\":\"string\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (447, 0, '支持南向云对接', 'thirdDownSupport', 'product_configuration_http', NULL, NULL, NULL, '0', 'iot', '2022-07-13 11:34:26', 'iot', '2022-08-25 09:31:55', '{\"remark\":\"基于物模型将功能参数传给第三方平台，完成功能调用\",\"type\":\"boolean\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (448, 3, '设备SN解析', 'snDecode', 'product_configuration_public', NULL, NULL, NULL, '0', 'iot', '2022-07-14 11:39:24', 'iot', '2022-08-22 20:30:05', '{\"remark\":\"设备sn解析\",\"type\":\"string\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (449, 0, 'NB_IMEI', 'imei', 'device_common_property', NULL, NULL, NULL, '0', 'iot', '2022-08-02 11:35:17', 'iot', NULL, 'NB部分设备功能调用需要');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (450, 0, '表号', 'meterNo', 'device_common_property', NULL, NULL, NULL, '0', 'iot', '2022-08-02 11:35:33', 'iot', NULL, '水电表');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (451, 0, '设备序列号', 'deviceId', 'device_common_property', NULL, NULL, NULL, '0', 'iot', '2022-08-02 11:35:48', 'iot', NULL, '暂时大华设备需要');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (452, 0, '新增', '1', 'sys_oper_type', NULL, NULL, NULL, '0', 'iot', '2022-08-02 14:07:03', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (453, 1, '修改', '2', 'sys_oper_type', NULL, NULL, NULL, '0', 'iot', '2022-08-02 14:07:14', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (454, 3, '删除', '3', 'sys_oper_type', NULL, NULL, NULL, '0', 'iot', '2022-08-02 14:07:25', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (455, 4, '授权', '4', 'sys_oper_type', NULL, NULL, NULL, '0', 'iot', '2022-08-02 14:07:32', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (456, 5, '导出', '5', 'sys_oper_type', NULL, NULL, NULL, '0', 'iot', '2022-08-02 14:07:43', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (457, 6, '导入', '6', 'sys_oper_type', NULL, NULL, NULL, '0', 'iot', '2022-08-02 14:07:50', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (458, 0, '定位设备', 'isGps', 'product_configuration_public', NULL, NULL, NULL, '0', 'iot', '2022-08-05 16:02:53', 'iot', '2025-07-27 13:14:59', '{\"remark\":\"布尔类型；默认false\",\"type\":\"boolean\",\"default\":false}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (459, 0, '是否保存功能下发参数', 'saveFunctionParam', 'product_configuration_public', NULL, NULL, NULL, '0', 'iot', '2022-08-17 14:23:46', 'iot', '2022-08-22 20:29:01', '{\"remark\":\"是否保存功能下发参数\",\"type\":\"boolean\",\"default\":true}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (460, 0, '指令下行转16进制', 'encodeHex', 'product_configuration_public', NULL, NULL, NULL, '1', 'iot', '2022-08-17 17:22:45', 'iot', '2022-08-19 08:34:35', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (462, 0, '字符串(utf-8)', 'STRING', 'tcp_data_conver_format', NULL, NULL, NULL, '0', 'iot', '2022-08-22 15:06:31', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (463, 1, '十六进制', 'HEX', 'tcp_data_conver_format', NULL, NULL, NULL, '0', 'iot', '2022-08-22 15:06:48', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (464, 0, 'TCP', 'tcp', 'third_platform', NULL, NULL, NULL, '0', 'iot', '2022-08-22 15:19:43', 'iot', '2025-07-11 09:42:51', '4G，5G，WiFi');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (467, 14, '空闲间隔时长', 'idleInterval', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 14:49:15', 'iot', '2022-08-23 20:50:18', '{\"remark\":\"空闲间隔时长\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (468, 13, '发送超时时长', 'sendTimeout', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 14:50:57', 'iot', '2022-08-23 20:50:13', '{\"remark\":\"发送超时时长\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (469, 12, '读取超时时长', 'readTimeout', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 14:51:22', 'iot', '2022-08-23 20:50:08', '{\"remark\":\"读取超时时长\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (470, 0, '是否启用', 'enabled', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 14:51:36', 'iot', '2022-08-24 11:02:11', '{\"remark\":\"是否启用\",\"type\":\"boolean\",\"hide\":\"false\",\"default\":false}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (473, 11, '写(idle)检测时长', 'writerIdleTime', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 15:03:04', 'iot', '2022-09-22 10:02:39', '{\"remark\":\"writerIdleTime(s)\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (474, 10, '读(idle)检测时长', 'readerIdleTime', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 15:03:17', 'iot', '2022-09-22 10:00:43', '{\"remark\":\"readerIdleTime(s)\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (475, 9, '读写(allIdle)检测时长', 'allIdleTime', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 15:03:39', 'iot', '2022-09-22 10:03:10', '{\"remark\":\"allIdle(s)\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (476, 8, '解析器类型', 'parserType', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 15:05:53', 'iot', '2022-08-23 20:49:47', '{\"remark\":\"解析器\",\"type\":\"select\",\"url\":\"tcp_parser_type\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (477, 0, '不处理', 'DIRECT', 'tcp_parser_type', NULL, NULL, NULL, '0', 'iot', '2022-08-23 15:09:16', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (478, 0, '固定长度', 'FIXED_LENGTH', 'tcp_parser_type', NULL, NULL, NULL, '0', 'iot', '2022-08-23 15:09:45', 'nexiot', '2025-12-06 20:01:58', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (479, 0, '分隔符', 'DELIMITER', 'tcp_parser_type', NULL, NULL, NULL, '0', 'iot', '2022-08-23 15:09:54', 'nexiot', '2025-12-06 19:59:38', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (483, 15, '分隔符（分隔符解析器）', 'delimiter', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 21:26:53', 'nexiot', '2025-12-06 21:38:59', '{\"remark\":\"分隔符类型\",\"type\":\"select\",\"url\":\"tcp_delimiter_list\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (484, 16, '分隔的最大长度（分隔符解析器）', 'delimitedMaxlength', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 21:27:28', 'iot', '2022-08-23 21:28:53', '{\"remark\":\"分隔的最大长度（分隔符解析器）\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (485, 17, '固定长度（固定长度解析器）', 'fixedLength', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 21:28:03', 'iot', '2022-08-23 21:29:01', '{\"remark\":\"固定长度（固定长度解析器）\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (488, 0, '所有', 'ALL', 'subscribe_type', NULL, NULL, NULL, '0', 'iot', '2022-09-13 14:22:56', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (489, 2, '事件', 'EVENT', 'subscribe_type', NULL, NULL, NULL, '0', 'iot', '2022-09-13 14:23:08', 'iot', '2025-10-30 20:28:51', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (490, 1, '属性', 'PROPERTIES', 'subscribe_type', NULL, NULL, NULL, '0', 'iot', '2022-09-13 14:23:39', 'iot', '2025-10-30 20:28:46', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (491, 3, '功能调用', 'FUNCTIONS', 'subscribe_type', NULL, NULL, NULL, '0', 'iot', '2022-09-13 14:23:52', 'iot', '2025-10-30 20:28:26', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (492, 4, '功能回复', 'REPLY', 'subscribe_type', NULL, NULL, NULL, '0', 'iot', '2022-09-13 14:24:07', 'iot', '2025-10-30 20:29:08', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (493, 0, '产品', 'PRODUCT', 'subscribe_level', NULL, NULL, NULL, '0', 'iot', '2022-09-13 14:25:32', 'iot', '2025-10-30 20:30:51', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (494, 1, '设备', 'DEVICE', 'subscribe_level', NULL, NULL, NULL, '0', 'iot', '2022-09-13 14:25:44', 'iot', '2025-10-30 20:30:57', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (496, 0, 'MQTT', 'mqtt', 'third_platform', NULL, NULL, NULL, '0', 'iot', '2022-09-21 16:44:41', 'iot', '2025-07-11 09:42:06', '内置和外部部署MQTT');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (497, 0, '指令下行主题', 'downTopic', 'product_configuration_mqtt', NULL, NULL, NULL, '0', 'iot', '2022-09-29 10:02:04', 'iot', '2022-09-29 10:02:47', '{\"remark\":\"指令下行主题\",\"type\":\"string\",\"hide\":\"false\",\"default\":\"\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (498, 0, '解码带入设备影子', 'requireUpShadow', 'product_configuration_public', NULL, NULL, NULL, '0', 'iot', '2022-10-12 09:01:31', 'iot', '2025-07-27 13:28:08', '{\"remark\":\"上行报文是否附加影子\",\"type\":\"boolean\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (499, 3, '下发缓存', 'onlyCache', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-10-18 14:03:54', 'iot', NULL, '{\"remark\":\"无论设备是否在线，是否下发指令总是缓存；true-是；false-否\",\"type\":\"boolean\",\"hide\":\"false\",\"default\":false}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (500, 0, '消息头附带长度', 'LENGTH_FIELD', 'tcp_parser_type', NULL, NULL, NULL, '0', 'iot', '2022-10-19 14:04:23', 'nexiot', '2025-12-06 20:02:28', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (501, 18, '长度域小端在前', 'byteOrderLittle', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 14:57:42', 'iot', '2022-10-20 15:20:08', '{\"remark\":\"长度域小端在前\",\"type\":\"boolean\",\"default\":\"true\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (502, 19, '最大包长度', 'maxFrameLength', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 15:00:27', 'iot', '2022-10-20 15:19:37', '{\"remark\":\"最大包长度\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (503, 20, '长度域偏移位', 'lengthFieldOffset', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 15:01:52', 'iot', '2022-10-20 15:19:40', '{\"remark\":\"长度域偏移位\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (504, 21, '长度域所占字节', 'lengthFieldLength', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 15:02:50', 'iot', '2022-10-20 15:19:43', '{\"remark\":\"长度域所占字节\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (505, 22, '数据长度偏移量', 'lengthAdjustment', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 15:04:59', 'iot', '2022-10-20 15:19:46', '{\"remark\":\"数据长度偏移量\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (506, 23, '跳过字节数', 'initialBytesToStrip', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 15:05:29', 'iot', '2022-10-20 15:19:49', '{\"remark\":\"跳过字节数\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (507, 24, '数据超长异常', 'failFast', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 15:06:24', 'iot', '2022-10-20 15:20:01', '{\"remark\":\"数据超长异常\",\"type\":\"boolean\",\"default\":\"true\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (509, 0, '永远通过预解码获取设备序列号', 'alwaysPreDecode', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2022-11-10 14:17:30', 'iot', '2022-11-10 14:19:11', '{\"remark\":\"永远预解码\",\"type\":\"boolean\",\"default\":\"false\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (511, 0, 'KB', '流量(KB)', 'flow_unit', NULL, NULL, NULL, '0', 'iot', '2022-12-09 14:53:33', 'iot', '2022-12-09 14:54:07', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (512, 0, 'GB', '流量(Gb)', 'flow_unit', NULL, NULL, NULL, '0', 'iot', '2022-12-09 14:54:01', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (513, 0, 'MB', '流量(Mb)', 'flow_unit', NULL, NULL, NULL, '0', 'iot', '2022-12-09 14:54:21', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (520, 99, '设备消息保存时间', 'logMaxStorage', 'product_configuration_public', NULL, NULL, NULL, '0', 'iot', '2023-02-15 12:28:56', 'iot', '2023-02-15 13:26:46', '{\"remark\":\"单位（天），默认180天\",\"type\":\"int\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (522, 0, '工业物联网', 'yiliao', 'product_tags', NULL, NULL, NULL, '0', 'iot', '2023-04-03 15:10:11', 'iot', '2025-10-29 20:55:31', '');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (523, 1, '智慧城市', 'huanbao', 'product_tags', NULL, NULL, NULL, '0', 'iot', '2023-04-03 16:11:40', 'iot', '2025-10-29 20:55:18', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (524, 0, '指令预缓存', 'preStore', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2023-04-13 11:16:54', 'iot', '2023-04-13 11:20:01', '{\"remark\":\"tcp连接假死时，缓存指令\",\"type\":\"boolean\",\"default\":\"false\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (525, 99, '自动注册新设备​', 'allowInsert', 'product_configuration_public', NULL, NULL, NULL, '0', 'iot', '2023-04-13 16:34:03', 'iot', '2025-07-27 13:26:00', '{\"remark\":\"消息上行时设备不存在时直接新增。布尔类型；默认false\",\"type\":\"boolean\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (526, 0, '换行符', 'LINE', 'tcp_parser_type', NULL, NULL, NULL, '0', 'iot', '2023-04-21 15:35:09', 'nexiot', '2025-12-06 19:51:59', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (527, 16, '换行最大长度', 'lineMaxLength', 'product_configuration_tcp', NULL, NULL, NULL, '0', 'iot', '2023-04-21 15:36:35', 'iot', '2023-04-21 15:49:44', '{\"remark\":\"换行的最大长度（换行符解析器）\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (528, 0, 'pinsu', '14.29.243.72,125.210.48.0/24', 'whitelist', NULL, NULL, NULL, '0', 'iot', '2023-08-11 14:10:45', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (529, 0, 'fuxing', '118.31.57.184', 'whitelist', NULL, NULL, NULL, '0', 'iot', '2023-08-11 14:56:19', 'iot', NULL, '测试');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (531, 0, 'xitang', '47.105.53.60', 'whitelist', NULL, NULL, NULL, '0', 'iot', '2023-08-24 16:12:41', 'iot', NULL, '溪堂上报ip白名单');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (532, 0, 'haikang', '125.210.48.247', 'whitelist', NULL, NULL, NULL, '0', 'iot', '2023-08-24 16:15:11', 'iot', NULL, '海康上行ip白名单');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (533, 0, 'onenet', '183.230.102.85,183.230.40.120,183.230.102.86,183.230.40.121,183.230.102.83,183.230.102.84', 'whitelist', NULL, NULL, NULL, '0', 'iot', '2023-08-24 16:15:11', 'iot', NULL, '移动(明文)上行ip白名单');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (534, 0, 'lechen', '118.31.73.7,118.31.36.102,118.31.35.226,118.31.73.146,118.31.6.178,121.196.220.229', 'whitelist', NULL, NULL, NULL, '0', 'iot', '2023-08-24 16:15:11', 'iot', NULL, '乐橙上行ip白名单');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (549, 0, '智慧医疗', 'yanglao', 'product_tags', NULL, NULL, NULL, '0', 'iot', '2025-06-23 19:08:20', 'iot', '2025-10-29 20:55:42', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (550, 0, '断开自动重连', 'autoReconnect', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:01:04', 'iot', NULL, '{\"remark\":\"断开重连\",\"type\":\"boolean\",\"default\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (551, 22, '保持会话', 'cleanSession', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:04:59', 'iot', '2025-07-06 11:18:03', '{\"remark\":\"true表示每次新的会话，客户端断开自动销毁。false表示使用固定的clientID保持持久会话\",\"type\":\"boolean\",\"default\":\"false\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (552, 5, '客户端前缀', 'clientIdPrefix', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:06:11', 'iot', '2025-07-06 11:19:04', '{\"remark\":\"与cleanSession对应，如果false，程序会每次用相同的clientId\",\"type\":\"boolean\",\"hide\":\"true\",\"default\":false}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (553, 0, '消息质量', 'qos', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:09:13', 'iot', NULL, '{\"remark\":\"qos:0-最多1次(可能丢);1-至少1次(可重复);2-恰好一次（不丢失且不重复）\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (554, 0, 'host', 'host', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:10:09', 'iot', '2025-09-21 16:12:31', '{\"remark\":\"broker地址：tcp://127.0.0.1:1883\",\"type\":\"string\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (555, 0, '心跳机制', 'keepAliveInterval', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:11:01', 'iot', NULL, '{\"remark\":\"心跳检测(s)\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (556, 2, 'password', 'password', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:12:01', 'iot', '2025-09-21 16:12:19', '{\"remark\":\"MQTT密码\",\"type\":\"string\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (557, 15, '开启ssl', 'ssl', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:12:39', 'iot', '2025-07-06 11:15:21', '{\"remark\":\"是否启用ssl\",\"type\":\"boolean\",\"hide\":\"false\",\"default\":false}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (558, 17, 'sslCertPath', 'SSL证书路径', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:14:17', 'iot', '2025-07-06 11:16:09', '{\"remark\":\"证书cert\",\"type\":\"string\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (559, 18, 'SSL密钥路径', 'sslKeyPath', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:15:04', 'iot', NULL, '{\"remark\":\"证书key\",\"type\":\"string\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (560, 16, 'CA证书路径', 'sslCaPath', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:15:35', 'iot', NULL, '{\"remark\":\"证书Ca\",\"type\":\"string\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (561, 14, '连接超时', 'connectTimeout', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:16:42', 'iot', NULL, '{\"remark\":\"默认30s\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (562, 1, 'username', 'username', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:17:41', 'iot', '2025-09-21 16:12:13', '{\"remark\":\"username\",\"type\":\"string\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (563, 99, '订阅主题', 'subscribeTopics', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:20:56', 'iot', NULL, '{\"remark\":\"订阅主题\",\"type\":\"json\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (564, 99, '组件类型', 'networkType', 'mqtt_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-07-06 11:21:51', 'iot', '2025-07-06 11:21:57', 'MQTT_CLIENT，MQTT_SERVER');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (565, 1, '推送消息头', 'AuthHeader', 'product_configuration_http', NULL, NULL, NULL, '0', 'iot', '2025-07-11 09:52:17', 'iot', '2025-07-11 09:53:15', '{\"remark\":\"推送http携带AuthHeader\",\"type\":\"string\"}	');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (566, 0, '推送密钥', 'AuthToken', 'product_configuration_http', NULL, NULL, NULL, '0', 'iot', '2025-07-11 09:52:31', 'iot', '2025-07-11 09:53:05', '{\"remark\":\"推送http携带AuthToken\",\"type\":\"string\"}	');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (569, 0, '推送地址', 'url', 'app_push_http', NULL, NULL, NULL, '0', 'iot', '2025-07-12 10:09:47', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (570, 0, '推送请求头', 'header', 'app_push_http', NULL, NULL, NULL, '0', 'iot', '2025-07-12 10:11:07', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (571, 0, '推送密钥', 'secret', 'app_push_http', NULL, NULL, NULL, '0', 'iot', '2025-07-12 10:11:34', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (572, 0, '访问地址', 'url', 'app_push_mqtt', NULL, NULL, NULL, '0', 'iot', '2025-07-12 10:15:18', 'iot', '2025-08-30 21:27:46', 'tcp://127.0.0.1:1883');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (573, 0, '账号', 'username', 'app_push_mqtt', NULL, NULL, NULL, '0', 'iot', '2025-07-12 10:15:35', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (574, 0, '密码', 'password', 'app_push_mqtt', NULL, NULL, NULL, '0', 'iot', '2025-07-12 10:15:48', 'iot', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (578, 0, '允许IP地址', 'host', 'network_tcp_config', NULL, NULL, NULL, '0', 'iot', '2025-07-27 19:08:37', 'iot', '2025-07-27 19:09:37', '{\"remark\":\"允许设备的IP地址\",\"type\":\"string\",\"default\":\"0.0.0.0\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (579, 0, '绑定端口', 'port', 'network_tcp_config', NULL, NULL, NULL, '0', 'iot', '2025-07-27 19:10:33', NULL, NULL, '{\"remark\":\"绑定端口\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (580, 5, ' 客户端ID', 'clientId', 'app_push_mqtt', NULL, NULL, NULL, '0', 'iot', '2025-08-30 21:26:18', NULL, NULL, 'mqtt客户端Id');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (581, 0, '编码带入影子数据', 'requireDownShadow', 'product_configuration_public', NULL, NULL, NULL, '0', 'iot', '2025-09-12 17:08:20', 'iot', '2025-09-12 17:08:49', '{\"remark\":\"平台下发是否附加影子\",\"type\":\"boolean\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (582, 0, 'DLT645-2007电表', 'PROTOCOL_645', 'tcp_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-09-13 20:46:35', 'iot', '2025-09-16 21:00:54', 'DLT645国内电表远传协议');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (583, 7, '解码数据类型', 'decoderType', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-08-22 15:03:30', 'iot', '2025-07-28 22:26:25', '{\"remark\":\"解码数据类型\",\"type\":\"select\",\"url\":\"tcp_data_conver_format\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (584, 14, '空闲间隔时长', 'idleInterval', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 14:49:15', 'iot', '2022-08-23 20:50:18', '{\"remark\":\"空闲间隔时长\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (585, 13, '发送超时时长', 'sendTimeout', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 14:50:57', 'iot', '2022-08-23 20:50:13', '{\"remark\":\"发送超时时长\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (586, 12, '读取超时时长', 'readTimeout', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 14:51:22', 'iot', '2022-08-23 20:50:08', '{\"remark\":\"读取超时时长\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (587, 0, '是否启用', 'enabled', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 14:51:36', 'iot', '2022-08-24 11:02:11', '{\"remark\":\"是否启用\",\"type\":\"boolean\",\"hide\":\"false\",\"default\":false}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (588, 11, '写(idle)检测时长', 'writerIdleTime', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 15:03:04', 'iot', '2022-09-22 10:02:39', '{\"remark\":\"writerIdleTime(s)\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (589, 10, '读(idle)检测时长', 'readerIdleTime', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 15:03:17', 'iot', '2022-09-22 10:00:43', '{\"remark\":\"readerIdleTime(s)\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (590, 9, '读写(allIdle)检测时长', 'allIdleTime', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 15:03:39', 'iot', '2022-09-22 10:03:10', '{\"remark\":\"allIdle(s)\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (591, 8, '解析器类型', 'parserType', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 15:05:53', 'iot', '2022-08-23 20:49:47', '{\"remark\":\"解析器\",\"type\":\"select\",\"url\":\"tcp_parser_type\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (592, 15, '分隔符（分隔符解析器）', 'delimited', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 21:26:53', 'iot', '2022-08-23 21:28:43', '{\"remark\":\"分隔符（分隔符解析器）\",\"type\":\"string\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (593, 16, '分隔的最大长度（分隔符解析器）', 'delimitedMaxlength', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 21:27:28', 'iot', '2022-08-23 21:28:53', '{\"remark\":\"分隔的最大长度（分隔符解析器）\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (594, 17, '固定长度（固定长度解析器）', 'fixedLength', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-08-23 21:28:03', 'iot', '2022-08-23 21:29:01', '{\"remark\":\"固定长度（固定长度解析器）\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (595, 3, '下发缓存', 'onlyCache', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-10-18 14:03:54', 'iot', NULL, '{\"remark\":\"无论设备是否在线，是否下发指令总是缓存；true-是；false-否\",\"type\":\"boolean\",\"hide\":\"false\",\"default\":false}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (596, 18, '长度域小端在前', 'byteOrderLittle', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 14:57:42', 'iot', '2022-10-20 15:20:08', '{\"remark\":\"长度域小端在前\",\"type\":\"boolean\",\"default\":\"true\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (597, 19, '最大包长度', 'maxFrameLength', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 15:00:27', 'iot', '2022-10-20 15:19:37', '{\"remark\":\"最大包长度\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (598, 20, '长度域偏移位', 'lengthFieldOffset', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 15:01:52', 'iot', '2022-10-20 15:19:40', '{\"remark\":\"长度域偏移位\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (599, 21, '长度域所占字节', 'lengthFieldLength', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 15:02:50', 'iot', '2022-10-20 15:19:43', '{\"remark\":\"长度域所占字节\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (600, 22, '数据长度偏移量', 'lengthAdjustment', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 15:04:59', 'iot', '2022-10-20 15:19:46', '{\"remark\":\"数据长度偏移量\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (601, 23, '跳过字节数', 'initialBytesToStrip', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 15:05:29', 'iot', '2022-10-20 15:19:49', '{\"remark\":\"跳过字节数\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (602, 24, '数据超长异常', 'failFast', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-10-20 15:06:24', 'iot', '2022-10-20 15:20:01', '{\"remark\":\"数据超长异常\",\"type\":\"boolean\",\"default\":\"true\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (603, 0, '永远通过预解码获取设备序列号', 'alwaysPreDecode', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2022-11-10 14:17:30', 'iot', '2022-11-10 14:19:11', '{\"remark\":\"永远预解码\",\"type\":\"boolean\",\"default\":\"false\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (604, 0, '指令预缓存', 'preStore', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2023-04-13 11:16:54', 'iot', '2023-04-13 11:20:01', '{\"remark\":\"tcp连接假死时，缓存指令\",\"type\":\"boolean\",\"default\":\"false\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (605, 16, '换行最大长度', 'lineMaxLength', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2023-04-21 15:36:35', 'iot', '2023-04-21 15:49:44', '{\"remark\":\"换行的最大长度（换行符解析器）\",\"type\":\"int\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (606, 7, '编码数据类型', 'encoderType', 'product_configuration_udp', NULL, NULL, NULL, '0', 'iot', '2025-07-26 22:52:52', NULL, NULL, '{\"remark\":\"解码数据类型\",\"type\":\"select\",\"url\":\"tcp_data_conver_format\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (607, 0, 'appSecret', 'appSecret', 'product_configuration_imoulife', NULL, NULL, NULL, '0', 'iot', '2025-09-19 11:07:39', 'iot', '2025-09-19 12:28:31', '');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (608, 0, 'appId', 'appId', 'product_configuration_imoulife', NULL, NULL, NULL, '0', 'iot', '2025-09-19 11:08:56', 'iot', '2025-09-19 12:28:18', '');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (609, 1, 'MySQL数据库', 'MYSQL', 'databridge_resource_type', '', 'success', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '支持双向数据流转');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (610, 2, 'Kafka消息队列', 'KAFKA', 'databridge_resource_type', '', 'processing', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '支持双向数据流转');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (611, 3, 'MQTT消息代理', 'MQTT', 'databridge_resource_type', '', 'processing', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '支持双向数据流转');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (612, 4, 'HTTP接口', 'HTTP', 'databridge_resource_type', '', 'warning', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '支持双向数据流转');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (613, 5, 'IoTDB时序数据库', 'IOTDB', 'databridge_resource_type', '', 'default', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '仅支持数据输出');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (614, 6, 'InfluxDB时序数据库', 'INFLUXDB', 'databridge_resource_type', '', 'default', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '仅支持数据输出');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (615, 7, 'Elasticsearch搜索引擎', 'ELASTICSEARCH', 'databridge_resource_type', '', 'default', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '仅支持数据输出');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (616, 1, '双向流转', 'BIDIRECTIONAL', 'databridge_resource_capability', '', 'success', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '支持输入和输出');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (617, 2, '仅输出', 'OUTPUT_ONLY', 'databridge_resource_capability', '', 'warning', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '仅支持数据输出');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (618, 1, '阿里云IoT平台', 'ALIYUN_IOT', 'databridge_cloud_platform', '', 'success', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '阿里云物联网平台');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (619, 2, '腾讯云IoT平台', 'TENCENT_IOT', 'databridge_cloud_platform', '', 'processing', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '腾讯云物联网平台');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (620, 3, '华为云IoT平台', 'HUAWEI_IOT', 'databridge_cloud_platform', '', 'warning', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '华为云物联网平台');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (621, 1, '主机地址', 'host', 'databridge_mysql_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:00:05', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入MySQL主机地址\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (622, 2, '端口', 'port', 'databridge_mysql_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:00:05', '', NULL, '{\"type\":\"number\",\"required\":true,\"default\":3306,\"min\":1,\"max\":65535}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (623, 3, '用户名', 'username', 'databridge_mysql_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:00:05', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入数据库用户名\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (624, 4, '密码', 'password', 'databridge_mysql_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:00:05', '', NULL, '{\"type\":\"password\",\"required\":true,\"placeholder\":\"请输入数据库密码\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (625, 5, '数据库名', 'databaseName', 'databridge_mysql_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:00:05', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入数据库名称\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (626, 1, '主机地址', 'host', 'databridge_kafka_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:01:38', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入Kafka主机地址\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (627, 2, '端口', 'port', 'databridge_kafka_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:01:38', '', NULL, '{\"type\":\"number\",\"required\":true,\"default\":9092}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (628, 3, '安全协议', 'securityProtocol', 'databridge_kafka_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:01:38', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"PLAINTEXT\",\"SSL\",\"SASL_PLAINTEXT\",\"SASL_SSL\"],\"default\":\"PLAINTEXT\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (629, 4, 'SASL机制', 'saslMechanism', 'databridge_kafka_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:01:38', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"PLAIN\",\"SCRAM-SHA-256\",\"SCRAM-SHA-512\"]}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (630, 1, 'Region ID', 'regionId', 'databridge_aliyun_iot_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"select\",\"required\":true,\"options\":[\"cn-shanghai\",\"cn-beijing\",\"cn-shenzhen\",\"ap-southeast-1\"],\"default\":\"cn-shanghai\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (631, 2, 'Access Key ID', 'accessKeyId', 'databridge_aliyun_iot_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入AccessKey ID\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (632, 3, 'Access Key Secret', 'accessKeySecret', 'databridge_aliyun_iot_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"password\",\"required\":true,\"placeholder\":\"请输入AccessKey Secret\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (633, 4, '实例ID', 'instanceId', 'databridge_aliyun_iot_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入IoT实例ID\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (634, 1, '数据输出', 'OUT', 'databridge_direction', '', 'success', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, 'IoT平台数据输出到外部系统');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (635, 2, '数据输入', 'IN', 'databridge_direction', '', 'processing', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '外部系统数据输入到IoT平台');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (636, 3, '双向流转', 'BOTH', 'databridge_direction', '', 'warning', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '支持双向数据流转');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (640, 1, 'Region', 'region', 'databridge_tencent_iot_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"select\",\"required\":true,\"options\":[\"ap-guangzhou\",\"ap-shanghai\",\"ap-beijing\",\"ap-singapore\"],\"default\":\"ap-guangzhou\",\"placeholder\":\"请选择地域\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (641, 2, 'Secret ID', 'secretId', 'databridge_tencent_iot_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入腾讯云Secret ID\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (642, 3, 'Secret Key', 'secretKey', 'databridge_tencent_iot_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"password\",\"required\":true,\"placeholder\":\"请输入腾讯云Secret Key\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (643, 4, '产品ID', 'productId', 'databridge_tencent_iot_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入产品ID（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (644, 5, '设备名称', 'deviceName', 'databridge_tencent_iot_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入设备名称（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (650, 1, 'Region', 'region', 'databridge_huawei_iot_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"select\",\"required\":true,\"options\":[\"cn-north-4\",\"cn-south-1\",\"cn-east-2\",\"ap-southeast-1\"],\"default\":\"cn-north-4\",\"placeholder\":\"请选择地域\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (651, 2, '项目ID', 'projectId', 'databridge_huawei_iot_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入华为云项目ID\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (652, 3, 'App ID', 'appId', 'databridge_huawei_iot_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入应用ID\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (653, 4, 'App Secret', 'appSecret', 'databridge_huawei_iot_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"password\",\"required\":true,\"placeholder\":\"请输入应用密钥\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (654, 5, '应用名称', 'appName', 'databridge_huawei_iot_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:08:01', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入应用名称（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (660, 1, '主机地址', 'host', 'databridge_mqtt_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:02:33', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入MQTT Broker地址\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (661, 2, '端口', 'port', 'databridge_mqtt_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:02:33', '', NULL, '{\"type\":\"number\",\"required\":true,\"default\":1883,\"min\":1,\"max\":65535}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (662, 3, '用户名', 'username', 'databridge_mqtt_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:02:33', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入MQTT用户名（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (663, 4, '密码', 'password', 'databridge_mqtt_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:02:33', '', NULL, '{\"type\":\"password\",\"required\":false,\"placeholder\":\"请输入MQTT密码（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (664, 5, '客户端ID', 'clientId', 'databridge_mqtt_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:02:33', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入客户端ID（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (665, 6, 'QoS等级', 'qos', 'databridge_mqtt_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:02:33', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"0\",\"1\",\"2\"],\"default\":\"1\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (666, 7, '保持连接', 'keepAlive', 'databridge_mqtt_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:02:33', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":60,\"min\":10,\"max\":3600}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (667, 8, '清除会话', 'cleanSession', 'databridge_mqtt_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:02:33', '', NULL, '{\"type\":\"switch\",\"required\":false,\"default\":true}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (668, 9, '订阅主题', 'subscribeTopic', 'databridge_mqtt_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:02:33', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入订阅主题（输入模式）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (669, 10, '发布主题', 'publishTopic', 'databridge_mqtt_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:02:33', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入发布主题（输出模式）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (670, 1, '基础URL', 'baseUrl', 'databridge_http_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:28', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入HTTP基础URL\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (671, 2, '请求方法', 'method', 'databridge_http_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:28', '', NULL, '{\"type\":\"select\",\"required\":true,\"options\":[\"GET\",\"POST\",\"PUT\",\"DELETE\"],\"default\":\"POST\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (672, 3, '内容类型', 'contentType', 'databridge_http_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:28', '', NULL, '{\"type\":\"select\",\"required\":true,\"options\":[\"application/json\",\"application/x-www-form-urlencoded\",\"text/plain\"],\"default\":\"application/json\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (673, 4, '认证类型', 'authType', 'databridge_http_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:28', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"none\",\"basic\",\"bearer\",\"apikey\"],\"default\":\"none\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (674, 5, '认证令牌', 'authToken', 'databridge_http_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:28', '', NULL, '{\"type\":\"password\",\"required\":false,\"placeholder\":\"请输入认证令牌\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (675, 6, '超时时间', 'timeout', 'databridge_http_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:28', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":30000,\"min\":1000,\"max\":300000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (676, 7, '重试次数', 'retryTimes', 'databridge_http_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:28', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":3,\"min\":0,\"max\":10}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (677, 8, '自定义头部', 'customHeaders', 'databridge_http_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:28', '', NULL, '{\"type\":\"textarea\",\"required\":false,\"placeholder\":\"请输入自定义HTTP头部（JSON格式）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (680, 1, '主机地址', 'host', 'databridge_redis_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:51', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入Redis主机地址\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (681, 2, '端口', 'port', 'databridge_redis_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:51', '', NULL, '{\"type\":\"number\",\"required\":true,\"default\":6379,\"min\":1,\"max\":65535}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (682, 3, '密码', 'password', 'databridge_redis_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:51', '', NULL, '{\"type\":\"password\",\"required\":false,\"placeholder\":\"请输入Redis密码（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (683, 4, '数据库索引', 'database', 'databridge_redis_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:51', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":0,\"min\":0,\"max\":15}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (684, 5, '连接超时', 'connectionTimeout', 'databridge_redis_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:51', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":5000,\"min\":1000,\"max\":60000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (685, 6, '读取超时', 'readTimeout', 'databridge_redis_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:51', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":3000,\"min\":1000,\"max\":60000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (686, 7, '最大连接数', 'maxConnections', 'databridge_redis_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:51', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":8,\"min\":1,\"max\":100}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (687, 8, '键前缀', 'keyPrefix', 'databridge_redis_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:51', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入键前缀（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (690, 1, '主机地址', 'host', 'databridge_iotdb_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:33', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入IoTDB主机地址\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (691, 2, '端口', 'port', 'databridge_iotdb_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:33', '', NULL, '{\"type\":\"number\",\"required\":true,\"default\":6667,\"min\":1,\"max\":65535}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (692, 3, '用户名', 'username', 'databridge_iotdb_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:33', '', NULL, '{\"type\":\"input\",\"required\":true,\"default\":\"root\",\"placeholder\":\"请输入IoTDB用户名\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (693, 4, '密码', 'password', 'databridge_iotdb_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:33', '', NULL, '{\"type\":\"password\",\"required\":true,\"default\":\"root\",\"placeholder\":\"请输入IoTDB密码\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (694, 5, '存储组', 'storageGroup', 'databridge_iotdb_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:33', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入存储组名称（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (695, 6, '时间序列路径', 'timeseriesPath', 'databridge_iotdb_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:33', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入时间序列路径模板\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (696, 7, '批量大小', 'batchSize', 'databridge_iotdb_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:33', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":1000,\"min\":1,\"max\":10000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (700, 1, '主机地址', 'host', 'databridge_influxdb_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:38', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入InfluxDB主机地址\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (701, 2, '端口', 'port', 'databridge_influxdb_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:38', '', NULL, '{\"type\":\"number\",\"required\":true,\"default\":8086,\"min\":1,\"max\":65535}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (702, 3, '数据库名', 'database', 'databridge_influxdb_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:38', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入InfluxDB数据库名\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (703, 4, '用户名', 'username', 'databridge_influxdb_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:38', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入InfluxDB用户名（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (704, 5, '密码', 'password', 'databridge_influxdb_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:38', '', NULL, '{\"type\":\"password\",\"required\":false,\"placeholder\":\"请输入InfluxDB密码（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (705, 6, '保留策略', 'retentionPolicy', 'databridge_influxdb_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:38', '', NULL, '{\"type\":\"input\",\"required\":false,\"default\":\"autogen\",\"placeholder\":\"请输入保留策略\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (706, 7, '测量名', 'measurement', 'databridge_influxdb_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:38', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入测量名模板\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (707, 8, '批量大小', 'batchSize', 'databridge_influxdb_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:38', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":1000,\"min\":1,\"max\":10000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (710, 1, '主机地址', 'host', 'databridge_elasticsearch_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:43', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入Elasticsearch主机地址\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (711, 2, '端口', 'port', 'databridge_elasticsearch_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:43', '', NULL, '{\"type\":\"number\",\"required\":true,\"default\":9200,\"min\":1,\"max\":65535}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (712, 3, '索引名', 'indexName', 'databridge_elasticsearch_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:07:43', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入Elasticsearch索引名\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (713, 4, '用户名', 'username', 'databridge_elasticsearch_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:43', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入Elasticsearch用户名（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (714, 5, '密码', 'password', 'databridge_elasticsearch_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:43', '', NULL, '{\"type\":\"password\",\"required\":false,\"placeholder\":\"请输入Elasticsearch密码（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (715, 6, '文档类型', 'docType', 'databridge_elasticsearch_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:43', '', NULL, '{\"type\":\"input\",\"required\":false,\"default\":\"_doc\",\"placeholder\":\"请输入文档类型\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (716, 7, '批量大小', 'batchSize', 'databridge_elasticsearch_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:43', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":1000,\"min\":1,\"max\":10000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (717, 8, '刷新策略', 'refreshPolicy', 'databridge_elasticsearch_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:07:43', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"none\",\"wait_for\",\"immediate\"],\"default\":\"none\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (720, 1, '已停用', '0', 'databridge_status', '', 'danger', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '桥接配置已停用');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (721, 2, '已启用', '1', 'databridge_status', '', 'success', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '桥接配置已启用');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (722, 3, '运行中', '2', 'databridge_status', '', 'processing', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '桥接任务运行中');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (723, 4, '已暂停', '3', 'databridge_status', '', 'warning', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '桥接任务已暂停');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (724, 5, '错误', '4', 'databridge_status', '', 'danger', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '桥接任务出错');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (730, 1, '实时桥接', 'REALTIME', 'databridge_type', '', 'success', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '实时数据桥接');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (731, 2, '定时桥接', 'SCHEDULED', 'databridge_type', '', 'processing', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '定时数据桥接');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (732, 3, '批量桥接', 'BATCH', 'databridge_type', '', 'warning', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '批量数据桥接');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (733, 4, '事件触发', 'EVENT_DRIVEN', 'databridge_type', '', 'default', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '事件驱动桥接');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (740, 1, '属性上报', 'PROPERTIES', 'databridge_message_type', '', 'success', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '设备属性数据上报');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (741, 2, '事件上报', 'EVENT', 'databridge_message_type', '', 'processing', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '设备事件数据上报');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (742, 3, '功能调用', 'FUNCTIONS', 'databridge_message_type', '', 'warning', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '设备功能调用');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (743, 4, '设备上线', 'DEVICE_ONLINE', 'databridge_message_type', '', 'default', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '设备上线消息');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (744, 5, '设备离线', 'DEVICE_OFFLINE', 'databridge_message_type', '', 'default', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '设备离线消息');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (750, 8, 'Redis缓存', 'REDIS', 'databridge_resource_type', '', 'danger', 'Y', '0', 'admin', '2025-10-03 21:59:21', '', NULL, '支持双向数据流转');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (760, 5, '主题名称', 'topic', 'databridge_kafka_fields', '', '', 'Y', '0', 'admin', '2025-10-03 22:01:38', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入Kafka主题名称\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (761, 6, '消费者组', 'groupId', 'databridge_kafka_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:01:38', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入消费者组ID（输入模式）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (762, 7, '分区数', 'partitions', 'databridge_kafka_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:01:38', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":1,\"min\":1,\"max\":100}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (763, 8, '副本数', 'replicationFactor', 'databridge_kafka_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:01:38', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":1,\"min\":1,\"max\":10}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (764, 9, '序列化器', 'serializer', 'databridge_kafka_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:01:38', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"StringSerializer\",\"JsonSerializer\",\"AvroSerializer\"],\"default\":\"JsonSerializer\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (765, 10, '压缩类型', 'compressionType', 'databridge_kafka_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:01:38', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"none\",\"gzip\",\"snappy\",\"lz4\",\"zstd\"],\"default\":\"none\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (770, 6, '字符集', 'charset', 'databridge_mysql_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:00:05', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"utf8\",\"utf8mb4\",\"latin1\"],\"default\":\"utf8mb4\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (771, 7, '连接超时', 'connectionTimeout', 'databridge_mysql_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:00:05', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":30000,\"min\":1000,\"max\":300000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (772, 8, '最大连接数', 'maxConnections', 'databridge_mysql_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:00:05', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":10,\"min\":1,\"max\":100}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (773, 9, '表名前缀', 'tablePrefix', 'databridge_mysql_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:00:05', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入表名前缀（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (774, 10, '批量大小', 'batchSize', 'databridge_mysql_fields', '', '', 'N', '0', 'admin', '2025-10-03 22:00:05', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":1000,\"min\":1,\"max\":10000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (775, 0, 'Modbus（工业控制）', 'modbus', 'transport_protocol', NULL, NULL, NULL, '0', 'iot', '2025-10-15 12:23:29', 'iot', '2025-10-15 12:37:54', '{\"disable\":false}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (780, 0, 'OPC UA（工业通用）', 'opcua', 'transport_protocol', NULL, NULL, NULL, '0', 'iot', '2025-10-15 12:38:22', NULL, NULL, '{\"disable\":true}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (783, 0, '自定义协议/透传', 'custom', 'transport_protocol', NULL, NULL, 'Y', '0', 'iot', '2025-10-15 12:39:20', 'iot', '2025-10-17 08:55:51', '{\"default\":true,\"disable\":false}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (784, 1, '从站地址', 'slave_address', 'sub_device_modbus', '', '', 'N', '0', 'admin', NULL, '', NULL, '{\"type\":\"number\",\"required\":true,\"min\":1,\"max\":247,\"default\":1,\"description\":\"Modbus从站地址，范围1-247\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (785, 2, '功能码', 'function_code', 'sub_device_modbus', '', '', 'N', '0', 'admin', NULL, '', NULL, '{\"type\":\"select\",\"required\":true,\"options\":[{\"value\":\"3\",\"label\":\"读保持寄存器\"},{\"value\":\"6\",\"label\":\"写单寄存器\"},{\"value\":\"16\",\"label\":\"写多个寄存器\"}],\"default\":\"3\",\"description\":\"Modbus功能码\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (786, 3, '寄存器地址', 'register_address', 'sub_device_modbus', '', '', 'N', '0', 'admin', NULL, '', NULL, '{\"type\":\"number\",\"required\":true,\"min\":0,\"max\":65535,\"default\":0,\"description\":\"起始寄存器地址\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (787, 4, '寄存器数量', 'register_count', 'sub_device_modbus', '', '', 'N', '0', 'admin', NULL, '', NULL, '{\"type\":\"number\",\"required\":true,\"min\":1,\"max\":125,\"default\":1,\"description\":\"读取寄存器数量\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (788, 5, '字节序', 'byte_order', 'sub_device_modbus', '', '', 'N', '0', 'admin', NULL, '', NULL, '{\"type\":\"select\",\"required\":true,\"options\":[{\"value\":\"big_endian\",\"label\":\"大端序\"},{\"value\":\"little_endian\",\"label\":\"小端序\"}],\"default\":\"big_endian\",\"description\":\"数据字节序\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (789, 6, '超时时间', 'timeout', 'sub_device_modbus', '', '', 'N', '0', 'admin', NULL, '', NULL, '{\"type\":\"number\",\"required\":false,\"min\":1000,\"max\":30000,\"default\":5000,\"description\":\"通信超时时间(ms)\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (790, 2, 'MySQL数据库', 'mysql', 'log_store_policy', NULL, NULL, NULL, '0', 'iot', '2025-10-29 11:53:24', 'iot', '2025-10-29 11:54:59', 'mysql数据库，默认');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (791, 0, '不存储', 'none', 'log_store_policy', NULL, NULL, NULL, '0', 'iot', '2025-10-29 11:53:36', NULL, NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (792, 3, 'Apache IoTDB', 'iotdb', 'log_store_policy', NULL, NULL, NULL, '0', 'iot', '2025-10-29 11:54:37', NULL, NULL, '工业物联网时序数据库管理系统');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (793, 0, 'InfluxDB时序数据库', 'Infludb', 'log_store_policy', NULL, NULL, NULL, '1', 'iot', '2025-10-29 11:55:57', 'iot', '2025-10-29 12:10:18', 'InfluxDB时序数据库，暂不支持');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (794, 5, 'ClickHouse', 'clickhouse', 'log_store_policy', NULL, NULL, NULL, '0', 'iot', '2025-10-29 12:10:05', NULL, NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (795, 1, 'WVP视频平台', 'wvp', 'video_platform_type', '', 'primary', 'Y', '0', 'admin', '2025-11-04 15:51:12', '', NULL, NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (796, 2, '综合安防管理平台(iSecure Center)', 'isc', 'video_platform_type', '', 'success', 'N', '0', 'admin', '2025-11-04 15:51:12', 'iot', '2025-11-09 19:01:24', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (797, 3, '智能物联综合管理平台(ICC)', 'icc', 'video_platform_type', '', 'warning', 'N', '0', 'admin', '2025-11-04 15:51:12', 'iot', '2025-11-09 19:02:30', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (798, 1, '平台地址', 'endpoint', 'video_wvp_fields', '', '', 'Y', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"http://127.0.0.1:18080\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (799, 2, 'Token', 'token', 'video_wvp_fields', '', '', 'N', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"password\",\"required\":false,\"placeholder\":\"可选，填写后自动携带鉴权头\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (800, 3, '平台版本', 'version', 'video_wvp_fields', '', '', 'N', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"v1\",\"v2\"],\"default\":\"v2\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (801, 1, '平台地址', 'endpoint', 'video_hik_isc_fields', '', '', 'Y', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"https://icc-dev.hibetatest.com:4077\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (802, 2, '用户名', 'username', 'video_hik_isc_fields', '', '', 'Y', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入平台用户名\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (803, 3, '密码', 'password', 'video_hik_isc_fields', '', '', 'Y', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"password\",\"required\":true,\"placeholder\":\"请输入平台密码\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (804, 4, 'ClientId', 'clientId', 'video_hik_isc_fields', '', '', 'Y', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入ClientId\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (805, 5, 'ClientSecret', 'clientSecret', 'video_hik_isc_fields', '', '', 'Y', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"password\",\"required\":true,\"placeholder\":\"请输入ClientSecret\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (806, 1, '平台地址', 'endpoint', 'video_icc_fields', '', '', 'Y', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"https://open-icc.dahuatech.com\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (807, 2, 'AppKey', 'appKey', 'video_icc_fields', '', '', 'Y', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入AppKey\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (808, 3, 'AppSecret', 'appSecret', 'video_icc_fields', '', '', 'Y', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"password\",\"required\":true,\"placeholder\":\"请输入AppSecret\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (809, 4, '用户名', 'username', 'video_icc_fields', '', '', 'N', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"可选，用于基础认证\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (810, 5, '密码', 'password', 'video_icc_fields', '', '', 'N', '0', 'admin', '2025-11-04 15:54:36', '', NULL, '{\"type\":\"password\",\"required\":false,\"placeholder\":\"可选，用于基础认证\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (811, 5, '视频设备', 'VIDEO_DEVICE', 'instance_node', NULL, NULL, NULL, '0', 'iot', '2025-11-09 13:06:13', 'iot', '2025-11-09 19:05:20', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (812, 0, 'JT808', 'JT808', 'tcp_parser_type', NULL, NULL, NULL, '0', 'iot', '2025-11-14 09:22:16', NULL, NULL, '基于JT808-2013「固定帧结构 + 长度字段 + 校验」解决粘包拆包');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (813, 0, '置顶', 'top', 'product_tags', NULL, NULL, NULL, '0', 'iot', '2025-11-19 20:17:30', 'iot', '2025-11-19 20:24:00', NULL);
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (814, 1, '主机地址', 'host', 'databridge_postgresql_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入PostgreSQL主机地址\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (815, 2, '端口', 'port', 'databridge_postgresql_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":true,\"default\":5432,\"min\":1,\"max\":65535}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (816, 3, '用户名', 'username', 'databridge_postgresql_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入数据库用户名\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (817, 4, '密码', 'password', 'databridge_postgresql_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"password\",\"required\":true,\"placeholder\":\"请输入数据库密码\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (818, 5, '数据库名', 'databaseName', 'databridge_postgresql_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入数据库名称\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (819, 6, 'Schema', 'schema', 'databridge_postgresql_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入Schema名称（默认public）\",\"default\":\"public\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (820, 7, '连接超时', 'connectionTimeout', 'databridge_postgresql_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":30000,\"min\":1000,\"max\":300000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (821, 8, '最大连接数', 'maxConnections', 'databridge_postgresql_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":10,\"min\":1,\"max\":100}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (822, 9, 'SSL模式', 'sslMode', 'databridge_postgresql_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"disable\",\"require\",\"verify-ca\",\"verify-full\"],\"default\":\"disable\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (823, 10, '批量大小', 'batchSize', 'databridge_postgresql_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":1000,\"min\":1,\"max\":10000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (824, 1, '主机地址', 'host', 'databridge_oracle_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入Oracle主机地址\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (825, 2, '端口', 'port', 'databridge_oracle_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":true,\"default\":1521,\"min\":1,\"max\":65535}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (826, 3, '用户名', 'username', 'databridge_oracle_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入数据库用户名\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (827, 4, '密码', 'password', 'databridge_oracle_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"password\",\"required\":true,\"placeholder\":\"请输入数据库密码\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (828, 5, 'SID/Service Name', 'databaseName', 'databridge_oracle_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入SID或Service Name\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (829, 6, '连接类型', 'connectionType', 'databridge_oracle_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"SID\",\"ServiceName\"],\"default\":\"SID\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (830, 7, '连接超时', 'connectionTimeout', 'databridge_oracle_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":30000,\"min\":1000,\"max\":300000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (831, 8, '最大连接数', 'maxConnections', 'databridge_oracle_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":10,\"min\":1,\"max\":100}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (832, 9, '字符集', 'charset', 'databridge_oracle_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"AL32UTF8\",\"UTF8\",\"ZHS16GBK\"],\"default\":\"AL32UTF8\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (833, 10, '批量大小', 'batchSize', 'databridge_oracle_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":1000,\"min\":1,\"max\":10000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (834, 1, '主机地址', 'host', 'databridge_sqlserver_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入SQL Server主机地址\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (835, 2, '端口', 'port', 'databridge_sqlserver_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":true,\"default\":1433,\"min\":1,\"max\":65535}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (836, 3, '用户名', 'username', 'databridge_sqlserver_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入数据库用户名\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (837, 4, '密码', 'password', 'databridge_sqlserver_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"password\",\"required\":true,\"placeholder\":\"请输入数据库密码\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (838, 5, '数据库名', 'databaseName', 'databridge_sqlserver_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入数据库名称\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (839, 6, '实例名', 'instanceName', 'databridge_sqlserver_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":false,\"placeholder\":\"请输入实例名称（可选）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (840, 7, '连接超时', 'connectionTimeout', 'databridge_sqlserver_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":30000,\"min\":1000,\"max\":300000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (841, 8, '最大连接数', 'maxConnections', 'databridge_sqlserver_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":10,\"min\":1,\"max\":100}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (842, 9, '加密连接', 'encrypt', 'databridge_sqlserver_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"true\",\"false\"],\"default\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (843, 10, '信任服务器证书', 'trustServerCertificate', 'databridge_sqlserver_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"true\",\"false\"],\"default\":\"true\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (844, 11, '批量大小', 'batchSize', 'databridge_sqlserver_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":1000,\"min\":1,\"max\":10000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (845, 1, '主机地址', 'host', 'databridge_h2_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入H2主机地址（TCP模式）\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (846, 2, '端口', 'port', 'databridge_h2_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":true,\"default\":9092,\"min\":1,\"max\":65535}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (847, 3, '用户名', 'username', 'databridge_h2_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入数据库用户名（默认sa）\",\"default\":\"sa\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (848, 4, '密码', 'password', 'databridge_h2_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"password\",\"required\":true,\"placeholder\":\"请输入数据库密码\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (849, 5, '数据库名', 'databaseName', 'databridge_h2_fields', '', '', 'Y', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"input\",\"required\":true,\"placeholder\":\"请输入数据库名称或文件路径\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (850, 6, '数据库模式', 'dbMode', 'databridge_h2_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"tcp\",\"file\",\"mem\"],\"default\":\"tcp\",\"placeholder\":\"tcp:TCP模式,file:文件模式,mem:内存模式\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (851, 7, '连接超时', 'connectionTimeout', 'databridge_h2_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":30000,\"min\":1000,\"max\":300000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (852, 8, '最大连接数', 'maxConnections', 'databridge_h2_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":10,\"min\":1,\"max\":100}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (853, 9, '自动服务器', 'autoServer', 'databridge_h2_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"select\",\"required\":false,\"options\":[\"true\",\"false\"],\"default\":\"true\",\"placeholder\":\"是否启用自动服务器模式\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (854, 10, '批量大小', 'batchSize', 'databridge_h2_fields', '', '', 'N', '0', 'admin', '2025-12-03 20:27:09', '', NULL, '{\"type\":\"number\",\"required\":false,\"default\":1000,\"min\":1,\"max\":10000}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (855, 0, '发送数据类型', 'encoderType', 'product_configuration_public', NULL, NULL, NULL, '0', 'nexiot', '2025-12-05 17:41:47', NULL, NULL, '{\"remark\":\"解码数据类型\",\"type\":\"select\",\"url\":\"tcp_data_conver_format\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (856, 0, '接收数据类型', 'decoderType', 'product_configuration_public', NULL, NULL, NULL, '0', 'nexiot', '2025-12-05 17:42:07', NULL, NULL, '{\"remark\":\"解码数据类型\",\"type\":\"select\",\"url\":\"tcp_data_conver_format\",\"hide\":\"false\"}');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (861, 1, '空字符(0x00)', '00', 'tcp_delimiter_list', NULL, NULL, NULL, '0', 'nexiot', '2025-12-06 21:00:00', 'nexiot', '2025-12-06 21:05:05', '16进制空字符，等价于\\0');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (862, 2, '竖线|', '|', 'tcp_delimiter_list', NULL, NULL, NULL, '0', 'nexiot', '2025-12-06 21:01:00', NULL, NULL, '业务文本协议常用分隔符，16进制7C');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (863, 3, '逗号,', ',', 'tcp_delimiter_list', NULL, NULL, NULL, '0', 'nexiot', '2025-12-06 21:02:00', NULL, NULL, 'CSV/普通文本协议分隔符，16进制2C');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (864, 4, '分号;', ';', 'tcp_delimiter_list', NULL, NULL, NULL, '0', 'nexiot', '2025-12-06 21:03:00', NULL, NULL, '工业协议/HTTP参数分隔符，16进制3B');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (865, 5, '星号*', '*', 'tcp_delimiter_list', NULL, NULL, NULL, '0', 'nexiot', '2025-12-06 21:04:00', NULL, NULL, '物联网/串口协议常用分隔符，16进制2A');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (866, 6, '换行LF(0x0A)', '0A', 'tcp_delimiter_list', NULL, NULL, NULL, '0', 'nexiot', '2025-12-06 21:05:00', NULL, NULL, '16进制换行符，等价于\\n');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (867, 7, '回车CR(0x0D)', '0D', 'tcp_delimiter_list', NULL, NULL, NULL, '0', 'nexiot', '2025-12-06 21:06:00', NULL, NULL, '16进制回车符，等价于\\r');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (868, 8, '回车换行CRLF(0x0D0A)', '0D0A', 'tcp_delimiter_list', NULL, NULL, NULL, '0', 'nexiot', '2025-12-06 21:07:00', NULL, NULL, '16进制回车换行，等价于\\r\\n');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (869, 9, '双井号##', '##', 'tcp_delimiter_list', NULL, NULL, NULL, '0', 'nexiot', '2025-12-06 21:08:00', NULL, NULL, '物联网自定义协议分隔符，16进制2323');
INSERT INTO `sys_dict_data` (`dict_code`, `dict_sort`, `dict_label`, `dict_value`, `dict_type`, `css_class`, `list_class`, `is_default`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (870, 10, '感叹号!', '!', 'tcp_delimiter_list', NULL, NULL, NULL, '0', 'nexiot', '2025-12-06 21:09:00', NULL, NULL, '工业串口/Modbus辅助分隔符，16进制21');
COMMIT;

-- ----------------------------
-- Table structure for sys_dict_type
-- ----------------------------
DROP TABLE IF EXISTS `sys_dict_type`;
CREATE TABLE `sys_dict_type` (
  `dict_id` bigint NOT NULL AUTO_INCREMENT COMMENT '字典主键',
  `dict_name` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '字典名称',
  `dict_type` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '字典类型',
  `status` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '0' COMMENT '状态（0正常 1停用）',
  `create_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`dict_id`) USING BTREE,
  UNIQUE KEY `dict_type` (`dict_type`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=225 DEFAULT CHARSET=utf8mb3 COMMENT='字典类型表';

-- ----------------------------
-- Records of sys_dict_type
-- ----------------------------
BEGIN;
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1, '用户性别', 'sys_user_sex', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '用户性别列表');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (4, '任务状态', 'sys_job_status', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '任务状态列表');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (5, '任务分组', 'sys_job_group', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '任务分组列表');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (7, '通知类型', 'sys_notice_type', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '通知类型列表');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (8, '通知状态', 'sys_notice_status', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '通知状态列表');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (9, '字典类型', 'sys_dict_type', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '字典类型列表');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (10, '字典状态', 'sys_dict_status', '0', 'admin', '2023-01-01 10:00:00', '', NULL, '字典状态列表');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (118, '通用状态', 'sys_normal_disable', '0', 'iot', '2021-12-27 09:24:34', 'iot', '2021-12-27 09:24:34', NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (119, '菜单状态', 'sys_show_hide', '0', 'iot', '2021-12-27 09:24:34', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (120, '系统是否', 'sys_yes_no', '0', 'iot', '2021-12-27 09:24:34', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (121, '系统状态', 'sys_common_status', '0', 'iot', '2021-12-27 09:24:34', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (122, '设备状态', 'dev_instance_state', '0', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (124, '天翼物联(aiot)配置字段', 'product_configuration_ctwing', '0', 'iot', '2021-12-29 13:55:27', 'iot', '2025-09-12 12:52:50', '电信aiot-NB平台的字典');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (125, '产品状态', 'product_state', '0', 'iot', '2021-12-30 09:33:13', 'iot', NULL, '');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (126, '应用删除状态', 'application_delete_status', '0', 'iot', '2021-12-30 13:49:22', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (127, '协议状态', 'protocol_state', '0', 'iot', '2022-01-06 14:18:55', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (128, '协议类型', 'protocol_type', '0', 'iot', '2022-01-06 14:23:34', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (129, '属性值来源', 'tsl_source', '0', 'iot', '2022-01-06 16:11:41', 'iot', '2025-08-15 11:48:27', '物模型属性值来源');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (130, '连接协议', 'connection_protocol', '0', 'iot', '2022-01-12 14:50:12', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (131, '物模型数据基本类型', 'model_basic_data', '0', 'iot', '2022-01-24 16:34:16', 'iot', NULL, '物模型数据基本类型');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (132, '物模型数据其他类型', 'model_other_data', '0', 'iot', '2022-01-24 16:34:53', 'iot', NULL, '物模型数据其他类型');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (133, '物模型单位类型', 'model_unit', '0', 'iot', '2022-01-24 16:54:46', 'iot', '2022-01-24 18:31:13', '物模型单位类型');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (134, '物模型时间类型', 'model_data_type', '0', 'iot', '2022-01-24 16:55:11', 'iot', '2022-01-24 18:31:22', '物模型时间类型');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (135, '物模型文件类型', 'model_file_type', '0', 'iot', '2022-01-24 16:55:32', 'iot', '2022-01-24 18:31:28', '物模型文件类型');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (136, '物模型常用单位', 'often_used_unit', '0', 'iot', '2022-01-24 18:31:45', 'iot', '2022-01-24 18:32:14', '物模型常用单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (137, '物模型计量单位', 'measurement_unit', '0', 'iot', '2022-01-24 18:32:30', 'iot', NULL, '物模型计量单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (138, '物模型面积单位', 'area_unit', '0', 'iot', '2022-01-24 18:32:56', 'iot', NULL, '物模型面积单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (139, '物模型时间单位', 'time_unit', '0', 'iot', '2022-01-24 18:33:17', 'iot', NULL, '物模型时间单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (140, '物模型体积单位', 'volume_unit', '0', 'iot', '2022-01-24 18:33:31', 'iot', NULL, '物模型体积单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (141, '物模型流量单位', 'flow_unit', '0', 'iot', '2022-01-24 18:33:42', 'iot', '2022-01-24 18:35:18', '物模型流量单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (142, '物模型容积单位', 'capacity_unit', '0', 'iot', '2022-01-24 18:33:49', 'iot', '2022-01-24 18:36:25', '物模型容积单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (143, '物模型质量单位', 'mass_unit', '0', 'iot', '2022-01-24 18:33:56', 'iot', '2022-01-24 18:36:29', '物模型质量单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (144, '物模型压力单位', 'pressure_unit', '0', 'iot', '2022-01-24 18:34:02', 'iot', '2022-01-24 18:37:00', '物模型压力单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (145, '物模型温度单位', 'temperature_unit', '0', 'iot', '2022-01-24 18:34:10', 'iot', '2022-01-24 18:36:56', '物模型温度单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (146, '物模型能量单位', 'energy_unit', '0', 'iot', '2022-01-24 18:34:17', 'iot', '2022-01-24 18:36:52', '物模型能量单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (147, '物模型功率单位', 'power_unit', '0', 'iot', '2022-01-24 18:34:24', 'iot', '2022-01-24 18:36:49', '物模型功率单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (148, '物模型角度单位', 'angle_unit', '0', 'iot', '2022-01-24 18:34:30', 'iot', '2022-01-24 18:36:45', '物模型角度单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (149, '物模型频率单位', 'frequency_unit', '0', 'iot', '2022-01-24 18:34:37', 'iot', '2022-01-24 18:36:41', '物模型频率单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (150, '物模型速度单位', 'speed_unit', '0', 'iot', '2022-01-24 18:34:43', 'iot', '2022-01-24 18:36:37', '物模型速度单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (151, '物模型电单位', 'electricity_unit', '0', 'iot', '2022-01-24 18:34:50', 'iot', '2022-01-24 18:36:33', '物模型电单位');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (152, '告警等级', 'alarm_level', '0', 'iot', '2022-01-25 18:58:55', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (153, '设备节点', 'instance_node', '0', 'iot', '2022-01-26 11:01:44', 'iot', '2022-01-26 11:02:12', '产品表中设备节点');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (154, '数据类型', 'data_type', '0', 'iot', '2022-01-26 14:30:06', 'iot', '2022-01-26 14:32:39', '数据上行、下行类型');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (155, '数据协议', 'transport_protocol', '0', 'iot', '2022-01-27 10:23:53', 'iot', '2025-10-15 11:07:30', NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (156, '产品公共配置字段', 'product_configuration_public', '0', 'iot', '2022-02-07 15:32:07', 'iot', NULL, '产品公共配置字段');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (157, '接入方式', 'third_platform', '0', 'iot', '2022-02-14 16:17:45', 'iot', '2025-08-09 20:34:10', '第三方接入平台，包括电信动等');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (170, '云云对接配置字段', 'product_configuration_http', '0', 'iot', '2022-07-13 11:20:08', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (171, '设备公共字段	', 'device_common_property', '0', 'iot', '2022-08-02 11:34:31', 'iot', NULL, 'imei，deviceId，meterNo');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (173, '操作类型', 'sys_oper_type', '0', 'iot', '2022-08-02 14:06:31', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (174, 'tcp配置字段', 'product_configuration_tcp', '0', 'iot', '2022-08-22 15:02:17', 'iot', NULL, 'tcp配置字段');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (175, 'tcp数据转换格式', 'tcp_data_conver_format', '0', 'iot', '2022-08-22 15:05:25', 'iot', '2022-08-23 15:08:48', NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (176, 'tcp解析器类型', 'tcp_parser_type', '0', 'iot', '2022-08-23 15:08:38', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (177, '订阅消息类型', 'subscribe_type', '0', 'iot', '2022-09-13 14:21:45', 'iot', '2025-10-30 20:29:15', NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (178, '订阅类型', 'subscribe_level', '0', 'iot', '2022-09-13 14:22:32', 'iot', '2025-10-30 20:29:43', NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (179, 'mqtt对接配置', 'product_configuration_mqtt', '0', 'iot', '2022-09-29 10:00:01', 'iot', '2022-09-29 10:01:06', NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (182, '产品标签', 'product_tags', '0', 'iot', '2023-04-03 15:07:19', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (183, '接口IP白名单', 'whitelist', '0', 'iot', '2023-08-11 10:36:04', 'iot', '2023-08-11 14:08:21', 'web接口白名单');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (186, 'MQTT配置字段', 'mqtt_parser_type', '0', 'iot', '2025-07-06 10:58:33', 'iot', NULL, 'network的mqtt配置信息');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (187, 'HTTP推送配置', 'app_push_http', '0', 'iot', '2025-07-12 10:06:39', 'iot', '2025-07-12 10:13:06', 'http推送配置');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (188, 'mqtt推送配置', 'app_push_mqtt', '0', 'iot', '2025-07-12 10:14:33', 'iot', NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (189, '网络TCP组件配置', 'network_tcp_config', '0', 'iot', '2025-07-27 19:07:12', NULL, NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (190, 'udp配置字段', 'product_configuration_udp', '0', 'iot', '2025-09-18 15:04:10', NULL, NULL, '端云配置字段');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (191, '乐橙云配置', 'product_configuration_imoulife', '0', 'iot', '2025-09-19 11:05:34', 'iot', '2025-09-19 12:19:52', NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (192, '数据桥接资源类型', 'databridge_resource_type', '0', 'admin', '2025-10-03 21:58:21', '', NULL, '数据桥接支持的资源类型');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (193, '资源能力', 'databridge_resource_capability', '0', 'admin', '2025-10-03 21:58:21', '', NULL, '资源支持的数据流向');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (194, 'MySQL配置字段', 'databridge_mysql_fields', '0', 'admin', '2025-10-03 21:58:21', '', NULL, 'MySQL资源配置字段定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (195, 'Kafka配置字段', 'databridge_kafka_fields', '0', 'admin', '2025-10-03 21:58:21', '', NULL, 'Kafka资源配置字段定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (196, 'MQTT配置字段', 'databridge_mqtt_fields', '0', 'admin', '2025-10-03 21:58:21', '', NULL, 'MQTT资源配置字段定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (197, 'HTTP配置字段', 'databridge_http_fields', '0', 'admin', '2025-10-03 21:58:21', '', NULL, 'HTTP资源配置字段定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (198, 'IoTDB配置字段', 'databridge_iotdb_fields', '0', 'admin', '2025-10-03 21:58:21', '', NULL, 'IoTDB资源配置字段定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (199, 'InfluxDB配置字段', 'databridge_influxdb_fields', '0', 'admin', '2025-10-03 21:58:21', '', NULL, 'InfluxDB资源配置字段定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (200, 'Elasticsearch配置字段', 'databridge_elasticsearch_fields', '0', 'admin', '2025-10-03 21:58:21', '', NULL, 'Elasticsearch资源配置字段定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (201, '云平台类型', 'databridge_cloud_platform', '0', 'admin', '2025-10-03 21:58:21', '', NULL, '支持的云平台类型');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (202, '阿里云IoT配置字段', 'databridge_aliyun_iot_fields', '0', 'admin', '2025-10-03 21:58:21', '', NULL, '阿里云IoT平台配置字段');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (203, '腾讯云IoT配置字段', 'databridge_tencent_iot_fields', '0', 'admin', '2025-10-03 21:58:21', '', NULL, '腾讯云IoT平台配置字段');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (205, 'Redis配置字段', 'databridge_redis_fields', '0', 'admin', '2025-10-03 21:58:21', '', NULL, 'Redis缓存配置字段定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (206, '数据流向', 'databridge_direction', '0', 'admin', '2025-10-03 21:58:21', '', NULL, '数据桥接流向类型定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (207, '桥接状态', 'databridge_status', '0', 'admin', '2025-10-03 21:58:21', '', NULL, '数据桥接配置状态定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (208, '桥接类型', 'databridge_type', '0', 'admin', '2025-10-03 21:58:21', '', NULL, '数据桥接类型定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (209, '消息类型', 'databridge_message_type', '0', 'admin', '2025-10-03 21:58:21', '', NULL, 'IoT消息类型定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (211, '华为云IoT配置字段', 'databridge_huawei_iot_fields', '0', 'admin', '2025-10-03 21:58:21', '', NULL, '华为云IoT平台配置字段定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (212, 'Modbus子设备配置', 'sub_device_modbus', '0', 'admin', NULL, '', NULL, 'Modbus子设备协议配置字段');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (213, '存储策略', 'log_store_policy', '0', 'iot', '2025-10-29 11:53:04', NULL, NULL, NULL);
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (214, '视频平台类型', 'video_platform_type', '0', 'admin', '2025-11-04 15:51:12', '', NULL, '视频平台类型定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (216, 'WVP平台配置字段', 'video_wvp_fields', '0', 'admin', '2025-11-04 15:54:36', '', NULL, 'WVP平台配置字段定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (217, '海康平台配置字段', 'video_hik_isc_fields', '0', 'admin', '2025-11-04 15:54:36', 'iot', '2025-11-09 19:30:10', '海康ICS平台配置字段定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (218, '大华平台配置字段', 'video_icc_fields', '0', 'admin', '2025-11-04 15:54:36', 'iot', '2025-11-09 19:28:28', '大华ICC平台配置字段定义');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (219, 'PostgreSQL数据库字段', 'databridge_postgresql_fields', '0', 'admin', '2025-12-03 20:27:09', '', NULL, 'PostgreSQL数据库连接配置字段');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (220, 'Oracle数据库字段', 'databridge_oracle_fields', '0', 'admin', '2025-12-03 20:27:09', '', NULL, 'Oracle数据库连接配置字段');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (221, 'SQL Server数据库字段', 'databridge_sqlserver_fields', '0', 'admin', '2025-12-03 20:27:09', '', NULL, 'SQL Server数据库连接配置字段');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (222, 'H2数据库字段', 'databridge_h2_fields', '0', 'admin', '2025-12-03 20:27:09', '', NULL, 'H2数据库连接配置字段');
INSERT INTO `sys_dict_type` (`dict_id`, `dict_name`, `dict_type`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (224, '分隔符类型', 'tcp_delimiter_list', '0', 'nexiot', '2025-12-06 20:50:29', NULL, NULL, '');
COMMIT;

-- ----------------------------
-- Table structure for sys_job
-- ----------------------------
DROP TABLE IF EXISTS `sys_job`;
CREATE TABLE `sys_job` (
  `job_id` bigint NOT NULL AUTO_INCREMENT COMMENT '任务ID',
  `job_name` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT '' COMMENT '任务名称',
  `job_group` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT 'DEFAULT' COMMENT '任务组名',
  `invoke_target` varchar(500) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL COMMENT '调用目标字符串',
  `cron_expression` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT 'cron执行表达式',
  `misfire_policy` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '3' COMMENT '计划执行错误策略（1立即执行 2执行一次 3放弃执行）',
  `concurrent` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '1' COMMENT '是否并发执行（0允许 1禁止）',
  `status` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '0' COMMENT '状态（0正常 1暂停）',
  `create_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '备注信息',
  PRIMARY KEY (`job_id`,`job_name`,`job_group`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8mb3 COMMENT='定时任务调度表';

-- ----------------------------
-- Records of sys_job
-- ----------------------------
BEGIN;
INSERT INTO `sys_job` (`job_id`, `job_name`, `job_group`, `invoke_target`, `cron_expression`, `misfire_policy`, `concurrent`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (18, 'sceneId:88', '场景联动功能下发', 'sceneLinkageService.quartzFunctionDown(88L)', '0 0 9 1,7,13,15,16,20,23,24,26,31 * ?', '3', '1', '1', 'test', '2025-10-21 11:21:29', 'test', '2025-10-21 11:21:29', '');
INSERT INTO `sys_job` (`job_id`, `job_name`, `job_group`, `invoke_target`, `cron_expression`, `misfire_policy`, `concurrent`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (19, 'sceneId:94', '场景联动功能下发', 'sceneLinkageService.quartzFunctionDown(94L)', '0 0 9 * * ?', '3', '1', '1', 'test', '2025-11-05 20:41:29', 'test', '2025-11-05 20:41:29', '');
INSERT INTO `sys_job` (`job_id`, `job_name`, `job_group`, `invoke_target`, `cron_expression`, `misfire_policy`, `concurrent`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (21, 'sceneId:97', '场景联动功能下发', 'sceneLinkageService.quartzFunctionDown(97L)', '0 0 9 * * ?', '3', '1', '0', 'test', '2025-11-19 11:42:40', 'test', '2025-11-19 11:42:40', '');
INSERT INTO `sys_job` (`job_id`, `job_name`, `job_group`, `invoke_target`, `cron_expression`, `misfire_policy`, `concurrent`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (22, 'sceneId:96', '场景联动功能下发', 'sceneLinkageService.quartzFunctionDown(96L)', '0 30 * * * ?', '3', '1', '0', 'demo', '2025-11-20 18:50:59', 'demo', '2025-11-20 18:50:59', '');
COMMIT;

-- ----------------------------
-- Table structure for sys_job_log
-- ----------------------------
DROP TABLE IF EXISTS `sys_job_log`;
CREATE TABLE `sys_job_log` (
  `job_log_id` bigint NOT NULL AUTO_INCREMENT COMMENT '日志ID',
  `job_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '任务名称',
  `job_group` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '任务组名',
  `invoke_target` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '调用目标字符串',
  `status` tinyint NOT NULL COMMENT '执行状态（0成功 1失败）',
  `job_message` varchar(2000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '任务信息',
  `exception_info` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci COMMENT '异常信息',
  `start_time` datetime DEFAULT NULL COMMENT '开始时间',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`job_log_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='定时任务日志表';

-- ----------------------------
-- Records of sys_job_log
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for sys_logininfor
-- ----------------------------
DROP TABLE IF EXISTS `sys_logininfor`;
CREATE TABLE `sys_logininfor` (
  `info_id` bigint NOT NULL AUTO_INCREMENT COMMENT '访问ID',
  `user_name` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '用户账号',
  `ipaddr` varchar(128) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '登录IP地址',
  `login_location` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '登录地点',
  `browser` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '浏览器类型',
  `os` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '操作系统',
  `status` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '0' COMMENT '登录状态（0成功 1失败）',
  `msg` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '提示消息',
  `login_time` datetime DEFAULT NULL COMMENT '访问时间',
  PRIMARY KEY (`info_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COMMENT='系统访问记录';

-- ----------------------------
-- Records of sys_logininfor
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for sys_menu
-- ----------------------------
DROP TABLE IF EXISTS `sys_menu`;
CREATE TABLE `sys_menu` (
  `menu_id` bigint NOT NULL AUTO_INCREMENT COMMENT '菜单ID',
  `menu_name` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL COMMENT '菜单名称',
  `parent_id` bigint DEFAULT '0' COMMENT '父菜单ID',
  `order_num` int DEFAULT '0' COMMENT '显示顺序',
  `path` varchar(200) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '路由地址',
  `component` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '组件路径',
  `is_frame` int DEFAULT '1' COMMENT '是否为外链（0是 1否）',
  `is_cache` int DEFAULT '0' COMMENT '是否缓存（0缓存 1不缓存）',
  `menu_type` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '菜单类型（M目录 C菜单 F按钮）',
  `visible` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '0' COMMENT '菜单状态（0显示 1隐藏）',
  `status` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '0' COMMENT '菜单状态（0正常 1停用）',
  `perms` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '权限标识',
  `icon` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '#' COMMENT '菜单图标',
  `create_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '备注',
  PRIMARY KEY (`menu_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=1297 DEFAULT CHARSET=utf8mb3 COMMENT='菜单权限表';

-- ----------------------------
-- Records of sys_menu
-- ----------------------------
BEGIN;
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1, '系统管理', 0, 999, 'system', NULL, 1, 0, 'M', '0', '0', '', 'database', 'iot', '2021-12-21 15:51:34', 'iot', NULL, '系统管理目录');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (100, '用户管理', 1, 1, 'user', 'system/user/index', 1, 0, 'C', '0', '0', 'system:user:list', 'user', 'iot', '2021-12-21 15:51:34', '', NULL, '用户管理菜单');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (101, '角色管理', 1, 2, 'role', 'system/role/index', 1, 0, 'C', '0', '0', 'system:role:list', 'peoples', 'iot', '2021-12-21 15:51:34', '', NULL, '角色管理菜单');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (102, '菜单管理', 1, 3, 'menu', 'system/menu/index', 1, 0, 'C', '0', '0', 'system:menu:list', 'color', 'iot', '2021-12-21 15:51:34', 'iot', NULL, '菜单管理菜单');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (105, '字典管理', 1, 6, 'dict', 'system/dict/index', 1, 0, 'C', '0', '0', 'system:dict:list', 'dict', 'iot', '2021-12-21 15:51:34', '', NULL, '字典管理菜单');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (106, '参数设置', 1, 7, 'config', 'system/config/index', 1, 0, 'C', '0', '0', 'system:config:list', 'edit', 'iot', '2021-12-21 15:51:34', '', NULL, '参数设置菜单');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (115, '代码生成', 1, 2, 'gen', 'tool/gen/index', 1, 0, 'C', '0', '0', 'tool:gen:list', 'code', 'iot', '2021-12-21 15:51:35', 'iot', NULL, '代码生成菜单');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1001, '用户查询', 100, 1, '', '', 1, 0, 'F', '0', '0', 'system:user:query', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1002, '用户新增', 100, 2, '', '', 1, 0, 'F', '0', '0', 'system:user:add', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1003, '用户修改', 100, 3, '', '', 1, 0, 'F', '0', '0', 'system:user:edit', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1004, '用户删除', 100, 4, '', '', 1, 0, 'F', '0', '0', 'system:user:remove', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1005, '用户导出', 100, 5, '', '', 1, 0, 'F', '0', '0', 'system:user:export', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1006, '用户导入', 100, 6, '', '', 1, 0, 'F', '0', '0', 'system:user:import', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1007, '重置密码', 100, 7, '', '', 1, 0, 'F', '0', '0', 'system:user:resetPwd', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1008, '角色查询', 101, 1, '', '', 1, 0, 'F', '0', '0', 'system:role:query', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1009, '角色新增', 101, 2, '', '', 1, 0, 'F', '0', '0', 'system:role:add', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1010, '角色修改', 101, 3, '', '', 1, 0, 'F', '0', '0', 'system:role:edit', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1011, '角色删除', 101, 4, '', '', 1, 0, 'F', '0', '0', 'system:role:remove', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1012, '角色导出', 101, 5, '', '', 1, 0, 'F', '0', '0', 'system:role:export', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1013, '菜单查询', 102, 1, '', '', 1, 0, 'F', '0', '0', 'system:menu:query', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1014, '菜单新增', 102, 2, '', '', 1, 0, 'F', '0', '0', 'system:menu:add', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1015, '菜单修改', 102, 3, '', '', 1, 0, 'F', '0', '0', 'system:menu:edit', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1016, '菜单删除', 102, 4, '', '', 1, 0, 'F', '0', '0', 'system:menu:remove', '#', 'iot', '2021-12-21 15:51:35', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1026, '字典查询', 105, 1, '#', '', 1, 0, 'F', '0', '0', 'system:dict:query', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1027, '字典新增', 105, 2, '#', '', 1, 0, 'F', '0', '0', 'system:dict:add', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1028, '字典修改', 105, 3, '#', '', 1, 0, 'F', '0', '0', 'system:dict:edit', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1029, '字典删除', 105, 4, '#', '', 1, 0, 'F', '0', '0', 'system:dict:remove', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1030, '字典导出', 105, 5, '#', '', 1, 0, 'F', '0', '0', 'system:dict:export', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1031, '参数查询', 106, 1, '#', '', 1, 0, 'F', '0', '0', 'system:config:query', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1032, '参数新增', 106, 2, '#', '', 1, 0, 'F', '0', '0', 'system:config:add', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1033, '参数修改', 106, 3, '#', '', 1, 0, 'F', '0', '0', 'system:config:edit', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1034, '参数删除', 106, 4, '#', '', 1, 0, 'F', '0', '0', 'system:config:remove', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1035, '参数导出', 106, 5, '#', '', 1, 0, 'F', '0', '0', 'system:config:export', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1055, '生成查询', 115, 1, '#', '', 1, 0, 'F', '0', '0', 'tool:gen:query', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1056, '生成修改', 115, 2, '#', '', 1, 0, 'F', '0', '0', 'tool:gen:edit', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1057, '生成删除', 115, 3, '#', '', 1, 0, 'F', '0', '0', 'tool:gen:remove', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1058, '导入代码', 115, 2, '#', '', 1, 0, 'F', '0', '0', 'tool:gen:import', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1059, '预览代码', 115, 4, '#', '', 1, 0, 'F', '0', '0', 'tool:gen:preview', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1060, '生成代码', 115, 5, '#', '', 1, 0, 'F', '0', '0', 'tool:gen:code', '#', 'iot', '2021-12-21 15:51:36', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1081, '规则引擎', 0, 4, 'rule', NULL, 1, 0, 'M', '0', '0', '', 'cluster', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1082, '数据转发', 1081, 99, 'flow', 'rule/flow/index', 1, 0, 'C', '0', '0', '', 'box-plot', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1093, '产品管理', 0, 1, 'product', NULL, 1, 0, 'M', '0', '0', NULL, 'windows', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1095, '所有产品', 1093, 1, 'product', 'system/product/index', 1, 0, 'C', '0', '0', 'tool:product:list', 'gateway', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1096, '产品分类', 1093, 99, 'sort', 'system/sort/index', 1, 0, 'C', '0', '0', 'tool:sort:list', 'appstore', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1097, '设备管理', 0, 2, 'iot', NULL, 1, 0, 'M', '0', '0', NULL, 'deployment-unit', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1098, '所有设备', 1097, 0, 'device', 'system/instance/index', 1, 0, 'C', '0', '0', 'tool:instance:list', 'bars', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1099, '设备群组', 1097, 1, 'group', 'system/instance/group/index', 1, 0, 'C', '0', '0', 'tool:instance:group:list', 'database', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1100, '产品驱动', 1093, 3, 'protocol', 'system/protocol/index', 1, 0, 'C', '0', '0', 'protocol:protocol:list', 'box-plot', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1101, '协议查询', 1100, 0, NULL, NULL, 1, 0, 'F', '0', '0', 'protocol:protocol:query', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1102, '协议新增', 1100, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'protocol:protocol:add', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1103, '协议修改', 1100, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'protocol:protocol:edit', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1104, '协议删除', 1100, 3, NULL, NULL, 1, 0, 'F', '0', '0', 'protocol:protocol:remove', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1105, '协议导出', 1100, 4, NULL, NULL, 1, 0, 'F', '0', '0', 'protocol:protocol:export', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1106, '调试', 1100, 5, NULL, NULL, 1, 0, 'F', '0', '0', 'protocol:protocol:codec', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1107, '应用开发', 1156, 1, 'applicationList', 'application/index', 1, 0, 'C', '0', '0', 'application:application:list', 'codepen-circle', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1108, '用户应用信息查询', 1107, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'application:application:query', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1109, '用户应用信息新增', 1107, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'application:application:add', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1110, '用户应用信息修改', 1107, 3, NULL, NULL, 1, 0, 'F', '0', '0', 'application:application:edit', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1111, '用户应用信息删除', 1107, 4, NULL, NULL, 1, 0, 'F', '0', '0', 'application:application:remove', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1112, '用户应用信息导出', 1107, 5, NULL, NULL, 1, 0, 'F', '0', '0', 'application:application:export', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1113, '应用绑定', 1107, 6, NULL, NULL, 1, 0, 'F', '0', '0', 'application:application:bind', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1114, '应用解绑', 1107, 7, NULL, NULL, 1, 0, 'F', '0', '0', 'application:application:unbind', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1115, '重置密钥', 1107, 8, NULL, NULL, 1, 0, 'F', '0', '0', 'application:application:resetSecret', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1116, '产品配置', 1095, 0, NULL, NULL, 1, 0, 'F', '0', '0', 'system:product:config', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1117, '产品详情', 1095, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'system:product:query', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1118, '产品新增', 1095, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'system:product:add', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1119, '产品修改', 1095, 3, NULL, NULL, 1, 0, 'F', '0', '0', 'system:product:edit', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1120, '产品删除', 1095, 4, NULL, NULL, 1, 0, 'F', '0', '0', 'system:product:remove', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1121, '设备新增', 1098, 0, NULL, NULL, 1, 0, 'F', '0', '0', 'system:instance:add', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1122, '设备修改', 1098, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'system:instance:edit', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1123, '设备删除', 1098, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'system:instance:remove', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1124, '设备详情', 1098, 4, NULL, NULL, 1, 0, 'F', '0', '0', 'system:instance:query', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1125, '物模型修改', 1095, 5, NULL, NULL, 1, 0, 'F', '0', '0', 'system:metadata:edit', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1126, '物模型导入', 1095, 6, NULL, NULL, 1, 0, 'F', '0', '0', 'system:metadata:export', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1127, '物模型新增', 1095, 7, NULL, NULL, 1, 0, 'F', '0', '0', 'system:metadata:add', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1128, '物模型删除', 1095, 8, NULL, NULL, 1, 0, 'F', '0', '0', 'system:metadata:delete', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1130, '详情', 1082, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'rule:flow:detail', '#', 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1131, '修改状态', 1082, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'rule:flow:status', '#', 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1132, '删除', 1082, 3, NULL, NULL, 1, 0, 'F', '0', '0', 'rule:flow:del', '#', 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1133, '新增', 1082, 0, NULL, NULL, 1, 0, 'F', '0', '0', 'rule:flow:add', '#', 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1140, '联动管理', 1280, 1, 'linkage', 'rule/linkage/index', 1, 0, 'C', '0', '0', 'rule:linkage:list', 'file-sync', 'iot', '2022-03-01 10:26:39', 'iot', NULL, '场景联动菜单');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1141, '场景联动查询', 1140, 1, '#', '', 1, 0, 'F', '0', '0', 'rule:linkage:query', '#', 'iot', '2022-03-01 10:26:39', 'zhuqy', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1142, '场景联动新增', 1140, 2, '#', '', 1, 0, 'F', '0', '0', 'rule:linkage:add', '#', 'iot', '2022-03-01 10:26:39', 'zhuqy', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1143, '场景联动修改', 1140, 3, '#', '', 1, 0, 'F', '0', '0', 'rule:linkage:edit', '#', 'iot', '2022-03-01 10:26:39', 'zhuqy', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1144, '场景联动删除', 1140, 4, '#', '', 1, 0, 'F', '0', '0', 'rule:linkage:remove', '#', 'iot', '2022-03-01 10:26:39', 'zhuqy', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1145, '场景联动导出', 1140, 5, '#', '', 1, 0, 'F', '0', '0', 'rule:linkage:export', '#', 'iot', '2022-03-01 10:26:39', 'zhuqy', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1153, '设备详情跳转', 1107, 9, NULL, NULL, 1, 0, 'F', '0', '0', 'application:application:details', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1156, '北向应用', 0, 9, 'app', NULL, 1, 0, 'M', '0', '0', NULL, 'codepen-circle', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1157, '应用详情', 1107, 5, NULL, NULL, 1, 0, 'F', '0', '0', 'application:application:bindShow', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1158, '手动触发', 1140, 6, NULL, NULL, 1, 0, 'F', '0', '0', 'rule:linkage:exec', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1172, '日志管理', 1, 8, 'monitor', NULL, 1, 0, 'M', '0', '0', NULL, 'color', 'iot', NULL, 'root', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1174, '登录日志', 1172, 1, 'logininfor', 'monitor/logininfor/index', 1, 1, 'C', '0', '0', 'system:logininfor:list', 'bug', 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1175, '操作日志', 1172, 2, 'operlog', 'monitor/operlog/index', 1, 1, 'C', '0', '0', 'system:operlog:list', 'build', 'iot', NULL, 'root', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1176, '产品导出', 1095, 9, NULL, NULL, 1, 0, 'F', '0', '0', 'system:product:export', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1177, '产品导入', 1095, 10, NULL, NULL, 1, 0, 'F', '0', '0', 'system:product:import', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1178, '设备导入	', 1095, 11, NULL, NULL, 1, 0, 'F', '0', '0', 'product:device:import', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1179, '批量指令', 1156, 2, 'batchCommand', 'system/instance/config/index', 1, 0, 'C', '1', '1', 'tool:instance:config:list', 'fast-forward', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1181, '批量配置', 1179, 0, NULL, NULL, 1, 0, 'F', '0', '0', 'device:batch:config', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1182, '批量历史', 1179, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'device:batch:history', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1184, '视频能力', 0, 7, 'video', NULL, 1, 0, 'M', '0', '1', NULL, 'instagram', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1185, '乐橙云', 1283, 1, 'imoulife', 'Imoulife', 1, 0, 'C', '0', '0', 'video:imoulife:list', 'ezviz', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1191, '预览', 1185, 21, NULL, NULL, 1, 0, 'F', '0', '0', 'video:imoulife:live', NULL, 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1192, '回放', 1185, 26, NULL, NULL, 1, 0, 'F', '0', '0', 'video:imoulife:playback', NULL, 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1193, '工作台', 0, 0, 'index', 'Index', 1, 1, 'M', '0', '0', '', 'ie', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1194, '通信组件', 0, 6, 'network', NULL, 1, 0, 'M', '0', '0', NULL, 'wifi', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1195, 'MQTT服务', 1194, 1, 'mqtt', 'MqttNetwork', 1, 1, 'C', '0', '0', 'tool:mqtt:list', 'tree', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1196, 'TCP服务', 1194, 2, 'tcp', 'TcpNetwork', 1, 1, 'C', '1', '1', 'tool:tcp:list', 'tree', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1197, '新增', 1195, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'network:mqtt:add', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1198, '编辑', 1195, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'network:mqtt:edit', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1199, '删除', 1195, 3, NULL, NULL, 1, 0, 'F', '0', '0', 'network:mqtt:del', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1200, '导出', 1195, 4, NULL, NULL, 1, 0, 'F', '0', '0', 'network:mqtt:export', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1201, '新增', 1196, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'network:tcp:add', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1202, '编辑', 1196, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'network:tcp:edit', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1203, '删除', 1196, 3, NULL, NULL, 1, 0, 'F', '0', '0', 'network:tcp:del', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1204, '导出', 1196, 4, NULL, NULL, 1, 0, 'F', '0', '0', 'network:tcp:export', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1205, '启动', 1195, 6, NULL, NULL, 1, 0, 'F', '0', '0', 'network:mqtt:start', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1206, '暂停', 1195, 7, NULL, NULL, 1, 0, 'F', '0', '0', 'network:mqtt:stop', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1207, '重启', 1195, 8, NULL, NULL, 1, 0, 'F', '0', '0', 'network:mqtt:restart', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1208, '启动', 1196, 6, NULL, NULL, 1, 0, 'F', '0', '0', 'network:tcp:start', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1209, '暂停', 1196, 7, NULL, NULL, 1, 0, 'F', '0', '0', 'network:tcp:stop', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1210, '重启', 1196, 8, NULL, NULL, 1, 0, 'F', '0', '0', 'network:tcp:restart', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1211, '通知管理', 0, 20, 'noticeManager', NULL, 1, 0, 'M', '0', '0', NULL, 'guide', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1212, '通知渠道', 1211, 1, 'channel', 'NoticeChannel', 1, 0, 'C', '0', '0', 'notice:channel:list', 'cascader', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1213, '新增', 1212, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'notice:channel:add', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1214, '编辑', 1212, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'notice:channel:edit', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1215, '详情', 1212, 3, NULL, NULL, 1, 0, 'F', '0', '0', 'notice:channel:detail', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1216, '删除', 1212, 4, NULL, NULL, 1, 0, 'F', '0', '0', 'notice:channel:del', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1217, '通知模版', 1211, 2, 'noticeTemplate', 'NoticeTemplate', 1, 0, 'C', '0', '0', 'notice:template:list', 'dict', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1218, '新增', 1217, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'notice:template:add', NULL, 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1219, '编辑', 1217, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'notice:template:edit', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1220, '详情', 1217, 3, NULL, NULL, 1, 0, 'F', '0', '0', 'notice:template:detail', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1221, '删除', 1217, 4, NULL, NULL, 1, 0, 'F', '0', '0', 'notice:template:del', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1227, '执行流程', 1140, 4, NULL, NULL, 1, 0, 'F', '0', '0', 'rule:visual:execute', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1228, '启用/禁用流程', 1140, 5, NULL, NULL, 1, 0, 'F', '0', '0', 'rule:visual:status', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1229, '删除流程', 1140, 6, NULL, NULL, 1, 0, 'F', '0', '0', 'rule:visual:del', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1230, 'Nodered', 0, 99, 'nodered', NULL, 1, 0, 'M', '1', '1', NULL, 'documentation', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1231, '流程设计', 1230, 1, 'design', 'NodeRedFlowDesigner', 1, 0, 'C', '0', '0', 'nodered:flow:design', 'code', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1232, '保存', 1231, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'nodered:flow:design', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1233, '部署', 1231, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'nodered:flow:deploy', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1234, '流程列表', 1230, 2, 'flowList', 'NodeRedFlowList', 1, 0, 'C', '0', '0', 'nodered:flow:list', 'button', 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1235, '新建', 1234, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'nodered:flow:create', NULL, 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1236, '编辑', 1234, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'nodered:flow:edit', NULL, 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1237, '部署', 1234, 3, NULL, NULL, 1, 0, 'F', '0', '0', 'nodered:flow:deploy', NULL, 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1238, '删除', 1234, 4, NULL, NULL, 1, 0, 'F', '0', '0', 'nodered:flow:delete', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1245, '执行日志', 1230, 7, 'nodeRedExecutionLogs', 'NodeRedExecutionLogs', 1, 0, 'C', '0', '0', NULL, 'tree', 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1247, '证书管理', 1194, 4, 'cert', 'CertificateManager', 1, 0, 'C', '0', '0', 'network:cert:list', 'dict', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1248, '新增', 1247, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'network:cert:add', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1249, '删除', 1247, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'network:cert:delete', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1250, '修改', 1247, 3, NULL, NULL, 1, 0, 'F', '0', '0', 'network:cert:edit', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1251, '规则编排', 1081, 1, 'RulegoChain', 'rulego/chain/index', 1, 0, 'C', '1', '1', 'rulego:chain:list', 'tree', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1252, '编辑', 1251, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'rulego:chain:edit', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1253, '设计', 1251, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'rulego:chain:design', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1254, '部署', 1251, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'rulego:chain:deploy', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1255, '停止', 1251, 5, NULL, NULL, 1, 0, 'F', '0', '0', 'rulego:chain:stop', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1256, '同步', 1251, 6, NULL, NULL, 1, 0, 'F', '0', '0', 'rulego:chain:sync', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1257, '删除', 1251, 7, NULL, NULL, 1, 0, 'F', '0', '0', 'rulego:chain:remove', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1258, '新增', 1251, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'rulego:chain:add', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1259, '萤石云(不可用)', 1283, 4, 'ezviz', 'VideoEzviz', 1, 0, 'C', '0', '0', 'video:ezviz:list', 'radio', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1260, '预览', 1259, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'video:ezviz:live', NULL, 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1261, '回放', 1259, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'video:ezviz:playback', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1263, '数据桥接', 1081, 2, 'DataBridgeBridge', 'Layout', 1, 0, 'M', '0', '0', '', 'database', 'admin', '2025-10-08 12:00:46', 'iot', NULL, '数据桥接管理');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1265, '连接管理', 1263, 1, 'DataBridgeConnection', 'system/databridge/connection', 1, 0, 'C', '0', '0', 'databridge:connection:view', 'link', 'admin', '2025-10-08 12:00:46', 'iot', NULL, '数据连接管理');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1266, '桥接规则', 1263, 2, 'DataBridgeBridge', 'system/databridge/bridge', 1, 0, 'C', '0', '0', 'databridge:bridge:view', 'swap', 'admin', '2025-10-08 12:00:46', 'iot', NULL, '桥接规则管理');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1267, '连接查询', 1265, 1, '#', '', 1, 0, 'F', '0', '0', 'databridge:resource:query', '#', 'admin', '2025-10-08 12:00:46', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1268, '连接新增', 1265, 2, '#', '', 1, 0, 'F', '0', '0', 'databridge:resource:add', '#', 'admin', '2025-10-08 12:00:46', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1269, '连接修改', 1265, 3, '#', '', 1, 0, 'F', '0', '0', 'databridge:resource:edit', '#', 'admin', '2025-10-08 12:00:46', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1270, '连接删除', 1265, 4, '#', '', 1, 0, 'F', '0', '0', 'databridge:resource:remove', '#', 'admin', '2025-10-08 12:00:46', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1271, '连接测试', 1265, 5, '#', '', 1, 0, 'F', '0', '0', 'databridge:resource:test', '#', 'admin', '2025-10-08 12:00:46', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1272, '规则查询', 1266, 1, '#', '', 1, 0, 'F', '0', '0', 'databridge:config:query', '#', 'admin', '2025-10-08 12:00:46', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1273, '规则新增', 1266, 2, '#', '', 1, 0, 'F', '0', '0', 'databridge:config:add', '#', 'admin', '2025-10-08 12:00:46', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1274, '规则修改', 1266, 3, '#', '', 1, 0, 'F', '0', '0', 'databridge:config:edit', '#', 'admin', '2025-10-08 12:00:46', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1275, '规则删除', 1266, 4, '#', '', 1, 0, 'F', '0', '0', 'databridge:config:remove', '#', 'admin', '2025-10-08 12:00:46', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1276, '规则验证', 1266, 5, '#', '', 1, 0, 'F', '0', '0', 'databridge:config:validate', '#', 'admin', '2025-10-08 12:00:46', '', NULL, '');
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1280, '设备联动', 1081, 5, 'linkage', NULL, 1, 0, 'M', '0', '0', NULL, 'tree', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1281, '联动日志', 1280, 2, 'logs', 'rule/linkage/logs', 1, 0, 'C', '0', '0', 'linkage:log:list', 'redis', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1282, '物视融合', 1283, 3, 'third', 'video/VideoCenter', 1, 0, 'C', '0', '0', 'video:center:list', 'bxAnalyse', 'iot', NULL, 'nexiot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1283, '视频中心', 0, 9, 'videoCenter', NULL, 1, 0, 'M', '0', '0', NULL, 'eyeOpen', 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1284, '设备列表', 1283, 2, 'devices', 'video/VideoDevices', 1, 0, 'C', '1', '1', 'video:center:devices', NULL, 'iot', NULL, 'iot', NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1285, '录像播放', 1282, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'video:cloud-record:play', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1286, '同步设备', 1282, 2, NULL, NULL, 1, 0, 'F', '0', '0', 'video:platform:sync', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1287, '设备录像查询', 1282, 4, NULL, NULL, 1, 0, 'F', '0', '0', 'video:record:query', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1288, '设备录像回放', 1282, 5, NULL, NULL, 1, 0, 'F', '0', '0', 'video:record:playback', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1289, '设备录像下载', 1282, 6, NULL, NULL, 1, 0, 'F', '0', '0', 'video:record:download', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1290, '云端录像查询', 1282, 7, NULL, NULL, 1, 0, 'F', '0', '0', 'video:cloud-record:query', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1291, '云端录像播放', 1282, 8, NULL, NULL, 1, 0, 'F', '0', '0', 'video:cloud-record:play', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1292, '云端录像下载', 1282, 10, NULL, NULL, 1, 0, 'F', '0', '0', 'video:cloud-record:download', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1293, '平台编辑', 1282, 1, NULL, NULL, 1, 0, 'F', '0', '0', 'video:platform:edit', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1294, '平台测试', 1282, 10, NULL, NULL, 1, 0, 'F', '0', '0', 'video:platform:test', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1295, '平台新增', 1282, 11, NULL, NULL, 1, 0, 'F', '0', '0', 'video:platform:add', NULL, 'iot', NULL, NULL, NULL, NULL);
INSERT INTO `sys_menu` (`menu_id`, `menu_name`, `parent_id`, `order_num`, `path`, `component`, `is_frame`, `is_cache`, `menu_type`, `visible`, `status`, `perms`, `icon`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1296, '删除', 1282, 13, NULL, NULL, 1, 0, 'F', '0', '0', 'video:platform:remove', NULL, 'iot', NULL, NULL, NULL, NULL);
COMMIT;

-- ----------------------------
-- Table structure for sys_notice
-- ----------------------------
DROP TABLE IF EXISTS `sys_notice`;
CREATE TABLE `sys_notice` (
  `notice_id` int NOT NULL AUTO_INCREMENT COMMENT '公告ID',
  `notice_title` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '公告标题',
  `notice_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '公告类型（1通知 2公告）',
  `notice_content` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '公告内容',
  `status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT '0' COMMENT '公告状态（0正常 1关闭）',
  `create_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`notice_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='通知公告表';

-- ----------------------------
-- Records of sys_notice
-- ----------------------------
BEGIN;
INSERT INTO `sys_notice` (`notice_id`, `notice_title`, `notice_type`, `notice_content`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1, 'Gitee年度评选', '1', '我正在参加 Gitee 2025 最受欢迎的开源软件投票活动，快来给我投票吧！https://gitee.com/activity/2025opensource?ident=I6QN7C', '0', 'demo', '2025-10-26 20:00:00', '', NULL, '重要通知！');
INSERT INTO `sys_notice` (`notice_id`, `notice_title`, `notice_type`, `notice_content`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (2, 'Gitee年度评选', '2', '我正在参加 Gitee 2025 最受欢迎的开源软件投票活动，快来给我投票吧！https://gitee.com/activity/2025opensource?ident=I6QN7C', '0', 'demo', '2025-10-26 20:00:00', '', NULL, '重要通知！');
COMMIT;

-- ----------------------------
-- Table structure for sys_oper_log
-- ----------------------------
DROP TABLE IF EXISTS `sys_oper_log`;
CREATE TABLE `sys_oper_log` (
  `oper_id` bigint NOT NULL AUTO_INCREMENT COMMENT '日志主键',
  `title` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '模块标题',
  `business_type` int DEFAULT '0' COMMENT '业务类型（0其它 1新增 2修改 3删除）',
  `method` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '方法名称',
  `request_method` varchar(10) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '请求方式',
  `operator_type` int DEFAULT '0' COMMENT '操作类别（0其它 1后台用户 2手机端用户）',
  `oper_name` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '操作人员',
  `dept_name` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '部门名称',
  `oper_url` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '请求URL',
  `oper_ip` varchar(128) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '主机地址',
  `oper_location` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '操作地点',
  `oper_param` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin COMMENT '请求参数',
  `json_result` text CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci COMMENT '返回参数',
  `status` int DEFAULT '0' COMMENT '操作状态（0正常 1异常）',
  `error_msg` text CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci COMMENT '错误消息',
  `oper_time` datetime DEFAULT NULL COMMENT '操作时间',
  PRIMARY KEY (`oper_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='操作日志记录';

-- ----------------------------
-- Records of sys_oper_log
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for sys_oss
-- ----------------------------
DROP TABLE IF EXISTS `sys_oss`;
CREATE TABLE `sys_oss` (
  `oss_id` bigint NOT NULL AUTO_INCREMENT COMMENT '云存储主键',
  `file_name` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT '' COMMENT '文件名',
  `original_name` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT '' COMMENT '原名',
  `file_suffix` varchar(10) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT '' COMMENT '文件后缀名',
  `url` varchar(200) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL COMMENT 'URL地址',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `create_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '上传人',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `update_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '更新人',
  `service` varchar(10) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT 'minio' COMMENT '服务商',
  PRIMARY KEY (`oss_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8mb3 COMMENT='OSS云存储表';

-- ----------------------------
-- Records of sys_oss
-- ----------------------------
BEGIN;
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (1, 'cn-universal111443W5WIz3t1.jpg', 'cn-universal111443W5WIz3t1.jpg', '.jpg', 'http://qiniu.oss.filecoin.ren/cn-universal111443W5WIz3t1.jpg', '2025-09-11 09:31:39', 'iot', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (2, 'cn-universal微信图片_2025-09-10_194538_177gcXshVD6.jpg', 'cn-universal微信图片_2025-09-10_194538_177gcXshVD6.jpg', '.jpg', 'http://qiniu.oss.filecoin.ren/cn-universal微信图片_2025-09-10_194538_177gcXshVD6.jpg', '2025-09-11 09:33:24', 'iot', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (3, 'nexiot/1758252220886.png', 'nexiot/1758252220886.png', '.png', 'http://qiniu.oss.filecoin.ren/nexiot/1758252220886.png', '2025-09-19 11:23:41', 'iot', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (4, 'nexiot/1758884855607.jpg', 'nexiot/1758884855607.jpg', '.jpg', 'http://qiniu.oss.filecoin.ren/nexiot/1758884855607.jpg', '2025-09-26 19:07:36', 'test', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (5, 'nexiot/1759038412874.jpg', 'nexiot/1759038412874.jpg', '.jpg', 'http://qiniu.oss.filecoin.ren/nexiot/1759038412874.jpg', '2025-09-28 13:46:53', 'test', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (6, 'nexiot/1760431453333.png', 'nexiot/1760431453333.png', '.png', 'http://qiniu.oss.filecoin.ren/nexiot/1760431453333.png', '2025-10-14 16:44:14', 'iot', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (7, 'nexiot/1760431507329.png', 'nexiot/1760431507329.png', '.png', 'http://qiniu.oss.filecoin.ren/nexiot/1760431507329.png', '2025-10-14 16:45:08', 'iot', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (8, 'nexiot/1760431601441.jpg', 'nexiot/1760431601441.jpg', '.jpg', 'http://qiniu.oss.filecoin.ren/nexiot/1760431601441.jpg', '2025-10-14 16:46:42', 'iot', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (9, 'nexiot/1760431610521.jpg', 'nexiot/1760431610521.jpg', '.jpg', 'http://qiniu.oss.filecoin.ren/nexiot/1760431610521.jpg', '2025-10-14 16:46:51', 'iot', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (10, 'nexiot/1760431998323.png', 'nexiot/1760431998323.png', '.png', 'http://qiniu.oss.filecoin.ren/nexiot/1760431998323.png', '2025-10-14 16:53:19', 'test', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (11, 'nexiot/1760779606525.jpg', 'nexiot/1760779606525.jpg', '.jpg', 'http://qiniu.oss.filecoin.ren/nexiot/1760779606525.jpg', '2025-10-18 17:26:47', 'test', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (12, 'nexiot/1761203014039.jpg', 'nexiot/1761203014039.jpg', '.jpg', 'http://qiniu.oss.filecoin.ren/nexiot/1761203014039.jpg', '2025-10-23 15:03:35', 'test', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (13, 'nexiot/1761989932692.png', 'nexiot/1761989932692.png', '.png', 'http://qiniu.oss.filecoin.ren/nexiot/1761989932692.png', '2025-11-01 17:38:53', 'iot', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (14, 'nexiot/1762393552574.jpg', 'nexiot/1762393552574.jpg', '.jpg', 'http://qiniu.oss.filecoin.ren/nexiot/1762393552574.jpg', '2025-11-06 09:45:53', 'test', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (15, 'nexiot/1762393749637.jpg', 'nexiot/1762393749637.jpg', '.jpg', 'http://qiniu.oss.filecoin.ren/nexiot/1762393749637.jpg', '2025-11-06 09:49:10', 'test', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (16, 'nexiot/1762762545029.png', 'nexiot/1762762545029.png', '.png', 'http://qiniu.oss.filecoin.ren/nexiot/1762762545029.png', '2025-11-10 16:15:45', 'iot', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (17, 'nexiot/1762762610493.png', 'nexiot/1762762610493.png', '.png', 'http://qiniu.oss.filecoin.ren/nexiot/1762762610493.png', '2025-11-10 16:16:51', 'iot', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (18, 'nexiot/1762994362877.png', 'nexiot/1762994362877.png', '.png', 'http://qiniu.oss.filecoin.ren/nexiot/1762994362877.png', '2025-11-13 08:39:23', 'iot', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (19, 'nexiot/1763027143729.png', 'nexiot/1763027143729.png', '.png', 'http://qiniu.oss.filecoin.ren/nexiot/1763027143729.png', '2025-11-13 17:45:44', 'test', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (20, 'nexiot/1763027149618.png', 'nexiot/1763027149618.png', '.png', 'http://qiniu.oss.filecoin.ren/nexiot/1763027149618.png', '2025-11-13 17:45:50', 'test', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (21, 'nexiot/1763797568442.png', 'nexiot/1763797568442.png', '.png', 'http://qiniu.oss.filecoin.ren/nexiot/1763797568442.png', '2025-11-22 15:46:09', 'nexiot', NULL, NULL, 'qiniu');
INSERT INTO `sys_oss` (`oss_id`, `file_name`, `original_name`, `file_suffix`, `url`, `create_time`, `create_by`, `update_time`, `update_by`, `service`) VALUES (22, 'nexiot/1764920494239.png', 'nexiot/1764920494239.png', '.png', 'http://qiniu.oss.filecoin.ren/nexiot/1764920494239.png', '2025-12-05 15:41:35', 'test', NULL, NULL, 'qiniu');
COMMIT;

-- ----------------------------
-- Table structure for sys_role
-- ----------------------------
DROP TABLE IF EXISTS `sys_role`;
CREATE TABLE `sys_role` (
  `role_id` bigint NOT NULL AUTO_INCREMENT COMMENT '角色ID',
  `role_name` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL COMMENT '角色名称',
  `role_key` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL COMMENT '角色权限字符串',
  `role_sort` int NOT NULL COMMENT '显示顺序',
  `data_scope` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '1' COMMENT '数据范围（1：全部数据权限 2：自定数据权限 3：本部门数据权限 4：本部门及以下数据权限）',
  `menu_check_strictly` tinyint(1) DEFAULT '1' COMMENT '菜单树选择项是否关联显示',
  `dept_check_strictly` tinyint(1) DEFAULT '1' COMMENT '部门树选择项是否关联显示',
  `status` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL COMMENT '角色状态（0正常 1停用）',
  `create_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '创建者',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT '' COMMENT '更新者',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(500) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`role_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=40 DEFAULT CHARSET=utf8mb3 COMMENT='角色信息表';

-- ----------------------------
-- Records of sys_role
-- ----------------------------
BEGIN;
INSERT INTO `sys_role` (`role_id`, `role_name`, `role_key`, `role_sort`, `data_scope`, `menu_check_strictly`, `dept_check_strictly`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (1, '超级管理员', 'admin', 0, '4', 0, 0, '0', 'iot', '2021-12-27 10:28:13', NULL, NULL, NULL);
INSERT INTO `sys_role` (`role_id`, `role_name`, `role_key`, `role_sort`, `data_scope`, `menu_check_strictly`, `dept_check_strictly`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (37, '普通', 'common', 0, '4', 1, NULL, '0', 'iot', '2025-06-24 19:55:31', 'iot', '2025-11-19 15:17:54', NULL);
INSERT INTO `sys_role` (`role_id`, `role_name`, `role_key`, `role_sort`, `data_scope`, `menu_check_strictly`, `dept_check_strictly`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (38, '演示', 'view', 0, '4', 1, NULL, '0', 'iot', '2025-11-19 15:43:45', NULL, NULL, NULL);
INSERT INTO `sys_role` (`role_id`, `role_name`, `role_key`, `role_sort`, `data_scope`, `menu_check_strictly`, `dept_check_strictly`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `remark`) VALUES (39, '演示管理', 'viewAdmin', 0, '4', 1, NULL, '0', 'iot', '2025-11-20 08:55:47', NULL, NULL, NULL);
COMMIT;

-- ----------------------------
-- Table structure for sys_role_menu
-- ----------------------------
DROP TABLE IF EXISTS `sys_role_menu`;
CREATE TABLE `sys_role_menu` (
  `role_id` bigint NOT NULL COMMENT '角色ID',
  `menu_id` bigint NOT NULL COMMENT '菜单ID',
  `uuid` bigint NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`uuid`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=3249 DEFAULT CHARSET=utf8mb3 COMMENT='角色和菜单关联表';

-- ----------------------------
-- Records of sys_role_menu
-- ----------------------------
BEGIN;
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1193, 2884);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1133, 2885);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1082, 2886);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1081, 2887);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1130, 2888);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1131, 2889);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1132, 2890);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1251, 2891);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1252, 2892);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1258, 2893);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1253, 2894);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1254, 2895);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1255, 2896);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1256, 2897);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1257, 2898);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1263, 2899);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1265, 2900);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1267, 2901);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1268, 2902);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1269, 2903);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1270, 2904);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1271, 2905);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1266, 2906);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1272, 2907);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1273, 2908);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1274, 2909);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1275, 2910);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1276, 2911);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1280, 2912);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1140, 2913);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1141, 2914);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1142, 2915);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1143, 2916);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1144, 2917);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1227, 2918);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1145, 2919);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1228, 2920);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1158, 2921);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1229, 2922);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1281, 2923);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1096, 2924);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1093, 2925);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1095, 2926);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1116, 2927);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1117, 2928);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1118, 2929);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1119, 2930);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1120, 2931);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1125, 2932);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1126, 2933);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1127, 2934);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1128, 2935);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1176, 2936);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1177, 2937);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1178, 2938);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1100, 2939);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1101, 2940);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1102, 2941);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1103, 2942);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1104, 2943);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1105, 2944);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1106, 2945);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1191, 2946);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1185, 2947);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1283, 2948);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1213, 2949);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1215, 2950);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1218, 2951);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1220, 2952);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1260, 2953);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1259, 2954);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1285, 2955);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1282, 2956);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1286, 2957);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1287, 2958);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1288, 2959);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1289, 2960);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1290, 2961);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1291, 2962);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1292, 2963);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1294, 2964);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1284, 2965);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1097, 2966);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1098, 2967);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1121, 2968);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1122, 2969);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1123, 2970);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1124, 2971);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1099, 2972);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1194, 2973);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1195, 2974);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1197, 2975);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1198, 2976);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1199, 2977);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1200, 2978);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1205, 2979);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1206, 2980);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1207, 2981);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1196, 2982);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1201, 2983);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1202, 2984);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1203, 2985);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1204, 2986);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1208, 2987);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1209, 2988);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1210, 2989);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1247, 2990);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1248, 2991);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1249, 2992);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1250, 2993);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1156, 2994);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1107, 2995);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1108, 2996);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1109, 2997);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1110, 2998);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1111, 2999);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1112, 3000);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1157, 3001);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1113, 3002);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1114, 3003);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1115, 3004);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1153, 3005);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1179, 3006);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1181, 3007);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1182, 3008);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1192, 3009);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1293, 3010);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1295, 3011);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1296, 3012);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1261, 3013);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1211, 3014);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1212, 3015);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1214, 3016);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1216, 3017);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1217, 3018);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1219, 3019);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (37, 1221, 3020);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1193, 3021);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1116, 3022);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1117, 3023);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1118, 3024);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1176, 3025);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1178, 3026);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1101, 3027);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1105, 3028);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1106, 3029);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1096, 3030);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1124, 3031);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1099, 3032);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1258, 3033);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1253, 3034);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1254, 3035);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1255, 3036);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1256, 3037);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1267, 3038);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1268, 3039);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1271, 3040);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1272, 3041);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1276, 3042);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1142, 3043);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1227, 3044);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1145, 3045);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1228, 3046);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1158, 3047);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1281, 3048);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1133, 3049);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1130, 3050);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1204, 3051);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1248, 3052);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1108, 3053);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1112, 3054);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1157, 3055);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1113, 3056);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1114, 3057);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1153, 3058);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1179, 3059);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1181, 3060);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1182, 3061);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1185, 3062);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1191, 3063);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1192, 3064);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1284, 3065);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1285, 3066);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1286, 3067);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1287, 3068);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1288, 3069);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1289, 3070);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1290, 3071);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1291, 3072);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1292, 3073);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1294, 3074);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1295, 3075);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1259, 3076);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1260, 3077);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1261, 3078);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1211, 3079);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1212, 3080);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1213, 3081);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1214, 3082);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1215, 3083);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1216, 3084);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1217, 3085);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1218, 3086);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1219, 3087);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1220, 3088);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1221, 3089);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1273, 3090);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1141, 3091);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1095, 3092);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1093, 3093);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1100, 3094);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1098, 3095);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1097, 3096);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1251, 3097);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1081, 3098);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1265, 3099);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1263, 3100);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1266, 3101);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1140, 3102);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1280, 3103);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1082, 3104);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1196, 3105);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1194, 3106);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1247, 3107);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1107, 3108);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1156, 3109);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1283, 3110);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (38, 1282, 3111);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1193, 3112);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1093, 3113);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1095, 3114);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1116, 3115);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1117, 3116);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1118, 3117);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1119, 3118);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1120, 3119);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1125, 3120);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1126, 3121);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1127, 3122);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1128, 3123);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1176, 3124);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1177, 3125);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1178, 3126);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1100, 3127);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1101, 3128);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1102, 3129);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1103, 3130);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1104, 3131);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1105, 3132);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1106, 3133);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1096, 3134);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1097, 3135);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1098, 3136);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1121, 3137);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1122, 3138);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1123, 3139);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1124, 3140);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1099, 3141);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1081, 3142);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1251, 3143);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1252, 3144);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1258, 3145);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1253, 3146);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1254, 3147);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1255, 3148);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1256, 3149);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1257, 3150);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1263, 3151);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1265, 3152);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1267, 3153);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1268, 3154);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1269, 3155);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1270, 3156);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1271, 3157);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1266, 3158);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1272, 3159);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1273, 3160);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1274, 3161);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1275, 3162);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1276, 3163);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1280, 3164);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1140, 3165);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1141, 3166);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1142, 3167);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1143, 3168);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1144, 3169);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1227, 3170);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1145, 3171);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1228, 3172);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1158, 3173);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1229, 3174);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1281, 3175);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1082, 3176);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1133, 3177);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1130, 3178);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1131, 3179);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1132, 3180);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1194, 3181);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1195, 3182);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1197, 3183);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1198, 3184);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1199, 3185);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1200, 3186);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1205, 3187);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1206, 3188);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1207, 3189);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1196, 3190);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1201, 3191);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1202, 3192);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1203, 3193);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1204, 3194);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1208, 3195);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1209, 3196);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1210, 3197);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1247, 3198);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1248, 3199);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1249, 3200);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1250, 3201);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1283, 3202);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1185, 3203);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1191, 3204);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1192, 3205);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1284, 3206);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1282, 3207);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1285, 3208);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1293, 3209);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1286, 3210);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1287, 3211);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1288, 3212);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1289, 3213);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1290, 3214);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1291, 3215);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1292, 3216);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1294, 3217);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1295, 3218);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1296, 3219);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1259, 3220);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1260, 3221);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1261, 3222);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1156, 3223);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1107, 3224);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1108, 3225);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1109, 3226);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1110, 3227);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1111, 3228);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1112, 3229);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1157, 3230);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1113, 3231);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1114, 3232);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1115, 3233);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1153, 3234);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1179, 3235);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1181, 3236);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1182, 3237);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1211, 3238);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1212, 3239);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1213, 3240);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1214, 3241);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1215, 3242);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1216, 3243);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1217, 3244);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1218, 3245);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1219, 3246);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1220, 3247);
INSERT INTO `sys_role_menu` (`role_id`, `menu_id`, `uuid`) VALUES (39, 1221, 3248);
COMMIT;

-- ----------------------------
-- Table structure for sys_user_role
-- ----------------------------
DROP TABLE IF EXISTS `sys_user_role`;
CREATE TABLE `sys_user_role` (
  `uuid` bigint NOT NULL AUTO_INCREMENT,
  `union_id` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL COMMENT '用户unionId',
  `role_id` bigint NOT NULL COMMENT '角色ID',
  PRIMARY KEY (`uuid`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3 COMMENT='用户和角色关联表';

-- ----------------------------
-- Records of sys_user_role
-- ----------------------------
BEGIN;
INSERT INTO `sys_user_role` (`uuid`, `union_id`, `role_id`) VALUES (1, 'iot', 1);
INSERT INTO `sys_user_role` (`uuid`, `union_id`, `role_id`) VALUES (3, 'view', 37);
INSERT INTO `sys_user_role` (`uuid`, `union_id`, `role_id`) VALUES (5, 'test', 37);
INSERT INTO `sys_user_role` (`uuid`, `union_id`, `role_id`) VALUES (7, 'demo', 38);
INSERT INTO `sys_user_role` (`uuid`, `union_id`, `role_id`) VALUES (10, 'xuyuming', 1);
COMMIT;

-- ----------------------------
-- Table structure for video_platform_channel
-- ----------------------------
DROP TABLE IF EXISTS `video_platform_channel`;
CREATE TABLE `video_platform_channel` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `device_id` bigint NOT NULL COMMENT '关联设备主表ID',
  `instance_key` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '平台实例唯一标识',
  `platform_device_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '平台侧设备ID',
  `channel_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '通道ID（平台侧唯一标识）',
  `channel_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '通道名称',
  `channel_status` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '通道状态: online/offline',
  `channel_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '通道类型: analog/digital/virtual',
  `parent_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '父通道ID（级联场景）',
  `manufacturer` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '通道厂商',
  `model` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '通道型号',
  `owner` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '通道所有者',
  `civil_code` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '行政区划',
  `address` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '安装地址',
  `parental` int DEFAULT '0' COMMENT '是否有子设备: 0-否 1-是',
  `safety_way` int DEFAULT NULL COMMENT '信令安全模式',
  `register_way` int DEFAULT NULL COMMENT '注册方式',
  `secrecy` int DEFAULT NULL COMMENT '保密属性',
  `ip_address` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '通道IP地址',
  `port` int DEFAULT NULL COMMENT '通道端口',
  `longitude` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '经度',
  `latitude` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '纬度',
  `ptz_type` int DEFAULT '0' COMMENT '云台类型: 0-不支持 1-球机 2-半球 3-固定枪机 4-遥控枪机',
  `position_type` int DEFAULT NULL COMMENT '位置类型',
  `stream_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'WVP流ID',
  `gb_stream_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'WVP国标流ID',
  `has_audio` tinyint DEFAULT '0' COMMENT 'WVP是否有音频',
  `camera_index_code` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '海康摄像机唯一标识码(用于抓图/预览)',
  `channel_no` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '海康通道号',
  `camera_type` int DEFAULT NULL COMMENT '海康摄像机类型: 0-枪机/1-球机/2-半球',
  `ptz` tinyint DEFAULT NULL COMMENT '海康是否支持云台: 0-否/1-是',
  `capability_set` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '海康通道能力集编码',
  `install_location` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '海康安装位置',
  `channel_code` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '大华通道编码',
  `channel_seq` int DEFAULT NULL COMMENT '大华通道序号',
  `encode_format` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '大华编码格式',
  `resolution` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '大华分辨率',
  `capabilities` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '通道能力集（JSON）: 录像/抓图/对讲/报警等',
  `stream_config` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '流配置（JSON）: 主码流/子码流参数',
  `ext_field1` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '扩展字段1',
  `ext_field2` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '扩展字段2',
  `ext_field3` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '扩展字段3（JSON）',
  `enabled` tinyint DEFAULT '1' COMMENT '是否启用：0-禁用，1-启用',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `create_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '创建者ID',
  `update_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '更新者ID',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uk_device_channel` (`device_id`,`channel_id`) USING BTREE,
  UNIQUE KEY `uk_instance_channel` (`instance_key`,`channel_id`,`parent_id`) USING BTREE,
  KEY `idx_instance_key` (`instance_key`) USING BTREE,
  KEY `idx_platform_device_id` (`platform_device_id`) USING BTREE,
  KEY `idx_channel_status` (`channel_status`) USING BTREE,
  KEY `idx_camera_index_code` (`camera_index_code`) USING BTREE,
  KEY `idx_channel_code` (`channel_code`) USING BTREE,
  KEY `idx_ptz_type` (`ptz_type`) USING BTREE,
  CONSTRAINT `video_platform_channel_ibfk_1` FOREIGN KEY (`device_id`) REFERENCES `video_platform_device` (`id`) ON DELETE CASCADE ON UPDATE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='视频平台通道表';

-- ----------------------------
-- Records of video_platform_channel
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for video_platform_device
-- ----------------------------
DROP TABLE IF EXISTS `video_platform_device`;
CREATE TABLE `video_platform_device` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `instance_key` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '平台实例唯一标识',
  `device_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '设备ID（平台侧唯一标识）',
  `device_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '设备名称',
  `device_status` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '设备状态: online/offline/1/0等',
  `device_model` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '设备型号',
  `device_ip` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '设备IP地址',
  `device_port` int DEFAULT NULL COMMENT '设备端口',
  `manufacturer` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '设备厂商',
  `org_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '所属组织ID',
  `org_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '所属组织名称',
  `gps_x` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '经度（longitude）',
  `gps_y` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '纬度（latitude）',
  `gps_z` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Z轴高度（altitude）',
  `configuration` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '设备配置（JSON）包含channelList、能力集等公共扩展信息',
  `remark` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '备注说明',
  `enabled` tinyint DEFAULT '1' COMMENT '是否启用：0-禁用，1-启用',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `create_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '创建者ID',
  `update_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '更新者ID',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uk_instance_device` (`instance_key`,`device_id`) USING BTREE,
  KEY `idx_instance_key` (`instance_key`) USING BTREE,
  KEY `idx_device_status` (`device_status`) USING BTREE,
  KEY `idx_org_id` (`org_id`) USING BTREE,
  KEY `idx_enabled` (`enabled`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='视频平台设备主表';

-- ----------------------------
-- Records of video_platform_device
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for video_platform_device_cache
-- ----------------------------
DROP TABLE IF EXISTS `video_platform_device_cache`;
CREATE TABLE `video_platform_device_cache` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `instance_key` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '平台实例标识',
  `device_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '设备ID/通道ID',
  `device_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '设备名称',
  `status` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '设备状态：online/offline等',
  `model` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '设备型号',
  `configuration` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '设备配置（JSON），包含channelList等',
  `org_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '组织ID',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `create_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '创建者ID',
  `update_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '更新者ID',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uk_instance_device` (`instance_key`,`device_id`) USING BTREE,
  KEY `idx_instance_key` (`instance_key`) USING BTREE,
  KEY `idx_org_id` (`org_id`) USING BTREE,
  KEY `idx_status` (`status`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='视频平台设备缓存表';

-- ----------------------------
-- Records of video_platform_device_cache
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for video_platform_device_ext
-- ----------------------------
DROP TABLE IF EXISTS `video_platform_device_ext`;
CREATE TABLE `video_platform_device_ext` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `device_id` bigint NOT NULL COMMENT '关联主表设备ID',
  `instance_key` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '平台实例唯一标识',
  `platform_device_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '平台侧设备ID',
  `charset` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'WVP字符集: GB2312/UTF-8',
  `transport` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'WVP传输协议: UDP/TCP',
  `stream_mode` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'WVP流模式: TCP-ACTIVE/TCP-PASSIVE/UDP',
  `host_address` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'WVP主机地址',
  `expires` int DEFAULT NULL COMMENT 'WVP注册有效期(秒)',
  `keepalive_time` datetime DEFAULT NULL COMMENT 'WVP最后心跳时间',
  `register_time` datetime DEFAULT NULL COMMENT 'WVP注册时间',
  `media_server_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'WVP流媒体服务器ID',
  `encode_dev_index_code` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '海康编码设备索引码',
  `device_capability_set` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '海康设备能力集编码',
  `device_sn` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '大华设备序列号',
  `device_category` int DEFAULT NULL COMMENT '大华设备类别',
  `device_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '大华设备类型',
  `owner_code` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '大华所属者编码',
  `is_online` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '大华在线状态: 0/1',
  `sleep_stat` int DEFAULT NULL COMMENT '大华休眠状态: 0-非休眠/1-休眠',
  `third_proxy_port` int DEFAULT NULL COMMENT '大华第三方代理端口',
  `third_proxy_server_code` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '大华第三方代理服务器编码',
  `license_limit` int DEFAULT NULL COMMENT '大华license限制',
  `offline_reason` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '大华离线原因',
  `sub_system` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '大华子系统标识',
  `units_info` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '大华单元信息（JSON）包含unitType等',
  `ext_field1` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '扩展字段1',
  `ext_field2` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '扩展字段2',
  `ext_field3` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '扩展字段3（JSON）',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `create_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '创建者ID',
  `update_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '更新者ID',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uk_device_instance` (`device_id`,`instance_key`) USING BTREE,
  UNIQUE KEY `uk_instance_platform_device` (`instance_key`,`platform_device_id`) USING BTREE,
  KEY `idx_instance_key` (`instance_key`) USING BTREE,
  KEY `idx_device_sn` (`device_sn`) USING BTREE,
  KEY `idx_encode_dev_index_code` (`encode_dev_index_code`) USING BTREE,
  KEY `idx_media_server_id` (`media_server_id`) USING BTREE,
  CONSTRAINT `video_platform_device_ext_ibfk_1` FOREIGN KEY (`device_id`) REFERENCES `video_platform_device` (`id`) ON DELETE CASCADE ON UPDATE RESTRICT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='视频平台设备扩展表(设备级特有字段)';

-- ----------------------------
-- Records of video_platform_device_ext
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Table structure for video_platform_instance
-- ----------------------------
DROP TABLE IF EXISTS `video_platform_instance`;
CREATE TABLE `video_platform_instance` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `platform_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '平台类型：wvp/hik_ics/dahua_icc',
  `instance_key` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '实例唯一标识',
  `name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '实例名称',
  `endpoint` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '平台API地址或域',
  `auth` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '鉴权配置（JSON）',
  `version` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '平台版本',
  `options` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci COMMENT '其他选项配置（JSON）',
  `auto_create_products` tinyint DEFAULT '0' COMMENT 'WVP是否自动创建GB/级联产品：0-否，1-是',
  `enabled` tinyint DEFAULT '1' COMMENT '是否启用：0-禁用，1-启用',
  `creator_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '创建者ID',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uk_instance_key` (`instance_key`) USING BTREE,
  KEY `idx_platform_type` (`platform_type`) USING BTREE,
  KEY `idx_enabled` (`enabled`) USING BTREE,
  KEY `idx_creator_id` (`creator_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='视频平台实例表';

-- ----------------------------
-- Records of video_platform_instance
-- ----------------------------
BEGIN;
INSERT INTO `video_platform_instance` (`id`, `platform_type`, `instance_key`, `name`, `endpoint`, `auth`, `version`, `options`, `auto_create_products`, `enabled`, `creator_id`, `create_time`, `update_time`) VALUES (2, 'isc', 'isc_123', '综合安防管理平台', 'https://ics-dev.nexiot.xyz:1234', '{\"endpoint\":\"https://ics-dev.nexiot.xyz:1234\",\"username\":\"abc1234\",\"password\":\"abc1234\",\"clientId\":\"dds\",\"clientSecret\":\"dsdsfdsf\"}', '', '{\"subscription\":{\"topics\":[],\"callback\":\"\"}}', 0, 1, 'demo', '2025-11-04 16:13:35', '2025-11-19 15:09:12');
INSERT INTO `video_platform_instance` (`id`, `platform_type`, `instance_key`, `name`, `endpoint`, `auth`, `version`, `options`, `auto_create_products`, `enabled`, `creator_id`, `create_time`, `update_time`) VALUES (3, 'icc', 'dahua_icc_001', '大华智慧物联综合管理平台', 'https://open-icc.dahuatech.com', '{\"endpoint\":\"https://open-icc.dahuatech.com\",\"appKey\":\"sjadjd\",\"appSecret\":\"dsdsfsf\",\"username\":\"sjkds\",\"password\":\"dsds\"}', '', '{\"subscription\":{\"enabled\":true,\"topics\":[],\"callback\":\"\"}}', 0, 1, 'demo', '2025-11-04 21:45:17', '2025-11-19 14:45:48');
INSERT INTO `video_platform_instance` (`id`, `platform_type`, `instance_key`, `name`, `endpoint`, `auth`, `version`, `options`, `auto_create_products`, `enabled`, `creator_id`, `create_time`, `update_time`) VALUES (4, 'wvp', 'inner_wvp_123', 'wvp-GB28281-pro国标视频平台', 'http://video.abc.xyz:18080', '{\"endpoint\":\"http://video.abc.xyz:18080\",\"token\":\"x-x-x\",\"version\":\"v1\"}', 'v1', '{\"subscription\":{\"topics\":[],\"callback\":\"\"}}', 1, 1, 'demo', '2025-11-04 21:45:50', '2025-12-09 15:05:21');
INSERT INTO `video_platform_instance` (`id`, `platform_type`, `instance_key`, `name`, `endpoint`, `auth`, `version`, `options`, `auto_create_products`, `enabled`, `creator_id`, `create_time`, `update_time`) VALUES (5, 'icc', 'dahua_icc_002', '大华智慧物联综合管理平台', 'https://open-icc.dahuatech.com', '{\"endpoint\":\"https://open-icc.dahuatech.com\",\"appKey\":\"sjadjd\",\"appSecret\":\"dsdsfsf\",\"username\":\"sjkds\",\"password\":\"dsds\"}', '', '{\"subscription\":{\"enabled\":true,\"topics\":[],\"callback\":\"\"}}', 0, 1, 'test', '2025-11-04 21:45:17', '2025-11-19 15:10:23');
INSERT INTO `video_platform_instance` (`id`, `platform_type`, `instance_key`, `name`, `endpoint`, `auth`, `version`, `options`, `auto_create_products`, `enabled`, `creator_id`, `create_time`, `update_time`) VALUES (7, 'isc', 'isc_12345', '综合安防管理平台', 'https://ics-dev.nexiot.xyz:1234', '{\"endpoint\":\"https://ics-dev.nexiot.xyz:1234\",\"username\":\"abc1234\",\"password\":\"abc1234\",\"clientId\":\"dds\",\"clientSecret\":\"dsdsfdsf\"}', '', '{\"subscription\":{\"topics\":[],\"callback\":\"\"}}', 0, 1, 'test', '2025-11-04 16:13:35', '2025-11-19 15:10:22');
COMMIT;

-- ----------------------------
-- Table structure for video_platform_org_cache
-- ----------------------------
DROP TABLE IF EXISTS `video_platform_org_cache`;
CREATE TABLE `video_platform_org_cache` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `instance_key` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '平台实例标识',
  `org_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '组织ID',
  `parent_org_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '父组织ID',
  `org_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '组织名称',
  `path` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '组织路径（可选）',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `create_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '创建者ID',
  `update_id` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '更新者ID',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `uk_instance_org` (`instance_key`,`org_id`) USING BTREE,
  KEY `idx_instance_key` (`instance_key`) USING BTREE,
  KEY `idx_parent_org_id` (`parent_org_id`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='视频平台组织缓存表';

-- ----------------------------
-- Records of video_platform_org_cache
-- ----------------------------
BEGIN;
COMMIT;

SET FOREIGN_KEY_CHECKS = 1;
