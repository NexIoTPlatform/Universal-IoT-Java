/* 
* imou-player.js
* Version: V1.2.0
* Copyright (c) 2025-08-12T06:47:44.226Z
*/
(function(ai,Zt){typeof exports=="object"&&typeof module!="undefined"?module.exports=Zt():typeof define=="function"&&define.amd?define(Zt):(ai=typeof globalThis!="undefined"?globalThis:ai||self,ai["imou-player"]=Zt())})(this,function(){"use strict";var h1=Object.defineProperty,p1=Object.defineProperties;var g1=Object.getOwnPropertyDescriptors;var Xh=Object.getOwnPropertySymbols;var m1=Object.prototype.hasOwnProperty,y1=Object.prototype.propertyIsEnumerable;var Zh=(ai,Zt,Ri)=>Zt in ai?h1(ai,Zt,{enumerable:!0,configurable:!0,writable:!0,value:Ri}):ai[Zt]=Ri,on=(ai,Zt)=>{for(var Ri in Zt||(Zt={}))m1.call(Zt,Ri)&&Zh(ai,Ri,Zt[Ri]);if(Xh)for(var Ri of Xh(Zt))y1.call(Zt,Ri)&&Zh(ai,Ri,Zt[Ri]);return ai},$i=(ai,Zt)=>p1(ai,g1(Zt));var Ar=(ai,Zt,Ri)=>new Promise((Us,$s)=>{var Ml=Mr=>{try{oo(Ri.next(Mr))}catch(so){$s(so)}},js=Mr=>{try{oo(Ri.throw(Mr))}catch(so){$s(so)}},oo=Mr=>Mr.done?Us(Mr.value):Promise.resolve(Mr.value).then(Ml,js);oo((Ri=Ri.apply(ai,Zt)).next())});function ai(d,i){return i.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(s){if(s!=="default"&&!(s in d)){var u=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(d,s,u.get?u:{enumerable:!0,get:function(){return t[s]}})}})}),Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}const Zt=d=>typeof d=="string",Ri=()=>{let d,i;const t=new Promise((s,u)=>{d=s,i=u});return t.resolve=d,t.reject=i,t},Us=d=>d==null?"":""+d,$s=(d,i,t)=>{d.forEach(s=>{i[s]&&(t[s]=i[s])})},Ml=/###/g,js=d=>d&&d.indexOf("###")>-1?d.replace(Ml,"."):d,oo=d=>!d||Zt(d),Mr=(d,i,t)=>{const s=Zt(i)?i.split("."):i;let u=0;for(;u<s.length-1;){if(oo(d))return{};const A=js(s[u]);!d[A]&&t&&(d[A]=new t),Object.prototype.hasOwnProperty.call(d,A)?d=d[A]:d={},++u}return oo(d)?{}:{obj:d,k:js(s[u])}},so=(d,i,t)=>{const{obj:s,k:u}=Mr(d,i,Object);if(s!==void 0||i.length===1){s[u]=t;return}let A=i[i.length-1],b=i.slice(0,i.length-1),C=Mr(d,b,Object);for(;C.obj===void 0&&b.length;)A=`${b[b.length-1]}.${A}`,b=b.slice(0,b.length-1),C=Mr(d,b,Object),(C==null?void 0:C.obj)&&typeof C.obj[`${C.k}.${A}`]!="undefined"&&(C.obj=void 0);C.obj[`${C.k}.${A}`]=t},e0=(d,i,t,s)=>{const{obj:u,k:A}=Mr(d,i,Object);u[A]=u[A]||[],u[A].push(t)},Ws=(d,i)=>{const{obj:t,k:s}=Mr(d,i);if(!!t&&!!Object.prototype.hasOwnProperty.call(t,s))return t[s]},t0=(d,i,t)=>{const s=Ws(d,t);return s!==void 0?s:Ws(i,t)},rc=(d,i,t)=>{for(const s in i)s!=="__proto__"&&s!=="constructor"&&(s in d?Zt(d[s])||d[s]instanceof String||Zt(i[s])||i[s]instanceof String?t&&(d[s]=i[s]):rc(d[s],i[s],t):d[s]=i[s]);return d},lo=d=>d.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var n0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const i0=d=>Zt(d)?d.replace(/[&<>"'\/]/g,i=>n0[i]):d;class r0{constructor(i){this.capacity=i,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(i){const t=this.regExpMap.get(i);if(t!==void 0)return t;const s=new RegExp(i);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(i,s),this.regExpQueue.push(i),s}}const a0=[" ",",","?","!",";"],o0=new r0(20),s0=(d,i,t)=>{i=i||"",t=t||"";const s=a0.filter(b=>i.indexOf(b)<0&&t.indexOf(b)<0);if(s.length===0)return!0;const u=o0.getRegExp(`(${s.map(b=>b==="?"?"\\?":b).join("|")})`);let A=!u.test(d);if(!A){const b=d.indexOf(t);b>0&&!u.test(d.substring(0,b))&&(A=!0)}return A},Ql=function(d,i){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!d)return;if(d[i])return Object.prototype.hasOwnProperty.call(d,i)?d[i]:void 0;const s=i.split(t);let u=d;for(let A=0;A<s.length;){if(!u||typeof u!="object")return;let b,C="";for(let c=A;c<s.length;++c)if(c!==A&&(C+=t),C+=s[c],b=u[C],b!==void 0){if(["string","number","boolean"].indexOf(typeof b)>-1&&c<s.length-1)continue;A+=c-A+1;break}u=b}return u},zs=d=>d==null?void 0:d.replace("_","-"),l0={type:"logger",log(d){this.output("log",d)},warn(d){this.output("warn",d)},error(d){this.output("error",d)},output(d,i){var t,s;(s=(t=console==null?void 0:console[d])==null?void 0:t.apply)==null||s.call(t,console,i)}};class qs{constructor(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(i,t)}init(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=i||l0,this.options=t,this.debug=t.debug}log(){for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return this.forward(t,"log","",!0)}warn(){for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return this.forward(t,"warn","",!0)}error(){for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return this.forward(t,"error","")}deprecate(){for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(i,t,s,u){return u&&!this.debug?null:(Zt(i[0])&&(i[0]=`${s}${this.prefix} ${i[0]}`),this.logger[t](i))}create(i){return new qs(this.logger,on({prefix:`${this.prefix}:${i}:`},this.options))}clone(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new qs(this.logger,i)}}var la=new qs;class Ys{constructor(){this.observers={}}on(i,t){return i.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const u=this.observers[s].get(t)||0;this.observers[s].set(t,u+1)}),this}off(i,t){if(!!this.observers[i]){if(!t){delete this.observers[i];return}this.observers[i].delete(t)}}emit(i){for(var t=arguments.length,s=new Array(t>1?t-1:0),u=1;u<t;u++)s[u-1]=arguments[u];this.observers[i]&&Array.from(this.observers[i].entries()).forEach(b=>{let[C,c]=b;for(let T=0;T<c;T++)C(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(b=>{let[C,c]=b;for(let T=0;T<c;T++)C.apply(C,[i,...s])})}}class ac extends Ys{constructor(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=i||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}removeNamespaces(i){const t=this.options.ns.indexOf(i);t>-1&&this.options.ns.splice(t,1)}getResource(i,t,s){var T,k;let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const A=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,b=u.ignoreJSONStructure!==void 0?u.ignoreJSONStructure:this.options.ignoreJSONStructure;let C;i.indexOf(".")>-1?C=i.split("."):(C=[i,t],s&&(Array.isArray(s)?C.push(...s):Zt(s)&&A?C.push(...s.split(A)):C.push(s)));const c=Ws(this.data,C);return!c&&!t&&!s&&i.indexOf(".")>-1&&(i=C[0],t=C[1],s=C.slice(2).join(".")),c||!b||!Zt(s)?c:Ql((k=(T=this.data)==null?void 0:T[i])==null?void 0:k[t],s,A)}addResource(i,t,s,u){let A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const b=A.keySeparator!==void 0?A.keySeparator:this.options.keySeparator;let C=[i,t];s&&(C=C.concat(b?s.split(b):s)),i.indexOf(".")>-1&&(C=i.split("."),u=t,t=C[1]),this.addNamespaces(t),so(this.data,C,u),A.silent||this.emit("added",i,t,s,u)}addResources(i,t,s){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const A in s)(Zt(s[A])||Array.isArray(s[A]))&&this.addResource(i,t,A,s[A],{silent:!0});u.silent||this.emit("added",i,t,s)}addResourceBundle(i,t,s,u,A){let b=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},C=[i,t];i.indexOf(".")>-1&&(C=i.split("."),u=s,s=t,t=C[1]),this.addNamespaces(t);let c=Ws(this.data,C)||{};b.skipCopy||(s=JSON.parse(JSON.stringify(s))),u?rc(c,s,A):c=on(on({},c),s),so(this.data,C,c),b.silent||this.emit("added",i,t,s)}removeResourceBundle(i,t){this.hasResourceBundle(i,t)&&delete this.data[i][t],this.removeNamespaces(t),this.emit("removed",i,t)}hasResourceBundle(i,t){return this.getResource(i,t)!==void 0}getResourceBundle(i,t){return t||(t=this.options.defaultNS),this.getResource(i,t)}getDataByLanguage(i){return this.data[i]}hasLanguageSomeTranslations(i){const t=this.getDataByLanguage(i);return!!(t&&Object.keys(t)||[]).find(u=>t[u]&&Object.keys(t[u]).length>0)}toJSON(){return this.data}}var oc={processors:{},addPostProcessor(d){this.processors[d.name]=d},handle(d,i,t,s,u){return d.forEach(A=>{var b,C;i=(C=(b=this.processors[A])==null?void 0:b.process(i,t,s,u))!=null?C:i}),i}};const sc={},lc=d=>!Zt(d)&&typeof d!="boolean"&&typeof d!="number";class Vs extends Ys{constructor(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),$s(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=la.create("translator")}changeLanguage(i){i&&(this.language=i)}exists(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;const s=this.resolve(i,t);return(s==null?void 0:s.res)!==void 0}extractFromKey(i,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const u=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let A=t.ns||this.options.defaultNS||[];const b=s&&i.indexOf(s)>-1,C=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!s0(i,s,u);if(b&&!C){const c=i.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:i,namespaces:Zt(A)?[A]:A};const T=i.split(s);(s!==u||s===u&&this.options.ns.indexOf(T[0])>-1)&&(A=T.shift()),i=T.join(u)}return{key:i,namespaces:Zt(A)?[A]:A}}translate(i,t,s){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t=on({},t)),t||(t={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);const u=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,A=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:b,namespaces:C}=this.extractFromKey(i[i.length-1],t),c=C[C.length-1],T=t.lng||this.language,k=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((T==null?void 0:T.toLowerCase())==="cimode"){if(k){const x=t.nsSeparator||this.options.nsSeparator;return u?{res:`${c}${x}${b}`,usedKey:b,exactUsedKey:b,usedLng:T,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:`${c}${x}${b}`}return u?{res:b,usedKey:b,exactUsedKey:b,usedLng:T,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:b}const S=this.resolve(i,t);let E=S==null?void 0:S.res;const r=(S==null?void 0:S.usedKey)||b,D=(S==null?void 0:S.exactUsedKey)||b,f=["[object Number]","[object Function]","[object RegExp]"],y=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,Q=!this.i18nFormat||this.i18nFormat.handleAsObject,g=t.count!==void 0&&!Zt(t.count),w=Vs.hasDefaultValue(t),M=g?this.pluralResolver.getSuffix(T,t.count,t):"",z=t.ordinal&&g?this.pluralResolver.getSuffix(T,t.count,{ordinal:!1}):"",G=g&&!t.ordinal&&t.count===0,Y=G&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${M}`]||t[`defaultValue${z}`]||t.defaultValue;let N=E;Q&&!E&&w&&(N=Y);const K=lc(N),p=Object.prototype.toString.apply(N);if(Q&&N&&K&&f.indexOf(p)<0&&!(Zt(y)&&Array.isArray(N))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(r,N,$i(on({},t),{ns:C})):`key '${b} (${this.language})' returned an object instead of string.`;return u?(S.res=x,S.usedParams=this.getUsedParamsDetails(t),S):x}if(A){const x=Array.isArray(N),_=x?[]:{},B=x?D:r;for(const R in N)if(Object.prototype.hasOwnProperty.call(N,R)){const X=`${B}${A}${R}`;w&&!E?_[R]=this.translate(X,$i(on({},t),{defaultValue:lc(Y)?Y[R]:void 0,joinArrays:!1,ns:C})):_[R]=this.translate(X,$i(on({},t),{joinArrays:!1,ns:C})),_[R]===X&&(_[R]=N[R])}E=_}}else if(Q&&Zt(y)&&Array.isArray(E))E=E.join(y),E&&(E=this.extendTranslation(E,i,t,s));else{let x=!1,_=!1;!this.isValidLookup(E)&&w&&(x=!0,E=Y),this.isValidLookup(E)||(_=!0,E=b);const R=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_?void 0:E,X=w&&Y!==E&&this.options.updateMissing;if(_||x||X){if(this.logger.log(X?"updateKey":"missingKey",T,c,b,X?Y:E),A){const me=this.resolve(b,$i(on({},t),{keySeparator:!1}));me&&me.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let J=[];const ne=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ne&&ne[0])for(let me=0;me<ne.length;me++)J.push(ne[me]);else this.options.saveMissingTo==="all"?J=this.languageUtils.toResolveHierarchy(t.lng||this.language):J.push(t.lng||this.language);const le=(me,Ae,q)=>{var re;const Z=w&&q!==E?q:R;this.options.missingKeyHandler?this.options.missingKeyHandler(me,c,Ae,Z,X,t):(re=this.backendConnector)!=null&&re.saveMissing&&this.backendConnector.saveMissing(me,c,Ae,Z,X,t),this.emit("missingKey",me,c,Ae,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&g?J.forEach(me=>{const Ae=this.pluralResolver.getSuffixes(me,t);G&&t[`defaultValue${this.options.pluralSeparator}zero`]&&Ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&Ae.push(`${this.options.pluralSeparator}zero`),Ae.forEach(q=>{le([me],b+q,t[`defaultValue${q}`]||Y)})}):le(J,b,Y))}E=this.extendTranslation(E,i,t,S,s),_&&E===b&&this.options.appendNamespaceToMissingKey&&(E=`${c}:${b}`),(_||x)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${b}`:b,x?E:void 0))}return u?(S.res=E,S.usedParams=this.getUsedParamsDetails(t),S):E}extendTranslation(i,t,s,u,A){var T,k;var b=this;if((T=this.i18nFormat)!=null&&T.parse)i=this.i18nFormat.parse(i,on(on({},this.options.interpolation.defaultVariables),s),s.lng||this.language||u.usedLng,u.usedNS,u.usedKey,{resolved:u});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init($i(on({},s),{interpolation:on(on({},this.options.interpolation),s.interpolation)}));const S=Zt(i)&&(((k=s==null?void 0:s.interpolation)==null?void 0:k.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let E;if(S){const D=i.match(this.interpolator.nestingRegexp);E=D&&D.length}let r=s.replace&&!Zt(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(r=on(on({},this.options.interpolation.defaultVariables),r)),i=this.interpolator.interpolate(i,r,s.lng||this.language||u.usedLng,s),S){const D=i.match(this.interpolator.nestingRegexp),f=D&&D.length;E<f&&(s.nest=!1)}!s.lng&&u&&u.res&&(s.lng=this.language||u.usedLng),s.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var D=arguments.length,f=new Array(D),y=0;y<D;y++)f[y]=arguments[y];return(A==null?void 0:A[0])===f[0]&&!s.context?(b.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${t[0]}`),null):b.translate(...f,t)},s)),s.interpolation&&this.interpolator.reset()}const C=s.postProcess||this.options.postProcess,c=Zt(C)?[C]:C;return i!=null&&(c==null?void 0:c.length)&&s.applyPostProcessor!==!1&&(i=oc.handle(c,i,t,this.options&&this.options.postProcessPassResolved?on({i18nResolved:$i(on({},u),{usedParams:this.getUsedParamsDetails(s)})},s):s,this)),i}resolve(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,u,A,b,C;return Zt(i)&&(i=[i]),i.forEach(c=>{if(this.isValidLookup(s))return;const T=this.extractFromKey(c,t),k=T.key;u=k;let S=T.namespaces;this.options.fallbackNS&&(S=S.concat(this.options.fallbackNS));const E=t.count!==void 0&&!Zt(t.count),r=E&&!t.ordinal&&t.count===0,D=t.context!==void 0&&(Zt(t.context)||typeof t.context=="number")&&t.context!=="",f=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);S.forEach(y=>{var Q,g;this.isValidLookup(s)||(C=y,!sc[`${f[0]}-${y}`]&&((Q=this.utils)==null?void 0:Q.hasLoadedNamespace)&&!((g=this.utils)!=null&&g.hasLoadedNamespace(C))&&(sc[`${f[0]}-${y}`]=!0,this.logger.warn(`key "${u}" for languages "${f.join(", ")}" won't get resolved as namespace "${C}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(w=>{var G;if(this.isValidLookup(s))return;b=w;const M=[k];if((G=this.i18nFormat)!=null&&G.addLookupKeys)this.i18nFormat.addLookupKeys(M,k,w,y,t);else{let Y;E&&(Y=this.pluralResolver.getSuffix(w,t.count,t));const N=`${this.options.pluralSeparator}zero`,K=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(M.push(k+Y),t.ordinal&&Y.indexOf(K)===0&&M.push(k+Y.replace(K,this.options.pluralSeparator)),r&&M.push(k+N)),D){const p=`${k}${this.options.contextSeparator}${t.context}`;M.push(p),E&&(M.push(p+Y),t.ordinal&&Y.indexOf(K)===0&&M.push(p+Y.replace(K,this.options.pluralSeparator)),r&&M.push(p+N))}}let z;for(;z=M.pop();)this.isValidLookup(s)||(A=z,s=this.getResource(w,y,z,t))}))})}),{res:s,usedKey:u,exactUsedKey:A,usedLng:b,usedNS:C}}isValidLookup(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}getResource(i,t,s){var A;let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(A=this.i18nFormat)!=null&&A.getResource?this.i18nFormat.getResource(i,t,s,u):this.resourceStore.getResource(i,t,s,u)}getUsedParamsDetails(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=i.replace&&!Zt(i.replace);let u=s?i.replace:i;if(s&&typeof i.count!="undefined"&&(u.count=i.count),this.options.interpolation.defaultVariables&&(u=on(on({},this.options.interpolation.defaultVariables),u)),!s){u=on({},u);for(const A of t)delete u[A]}return u}static hasDefaultValue(i){const t="defaultValue";for(const s in i)if(Object.prototype.hasOwnProperty.call(i,s)&&t===s.substring(0,t.length)&&i[s]!==void 0)return!0;return!1}}class uc{constructor(i){this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=la.create("languageUtils")}getScriptPartFromCode(i){if(i=zs(i),!i||i.indexOf("-")<0)return null;const t=i.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(i){if(i=zs(i),!i||i.indexOf("-")<0)return i;const t=i.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(i){if(Zt(i)&&i.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(i)[0]}catch(s){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?i.toLowerCase():i)}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}isSupportedCode(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}getBestMatchFromCodes(i){if(!i)return null;let t;return i.forEach(s=>{if(t)return;const u=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(u))&&(t=u)}),!t&&this.options.supportedLngs&&i.forEach(s=>{if(t)return;const u=this.getLanguagePartFromCode(s);if(this.isSupportedCode(u))return t=u;t=this.options.supportedLngs.find(A=>{if(A===u)return A;if(!(A.indexOf("-")<0&&u.indexOf("-")<0)&&(A.indexOf("-")>0&&u.indexOf("-")<0&&A.substring(0,A.indexOf("-"))===u||A.indexOf(u)===0&&u.length>1))return A})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(i,t){if(!i)return[];if(typeof i=="function"&&(i=i(t)),Zt(i)&&(i=[i]),Array.isArray(i))return i;if(!t)return i.default||[];let s=i[t];return s||(s=i[this.getScriptPartFromCode(t)]),s||(s=i[this.formatLanguageCode(t)]),s||(s=i[this.getLanguagePartFromCode(t)]),s||(s=i.default),s||[]}toResolveHierarchy(i,t){const s=this.getFallbackCodes(t||this.options.fallbackLng||[],i),u=[],A=b=>{!b||(this.isSupportedCode(b)?u.push(b):this.logger.warn(`rejecting language code not found in supportedLngs: ${b}`))};return Zt(i)&&(i.indexOf("-")>-1||i.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&A(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&A(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&A(this.getLanguagePartFromCode(i))):Zt(i)&&A(this.formatLanguageCode(i)),s.forEach(b=>{u.indexOf(b)<0&&A(this.formatLanguageCode(b))}),u}}const cc={zero:0,one:1,two:2,few:3,many:4,other:5},dc={select:d=>d===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class u0{constructor(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=i,this.options=t,this.logger=la.create("pluralResolver"),this.pluralRulesCache={}}addRule(i,t){this.rules[i]=t}clearCache(){this.pluralRulesCache={}}getRule(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=zs(i==="dev"?"en":i),u=t.ordinal?"ordinal":"cardinal",A=JSON.stringify({cleanedCode:s,type:u});if(A in this.pluralRulesCache)return this.pluralRulesCache[A];let b;try{b=new Intl.PluralRules(s,{type:u})}catch(C){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dc;if(!i.match(/-|_/))return dc;const c=this.languageUtils.getLanguagePartFromCode(i);b=this.getRule(c,t)}return this.pluralRulesCache[A]=b,b}needsPlural(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(i,t);return s||(s=this.getRule("dev",t)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(i,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(i,s).map(u=>`${t}${u}`)}getSuffixes(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(i,t);return s||(s=this.getRule("dev",t)),s?s.resolvedOptions().pluralCategories.sort((u,A)=>cc[u]-cc[A]).map(u=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${u}`):[]}getSuffix(i,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=this.getRule(i,s);return u?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${u.select(t)}`:(this.logger.warn(`no plural rule found for: ${i}`),this.getSuffix("dev",t,s))}}const fc=function(d,i,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,A=t0(d,i,t);return!A&&u&&Zt(t)&&(A=Ql(d,t,s),A===void 0&&(A=Ql(i,t,s))),A},Pl=d=>d.replace(/\$/g,"$$$$");class c0{constructor(){var t;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=la.create("interpolator"),this.options=i,this.format=((t=i==null?void 0:i.interpolation)==null?void 0:t.format)||(s=>s),this.init(i)}init(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i.interpolation||(i.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:u,prefix:A,prefixEscaped:b,suffix:C,suffixEscaped:c,formatSeparator:T,unescapeSuffix:k,unescapePrefix:S,nestingPrefix:E,nestingPrefixEscaped:r,nestingSuffix:D,nestingSuffixEscaped:f,nestingOptionsSeparator:y,maxReplaces:Q,alwaysFormat:g}=i.interpolation;this.escape=t!==void 0?t:i0,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=u!==void 0?u:!1,this.prefix=A?lo(A):b||"{{",this.suffix=C?lo(C):c||"}}",this.formatSeparator=T||",",this.unescapePrefix=k?"":S||"-",this.unescapeSuffix=this.unescapePrefix?"":k||"",this.nestingPrefix=E?lo(E):r||lo("$t("),this.nestingSuffix=D?lo(D):f||lo(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=Q||1e3,this.alwaysFormat=g!==void 0?g:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const i=(t,s)=>(t==null?void 0:t.source)===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=i(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=i(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=i(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(i,t,s,u){var r;let A,b,C;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},T=D=>{if(D.indexOf(this.formatSeparator)<0){const g=fc(t,c,D,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(g,void 0,s,$i(on(on({},u),t),{interpolationkey:D})):g}const f=D.split(this.formatSeparator),y=f.shift().trim(),Q=f.join(this.formatSeparator).trim();return this.format(fc(t,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),Q,s,$i(on(on({},u),t),{interpolationkey:y}))};this.resetRegExp();const k=(u==null?void 0:u.missingInterpolationHandler)||this.options.missingInterpolationHandler,S=((r=u==null?void 0:u.interpolation)==null?void 0:r.skipOnVariables)!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:D=>Pl(D)},{regex:this.regexp,safeValue:D=>this.escapeValue?Pl(this.escape(D)):Pl(D)}].forEach(D=>{for(C=0;A=D.regex.exec(i);){const f=A[1].trim();if(b=T(f),b===void 0)if(typeof k=="function"){const Q=k(i,A,u);b=Zt(Q)?Q:""}else if(u&&Object.prototype.hasOwnProperty.call(u,f))b="";else if(S){b=A[0];continue}else this.logger.warn(`missed to pass in variable ${f} for interpolating ${i}`),b="";else!Zt(b)&&!this.useRawValueToEscape&&(b=Us(b));const y=D.safeValue(b);if(i=i.replace(A[0],y),S?(D.regex.lastIndex+=b.length,D.regex.lastIndex-=A[0].length):D.regex.lastIndex=0,C++,C>=this.maxReplaces)break}}),i}nest(i,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u,A,b;const C=(c,T)=>{var f;const k=this.nestingOptionsSeparator;if(c.indexOf(k)<0)return c;const S=c.split(new RegExp(`${k}[ ]*{`));let E=`{${S[1]}`;c=S[0],E=this.interpolate(E,b);const r=E.match(/'/g),D=E.match(/"/g);(((f=r==null?void 0:r.length)!=null?f:0)%2===0&&!D||D.length%2!==0)&&(E=E.replace(/'/g,'"'));try{b=JSON.parse(E),T&&(b=on(on({},T),b))}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${k}${E}`}return b.defaultValue&&b.defaultValue.indexOf(this.prefix)>-1&&delete b.defaultValue,c};for(;u=this.nestingRegexp.exec(i);){let c=[];b=on({},s),b=b.replace&&!Zt(b.replace)?b.replace:b,b.applyPostProcessor=!1,delete b.defaultValue;let T=!1;if(u[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(u[1])){const k=u[1].split(this.formatSeparator).map(S=>S.trim());u[1]=k.shift(),c=k,T=!0}if(A=t(C.call(this,u[1].trim(),b),b),A&&u[0]===i&&!Zt(A))return A;Zt(A)||(A=Us(A)),A||(this.logger.warn(`missed to resolve ${u[1]} for nesting ${i}`),A=""),T&&(A=c.reduce((k,S)=>this.format(k,S,s.lng,$i(on({},s),{interpolationkey:u[1].trim()})),A.trim())),i=i.replace(u[0],A),this.regexp.lastIndex=0}return i}}const d0=d=>{let i=d.toLowerCase().trim();const t={};if(d.indexOf("(")>-1){const s=d.split("(");i=s[0].toLowerCase().trim();const u=s[1].substring(0,s[1].length-1);i==="currency"&&u.indexOf(":")<0?t.currency||(t.currency=u.trim()):i==="relativetime"&&u.indexOf(":")<0?t.range||(t.range=u.trim()):u.split(";").forEach(b=>{if(b){const[C,...c]=b.split(":"),T=c.join(":").trim().replace(/^'+|'+$/g,""),k=C.trim();t[k]||(t[k]=T),T==="false"&&(t[k]=!1),T==="true"&&(t[k]=!0),isNaN(T)||(t[k]=parseInt(T,10))}})}return{formatName:i,formatOptions:t}},uo=d=>{const i={};return(t,s,u)=>{let A=u;u&&u.interpolationkey&&u.formatParams&&u.formatParams[u.interpolationkey]&&u[u.interpolationkey]&&(A=$i(on({},A),{[u.interpolationkey]:void 0}));const b=s+JSON.stringify(A);let C=i[b];return C||(C=d(zs(s),u),i[b]=C),C(t)}};class f0{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=la.create("formatter"),this.options=i,this.formats={number:uo((t,s)=>{const u=new Intl.NumberFormat(t,on({},s));return A=>u.format(A)}),currency:uo((t,s)=>{const u=new Intl.NumberFormat(t,$i(on({},s),{style:"currency"}));return A=>u.format(A)}),datetime:uo((t,s)=>{const u=new Intl.DateTimeFormat(t,on({},s));return A=>u.format(A)}),relativetime:uo((t,s)=>{const u=new Intl.RelativeTimeFormat(t,on({},s));return A=>u.format(A,s.range||"day")}),list:uo((t,s)=>{const u=new Intl.ListFormat(t,on({},s));return A=>u.format(A)})},this.init(i)}init(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(i,t){this.formats[i.toLowerCase().trim()]=t}addCached(i,t){this.formats[i.toLowerCase().trim()]=uo(t)}format(i,t,s){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const A=t.split(this.formatSeparator);if(A.length>1&&A[0].indexOf("(")>1&&A[0].indexOf(")")<0&&A.find(C=>C.indexOf(")")>-1)){const C=A.findIndex(c=>c.indexOf(")")>-1);A[0]=[A[0],...A.splice(1,C)].join(this.formatSeparator)}return A.reduce((C,c)=>{var S;const{formatName:T,formatOptions:k}=d0(c);if(this.formats[T]){let E=C;try{const r=((S=u==null?void 0:u.formatParams)==null?void 0:S[u.interpolationkey])||{},D=r.locale||r.lng||u.locale||u.lng||s;E=this.formats[T](C,D,on(on(on({},k),u),r))}catch(r){this.logger.warn(r)}return E}else this.logger.warn(`there was no format function for ${T}`);return C},i)}}const h0=(d,i)=>{d.pending[i]!==void 0&&(delete d.pending[i],d.pendingCount--)};class p0 extends Ys{constructor(i,t,s){var A,b;let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=i,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=u,this.logger=la.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=u.maxParallelReads||10,this.readingCalls=0,this.maxRetries=u.maxRetries>=0?u.maxRetries:5,this.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,this.state={},this.queue=[],(b=(A=this.backend)==null?void 0:A.init)==null||b.call(A,s,u.backend,u)}queueLoad(i,t,s,u){const A={},b={},C={},c={};return i.forEach(T=>{let k=!0;t.forEach(S=>{const E=`${T}|${S}`;!s.reload&&this.store.hasResourceBundle(T,S)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?b[E]===void 0&&(b[E]=!0):(this.state[E]=1,k=!1,b[E]===void 0&&(b[E]=!0),A[E]===void 0&&(A[E]=!0),c[S]===void 0&&(c[S]=!0)))}),k||(C[T]=!0)}),(Object.keys(A).length||Object.keys(b).length)&&this.queue.push({pending:b,pendingCount:Object.keys(b).length,loaded:{},errors:[],callback:u}),{toLoad:Object.keys(A),pending:Object.keys(b),toLoadLanguages:Object.keys(C),toLoadNamespaces:Object.keys(c)}}loaded(i,t,s){const u=i.split("|"),A=u[0],b=u[1];t&&this.emit("failedLoading",A,b,t),!t&&s&&this.store.addResourceBundle(A,b,s,void 0,void 0,{skipCopy:!0}),this.state[i]=t?-1:2,t&&s&&(this.state[i]=0);const C={};this.queue.forEach(c=>{e0(c.loaded,[A],b),h0(c,i),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(T=>{C[T]||(C[T]={});const k=c.loaded[T];k.length&&k.forEach(S=>{C[T][S]===void 0&&(C[T][S]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",C),this.queue=this.queue.filter(c=>!c.done)}read(i,t,s){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,b=arguments.length>5?arguments[5]:void 0;if(!i.length)return b(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:t,fcName:s,tried:u,wait:A,callback:b});return}this.readingCalls++;const C=(T,k)=>{if(this.readingCalls--,this.waitingReads.length>0){const S=this.waitingReads.shift();this.read(S.lng,S.ns,S.fcName,S.tried,S.wait,S.callback)}if(T&&k&&u<this.maxRetries){setTimeout(()=>{this.read.call(this,i,t,s,u+1,A*2,b)},A);return}b(T,k)},c=this.backend[s].bind(this.backend);if(c.length===2){try{const T=c(i,t);T&&typeof T.then=="function"?T.then(k=>C(null,k)).catch(C):C(null,T)}catch(T){C(T)}return}return c(i,t,C)}prepareLoading(i,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();Zt(i)&&(i=this.languageUtils.toResolveHierarchy(i)),Zt(t)&&(t=[t]);const A=this.queueLoad(i,t,s,u);if(!A.toLoad.length)return A.pending.length||u(),null;A.toLoad.forEach(b=>{this.loadOne(b)})}load(i,t,s){this.prepareLoading(i,t,{},s)}reload(i,t,s){this.prepareLoading(i,t,{reload:!0},s)}loadOne(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=i.split("|"),u=s[0],A=s[1];this.read(u,A,"read",void 0,void 0,(b,C)=>{b&&this.logger.warn(`${t}loading namespace ${A} for language ${u} failed`,b),!b&&C&&this.logger.log(`${t}loaded namespace ${A} for language ${u}`,C),this.loaded(i,b,C)})}saveMissing(i,t,s,u,A){var c,T,k,S,E;let b=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},C=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(((T=(c=this.services)==null?void 0:c.utils)==null?void 0:T.hasLoadedNamespace)&&!((S=(k=this.services)==null?void 0:k.utils)!=null&&S.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((E=this.backend)!=null&&E.create){const r=$i(on({},b),{isUpdate:A}),D=this.backend.create.bind(this.backend);if(D.length<6)try{let f;D.length===5?f=D(i,t,s,u,r):f=D(i,t,s,u),f&&typeof f.then=="function"?f.then(y=>C(null,y)).catch(C):C(null,f)}catch(f){C(f)}else D(i,t,s,u,C,r)}!i||!i[0]||this.store.addResource(i[0],t,s,u)}}}const hc=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:d=>{let i={};if(typeof d[1]=="object"&&(i=d[1]),Zt(d[1])&&(i.defaultValue=d[1]),Zt(d[2])&&(i.tDescription=d[2]),typeof d[2]=="object"||typeof d[3]=="object"){const t=d[3]||d[2];Object.keys(t).forEach(s=>{i[s]=t[s]})}return i},interpolation:{escapeValue:!0,format:d=>d,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),pc=d=>{var i,t;return Zt(d.ns)&&(d.ns=[d.ns]),Zt(d.fallbackLng)&&(d.fallbackLng=[d.fallbackLng]),Zt(d.fallbackNS)&&(d.fallbackNS=[d.fallbackNS]),((t=(i=d.supportedLngs)==null?void 0:i.indexOf)==null?void 0:t.call(i,"cimode"))<0&&(d.supportedLngs=d.supportedLngs.concat(["cimode"])),typeof d.initImmediate=="boolean"&&(d.initAsync=d.initImmediate),d},Ks=()=>{},g0=d=>{Object.getOwnPropertyNames(Object.getPrototypeOf(d)).forEach(t=>{typeof d[t]=="function"&&(d[t]=d[t].bind(d))})};class So extends Ys{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=pc(i),this.services={},this.logger=la,this.modules={external:[]},g0(this),t&&!this.isInitialized&&!i.isClone){if(!this.options.initAsync)return this.init(i,t),this;setTimeout(()=>{this.init(i,t)},0)}}init(){var i=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(s=t,t={}),t.defaultNS==null&&t.ns&&(Zt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const u=hc();this.options=on(on(on({},u),this.options),pc(t)),this.options.interpolation=on(on({},u.interpolation),this.options.interpolation),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const A=k=>k?typeof k=="function"?new k:k:null;if(!this.options.isClone){this.modules.logger?la.init(A(this.modules.logger),this.options):la.init(null,this.options);let k;this.modules.formatter?k=this.modules.formatter:k=f0;const S=new uc(this.options);this.store=new ac(this.options.resources,this.options);const E=this.services;E.logger=la,E.resourceStore=this.store,E.languageUtils=S,E.pluralResolver=new u0(S,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),k&&(!this.options.interpolation.format||this.options.interpolation.format===u.interpolation.format)&&(E.formatter=A(k),E.formatter.init(E,this.options),this.options.interpolation.format=E.formatter.format.bind(E.formatter)),E.interpolator=new c0(this.options),E.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},E.backendConnector=new p0(A(this.modules.backend),E.resourceStore,E,this.options),E.backendConnector.on("*",function(r){for(var D=arguments.length,f=new Array(D>1?D-1:0),y=1;y<D;y++)f[y-1]=arguments[y];i.emit(r,...f)}),this.modules.languageDetector&&(E.languageDetector=A(this.modules.languageDetector),E.languageDetector.init&&E.languageDetector.init(E,this.options.detection,this.options)),this.modules.i18nFormat&&(E.i18nFormat=A(this.modules.i18nFormat),E.i18nFormat.init&&E.i18nFormat.init(this)),this.translator=new Vs(this.services,this.options),this.translator.on("*",function(r){for(var D=arguments.length,f=new Array(D>1?D-1:0),y=1;y<D;y++)f[y-1]=arguments[y];i.emit(r,...f)}),this.modules.external.forEach(r=>{r.init&&r.init(this)})}if(this.format=this.options.interpolation.format,s||(s=Ks),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const k=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);k.length>0&&k[0]!=="dev"&&(this.options.lng=k[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(k=>{this[k]=function(){return i.store[k](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(k=>{this[k]=function(){return i.store[k](...arguments),i}});const c=Ri(),T=()=>{const k=(S,E)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(E),s(S,E)};if(this.languages&&!this.isInitialized)return k(null,this.t.bind(this));this.changeLanguage(this.options.lng,k)};return this.options.resources||!this.options.initAsync?T():setTimeout(T,0),c}loadResources(i){var A,b;let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ks;const u=Zt(i)?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if((u==null?void 0:u.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const C=[],c=T=>{if(!T||T==="cimode")return;this.services.languageUtils.toResolveHierarchy(T).forEach(S=>{S!=="cimode"&&C.indexOf(S)<0&&C.push(S)})};u?c(u):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(k=>c(k)),(b=(A=this.options.preload)==null?void 0:A.forEach)==null||b.call(A,T=>c(T)),this.services.backendConnector.load(C,this.options.ns,T=>{!T&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(T)})}else s(null)}reloadResources(i,t,s){const u=Ri();return typeof i=="function"&&(s=i,i=void 0),typeof t=="function"&&(s=t,t=void 0),i||(i=this.languages),t||(t=this.options.ns),s||(s=Ks),this.services.backendConnector.reload(i,t,A=>{u.resolve(),s(A)}),u}use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&oc.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}setResolvedLanguage(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(i,t){var s=this;this.isLanguageChangingTo=i;const u=Ri();this.emit("languageChanging",i);const A=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},b=(c,T)=>{T?(A(T),this.translator.changeLanguage(T),this.isLanguageChangingTo=void 0,this.emit("languageChanged",T),this.logger.log("languageChanged",T)):this.isLanguageChangingTo=void 0,u.resolve(function(){return s.t(...arguments)}),t&&t(c,function(){return s.t(...arguments)})},C=c=>{var k,S;!i&&!c&&this.services.languageDetector&&(c=[]);const T=Zt(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);T&&(this.language||A(T),this.translator.language||this.translator.changeLanguage(T),(S=(k=this.services.languageDetector)==null?void 0:k.cacheUserLanguage)==null||S.call(k,T)),this.loadResources(T,E=>{b(E,T)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?C(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(C):this.services.languageDetector.detect(C):C(i),u}getFixedT(i,t,s){var u=this;const A=function(b,C){let c;if(typeof C!="object"){for(var T=arguments.length,k=new Array(T>2?T-2:0),S=2;S<T;S++)k[S-2]=arguments[S];c=u.options.overloadTranslationOptionHandler([b,C].concat(k))}else c=on({},C);c.lng=c.lng||A.lng,c.lngs=c.lngs||A.lngs,c.ns=c.ns||A.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||s||A.keyPrefix);const E=u.options.keySeparator||".";let r;return c.keyPrefix&&Array.isArray(b)?r=b.map(D=>`${c.keyPrefix}${E}${D}`):r=c.keyPrefix?`${c.keyPrefix}${E}${b}`:b,u.t(r,c)};return Zt(i)?A.lng=i:A.lngs=i,A.ns=t,A.keyPrefix=s,A}t(){var u;for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return(u=this.translator)==null?void 0:u.translate(...t)}exists(){var u;for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return(u=this.translator)==null?void 0:u.exists(...t)}setDefaultNamespace(i){this.options.defaultNS=i}hasLoadedNamespace(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,A=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const b=(C,c)=>{const T=this.services.backendConnector.state[`${C}|${c}`];return T===-1||T===0||T===2};if(t.precheck){const C=t.precheck(this,b);if(C!==void 0)return C}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||b(s,i)&&(!u||b(A,i)))}loadNamespaces(i,t){const s=Ri();return this.options.ns?(Zt(i)&&(i=[i]),i.forEach(u=>{this.options.ns.indexOf(u)<0&&this.options.ns.push(u)}),this.loadResources(u=>{s.resolve(),t&&t(u)}),s):(t&&t(),Promise.resolve())}loadLanguages(i,t){const s=Ri();Zt(i)&&(i=[i]);const u=this.options.preload||[],A=i.filter(b=>u.indexOf(b)<0&&this.services.languageUtils.isSupportedCode(b));return A.length?(this.options.preload=u.concat(A),this.loadResources(b=>{s.resolve(),t&&t(b)}),s):(t&&t(),Promise.resolve())}dir(i){var u,A;if(i||(i=this.resolvedLanguage||(((u=this.languages)==null?void 0:u.length)>0?this.languages[0]:this.language)),!i)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((A=this.services)==null?void 0:A.languageUtils)||new uc(hc());return t.indexOf(s.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new So(i,t)}cloneInstance(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ks;const s=i.forkResourceStore;s&&delete i.forkResourceStore;const u=$i(on(on({},this.options),i),{isClone:!0}),A=new So(u);if((i.debug!==void 0||i.prefix!==void 0)&&(A.logger=A.logger.clone(i)),["store","services","language"].forEach(C=>{A[C]=this[C]}),A.services=on({},this.services),A.services.utils={hasLoadedNamespace:A.hasLoadedNamespace.bind(A)},s){const C=Object.keys(this.store.data).reduce((c,T)=>(c[T]=on({},this.store.data[T]),Object.keys(c[T]).reduce((k,S)=>(k[S]=on({},c[T][S]),k),{})),{});A.store=new ac(C,u),A.services.resourceStore=A.store}return A.translator=new Vs(A.services,u),A.translator.on("*",function(C){for(var c=arguments.length,T=new Array(c>1?c-1:0),k=1;k<c;k++)T[k-1]=arguments[k];A.emit(C,...T)}),A.init(u,t),A.translator.options=u,A.translator.backendConnector.services.utils={hasLoadedNamespace:A.hasLoadedNamespace.bind(A)},A}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const vt=So.createInstance();vt.createInstance=So.createInstance,vt.createInstance,vt.dir,vt.init,vt.loadResources,vt.reloadResources,vt.use,vt.changeLanguage,vt.getFixedT,vt.t,vt.exists,vt.setDefaultNamespace,vt.hasLoadedNamespace,vt.loadNamespaces,vt.loadLanguages;var m0={loading:"\u52A0\u8F7D\u4E2D...",playEnd:"\u64AD\u653E\u7ED3\u675F",errMsg:{audioNotSupport:"WebSocket\u97F3\u9891\u683C\u5F0F\u4E0D\u652F\u6301",wsError:"WebSocket\u8FDE\u63A5\u9519\u8BEF",playError:"\u64AD\u653E\u5931\u8D25\uFF0C\u8BF7\u7A0D\u5019\u91CD\u8BD5",frequent:"\u5F55\u50CF\u64AD\u653E\u64CD\u4F5C\u592A\u9891\u7E41\uFF0C\u8BF7\u7A0D\u5019\u91CD\u8BD5",deviceError:"\u8BBE\u5907\u54CD\u5E94\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5",codeError:"\u89E3\u5BC6\u5931\u8D25\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\u79D8\u94A5",talkError:"\u5BF9\u8BB2\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",talkServiceError:"\u5BF9\u8BB2\u670D\u52A1\u4E0D\u53EF\u7528",getUrlError:"\u83B7\u53D6\u64AD\u653E\u5730\u5740\u5931\u8D25",wsClose:"WebSocket\u8FDE\u63A5\u5173\u95ED",wsCloseError:"\u7F51\u7EDC\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",videoTalkNotSupport:"\u8BBE\u5907\u4E0D\u652F\u6301\u89C6\u9891\u5BF9\u8BB2",getStreamError:"\u83B7\u53D6\u64AD\u653E\u5730\u5740\u5931\u8D25\uFF0C\u8BF7\u7A0D\u5019\u91CD\u8BD5",talkDeviceError:"\u8BBE\u5907\u5DF2\u6302\u65AD",talkClose:"\u5BF9\u8BB2\u5DF2\u5173\u95ED",talkBusy:"\u5BF9\u8BB2\u5FD9\u7EBF"},notSupport:"\u5F55\u64AD\u6A21\u5F0F\u4E0D\u652F\u6301\u5BF9\u8BB2",talkWsError:"\u5BF9\u8BB2\u8FDE\u63A5\u5EFA\u7ACB\u5931\u8D25, \u5DF2\u5B58\u5728\u8BED\u97F3\u5BF9\u8BB2\u6D41\u6E90",talkUrlError:"\u83B7\u53D6\u5BF9\u8BB2\u5730\u5740\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u8BBE\u5907",captureSuccess:"\u622A\u56FE\u6210\u529F",captureFail:"\u622A\u56FE\u5931\u8D25",changeDate:"\u5207\u6362\u65E5\u671F\u81F3{{day}}\u4E2D...",microphoneError:"\u9EA6\u514B\u98CE\u5DF2\u88AB\u5360\u7528 \u6216 \u65E0\u6CD5\u83B7\u53D6\u9EA6\u514B\u98CE\u6743\u9650",cameraError:"\u6444\u50CF\u5934\u5DF2\u88AB\u5360\u7528 \u6216 \u65E0\u6CD5\u83B7\u53D6\u6444\u50CF\u5934\u6743\u9650",mediaDevicesError:"\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u5A92\u4F53\u8BBE\u5907 \u6216 \u83B7\u53D6\u5A92\u4F53\u8BBE\u5907\u5931\u8D25",channelId:"\u901A\u9053",changeLocal:"\u5207\u6362\u5F55\u50CF\u81F3\u672C\u5730\u5F55\u50CF\u4E2D...",changeCloud:"\u5207\u6362\u5F55\u50CF\u81F3\u4E91\u5F55\u50CF\u4E2D...",changeStream:"\u5207\u6362\u7801\u6D41\u4E2D...",ptz:"\u4E91\u53F0\u63A7\u5236",digitalZoom:"\u7535\u5B50\u53D8\u7126",cancel:"\u53D6\u6D88",confirm:"\u786E\u5B9A",videoTalk_videoCapture:"\u6444\u50CF\u5934",videoTalk_audioCapture:"\u9EA6\u514B\u98CE",videoTalk_videoRecordTalk:"\u5F55\u5236",videoTalk_ptzTalk:"\u4E91\u53F0",open:"\u5F00",close:"\u5173",videoTalk:"\u89C6\u9891\u901A\u8BDD",audioTalk:"\u8BED\u97F3\u901A\u8BDD",videoTalk_answered:"\u5DF2\u63A5\u901A",videoTalk_calling:"\u547C\u53EB\u4E2D...",talk_start:"\u5BF9\u8BB2\u5F00\u542F\uFF0C\u8BF7\u8BF4\u8BDD",talk_stop:"\u5BF9\u8BB2\u5DF2\u5173\u95ED",talk_processing:"\u5BF9\u8BB2\u5904\u7406\u4E2D...",record_start:"\u5F00\u59CB\u5F55\u5236"},y0={loading:"Loading...",playEnd:"End play",errMsg:{audioNotSupport:"WebSocket audio format is not supported",wsError:"WebSocket connection error",playError:"Play failed, please try again later",frequent:"The video playback is too frequent, please try again later",deviceError:"Camera response abnormal, please check and retry",codeError:"Decryption failed, please re-enter encryption key",talkError:"Talk function failed, please try again later",talkServiceError:"Talk service unavailable",getUrlError:"Failed to obtain playback address",wsClose:"WebSocket connection closed"},notSupport:"Recording mode does not support talk function",talkWsError:"Failed to create a new talk, there is currently an ongoing talk",talkUrlError:"Failed to obtain talk address, please check the camera",captureSuccess:"Screenshot successful",captureFail:"Screenshot failed",changeDate:"Switch date to {{day}}...",microphoneError:"The microphone is occupied or unable to obtain microphone permission",channelId:"ChannelId",changeLocal:"Switch to local recording...",changeCloud:"Switch to cloud recording...",changeStream:"Switch stream...",ptz:"PTZ control",digitalZoom:"Digital zoom",cancel:"Cancel",confirm:"OK",videoTalk_videoCapture:"Camera",videoTalk_audioCapture:"Microphone",videoTalk_videoRecordTalk:"Record",videoTalk_ptzTalk:"PTZ",open:"On",close:"Off",videoTalk:"Video Call",audioTalk:"Audio Call",videoTalk_answered:"Connected",videoTalk_calling:"Calling...",talk_start:"Talk started, please speak",talk_stop:"Talk stopped",talk_processing:"Talk processing...",record_start:"Start recording"};vt.init({resources:{zh:{translation:m0},en:{translation:y0}},lng:"zh",fallbackLng:"zh"});const Gt={};Gt.isIE=()=>!!window.ActiveXObject||"ActiveXObject"in window,Gt.isMobile=()=>navigator?/(iPhone|iPod|Android|ios|SymbianOS)/i.test(navigator.userAgent):!1,Gt.setAttr=(d,i,t)=>{d&&d.setAttribute(i,t)},Gt.$=d=>document.querySelector(d),Gt.appendDom=(d,i)=>{const s=new DOMParser().parseFromString(i,"text/html");d.appendChild(s.querySelector("body").children[0])},Gt.domParser=d=>new DOMParser().parseFromString(d,"text/html").querySelector("body").children[0],Gt.asyncLoadScripts=d=>new Promise((i,t)=>{if(Gt.$(`script[src="${d}"]`))i();else{const s=document.createElement("script");s.setAttribute("src",d),s.onload=()=>i(),s.onerror=()=>t(),document.getElementsByTagName("head")[0].appendChild(s)}}),Gt.isFullScreen=()=>{const d=document.fullscreenEnabled||window.fullScreen||document.webkitIsFullScreen||document.msFullScreenEnabled;return Boolean(d)},Gt.isRecord=d=>/.m3u8/.test(d),Gt.setStyle=(d,i)=>{typeof i=="object"&&Object.keys(i).forEach(t=>{d.style[t]=i[t]})},Gt.addClass=(d,i)=>{const t=document.querySelector(d),s=t.getAttribute("class");Gt.setAttr(t,"class",`${s||""} ${i}`)},Gt.setValue=d=>typeof Number(d)!="number"?d:d<10?`0${d}`:d,Gt.getRecordTimeRange=()=>{const d=new Date,i=d.getFullYear(),t=Gt.setValue(d.getMonth()+1),s=Gt.setValue(d.getDate());Gt.setValue(d.getHours()),Gt.setValue(d.getMinutes()),Gt.setValue(d.getSeconds());const u=`${i}-${t}-${s} 00:00:00`,A=`${i}-${t}-${s} 23:59:59`;return{beginTime:u,endTime:A}},Gt.getFormatTime=d=>{const i=new Date(d),t=i.getFullYear(),s=Gt.setValue(i.getMonth()+1),u=Gt.setValue(i.getDate()),A=Gt.setValue(i.getHours()),b=Gt.setValue(i.getMinutes()),C=Gt.setValue(i.getSeconds());return`${t}-${s}-${u} ${A}:${b}:${C}`},Gt.getBeginInitFormatTime=d=>{const i=new Date(d),t=i.getFullYear(),s=Gt.setValue(i.getMonth()+1),u=Gt.setValue(i.getDate());return Gt.setValue(i.getHours()),Gt.setValue(i.getMinutes()),Gt.setValue(i.getSeconds()),`${t}-${s}-${u} 00:00:00`},Gt.getEndInitFormatTime=d=>{const i=new Date(d),t=i.getFullYear(),s=Gt.setValue(i.getMonth()+1),u=Gt.setValue(i.getDate());return Gt.setValue(i.getHours()),Gt.setValue(i.getMinutes()),Gt.setValue(i.getSeconds()),`${t}-${s}-${u} 23:59:59`},Gt.emptyDom=d=>{for(let i=0,{length:t}=d.children;i<t;i++)d.removeChild(d.children[t-1-i])},Gt.transformParamsToString=d=>Object.keys(d).reduce((i,t,s)=>`${i}${s===0?"?":"&"}${t}=${d[t]}`,""),Gt.logsFunction=()=>Gt.isIE()?{info(){},error(){},log(){}}:console,Gt.getRandomString=(d=32)=>{const i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];let t="";for(let s=0;s<d;s++)t+=i[parseInt(Math.random()*36)];return t},Gt.getMediaDevices=(...s)=>Ar(this,[...s],function*(d={checkMicrophone:!0,checkCamera:!0},i,t){const{checkMicrophone:u=!0,checkCamera:A=!0}=d;try{if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){console.error(vt.t("microphoneError")),t();return}const b=yield navigator.mediaDevices.enumerateDevices(),C=b.some(T=>T.kind==="audioinput"),c=b.some(T=>T.kind==="videoinput");if(console.log("navigator.mediaDevices:",b,C,c),u&&!C){console.error(vt.t("microphoneError")),t();return}if(A&&!c){console.error(vt.t("cameraError")),t();return}if(u&&C)try{(yield navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(k=>k.stop())}catch(T){console.log("checkMicrophone Error:",T),console.error(vt.t("microphoneError")),t();return}if(A&&c)try{const T=yield navigator.mediaDevices.getUserMedia({video:!0});T&&T.getTracks().forEach(k=>k.stop())}catch(T){console.log("checkCamera Error:",T),console.error(vt.t("cameraError")),t();return}i()}catch(b){console.log("error",b),console.error(vt.t("mediaDevicesError")),t()}}),Gt.hexToRGBA=(d,i=1)=>{d.charAt(0)!=="#"&&(d="#"+d),d=d.replace("#","");let t,s,u;if(d.length===3)t=parseInt(d.charAt(0)+d.charAt(0),16),s=parseInt(d.charAt(1)+d.charAt(1),16),u=parseInt(d.charAt(2)+d.charAt(2),16);else if(d.length===6)t=parseInt(d.substring(0,2),16),s=parseInt(d.substring(2,4),16),u=parseInt(d.substring(4,6),16);else throw new Error("Invalid hex color");return`rgba(${t}, ${s}, ${u}, ${i})`},Gt.detectHostEnvironment=()=>{const d=navigator.userAgent.toLowerCase(),i=window.__wxjs_environment==="miniprogram"||d.includes("micromessenger")&&d.includes("miniprogram"),t=d.includes("alipay")&&d.includes("miniprogram"),s=d.includes("swan"),u=d.includes("toutiaomicroapp")||d.includes("ttmicroapp");return{isMiniProgramWebView:i||t||s||u,platform:i?"wechat":t?"alipay":s?"baidu":u?"toutiao":"browser"}},Gt.isAndroidWeChatBrowser=()=>{const d=navigator.userAgent.toLowerCase(),i=/iphone|ipad|ipod/.test(d),t=d.includes("micromessenger"),s=window.__wxjs_environment==="miniprogram"||d.includes("micromessenger")&&d.includes("miniprogram");return t&&!s&&!i};var Tn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ni(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function rr(d){if(d.__esModule)return d;var i=d.default;if(typeof i=="function"){var t=function s(){return this instanceof s?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};t.prototype=i.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(d).forEach(function(s){var u=Object.getOwnPropertyDescriptor(d,s);Object.defineProperty(t,s,u.get?u:{enumerable:!0,get:function(){return d[s]}})}),t}var Rl={exports:{}},gc=function(i,t){return function(){for(var u=new Array(arguments.length),A=0;A<u.length;A++)u[A]=arguments[A];return i.apply(t,u)}},A0=Ni(gc),v0=ai({__proto__:null,default:A0},[gc]),mc=rr(v0),x0=mc,co=Object.prototype.toString;function yc(d){return co.call(d)==="[object Array]"}function Nl(d){return typeof d=="undefined"}function C0(d){return d!==null&&!Nl(d)&&d.constructor!==null&&!Nl(d.constructor)&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function b0(d){return co.call(d)==="[object ArrayBuffer]"}function _0(d){return typeof FormData!="undefined"&&d instanceof FormData}function E0(d){var i;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?i=ArrayBuffer.isView(d):i=d&&d.buffer&&d.buffer instanceof ArrayBuffer,i}function I0(d){return typeof d=="string"}function w0(d){return typeof d=="number"}function Ac(d){return d!==null&&typeof d=="object"}function k0(d){return co.call(d)==="[object Date]"}function S0(d){return co.call(d)==="[object File]"}function B0(d){return co.call(d)==="[object Blob]"}function vc(d){return co.call(d)==="[object Function]"}function D0(d){return Ac(d)&&vc(d.pipe)}function T0(d){return typeof URLSearchParams!="undefined"&&d instanceof URLSearchParams}function L0(d){return d.replace(/^\s*/,"").replace(/\s*$/,"")}function F0(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Gs(d,i){if(!(d===null||typeof d=="undefined"))if(typeof d!="object"&&(d=[d]),yc(d))for(var t=0,s=d.length;t<s;t++)i.call(null,d[t],t,d);else for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&i.call(null,d[u],u,d)}function xc(){var d={};function i(u,A){typeof d[A]=="object"&&typeof u=="object"?d[A]=xc(d[A],u):d[A]=u}for(var t=0,s=arguments.length;t<s;t++)Gs(arguments[t],i);return d}function Hl(){var d={};function i(u,A){typeof d[A]=="object"&&typeof u=="object"?d[A]=Hl(d[A],u):typeof u=="object"?d[A]=Hl({},u):d[A]=u}for(var t=0,s=arguments.length;t<s;t++)Gs(arguments[t],i);return d}function M0(d,i,t){return Gs(i,function(u,A){t&&typeof u=="function"?d[A]=x0(u,t):d[A]=u}),d}var Cc={isArray:yc,isArrayBuffer:b0,isBuffer:C0,isFormData:_0,isArrayBufferView:E0,isString:I0,isNumber:w0,isObject:Ac,isUndefined:Nl,isDate:k0,isFile:S0,isBlob:B0,isFunction:vc,isStream:D0,isURLSearchParams:T0,isStandardBrowserEnv:F0,forEach:Gs,merge:xc,deepMerge:Hl,extend:M0,trim:L0},Q0=Ni(Cc),P0=ai({__proto__:null,default:Q0},[Cc]),Qr=rr(P0),fo=Qr;function bc(d){return encodeURIComponent(d).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var _c=function(i,t,s){if(!t)return i;var u;if(s)u=s(t);else if(fo.isURLSearchParams(t))u=t.toString();else{var A=[];fo.forEach(t,function(c,T){c===null||typeof c=="undefined"||(fo.isArray(c)?T=T+"[]":c=[c],fo.forEach(c,function(S){fo.isDate(S)?S=S.toISOString():fo.isObject(S)&&(S=JSON.stringify(S)),A.push(bc(T)+"="+bc(S))}))}),u=A.join("&")}if(u){var b=i.indexOf("#");b!==-1&&(i=i.slice(0,b)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i},R0=Ni(_c),N0=ai({__proto__:null,default:R0},[_c]),Ec=rr(N0),H0=Qr;function Js(){this.handlers=[]}Js.prototype.use=function(i,t){return this.handlers.push({fulfilled:i,rejected:t}),this.handlers.length-1},Js.prototype.eject=function(i){this.handlers[i]&&(this.handlers[i]=null)},Js.prototype.forEach=function(i){H0.forEach(this.handlers,function(s){s!==null&&i(s)})};var Ic=Js,O0=Ni(Ic),U0=ai({__proto__:null,default:O0},[Ic]),$0=rr(U0),j0=Qr,wc=function(i,t,s){return j0.forEach(s,function(A){i=A(i,t)}),i},W0=Ni(wc),z0=ai({__proto__:null,default:W0},[wc]),q0=rr(z0),Ol,kc;function Sc(){return kc||(kc=1,Ol=function(i){return!!(i&&i.__CANCEL__)}),Ol}var Y0=Qr,Bc=function(i,t){Y0.forEach(i,function(u,A){A!==t&&A.toUpperCase()===t.toUpperCase()&&(i[t]=u,delete i[A])})},V0=Ni(Bc),K0=ai({__proto__:null,default:V0},[Bc]),G0=rr(K0),Ul,Dc;function J0(){return Dc||(Dc=1,Ul=function(i,t,s,u,A){return i.config=t,s&&(i.code=s),i.request=u,i.response=A,i.isAxiosError=!0,i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i}),Ul}var $l,Tc;function Lc(){if(Tc)return $l;Tc=1;var d=J0();return $l=function(t,s,u,A,b){var C=new Error(t);return d(C,s,u,A,b)},$l}var jl,Fc;function X0(){if(Fc)return jl;Fc=1;var d=Lc();return jl=function(t,s,u){var A=u.config.validateStatus;!A||A(u.status)?t(u):s(d("Request failed with status code "+u.status,u.config,null,u.request,u))},jl}var Wl,Mc;function Z0(){return Mc||(Mc=1,Wl=function(i){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(i)}),Wl}var zl,Qc;function ep(){return Qc||(Qc=1,zl=function(i,t){return t?i.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):i}),zl}var ql,Pc;function tp(){if(Pc)return ql;Pc=1;var d=Z0(),i=ep();return ql=function(s,u){return s&&!d(u)?i(s,u):u},ql}var Yl,Rc;function np(){if(Rc)return Yl;Rc=1;var d=Qr,i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Yl=function(s){var u={},A,b,C;return s&&d.forEach(s.split(`
`),function(T){if(C=T.indexOf(":"),A=d.trim(T.substr(0,C)).toLowerCase(),b=d.trim(T.substr(C+1)),A){if(u[A]&&i.indexOf(A)>=0)return;A==="set-cookie"?u[A]=(u[A]?u[A]:[]).concat([b]):u[A]=u[A]?u[A]+", "+b:b}}),u},Yl}var Vl,Nc;function ip(){if(Nc)return Vl;Nc=1;var d=Qr;return Vl=d.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),u;function A(b){var C=b;return t&&(s.setAttribute("href",C),C=s.href),s.setAttribute("href",C),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return u=A(window.location.href),function(C){var c=d.isString(C)?A(C):C;return c.protocol===u.protocol&&c.host===u.host}}():function(){return function(){return!0}}(),Vl}var Kl,Hc;function rp(){if(Hc)return Kl;Hc=1;var d=Qr;return Kl=d.isStandardBrowserEnv()?function(){return{write:function(s,u,A,b,C,c){var T=[];T.push(s+"="+encodeURIComponent(u)),d.isNumber(A)&&T.push("expires="+new Date(A).toGMTString()),d.isString(b)&&T.push("path="+b),d.isString(C)&&T.push("domain="+C),c===!0&&T.push("secure"),document.cookie=T.join("; ")},read:function(s){var u=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Kl}var Gl,Oc;function Uc(){if(Oc)return Gl;Oc=1;var d=Qr,i=X0(),t=Ec,s=tp(),u=np(),A=ip(),b=Lc();return Gl=function(c){return new Promise(function(k,S){var E=c.data,r=c.headers;d.isFormData(E)&&delete r["Content-Type"];var D=new XMLHttpRequest;if(c.auth){var f=c.auth.username||"",y=c.auth.password||"";r.Authorization="Basic "+btoa(f+":"+y)}var Q=s(c.baseURL,c.url);if(D.open(c.method.toUpperCase(),t(Q,c.params,c.paramsSerializer),!0),D.timeout=c.timeout,D.onreadystatechange=function(){if(!(!D||D.readyState!==4)&&!(D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0))){var z="getAllResponseHeaders"in D?u(D.getAllResponseHeaders()):null,G=!c.responseType||c.responseType==="text"?D.responseText:D.response,Y={data:G,status:D.status,statusText:D.statusText,headers:z,config:c,request:D};i(k,S,Y),D=null}},D.onabort=function(){!D||(S(b("Request aborted",c,"ECONNABORTED",D)),D=null)},D.onerror=function(){S(b("Network Error",c,null,D)),D=null},D.ontimeout=function(){var z="timeout of "+c.timeout+"ms exceeded";c.timeoutErrorMessage&&(z=c.timeoutErrorMessage),S(b(z,c,"ECONNABORTED",D)),D=null},d.isStandardBrowserEnv()){var g=rp(),w=(c.withCredentials||A(Q))&&c.xsrfCookieName?g.read(c.xsrfCookieName):void 0;w&&(r[c.xsrfHeaderName]=w)}if("setRequestHeader"in D&&d.forEach(r,function(z,G){typeof E=="undefined"&&G.toLowerCase()==="content-type"?delete r[G]:D.setRequestHeader(G,z)}),d.isUndefined(c.withCredentials)||(D.withCredentials=!!c.withCredentials),c.responseType)try{D.responseType=c.responseType}catch(M){if(c.responseType!=="json")throw M}typeof c.onDownloadProgress=="function"&&D.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&D.upload&&D.upload.addEventListener("progress",c.onUploadProgress),c.cancelToken&&c.cancelToken.promise.then(function(z){!D||(D.abort(),S(z),D=null)}),E===void 0&&(E=null),D.send(E)})},Gl}var vr=Qr,$c=G0,ap={"Content-Type":"application/x-www-form-urlencoded"};function jc(d,i){!vr.isUndefined(d)&&vr.isUndefined(d["Content-Type"])&&(d["Content-Type"]=i)}function op(){var d;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(d=Uc()),d}var Xs={adapter:op(),transformRequest:[function(i,t){return $c(t,"Accept"),$c(t,"Content-Type"),vr.isFormData(i)||vr.isArrayBuffer(i)||vr.isBuffer(i)||vr.isStream(i)||vr.isFile(i)||vr.isBlob(i)?i:vr.isArrayBufferView(i)?i.buffer:vr.isURLSearchParams(i)?(jc(t,"application/x-www-form-urlencoded;charset=utf-8"),i.toString()):vr.isObject(i)?(jc(t,"application/json;charset=utf-8"),JSON.stringify(i)):i}],transformResponse:[function(i){if(typeof i=="string")try{i=JSON.parse(i)}catch(t){}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(i){return i>=200&&i<300}};Xs.headers={common:{Accept:"application/json, text/plain, */*"}},vr.forEach(["delete","get","head"],function(i){Xs.headers[i]={}}),vr.forEach(["post","put","patch"],function(i){Xs.headers[i]=vr.merge(ap)});var Wc=Xs,sp=Ni(Wc),lp=ai({__proto__:null,default:sp},[Wc]),zc=rr(lp),qc=Qr,Jl=q0,up=Sc(),cp=zc;function Xl(d){d.cancelToken&&d.cancelToken.throwIfRequested()}var Yc=function(i){Xl(i),i.headers=i.headers||{},i.data=Jl(i.data,i.headers,i.transformRequest),i.headers=qc.merge(i.headers.common||{},i.headers[i.method]||{},i.headers),qc.forEach(["delete","get","head","post","put","patch","common"],function(u){delete i.headers[u]});var t=i.adapter||cp.adapter;return t(i).then(function(u){return Xl(i),u.data=Jl(u.data,u.headers,i.transformResponse),u},function(u){return up(u)||(Xl(i),u&&u.response&&(u.response.data=Jl(u.response.data,u.response.headers,i.transformResponse))),Promise.reject(u)})},dp=Ni(Yc),fp=ai({__proto__:null,default:dp},[Yc]),hp=rr(fp),wa=Qr,Vc=function(i,t){t=t||{};var s={},u=["url","method","params","data"],A=["headers","auth","proxy"],b=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];wa.forEach(u,function(k){typeof t[k]!="undefined"&&(s[k]=t[k])}),wa.forEach(A,function(k){wa.isObject(t[k])?s[k]=wa.deepMerge(i[k],t[k]):typeof t[k]!="undefined"?s[k]=t[k]:wa.isObject(i[k])?s[k]=wa.deepMerge(i[k]):typeof i[k]!="undefined"&&(s[k]=i[k])}),wa.forEach(b,function(k){typeof t[k]!="undefined"?s[k]=t[k]:typeof i[k]!="undefined"&&(s[k]=i[k])});var C=u.concat(A).concat(b),c=Object.keys(t).filter(function(k){return C.indexOf(k)===-1});return wa.forEach(c,function(k){typeof t[k]!="undefined"?s[k]=t[k]:typeof i[k]!="undefined"&&(s[k]=i[k])}),s},pp=Ni(Vc),gp=ai({__proto__:null,default:pp},[Vc]),Kc=rr(gp),Zs=Qr,mp=Ec,Gc=$0,yp=hp,Jc=Kc;function Bo(d){this.defaults=d,this.interceptors={request:new Gc,response:new Gc}}Bo.prototype.request=function(i){typeof i=="string"?(i=arguments[1]||{},i.url=arguments[0]):i=i||{},i=Jc(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var t=[yp,void 0],s=Promise.resolve(i);for(this.interceptors.request.forEach(function(A){t.unshift(A.fulfilled,A.rejected)}),this.interceptors.response.forEach(function(A){t.push(A.fulfilled,A.rejected)});t.length;)s=s.then(t.shift(),t.shift());return s},Bo.prototype.getUri=function(i){return i=Jc(this.defaults,i),mp(i.url,i.params,i.paramsSerializer).replace(/^\?/,"")},Zs.forEach(["delete","get","head","options"],function(i){Bo.prototype[i]=function(t,s){return this.request(Zs.merge(s||{},{method:i,url:t}))}}),Zs.forEach(["post","put","patch"],function(i){Bo.prototype[i]=function(t,s,u){return this.request(Zs.merge(u||{},{method:i,url:t,data:s}))}});var Xc=Bo,Ap=Ni(Xc),vp=ai({__proto__:null,default:Ap},[Xc]),xp=rr(vp),Zl,Zc;function ed(){if(Zc)return Zl;Zc=1;function d(i){this.message=i}return d.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},d.prototype.__CANCEL__=!0,Zl=d,Zl}var eu,td;function Cp(){if(td)return eu;td=1;var d=ed();function i(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(b){s=b});var u=this;t(function(b){u.reason||(u.reason=new d(b),s(u.reason))})}return i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var s,u=new i(function(b){s=b});return{token:u,cancel:s}},eu=i,eu}var tu,nd;function bp(){return nd||(nd=1,tu=function(i){return function(s){return i.apply(null,s)}}),tu}var id=Qr,_p=mc,el=xp,Ep=Kc,Ip=zc;function rd(d){var i=new el(d),t=_p(el.prototype.request,i);return id.extend(t,el.prototype,i),id.extend(t,i),t}var ua=rd(Ip);ua.Axios=el,ua.create=function(i){return rd(Ep(ua.defaults,i))},ua.Cancel=ed(),ua.CancelToken=Cp(),ua.isCancel=Sc(),ua.all=function(i){return Promise.all(i)},ua.spread=bp(),Rl.exports=ua,Rl.exports.default=ua;var ad=Rl.exports,wp=Ni(ad),kp=ai({__proto__:null,default:wp},[ad]),Sp=rr(kp),Bp=Sp,Dp=Ni(Bp),tl={exports:{}};function Tp(d){throw new Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Do={exports:{}},Lp=new Proxy({},{get(){throw new Error('Module "" has been externalized for browser compatibility and cannot be accessed in client code.')}}),Fp=Object.freeze(Object.defineProperty({__proto__:null,default:Lp},Symbol.toStringTag,{value:"Module"})),Mp=rr(Fp);Do.exports;var od;function ei(){return od||(od=1,function(d,i){(function(t,s){d.exports=s()})(Tn,function(){var t=t||function(s,u){var A;if(typeof window!="undefined"&&window.crypto&&(A=window.crypto),typeof self!="undefined"&&self.crypto&&(A=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(A=globalThis.crypto),!A&&typeof window!="undefined"&&window.msCrypto&&(A=window.msCrypto),!A&&typeof Tn!="undefined"&&Tn.crypto&&(A=Tn.crypto),!A&&typeof Tp=="function")try{A=Mp}catch(g){}var b=function(){if(A){if(typeof A.getRandomValues=="function")try{return A.getRandomValues(new Uint32Array(1))[0]}catch(g){}if(typeof A.randomBytes=="function")try{return A.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},C=Object.create||function(){function g(){}return function(w){var M;return g.prototype=w,M=new g,g.prototype=null,M}}(),c={},T=c.lib={},k=T.Base=function(){return{extend:function(g){var w=C(this);return g&&w.mixIn(g),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var w in g)g.hasOwnProperty(w)&&(this[w]=g[w]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),S=T.WordArray=k.extend({init:function(g,w){g=this.words=g||[],w!=u?this.sigBytes=w:this.sigBytes=g.length*4},toString:function(g){return(g||r).stringify(this)},concat:function(g){var w=this.words,M=g.words,z=this.sigBytes,G=g.sigBytes;if(this.clamp(),z%4)for(var Y=0;Y<G;Y++){var N=M[Y>>>2]>>>24-Y%4*8&255;w[z+Y>>>2]|=N<<24-(z+Y)%4*8}else for(var K=0;K<G;K+=4)w[z+K>>>2]=M[K>>>2];return this.sigBytes+=G,this},clamp:function(){var g=this.words,w=this.sigBytes;g[w>>>2]&=4294967295<<32-w%4*8,g.length=s.ceil(w/4)},clone:function(){var g=k.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var w=[],M=0;M<g;M+=4)w.push(b());return new S.init(w,g)}}),E=c.enc={},r=E.Hex={stringify:function(g){for(var w=g.words,M=g.sigBytes,z=[],G=0;G<M;G++){var Y=w[G>>>2]>>>24-G%4*8&255;z.push((Y>>>4).toString(16)),z.push((Y&15).toString(16))}return z.join("")},parse:function(g){for(var w=g.length,M=[],z=0;z<w;z+=2)M[z>>>3]|=parseInt(g.substr(z,2),16)<<24-z%8*4;return new S.init(M,w/2)}},D=E.Latin1={stringify:function(g){for(var w=g.words,M=g.sigBytes,z=[],G=0;G<M;G++){var Y=w[G>>>2]>>>24-G%4*8&255;z.push(String.fromCharCode(Y))}return z.join("")},parse:function(g){for(var w=g.length,M=[],z=0;z<w;z++)M[z>>>2]|=(g.charCodeAt(z)&255)<<24-z%4*8;return new S.init(M,w)}},f=E.Utf8={stringify:function(g){try{return decodeURIComponent(escape(D.stringify(g)))}catch(w){throw new Error("Malformed UTF-8 data")}},parse:function(g){return D.parse(unescape(encodeURIComponent(g)))}},y=T.BufferedBlockAlgorithm=k.extend({reset:function(){this._data=new S.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=f.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var w,M=this._data,z=M.words,G=M.sigBytes,Y=this.blockSize,N=Y*4,K=G/N;g?K=s.ceil(K):K=s.max((K|0)-this._minBufferSize,0);var p=K*Y,x=s.min(p*4,G);if(p){for(var _=0;_<p;_+=Y)this._doProcessBlock(z,_);w=z.splice(0,p),M.sigBytes-=x}return new S.init(w,x)},clone:function(){var g=k.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});T.Hasher=y.extend({cfg:k.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(g){return function(w,M){return new g.init(M).finalize(w)}},_createHmacHelper:function(g){return function(w,M){return new Q.HMAC.init(g,M).finalize(w)}}});var Q=c.algo={};return c}(Math);return t})}(Do,Do.exports)),Do.exports}var To={exports:{}};To.exports;var sd;function nl(){return sd||(sd=1,function(d,i){(function(t,s){d.exports=s(ei())})(Tn,function(t){return function(s){var u=t,A=u.lib,b=A.Base,C=A.WordArray,c=u.x64={};c.Word=b.extend({init:function(T,k){this.high=T,this.low=k}}),c.WordArray=b.extend({init:function(T,k){T=this.words=T||[],k!=s?this.sigBytes=k:this.sigBytes=T.length*8},toX32:function(){for(var T=this.words,k=T.length,S=[],E=0;E<k;E++){var r=T[E];S.push(r.high),S.push(r.low)}return C.create(S,this.sigBytes)},clone:function(){for(var T=b.clone.call(this),k=T.words=this.words.slice(0),S=k.length,E=0;E<S;E++)k[E]=k[E].clone();return T}})}(),t})}(To,To.exports)),To.exports}var Lo={exports:{}};Lo.exports;var ld;function Qp(){return ld||(ld=1,function(d,i){(function(t,s){d.exports=s(ei())})(Tn,function(t){return function(){if(typeof ArrayBuffer=="function"){var s=t,u=s.lib,A=u.WordArray,b=A.init,C=A.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var T=c.byteLength,k=[],S=0;S<T;S++)k[S>>>2]|=c[S]<<24-S%4*8;b.call(this,k,T)}else b.apply(this,arguments)};C.prototype=A}}(),t.lib.WordArray})}(Lo,Lo.exports)),Lo.exports}var Fo={exports:{}};Fo.exports;var ud;function Pp(){return ud||(ud=1,function(d,i){(function(t,s){d.exports=s(ei())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.WordArray,b=s.enc;b.Utf16=b.Utf16BE={stringify:function(c){for(var T=c.words,k=c.sigBytes,S=[],E=0;E<k;E+=2){var r=T[E>>>2]>>>16-E%4*8&65535;S.push(String.fromCharCode(r))}return S.join("")},parse:function(c){for(var T=c.length,k=[],S=0;S<T;S++)k[S>>>1]|=c.charCodeAt(S)<<16-S%2*16;return A.create(k,T*2)}},b.Utf16LE={stringify:function(c){for(var T=c.words,k=c.sigBytes,S=[],E=0;E<k;E+=2){var r=C(T[E>>>2]>>>16-E%4*8&65535);S.push(String.fromCharCode(r))}return S.join("")},parse:function(c){for(var T=c.length,k=[],S=0;S<T;S++)k[S>>>1]|=C(c.charCodeAt(S)<<16-S%2*16);return A.create(k,T*2)}};function C(c){return c<<8&4278255360|c>>>8&16711935}}(),t.enc.Utf16})}(Fo,Fo.exports)),Fo.exports}var Mo={exports:{}};Mo.exports;var cd;function ja(){return cd||(cd=1,function(d,i){(function(t,s){d.exports=s(ei())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.WordArray,b=s.enc;b.Base64={stringify:function(c){var T=c.words,k=c.sigBytes,S=this._map;c.clamp();for(var E=[],r=0;r<k;r+=3)for(var D=T[r>>>2]>>>24-r%4*8&255,f=T[r+1>>>2]>>>24-(r+1)%4*8&255,y=T[r+2>>>2]>>>24-(r+2)%4*8&255,Q=D<<16|f<<8|y,g=0;g<4&&r+g*.75<k;g++)E.push(S.charAt(Q>>>6*(3-g)&63));var w=S.charAt(64);if(w)for(;E.length%4;)E.push(w);return E.join("")},parse:function(c){var T=c.length,k=this._map,S=this._reverseMap;if(!S){S=this._reverseMap=[];for(var E=0;E<k.length;E++)S[k.charCodeAt(E)]=E}var r=k.charAt(64);if(r){var D=c.indexOf(r);D!==-1&&(T=D)}return C(c,T,S)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function C(c,T,k){for(var S=[],E=0,r=0;r<T;r++)if(r%4){var D=k[c.charCodeAt(r-1)]<<r%4*2,f=k[c.charCodeAt(r)]>>>6-r%4*2,y=D|f;S[E>>>2]|=y<<24-E%4*8,E++}return A.create(S,E)}}(),t.enc.Base64})}(Mo,Mo.exports)),Mo.exports}var Qo={exports:{}};Qo.exports;var dd;function Rp(){return dd||(dd=1,function(d,i){(function(t,s){d.exports=s(ei())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.WordArray,b=s.enc;b.Base64url={stringify:function(c,T){T===void 0&&(T=!0);var k=c.words,S=c.sigBytes,E=T?this._safe_map:this._map;c.clamp();for(var r=[],D=0;D<S;D+=3)for(var f=k[D>>>2]>>>24-D%4*8&255,y=k[D+1>>>2]>>>24-(D+1)%4*8&255,Q=k[D+2>>>2]>>>24-(D+2)%4*8&255,g=f<<16|y<<8|Q,w=0;w<4&&D+w*.75<S;w++)r.push(E.charAt(g>>>6*(3-w)&63));var M=E.charAt(64);if(M)for(;r.length%4;)r.push(M);return r.join("")},parse:function(c,T){T===void 0&&(T=!0);var k=c.length,S=T?this._safe_map:this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var r=0;r<S.length;r++)E[S.charCodeAt(r)]=r}var D=S.charAt(64);if(D){var f=c.indexOf(D);f!==-1&&(k=f)}return C(c,k,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function C(c,T,k){for(var S=[],E=0,r=0;r<T;r++)if(r%4){var D=k[c.charCodeAt(r-1)]<<r%4*2,f=k[c.charCodeAt(r)]>>>6-r%4*2,y=D|f;S[E>>>2]|=y<<24-E%4*8,E++}return A.create(S,E)}}(),t.enc.Base64url})}(Qo,Qo.exports)),Qo.exports}var Po={exports:{}};Po.exports;var fd;function Wa(){return fd||(fd=1,function(d,i){(function(t,s){d.exports=s(ei())})(Tn,function(t){return function(s){var u=t,A=u.lib,b=A.WordArray,C=A.Hasher,c=u.algo,T=[];(function(){for(var f=0;f<64;f++)T[f]=s.abs(s.sin(f+1))*4294967296|0})();var k=c.MD5=C.extend({_doReset:function(){this._hash=new b.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(f,y){for(var Q=0;Q<16;Q++){var g=y+Q,w=f[g];f[g]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var M=this._hash.words,z=f[y+0],G=f[y+1],Y=f[y+2],N=f[y+3],K=f[y+4],p=f[y+5],x=f[y+6],_=f[y+7],B=f[y+8],R=f[y+9],X=f[y+10],J=f[y+11],ne=f[y+12],le=f[y+13],me=f[y+14],Ae=f[y+15],q=M[0],Z=M[1],re=M[2],ae=M[3];q=S(q,Z,re,ae,z,7,T[0]),ae=S(ae,q,Z,re,G,12,T[1]),re=S(re,ae,q,Z,Y,17,T[2]),Z=S(Z,re,ae,q,N,22,T[3]),q=S(q,Z,re,ae,K,7,T[4]),ae=S(ae,q,Z,re,p,12,T[5]),re=S(re,ae,q,Z,x,17,T[6]),Z=S(Z,re,ae,q,_,22,T[7]),q=S(q,Z,re,ae,B,7,T[8]),ae=S(ae,q,Z,re,R,12,T[9]),re=S(re,ae,q,Z,X,17,T[10]),Z=S(Z,re,ae,q,J,22,T[11]),q=S(q,Z,re,ae,ne,7,T[12]),ae=S(ae,q,Z,re,le,12,T[13]),re=S(re,ae,q,Z,me,17,T[14]),Z=S(Z,re,ae,q,Ae,22,T[15]),q=E(q,Z,re,ae,G,5,T[16]),ae=E(ae,q,Z,re,x,9,T[17]),re=E(re,ae,q,Z,J,14,T[18]),Z=E(Z,re,ae,q,z,20,T[19]),q=E(q,Z,re,ae,p,5,T[20]),ae=E(ae,q,Z,re,X,9,T[21]),re=E(re,ae,q,Z,Ae,14,T[22]),Z=E(Z,re,ae,q,K,20,T[23]),q=E(q,Z,re,ae,R,5,T[24]),ae=E(ae,q,Z,re,me,9,T[25]),re=E(re,ae,q,Z,N,14,T[26]),Z=E(Z,re,ae,q,B,20,T[27]),q=E(q,Z,re,ae,le,5,T[28]),ae=E(ae,q,Z,re,Y,9,T[29]),re=E(re,ae,q,Z,_,14,T[30]),Z=E(Z,re,ae,q,ne,20,T[31]),q=r(q,Z,re,ae,p,4,T[32]),ae=r(ae,q,Z,re,B,11,T[33]),re=r(re,ae,q,Z,J,16,T[34]),Z=r(Z,re,ae,q,me,23,T[35]),q=r(q,Z,re,ae,G,4,T[36]),ae=r(ae,q,Z,re,K,11,T[37]),re=r(re,ae,q,Z,_,16,T[38]),Z=r(Z,re,ae,q,X,23,T[39]),q=r(q,Z,re,ae,le,4,T[40]),ae=r(ae,q,Z,re,z,11,T[41]),re=r(re,ae,q,Z,N,16,T[42]),Z=r(Z,re,ae,q,x,23,T[43]),q=r(q,Z,re,ae,R,4,T[44]),ae=r(ae,q,Z,re,ne,11,T[45]),re=r(re,ae,q,Z,Ae,16,T[46]),Z=r(Z,re,ae,q,Y,23,T[47]),q=D(q,Z,re,ae,z,6,T[48]),ae=D(ae,q,Z,re,_,10,T[49]),re=D(re,ae,q,Z,me,15,T[50]),Z=D(Z,re,ae,q,p,21,T[51]),q=D(q,Z,re,ae,ne,6,T[52]),ae=D(ae,q,Z,re,N,10,T[53]),re=D(re,ae,q,Z,X,15,T[54]),Z=D(Z,re,ae,q,G,21,T[55]),q=D(q,Z,re,ae,B,6,T[56]),ae=D(ae,q,Z,re,Ae,10,T[57]),re=D(re,ae,q,Z,x,15,T[58]),Z=D(Z,re,ae,q,le,21,T[59]),q=D(q,Z,re,ae,K,6,T[60]),ae=D(ae,q,Z,re,J,10,T[61]),re=D(re,ae,q,Z,Y,15,T[62]),Z=D(Z,re,ae,q,R,21,T[63]),M[0]=M[0]+q|0,M[1]=M[1]+Z|0,M[2]=M[2]+re|0,M[3]=M[3]+ae|0},_doFinalize:function(){var f=this._data,y=f.words,Q=this._nDataBytes*8,g=f.sigBytes*8;y[g>>>5]|=128<<24-g%32;var w=s.floor(Q/4294967296),M=Q;y[(g+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,y[(g+64>>>9<<4)+14]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,f.sigBytes=(y.length+1)*4,this._process();for(var z=this._hash,G=z.words,Y=0;Y<4;Y++){var N=G[Y];G[Y]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}return z},clone:function(){var f=C.clone.call(this);return f._hash=this._hash.clone(),f}});function S(f,y,Q,g,w,M,z){var G=f+(y&Q|~y&g)+w+z;return(G<<M|G>>>32-M)+y}function E(f,y,Q,g,w,M,z){var G=f+(y&g|Q&~g)+w+z;return(G<<M|G>>>32-M)+y}function r(f,y,Q,g,w,M,z){var G=f+(y^Q^g)+w+z;return(G<<M|G>>>32-M)+y}function D(f,y,Q,g,w,M,z){var G=f+(Q^(y|~g))+w+z;return(G<<M|G>>>32-M)+y}u.MD5=C._createHelper(k),u.HmacMD5=C._createHmacHelper(k)}(Math),t.MD5})}(Po,Po.exports)),Po.exports}var Ro={exports:{}};Ro.exports;var hd;function pd(){return hd||(hd=1,function(d,i){(function(t,s){d.exports=s(ei())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.WordArray,b=u.Hasher,C=s.algo,c=[],T=C.SHA1=b.extend({_doReset:function(){this._hash=new A.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(k,S){for(var E=this._hash.words,r=E[0],D=E[1],f=E[2],y=E[3],Q=E[4],g=0;g<80;g++){if(g<16)c[g]=k[S+g]|0;else{var w=c[g-3]^c[g-8]^c[g-14]^c[g-16];c[g]=w<<1|w>>>31}var M=(r<<5|r>>>27)+Q+c[g];g<20?M+=(D&f|~D&y)+1518500249:g<40?M+=(D^f^y)+1859775393:g<60?M+=(D&f|D&y|f&y)-1894007588:M+=(D^f^y)-899497514,Q=y,y=f,f=D<<30|D>>>2,D=r,r=M}E[0]=E[0]+r|0,E[1]=E[1]+D|0,E[2]=E[2]+f|0,E[3]=E[3]+y|0,E[4]=E[4]+Q|0},_doFinalize:function(){var k=this._data,S=k.words,E=this._nDataBytes*8,r=k.sigBytes*8;return S[r>>>5]|=128<<24-r%32,S[(r+64>>>9<<4)+14]=Math.floor(E/4294967296),S[(r+64>>>9<<4)+15]=E,k.sigBytes=S.length*4,this._process(),this._hash},clone:function(){var k=b.clone.call(this);return k._hash=this._hash.clone(),k}});s.SHA1=b._createHelper(T),s.HmacSHA1=b._createHmacHelper(T)}(),t.SHA1})}(Ro,Ro.exports)),Ro.exports}var No={exports:{}};No.exports;var gd;function nu(){return gd||(gd=1,function(d,i){(function(t,s){d.exports=s(ei())})(Tn,function(t){return function(s){var u=t,A=u.lib,b=A.WordArray,C=A.Hasher,c=u.algo,T=[],k=[];(function(){function r(Q){for(var g=s.sqrt(Q),w=2;w<=g;w++)if(!(Q%w))return!1;return!0}function D(Q){return(Q-(Q|0))*4294967296|0}for(var f=2,y=0;y<64;)r(f)&&(y<8&&(T[y]=D(s.pow(f,1/2))),k[y]=D(s.pow(f,1/3)),y++),f++})();var S=[],E=c.SHA256=C.extend({_doReset:function(){this._hash=new b.init(T.slice(0))},_doProcessBlock:function(r,D){for(var f=this._hash.words,y=f[0],Q=f[1],g=f[2],w=f[3],M=f[4],z=f[5],G=f[6],Y=f[7],N=0;N<64;N++){if(N<16)S[N]=r[D+N]|0;else{var K=S[N-15],p=(K<<25|K>>>7)^(K<<14|K>>>18)^K>>>3,x=S[N-2],_=(x<<15|x>>>17)^(x<<13|x>>>19)^x>>>10;S[N]=p+S[N-7]+_+S[N-16]}var B=M&z^~M&G,R=y&Q^y&g^Q&g,X=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),J=(M<<26|M>>>6)^(M<<21|M>>>11)^(M<<7|M>>>25),ne=Y+J+B+k[N]+S[N],le=X+R;Y=G,G=z,z=M,M=w+ne|0,w=g,g=Q,Q=y,y=ne+le|0}f[0]=f[0]+y|0,f[1]=f[1]+Q|0,f[2]=f[2]+g|0,f[3]=f[3]+w|0,f[4]=f[4]+M|0,f[5]=f[5]+z|0,f[6]=f[6]+G|0,f[7]=f[7]+Y|0},_doFinalize:function(){var r=this._data,D=r.words,f=this._nDataBytes*8,y=r.sigBytes*8;return D[y>>>5]|=128<<24-y%32,D[(y+64>>>9<<4)+14]=s.floor(f/4294967296),D[(y+64>>>9<<4)+15]=f,r.sigBytes=D.length*4,this._process(),this._hash},clone:function(){var r=C.clone.call(this);return r._hash=this._hash.clone(),r}});u.SHA256=C._createHelper(E),u.HmacSHA256=C._createHmacHelper(E)}(Math),t.SHA256})}(No,No.exports)),No.exports}var Ho={exports:{}};Ho.exports;var md;function Np(){return md||(md=1,function(d,i){(function(t,s,u){d.exports=s(ei(),nu())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.WordArray,b=s.algo,C=b.SHA256,c=b.SHA224=C.extend({_doReset:function(){this._hash=new A.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var T=C._doFinalize.call(this);return T.sigBytes-=4,T}});s.SHA224=C._createHelper(c),s.HmacSHA224=C._createHmacHelper(c)}(),t.SHA224})}(Ho,Ho.exports)),Ho.exports}var Oo={exports:{}};Oo.exports;var yd;function Ad(){return yd||(yd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),nl())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.Hasher,b=s.x64,C=b.Word,c=b.WordArray,T=s.algo;function k(){return C.create.apply(C,arguments)}var S=[k(1116352408,3609767458),k(1899447441,602891725),k(3049323471,3964484399),k(3921009573,2173295548),k(961987163,4081628472),k(1508970993,3053834265),k(2453635748,2937671579),k(2870763221,3664609560),k(3624381080,2734883394),k(310598401,1164996542),k(607225278,1323610764),k(1426881987,3590304994),k(1925078388,4068182383),k(2162078206,991336113),k(2614888103,633803317),k(3248222580,3479774868),k(3835390401,2666613458),k(4022224774,944711139),k(264347078,2341262773),k(604807628,2007800933),k(770255983,1495990901),k(1249150122,1856431235),k(1555081692,3175218132),k(1996064986,2198950837),k(2554220882,3999719339),k(2821834349,766784016),k(2952996808,2566594879),k(3210313671,3203337956),k(3336571891,1034457026),k(3584528711,2466948901),k(113926993,3758326383),k(338241895,168717936),k(666307205,1188179964),k(773529912,1546045734),k(1294757372,1522805485),k(1396182291,2643833823),k(1695183700,2343527390),k(1986661051,1014477480),k(2177026350,1206759142),k(2456956037,344077627),k(2730485921,1290863460),k(2820302411,3158454273),k(3259730800,3505952657),k(3345764771,106217008),k(3516065817,3606008344),k(3600352804,1432725776),k(4094571909,1467031594),k(275423344,851169720),k(430227734,3100823752),k(506948616,1363258195),k(659060556,3750685593),k(883997877,3785050280),k(958139571,3318307427),k(1322822218,3812723403),k(1537002063,2003034995),k(1747873779,3602036899),k(1955562222,1575990012),k(2024104815,1125592928),k(2227730452,2716904306),k(2361852424,442776044),k(2428436474,593698344),k(2756734187,3733110249),k(3204031479,2999351573),k(3329325298,3815920427),k(3391569614,3928383900),k(3515267271,566280711),k(3940187606,3454069534),k(4118630271,4000239992),k(116418474,1914138554),k(174292421,2731055270),k(289380356,3203993006),k(460393269,320620315),k(685471733,587496836),k(852142971,1086792851),k(1017036298,365543100),k(1126000580,2618297676),k(1288033470,3409855158),k(1501505948,4234509866),k(1607167915,987167468),k(1816402316,1246189591)],E=[];(function(){for(var D=0;D<80;D++)E[D]=k()})();var r=T.SHA512=A.extend({_doReset:function(){this._hash=new c.init([new C.init(1779033703,4089235720),new C.init(3144134277,2227873595),new C.init(1013904242,4271175723),new C.init(2773480762,1595750129),new C.init(1359893119,2917565137),new C.init(2600822924,725511199),new C.init(528734635,4215389547),new C.init(1541459225,327033209)])},_doProcessBlock:function(D,f){for(var y=this._hash.words,Q=y[0],g=y[1],w=y[2],M=y[3],z=y[4],G=y[5],Y=y[6],N=y[7],K=Q.high,p=Q.low,x=g.high,_=g.low,B=w.high,R=w.low,X=M.high,J=M.low,ne=z.high,le=z.low,me=G.high,Ae=G.low,q=Y.high,Z=Y.low,re=N.high,ae=N.low,oe=K,ue=p,Ee=x,O=_,ee=B,ie=R,ge=X,_e=J,we=ne,ke=le,Se=me,Te=Ae,Re=q,Ne=Z,Ye=re,Je=ae,rt=0;rt<80;rt++){var We,Ve,Oe=E[rt];if(rt<16)Ve=Oe.high=D[f+rt*2]|0,We=Oe.low=D[f+rt*2+1]|0;else{var ft=E[rt-15],ht=ft.high,qt=ft.low,bn=(ht>>>1|qt<<31)^(ht>>>8|qt<<24)^ht>>>7,sn=(qt>>>1|ht<<31)^(qt>>>8|ht<<24)^(qt>>>7|ht<<25),gn=E[rt-2],kn=gn.high,Yn=gn.low,Nn=(kn>>>19|Yn<<13)^(kn<<3|Yn>>>29)^kn>>>6,pi=(Yn>>>19|kn<<13)^(Yn<<3|kn>>>29)^(Yn>>>6|kn<<26),Ln=E[rt-7],si=Ln.high,Xi=Ln.low,or=E[rt-16],jr=or.high,ji=or.low;We=sn+Xi,Ve=bn+si+(We>>>0<sn>>>0?1:0),We=We+pi,Ve=Ve+Nn+(We>>>0<pi>>>0?1:0),We=We+ji,Ve=Ve+jr+(We>>>0<ji>>>0?1:0),Oe.high=Ve,Oe.low=We}var br=we&Se^~we&Re,Zr=ke&Te^~ke&Ne,ea=oe&Ee^oe&ee^Ee&ee,Wr=ue&O^ue&ie^O&ie,_r=(oe>>>28|ue<<4)^(oe<<30|ue>>>2)^(oe<<25|ue>>>7),$=(ue>>>28|oe<<4)^(ue<<30|oe>>>2)^(ue<<25|oe>>>7),F=(we>>>14|ke<<18)^(we>>>18|ke<<14)^(we<<23|ke>>>9),n=(ke>>>14|we<<18)^(ke>>>18|we<<14)^(ke<<23|we>>>9),v=S[rt],I=v.high,U=v.low,W=Je+n,fe=Ye+F+(W>>>0<Je>>>0?1:0),W=W+Zr,fe=fe+br+(W>>>0<Zr>>>0?1:0),W=W+U,fe=fe+I+(W>>>0<U>>>0?1:0),W=W+We,fe=fe+Ve+(W>>>0<We>>>0?1:0),pe=$+Wr,ve=_r+ea+(pe>>>0<$>>>0?1:0);Ye=Re,Je=Ne,Re=Se,Ne=Te,Se=we,Te=ke,ke=_e+W|0,we=ge+fe+(ke>>>0<_e>>>0?1:0)|0,ge=ee,_e=ie,ee=Ee,ie=O,Ee=oe,O=ue,ue=W+pe|0,oe=fe+ve+(ue>>>0<W>>>0?1:0)|0}p=Q.low=p+ue,Q.high=K+oe+(p>>>0<ue>>>0?1:0),_=g.low=_+O,g.high=x+Ee+(_>>>0<O>>>0?1:0),R=w.low=R+ie,w.high=B+ee+(R>>>0<ie>>>0?1:0),J=M.low=J+_e,M.high=X+ge+(J>>>0<_e>>>0?1:0),le=z.low=le+ke,z.high=ne+we+(le>>>0<ke>>>0?1:0),Ae=G.low=Ae+Te,G.high=me+Se+(Ae>>>0<Te>>>0?1:0),Z=Y.low=Z+Ne,Y.high=q+Re+(Z>>>0<Ne>>>0?1:0),ae=N.low=ae+Je,N.high=re+Ye+(ae>>>0<Je>>>0?1:0)},_doFinalize:function(){var D=this._data,f=D.words,y=this._nDataBytes*8,Q=D.sigBytes*8;f[Q>>>5]|=128<<24-Q%32,f[(Q+128>>>10<<5)+30]=Math.floor(y/4294967296),f[(Q+128>>>10<<5)+31]=y,D.sigBytes=f.length*4,this._process();var g=this._hash.toX32();return g},clone:function(){var D=A.clone.call(this);return D._hash=this._hash.clone(),D},blockSize:1024/32});s.SHA512=A._createHelper(r),s.HmacSHA512=A._createHmacHelper(r)}(),t.SHA512})}(Oo,Oo.exports)),Oo.exports}var Uo={exports:{}};Uo.exports;var vd;function Hp(){return vd||(vd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),nl(),Ad())})(Tn,function(t){return function(){var s=t,u=s.x64,A=u.Word,b=u.WordArray,C=s.algo,c=C.SHA512,T=C.SHA384=c.extend({_doReset:function(){this._hash=new b.init([new A.init(3418070365,3238371032),new A.init(1654270250,914150663),new A.init(2438529370,812702999),new A.init(355462360,4144912697),new A.init(1731405415,4290775857),new A.init(2394180231,1750603025),new A.init(3675008525,1694076839),new A.init(1203062813,3204075428)])},_doFinalize:function(){var k=c._doFinalize.call(this);return k.sigBytes-=16,k}});s.SHA384=c._createHelper(T),s.HmacSHA384=c._createHmacHelper(T)}(),t.SHA384})}(Uo,Uo.exports)),Uo.exports}var $o={exports:{}};$o.exports;var xd;function Op(){return xd||(xd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),nl())})(Tn,function(t){return function(s){var u=t,A=u.lib,b=A.WordArray,C=A.Hasher,c=u.x64,T=c.Word,k=u.algo,S=[],E=[],r=[];(function(){for(var y=1,Q=0,g=0;g<24;g++){S[y+5*Q]=(g+1)*(g+2)/2%64;var w=Q%5,M=(2*y+3*Q)%5;y=w,Q=M}for(var y=0;y<5;y++)for(var Q=0;Q<5;Q++)E[y+5*Q]=Q+(2*y+3*Q)%5*5;for(var z=1,G=0;G<24;G++){for(var Y=0,N=0,K=0;K<7;K++){if(z&1){var p=(1<<K)-1;p<32?N^=1<<p:Y^=1<<p-32}z&128?z=z<<1^113:z<<=1}r[G]=T.create(Y,N)}})();var D=[];(function(){for(var y=0;y<25;y++)D[y]=T.create()})();var f=k.SHA3=C.extend({cfg:C.cfg.extend({outputLength:512}),_doReset:function(){for(var y=this._state=[],Q=0;Q<25;Q++)y[Q]=new T.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(y,Q){for(var g=this._state,w=this.blockSize/2,M=0;M<w;M++){var z=y[Q+2*M],G=y[Q+2*M+1];z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,G=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360;var Y=g[M];Y.high^=G,Y.low^=z}for(var N=0;N<24;N++){for(var K=0;K<5;K++){for(var p=0,x=0,_=0;_<5;_++){var Y=g[K+5*_];p^=Y.high,x^=Y.low}var B=D[K];B.high=p,B.low=x}for(var K=0;K<5;K++)for(var R=D[(K+4)%5],X=D[(K+1)%5],J=X.high,ne=X.low,p=R.high^(J<<1|ne>>>31),x=R.low^(ne<<1|J>>>31),_=0;_<5;_++){var Y=g[K+5*_];Y.high^=p,Y.low^=x}for(var le=1;le<25;le++){var p,x,Y=g[le],me=Y.high,Ae=Y.low,q=S[le];q<32?(p=me<<q|Ae>>>32-q,x=Ae<<q|me>>>32-q):(p=Ae<<q-32|me>>>64-q,x=me<<q-32|Ae>>>64-q);var Z=D[E[le]];Z.high=p,Z.low=x}var re=D[0],ae=g[0];re.high=ae.high,re.low=ae.low;for(var K=0;K<5;K++)for(var _=0;_<5;_++){var le=K+5*_,Y=g[le],oe=D[le],ue=D[(K+1)%5+5*_],Ee=D[(K+2)%5+5*_];Y.high=oe.high^~ue.high&Ee.high,Y.low=oe.low^~ue.low&Ee.low}var Y=g[0],O=r[N];Y.high^=O.high,Y.low^=O.low}},_doFinalize:function(){var y=this._data,Q=y.words;this._nDataBytes*8;var g=y.sigBytes*8,w=this.blockSize*32;Q[g>>>5]|=1<<24-g%32,Q[(s.ceil((g+1)/w)*w>>>5)-1]|=128,y.sigBytes=Q.length*4,this._process();for(var M=this._state,z=this.cfg.outputLength/8,G=z/8,Y=[],N=0;N<G;N++){var K=M[N],p=K.high,x=K.low;p=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,x=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,Y.push(x),Y.push(p)}return new b.init(Y,z)},clone:function(){for(var y=C.clone.call(this),Q=y._state=this._state.slice(0),g=0;g<25;g++)Q[g]=Q[g].clone();return y}});u.SHA3=C._createHelper(f),u.HmacSHA3=C._createHmacHelper(f)}(Math),t.SHA3})}($o,$o.exports)),$o.exports}var jo={exports:{}};jo.exports;var Cd;function Up(){return Cd||(Cd=1,function(d,i){(function(t,s){d.exports=s(ei())})(Tn,function(t){/** @preserve
  			(c) 2012 by Cdric Mesnil. All rights reserved.

  			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

  			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

  			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  			*/return function(s){var u=t,A=u.lib,b=A.WordArray,C=A.Hasher,c=u.algo,T=b.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),k=b.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),S=b.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),E=b.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),r=b.create([0,1518500249,1859775393,2400959708,2840853838]),D=b.create([1352829926,1548603684,1836072691,2053994217,0]),f=c.RIPEMD160=C.extend({_doReset:function(){this._hash=b.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(G,Y){for(var N=0;N<16;N++){var K=Y+N,p=G[K];G[K]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}var x=this._hash.words,_=r.words,B=D.words,R=T.words,X=k.words,J=S.words,ne=E.words,le,me,Ae,q,Z,re,ae,oe,ue,Ee;re=le=x[0],ae=me=x[1],oe=Ae=x[2],ue=q=x[3],Ee=Z=x[4];for(var O,N=0;N<80;N+=1)O=le+G[Y+R[N]]|0,N<16?O+=y(me,Ae,q)+_[0]:N<32?O+=Q(me,Ae,q)+_[1]:N<48?O+=g(me,Ae,q)+_[2]:N<64?O+=w(me,Ae,q)+_[3]:O+=M(me,Ae,q)+_[4],O=O|0,O=z(O,J[N]),O=O+Z|0,le=Z,Z=q,q=z(Ae,10),Ae=me,me=O,O=re+G[Y+X[N]]|0,N<16?O+=M(ae,oe,ue)+B[0]:N<32?O+=w(ae,oe,ue)+B[1]:N<48?O+=g(ae,oe,ue)+B[2]:N<64?O+=Q(ae,oe,ue)+B[3]:O+=y(ae,oe,ue)+B[4],O=O|0,O=z(O,ne[N]),O=O+Ee|0,re=Ee,Ee=ue,ue=z(oe,10),oe=ae,ae=O;O=x[1]+Ae+ue|0,x[1]=x[2]+q+Ee|0,x[2]=x[3]+Z+re|0,x[3]=x[4]+le+ae|0,x[4]=x[0]+me+oe|0,x[0]=O},_doFinalize:function(){var G=this._data,Y=G.words,N=this._nDataBytes*8,K=G.sigBytes*8;Y[K>>>5]|=128<<24-K%32,Y[(K+64>>>9<<4)+14]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,G.sigBytes=(Y.length+1)*4,this._process();for(var p=this._hash,x=p.words,_=0;_<5;_++){var B=x[_];x[_]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return p},clone:function(){var G=C.clone.call(this);return G._hash=this._hash.clone(),G}});function y(G,Y,N){return G^Y^N}function Q(G,Y,N){return G&Y|~G&N}function g(G,Y,N){return(G|~Y)^N}function w(G,Y,N){return G&N|Y&~N}function M(G,Y,N){return G^(Y|~N)}function z(G,Y){return G<<Y|G>>>32-Y}u.RIPEMD160=C._createHelper(f),u.HmacRIPEMD160=C._createHmacHelper(f)}(),t.RIPEMD160})}(jo,jo.exports)),jo.exports}var Wo={exports:{}};Wo.exports;var bd;function iu(){return bd||(bd=1,function(d,i){(function(t,s){d.exports=s(ei())})(Tn,function(t){(function(){var s=t,u=s.lib,A=u.Base,b=s.enc,C=b.Utf8,c=s.algo;c.HMAC=A.extend({init:function(T,k){T=this._hasher=new T.init,typeof k=="string"&&(k=C.parse(k));var S=T.blockSize,E=S*4;k.sigBytes>E&&(k=T.finalize(k)),k.clamp();for(var r=this._oKey=k.clone(),D=this._iKey=k.clone(),f=r.words,y=D.words,Q=0;Q<S;Q++)f[Q]^=1549556828,y[Q]^=909522486;r.sigBytes=D.sigBytes=E,this.reset()},reset:function(){var T=this._hasher;T.reset(),T.update(this._iKey)},update:function(T){return this._hasher.update(T),this},finalize:function(T){var k=this._hasher,S=k.finalize(T);k.reset();var E=k.finalize(this._oKey.clone().concat(S));return E}})})()})}(Wo,Wo.exports)),Wo.exports}var zo={exports:{}};zo.exports;var _d;function $p(){return _d||(_d=1,function(d,i){(function(t,s,u){d.exports=s(ei(),nu(),iu())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.Base,b=u.WordArray,C=s.algo,c=C.SHA256,T=C.HMAC,k=C.PBKDF2=A.extend({cfg:A.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(S){this.cfg=this.cfg.extend(S)},compute:function(S,E){for(var r=this.cfg,D=T.create(r.hasher,S),f=b.create(),y=b.create([1]),Q=f.words,g=y.words,w=r.keySize,M=r.iterations;Q.length<w;){var z=D.update(E).finalize(y);D.reset();for(var G=z.words,Y=G.length,N=z,K=1;K<M;K++){N=D.finalize(N),D.reset();for(var p=N.words,x=0;x<Y;x++)G[x]^=p[x]}f.concat(z),g[0]++}return f.sigBytes=w*4,f}});s.PBKDF2=function(S,E,r){return k.create(r).compute(S,E)}}(),t.PBKDF2})}(zo,zo.exports)),zo.exports}var qo={exports:{}};qo.exports;var Ed;function ka(){return Ed||(Ed=1,function(d,i){(function(t,s,u){d.exports=s(ei(),pd(),iu())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.Base,b=u.WordArray,C=s.algo,c=C.MD5,T=C.EvpKDF=A.extend({cfg:A.extend({keySize:128/32,hasher:c,iterations:1}),init:function(k){this.cfg=this.cfg.extend(k)},compute:function(k,S){for(var E,r=this.cfg,D=r.hasher.create(),f=b.create(),y=f.words,Q=r.keySize,g=r.iterations;y.length<Q;){E&&D.update(E),E=D.update(k).finalize(S),D.reset();for(var w=1;w<g;w++)E=D.finalize(E),D.reset();f.concat(E)}return f.sigBytes=Q*4,f}});s.EvpKDF=function(k,S,E){return T.create(E).compute(k,S)}}(),t.EvpKDF})}(qo,qo.exports)),qo.exports}var Yo={exports:{}};Yo.exports;var Id;function Ji(){return Id||(Id=1,function(d,i){(function(t,s,u){d.exports=s(ei(),ka())})(Tn,function(t){t.lib.Cipher||function(s){var u=t,A=u.lib,b=A.Base,C=A.WordArray,c=A.BufferedBlockAlgorithm,T=u.enc;T.Utf8;var k=T.Base64,S=u.algo,E=S.EvpKDF,r=A.Cipher=c.extend({cfg:b.extend(),createEncryptor:function(p,x){return this.create(this._ENC_XFORM_MODE,p,x)},createDecryptor:function(p,x){return this.create(this._DEC_XFORM_MODE,p,x)},init:function(p,x,_){this.cfg=this.cfg.extend(_),this._xformMode=p,this._key=x,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(p){return this._append(p),this._process()},finalize:function(p){p&&this._append(p);var x=this._doFinalize();return x},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function p(x){return typeof x=="string"?K:G}return function(x){return{encrypt:function(_,B,R){return p(B).encrypt(x,_,B,R)},decrypt:function(_,B,R){return p(B).decrypt(x,_,B,R)}}}}()});A.StreamCipher=r.extend({_doFinalize:function(){var p=this._process(!0);return p},blockSize:1});var D=u.mode={},f=A.BlockCipherMode=b.extend({createEncryptor:function(p,x){return this.Encryptor.create(p,x)},createDecryptor:function(p,x){return this.Decryptor.create(p,x)},init:function(p,x){this._cipher=p,this._iv=x}}),y=D.CBC=function(){var p=f.extend();p.Encryptor=p.extend({processBlock:function(_,B){var R=this._cipher,X=R.blockSize;x.call(this,_,B,X),R.encryptBlock(_,B),this._prevBlock=_.slice(B,B+X)}}),p.Decryptor=p.extend({processBlock:function(_,B){var R=this._cipher,X=R.blockSize,J=_.slice(B,B+X);R.decryptBlock(_,B),x.call(this,_,B,X),this._prevBlock=J}});function x(_,B,R){var X,J=this._iv;J?(X=J,this._iv=s):X=this._prevBlock;for(var ne=0;ne<R;ne++)_[B+ne]^=X[ne]}return p}(),Q=u.pad={},g=Q.Pkcs7={pad:function(p,x){for(var _=x*4,B=_-p.sigBytes%_,R=B<<24|B<<16|B<<8|B,X=[],J=0;J<B;J+=4)X.push(R);var ne=C.create(X,B);p.concat(ne)},unpad:function(p){var x=p.words[p.sigBytes-1>>>2]&255;p.sigBytes-=x}};A.BlockCipher=r.extend({cfg:r.cfg.extend({mode:y,padding:g}),reset:function(){var p;r.reset.call(this);var x=this.cfg,_=x.iv,B=x.mode;this._xformMode==this._ENC_XFORM_MODE?p=B.createEncryptor:(p=B.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==p?this._mode.init(this,_&&_.words):(this._mode=p.call(B,this,_&&_.words),this._mode.__creator=p)},_doProcessBlock:function(p,x){this._mode.processBlock(p,x)},_doFinalize:function(){var p,x=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(x.pad(this._data,this.blockSize),p=this._process(!0)):(p=this._process(!0),x.unpad(p)),p},blockSize:128/32});var w=A.CipherParams=b.extend({init:function(p){this.mixIn(p)},toString:function(p){return(p||this.formatter).stringify(this)}}),M=u.format={},z=M.OpenSSL={stringify:function(p){var x,_=p.ciphertext,B=p.salt;return B?x=C.create([1398893684,1701076831]).concat(B).concat(_):x=_,x.toString(k)},parse:function(p){var x,_=k.parse(p),B=_.words;return B[0]==1398893684&&B[1]==1701076831&&(x=C.create(B.slice(2,4)),B.splice(0,4),_.sigBytes-=16),w.create({ciphertext:_,salt:x})}},G=A.SerializableCipher=b.extend({cfg:b.extend({format:z}),encrypt:function(p,x,_,B){B=this.cfg.extend(B);var R=p.createEncryptor(_,B),X=R.finalize(x),J=R.cfg;return w.create({ciphertext:X,key:_,iv:J.iv,algorithm:p,mode:J.mode,padding:J.padding,blockSize:p.blockSize,formatter:B.format})},decrypt:function(p,x,_,B){B=this.cfg.extend(B),x=this._parse(x,B.format);var R=p.createDecryptor(_,B).finalize(x.ciphertext);return R},_parse:function(p,x){return typeof p=="string"?x.parse(p,this):p}}),Y=u.kdf={},N=Y.OpenSSL={execute:function(p,x,_,B,R){if(B||(B=C.random(64/8)),R)var X=E.create({keySize:x+_,hasher:R}).compute(p,B);else var X=E.create({keySize:x+_}).compute(p,B);var J=C.create(X.words.slice(x),_*4);return X.sigBytes=x*4,w.create({key:X,iv:J,salt:B})}},K=A.PasswordBasedCipher=G.extend({cfg:G.cfg.extend({kdf:N}),encrypt:function(p,x,_,B){B=this.cfg.extend(B);var R=B.kdf.execute(_,p.keySize,p.ivSize,B.salt,B.hasher);B.iv=R.iv;var X=G.encrypt.call(this,p,x,R.key,B);return X.mixIn(R),X},decrypt:function(p,x,_,B){B=this.cfg.extend(B),x=this._parse(x,B.format);var R=B.kdf.execute(_,p.keySize,p.ivSize,x.salt,B.hasher);B.iv=R.iv;var X=G.decrypt.call(this,p,x,R.key,B);return X}})}()})}(Yo,Yo.exports)),Yo.exports}var Vo={exports:{}};Vo.exports;var wd;function jp(){return wd||(wd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),Ji())})(Tn,function(t){return t.mode.CFB=function(){var s=t.lib.BlockCipherMode.extend();s.Encryptor=s.extend({processBlock:function(A,b){var C=this._cipher,c=C.blockSize;u.call(this,A,b,c,C),this._prevBlock=A.slice(b,b+c)}}),s.Decryptor=s.extend({processBlock:function(A,b){var C=this._cipher,c=C.blockSize,T=A.slice(b,b+c);u.call(this,A,b,c,C),this._prevBlock=T}});function u(A,b,C,c){var T,k=this._iv;k?(T=k.slice(0),this._iv=void 0):T=this._prevBlock,c.encryptBlock(T,0);for(var S=0;S<C;S++)A[b+S]^=T[S]}return s}(),t.mode.CFB})}(Vo,Vo.exports)),Vo.exports}var Ko={exports:{}};Ko.exports;var kd;function Wp(){return kd||(kd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),Ji())})(Tn,function(t){return t.mode.CTR=function(){var s=t.lib.BlockCipherMode.extend(),u=s.Encryptor=s.extend({processBlock:function(A,b){var C=this._cipher,c=C.blockSize,T=this._iv,k=this._counter;T&&(k=this._counter=T.slice(0),this._iv=void 0);var S=k.slice(0);C.encryptBlock(S,0),k[c-1]=k[c-1]+1|0;for(var E=0;E<c;E++)A[b+E]^=S[E]}});return s.Decryptor=u,s}(),t.mode.CTR})}(Ko,Ko.exports)),Ko.exports}var Go={exports:{}};Go.exports;var Sd;function zp(){return Sd||(Sd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),Ji())})(Tn,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var s=t.lib.BlockCipherMode.extend();function u(C){if((C>>24&255)===255){var c=C>>16&255,T=C>>8&255,k=C&255;c===255?(c=0,T===255?(T=0,k===255?k=0:++k):++T):++c,C=0,C+=c<<16,C+=T<<8,C+=k}else C+=1<<24;return C}function A(C){return(C[0]=u(C[0]))===0&&(C[1]=u(C[1])),C}var b=s.Encryptor=s.extend({processBlock:function(C,c){var T=this._cipher,k=T.blockSize,S=this._iv,E=this._counter;S&&(E=this._counter=S.slice(0),this._iv=void 0),A(E);var r=E.slice(0);T.encryptBlock(r,0);for(var D=0;D<k;D++)C[c+D]^=r[D]}});return s.Decryptor=b,s}(),t.mode.CTRGladman})}(Go,Go.exports)),Go.exports}var Jo={exports:{}};Jo.exports;var Bd;function qp(){return Bd||(Bd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),Ji())})(Tn,function(t){return t.mode.OFB=function(){var s=t.lib.BlockCipherMode.extend(),u=s.Encryptor=s.extend({processBlock:function(A,b){var C=this._cipher,c=C.blockSize,T=this._iv,k=this._keystream;T&&(k=this._keystream=T.slice(0),this._iv=void 0),C.encryptBlock(k,0);for(var S=0;S<c;S++)A[b+S]^=k[S]}});return s.Decryptor=u,s}(),t.mode.OFB})}(Jo,Jo.exports)),Jo.exports}var Xo={exports:{}};Xo.exports;var Dd;function Yp(){return Dd||(Dd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),Ji())})(Tn,function(t){return t.mode.ECB=function(){var s=t.lib.BlockCipherMode.extend();return s.Encryptor=s.extend({processBlock:function(u,A){this._cipher.encryptBlock(u,A)}}),s.Decryptor=s.extend({processBlock:function(u,A){this._cipher.decryptBlock(u,A)}}),s}(),t.mode.ECB})}(Xo,Xo.exports)),Xo.exports}var Zo={exports:{}};Zo.exports;var Td;function Vp(){return Td||(Td=1,function(d,i){(function(t,s,u){d.exports=s(ei(),Ji())})(Tn,function(t){return t.pad.AnsiX923={pad:function(s,u){var A=s.sigBytes,b=u*4,C=b-A%b,c=A+C-1;s.clamp(),s.words[c>>>2]|=C<<24-c%4*8,s.sigBytes+=C},unpad:function(s){var u=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=u}},t.pad.Ansix923})}(Zo,Zo.exports)),Zo.exports}var es={exports:{}};es.exports;var Ld;function Kp(){return Ld||(Ld=1,function(d,i){(function(t,s,u){d.exports=s(ei(),Ji())})(Tn,function(t){return t.pad.Iso10126={pad:function(s,u){var A=u*4,b=A-s.sigBytes%A;s.concat(t.lib.WordArray.random(b-1)).concat(t.lib.WordArray.create([b<<24],1))},unpad:function(s){var u=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=u}},t.pad.Iso10126})}(es,es.exports)),es.exports}var ts={exports:{}};ts.exports;var Fd;function Gp(){return Fd||(Fd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),Ji())})(Tn,function(t){return t.pad.Iso97971={pad:function(s,u){s.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(s,u)},unpad:function(s){t.pad.ZeroPadding.unpad(s),s.sigBytes--}},t.pad.Iso97971})}(ts,ts.exports)),ts.exports}var ns={exports:{}};ns.exports;var Md;function Jp(){return Md||(Md=1,function(d,i){(function(t,s,u){d.exports=s(ei(),Ji())})(Tn,function(t){return t.pad.ZeroPadding={pad:function(s,u){var A=u*4;s.clamp(),s.sigBytes+=A-(s.sigBytes%A||A)},unpad:function(s){for(var u=s.words,A=s.sigBytes-1,A=s.sigBytes-1;A>=0;A--)if(u[A>>>2]>>>24-A%4*8&255){s.sigBytes=A+1;break}}},t.pad.ZeroPadding})}(ns,ns.exports)),ns.exports}var is={exports:{}};is.exports;var Qd;function Xp(){return Qd||(Qd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),Ji())})(Tn,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})}(is,is.exports)),is.exports}var rs={exports:{}};rs.exports;var Pd;function Zp(){return Pd||(Pd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),Ji())})(Tn,function(t){return function(s){var u=t,A=u.lib,b=A.CipherParams,C=u.enc,c=C.Hex,T=u.format;T.Hex={stringify:function(k){return k.ciphertext.toString(c)},parse:function(k){var S=c.parse(k);return b.create({ciphertext:S})}}}(),t.format.Hex})}(rs,rs.exports)),rs.exports}var as={exports:{}};as.exports;var Rd;function eg(){return Rd||(Rd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),ja(),Wa(),ka(),Ji())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.BlockCipher,b=s.algo,C=[],c=[],T=[],k=[],S=[],E=[],r=[],D=[],f=[],y=[];(function(){for(var w=[],M=0;M<256;M++)M<128?w[M]=M<<1:w[M]=M<<1^283;for(var z=0,G=0,M=0;M<256;M++){var Y=G^G<<1^G<<2^G<<3^G<<4;Y=Y>>>8^Y&255^99,C[z]=Y,c[Y]=z;var N=w[z],K=w[N],p=w[K],x=w[Y]*257^Y*16843008;T[z]=x<<24|x>>>8,k[z]=x<<16|x>>>16,S[z]=x<<8|x>>>24,E[z]=x;var x=p*16843009^K*65537^N*257^z*16843008;r[Y]=x<<24|x>>>8,D[Y]=x<<16|x>>>16,f[Y]=x<<8|x>>>24,y[Y]=x,z?(z=N^w[w[w[p^N]]],G^=w[w[G]]):z=G=1}})();var Q=[0,1,2,4,8,16,32,64,128,27,54],g=b.AES=A.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var M=this._keyPriorReset=this._key,z=M.words,G=M.sigBytes/4,Y=this._nRounds=G+6,N=(Y+1)*4,K=this._keySchedule=[],p=0;p<N;p++)p<G?K[p]=z[p]:(w=K[p-1],p%G?G>6&&p%G==4&&(w=C[w>>>24]<<24|C[w>>>16&255]<<16|C[w>>>8&255]<<8|C[w&255]):(w=w<<8|w>>>24,w=C[w>>>24]<<24|C[w>>>16&255]<<16|C[w>>>8&255]<<8|C[w&255],w^=Q[p/G|0]<<24),K[p]=K[p-G]^w);for(var x=this._invKeySchedule=[],_=0;_<N;_++){var p=N-_;if(_%4)var w=K[p];else var w=K[p-4];_<4||p<=4?x[_]=w:x[_]=r[C[w>>>24]]^D[C[w>>>16&255]]^f[C[w>>>8&255]]^y[C[w&255]]}}},encryptBlock:function(w,M){this._doCryptBlock(w,M,this._keySchedule,T,k,S,E,C)},decryptBlock:function(w,M){var z=w[M+1];w[M+1]=w[M+3],w[M+3]=z,this._doCryptBlock(w,M,this._invKeySchedule,r,D,f,y,c);var z=w[M+1];w[M+1]=w[M+3],w[M+3]=z},_doCryptBlock:function(w,M,z,G,Y,N,K,p){for(var x=this._nRounds,_=w[M]^z[0],B=w[M+1]^z[1],R=w[M+2]^z[2],X=w[M+3]^z[3],J=4,ne=1;ne<x;ne++){var le=G[_>>>24]^Y[B>>>16&255]^N[R>>>8&255]^K[X&255]^z[J++],me=G[B>>>24]^Y[R>>>16&255]^N[X>>>8&255]^K[_&255]^z[J++],Ae=G[R>>>24]^Y[X>>>16&255]^N[_>>>8&255]^K[B&255]^z[J++],q=G[X>>>24]^Y[_>>>16&255]^N[B>>>8&255]^K[R&255]^z[J++];_=le,B=me,R=Ae,X=q}var le=(p[_>>>24]<<24|p[B>>>16&255]<<16|p[R>>>8&255]<<8|p[X&255])^z[J++],me=(p[B>>>24]<<24|p[R>>>16&255]<<16|p[X>>>8&255]<<8|p[_&255])^z[J++],Ae=(p[R>>>24]<<24|p[X>>>16&255]<<16|p[_>>>8&255]<<8|p[B&255])^z[J++],q=(p[X>>>24]<<24|p[_>>>16&255]<<16|p[B>>>8&255]<<8|p[R&255])^z[J++];w[M]=le,w[M+1]=me,w[M+2]=Ae,w[M+3]=q},keySize:256/32});s.AES=A._createHelper(g)}(),t.AES})}(as,as.exports)),as.exports}var os={exports:{}};os.exports;var Nd;function tg(){return Nd||(Nd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),ja(),Wa(),ka(),Ji())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.WordArray,b=u.BlockCipher,C=s.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],T=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],k=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],S=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],E=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],r=C.DES=b.extend({_doReset:function(){for(var Q=this._key,g=Q.words,w=[],M=0;M<56;M++){var z=c[M]-1;w[M]=g[z>>>5]>>>31-z%32&1}for(var G=this._subKeys=[],Y=0;Y<16;Y++){for(var N=G[Y]=[],K=k[Y],M=0;M<24;M++)N[M/6|0]|=w[(T[M]-1+K)%28]<<31-M%6,N[4+(M/6|0)]|=w[28+(T[M+24]-1+K)%28]<<31-M%6;N[0]=N[0]<<1|N[0]>>>31;for(var M=1;M<7;M++)N[M]=N[M]>>>(M-1)*4+3;N[7]=N[7]<<5|N[7]>>>27}for(var p=this._invSubKeys=[],M=0;M<16;M++)p[M]=G[15-M]},encryptBlock:function(Q,g){this._doCryptBlock(Q,g,this._subKeys)},decryptBlock:function(Q,g){this._doCryptBlock(Q,g,this._invSubKeys)},_doCryptBlock:function(Q,g,w){this._lBlock=Q[g],this._rBlock=Q[g+1],D.call(this,4,252645135),D.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),D.call(this,1,1431655765);for(var M=0;M<16;M++){for(var z=w[M],G=this._lBlock,Y=this._rBlock,N=0,K=0;K<8;K++)N|=S[K][((Y^z[K])&E[K])>>>0];this._lBlock=Y,this._rBlock=G^N}var p=this._lBlock;this._lBlock=this._rBlock,this._rBlock=p,D.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),D.call(this,16,65535),D.call(this,4,252645135),Q[g]=this._lBlock,Q[g+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function D(Q,g){var w=(this._lBlock>>>Q^this._rBlock)&g;this._rBlock^=w,this._lBlock^=w<<Q}function f(Q,g){var w=(this._rBlock>>>Q^this._lBlock)&g;this._lBlock^=w,this._rBlock^=w<<Q}s.DES=b._createHelper(r);var y=C.TripleDES=b.extend({_doReset:function(){var Q=this._key,g=Q.words;if(g.length!==2&&g.length!==4&&g.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=g.slice(0,2),M=g.length<4?g.slice(0,2):g.slice(2,4),z=g.length<6?g.slice(0,2):g.slice(4,6);this._des1=r.createEncryptor(A.create(w)),this._des2=r.createEncryptor(A.create(M)),this._des3=r.createEncryptor(A.create(z))},encryptBlock:function(Q,g){this._des1.encryptBlock(Q,g),this._des2.decryptBlock(Q,g),this._des3.encryptBlock(Q,g)},decryptBlock:function(Q,g){this._des3.decryptBlock(Q,g),this._des2.encryptBlock(Q,g),this._des1.decryptBlock(Q,g)},keySize:192/32,ivSize:64/32,blockSize:64/32});s.TripleDES=b._createHelper(y)}(),t.TripleDES})}(os,os.exports)),os.exports}var ss={exports:{}};ss.exports;var Hd;function ng(){return Hd||(Hd=1,function(d,i){(function(t,s,u){d.exports=s(ei(),ja(),Wa(),ka(),Ji())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.StreamCipher,b=s.algo,C=b.RC4=A.extend({_doReset:function(){for(var k=this._key,S=k.words,E=k.sigBytes,r=this._S=[],D=0;D<256;D++)r[D]=D;for(var D=0,f=0;D<256;D++){var y=D%E,Q=S[y>>>2]>>>24-y%4*8&255;f=(f+r[D]+Q)%256;var g=r[D];r[D]=r[f],r[f]=g}this._i=this._j=0},_doProcessBlock:function(k,S){k[S]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var k=this._S,S=this._i,E=this._j,r=0,D=0;D<4;D++){S=(S+1)%256,E=(E+k[S])%256;var f=k[S];k[S]=k[E],k[E]=f,r|=k[(k[S]+k[E])%256]<<24-D*8}return this._i=S,this._j=E,r}s.RC4=A._createHelper(C);var T=b.RC4Drop=C.extend({cfg:C.cfg.extend({drop:192}),_doReset:function(){C._doReset.call(this);for(var k=this.cfg.drop;k>0;k--)c.call(this)}});s.RC4Drop=A._createHelper(T)}(),t.RC4})}(ss,ss.exports)),ss.exports}var ls={exports:{}};ls.exports;var Od;function ig(){return Od||(Od=1,function(d,i){(function(t,s,u){d.exports=s(ei(),ja(),Wa(),ka(),Ji())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.StreamCipher,b=s.algo,C=[],c=[],T=[],k=b.Rabbit=A.extend({_doReset:function(){for(var E=this._key.words,r=this.cfg.iv,D=0;D<4;D++)E[D]=(E[D]<<8|E[D]>>>24)&16711935|(E[D]<<24|E[D]>>>8)&4278255360;var f=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],y=this._C=[E[2]<<16|E[2]>>>16,E[0]&4294901760|E[1]&65535,E[3]<<16|E[3]>>>16,E[1]&4294901760|E[2]&65535,E[0]<<16|E[0]>>>16,E[2]&4294901760|E[3]&65535,E[1]<<16|E[1]>>>16,E[3]&4294901760|E[0]&65535];this._b=0;for(var D=0;D<4;D++)S.call(this);for(var D=0;D<8;D++)y[D]^=f[D+4&7];if(r){var Q=r.words,g=Q[0],w=Q[1],M=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,z=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,G=M>>>16|z&4294901760,Y=z<<16|M&65535;y[0]^=M,y[1]^=G,y[2]^=z,y[3]^=Y,y[4]^=M,y[5]^=G,y[6]^=z,y[7]^=Y;for(var D=0;D<4;D++)S.call(this)}},_doProcessBlock:function(E,r){var D=this._X;S.call(this),C[0]=D[0]^D[5]>>>16^D[3]<<16,C[1]=D[2]^D[7]>>>16^D[5]<<16,C[2]=D[4]^D[1]>>>16^D[7]<<16,C[3]=D[6]^D[3]>>>16^D[1]<<16;for(var f=0;f<4;f++)C[f]=(C[f]<<8|C[f]>>>24)&16711935|(C[f]<<24|C[f]>>>8)&4278255360,E[r+f]^=C[f]},blockSize:128/32,ivSize:64/32});function S(){for(var E=this._X,r=this._C,D=0;D<8;D++)c[D]=r[D];r[0]=r[0]+1295307597+this._b|0,r[1]=r[1]+3545052371+(r[0]>>>0<c[0]>>>0?1:0)|0,r[2]=r[2]+886263092+(r[1]>>>0<c[1]>>>0?1:0)|0,r[3]=r[3]+1295307597+(r[2]>>>0<c[2]>>>0?1:0)|0,r[4]=r[4]+3545052371+(r[3]>>>0<c[3]>>>0?1:0)|0,r[5]=r[5]+886263092+(r[4]>>>0<c[4]>>>0?1:0)|0,r[6]=r[6]+1295307597+(r[5]>>>0<c[5]>>>0?1:0)|0,r[7]=r[7]+3545052371+(r[6]>>>0<c[6]>>>0?1:0)|0,this._b=r[7]>>>0<c[7]>>>0?1:0;for(var D=0;D<8;D++){var f=E[D]+r[D],y=f&65535,Q=f>>>16,g=((y*y>>>17)+y*Q>>>15)+Q*Q,w=((f&4294901760)*f|0)+((f&65535)*f|0);T[D]=g^w}E[0]=T[0]+(T[7]<<16|T[7]>>>16)+(T[6]<<16|T[6]>>>16)|0,E[1]=T[1]+(T[0]<<8|T[0]>>>24)+T[7]|0,E[2]=T[2]+(T[1]<<16|T[1]>>>16)+(T[0]<<16|T[0]>>>16)|0,E[3]=T[3]+(T[2]<<8|T[2]>>>24)+T[1]|0,E[4]=T[4]+(T[3]<<16|T[3]>>>16)+(T[2]<<16|T[2]>>>16)|0,E[5]=T[5]+(T[4]<<8|T[4]>>>24)+T[3]|0,E[6]=T[6]+(T[5]<<16|T[5]>>>16)+(T[4]<<16|T[4]>>>16)|0,E[7]=T[7]+(T[6]<<8|T[6]>>>24)+T[5]|0}s.Rabbit=A._createHelper(k)}(),t.Rabbit})}(ls,ls.exports)),ls.exports}var us={exports:{}};us.exports;var Ud;function rg(){return Ud||(Ud=1,function(d,i){(function(t,s,u){d.exports=s(ei(),ja(),Wa(),ka(),Ji())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.StreamCipher,b=s.algo,C=[],c=[],T=[],k=b.RabbitLegacy=A.extend({_doReset:function(){var E=this._key.words,r=this.cfg.iv,D=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],f=this._C=[E[2]<<16|E[2]>>>16,E[0]&4294901760|E[1]&65535,E[3]<<16|E[3]>>>16,E[1]&4294901760|E[2]&65535,E[0]<<16|E[0]>>>16,E[2]&4294901760|E[3]&65535,E[1]<<16|E[1]>>>16,E[3]&4294901760|E[0]&65535];this._b=0;for(var y=0;y<4;y++)S.call(this);for(var y=0;y<8;y++)f[y]^=D[y+4&7];if(r){var Q=r.words,g=Q[0],w=Q[1],M=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,z=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,G=M>>>16|z&4294901760,Y=z<<16|M&65535;f[0]^=M,f[1]^=G,f[2]^=z,f[3]^=Y,f[4]^=M,f[5]^=G,f[6]^=z,f[7]^=Y;for(var y=0;y<4;y++)S.call(this)}},_doProcessBlock:function(E,r){var D=this._X;S.call(this),C[0]=D[0]^D[5]>>>16^D[3]<<16,C[1]=D[2]^D[7]>>>16^D[5]<<16,C[2]=D[4]^D[1]>>>16^D[7]<<16,C[3]=D[6]^D[3]>>>16^D[1]<<16;for(var f=0;f<4;f++)C[f]=(C[f]<<8|C[f]>>>24)&16711935|(C[f]<<24|C[f]>>>8)&4278255360,E[r+f]^=C[f]},blockSize:128/32,ivSize:64/32});function S(){for(var E=this._X,r=this._C,D=0;D<8;D++)c[D]=r[D];r[0]=r[0]+1295307597+this._b|0,r[1]=r[1]+3545052371+(r[0]>>>0<c[0]>>>0?1:0)|0,r[2]=r[2]+886263092+(r[1]>>>0<c[1]>>>0?1:0)|0,r[3]=r[3]+1295307597+(r[2]>>>0<c[2]>>>0?1:0)|0,r[4]=r[4]+3545052371+(r[3]>>>0<c[3]>>>0?1:0)|0,r[5]=r[5]+886263092+(r[4]>>>0<c[4]>>>0?1:0)|0,r[6]=r[6]+1295307597+(r[5]>>>0<c[5]>>>0?1:0)|0,r[7]=r[7]+3545052371+(r[6]>>>0<c[6]>>>0?1:0)|0,this._b=r[7]>>>0<c[7]>>>0?1:0;for(var D=0;D<8;D++){var f=E[D]+r[D],y=f&65535,Q=f>>>16,g=((y*y>>>17)+y*Q>>>15)+Q*Q,w=((f&4294901760)*f|0)+((f&65535)*f|0);T[D]=g^w}E[0]=T[0]+(T[7]<<16|T[7]>>>16)+(T[6]<<16|T[6]>>>16)|0,E[1]=T[1]+(T[0]<<8|T[0]>>>24)+T[7]|0,E[2]=T[2]+(T[1]<<16|T[1]>>>16)+(T[0]<<16|T[0]>>>16)|0,E[3]=T[3]+(T[2]<<8|T[2]>>>24)+T[1]|0,E[4]=T[4]+(T[3]<<16|T[3]>>>16)+(T[2]<<16|T[2]>>>16)|0,E[5]=T[5]+(T[4]<<8|T[4]>>>24)+T[3]|0,E[6]=T[6]+(T[5]<<16|T[5]>>>16)+(T[4]<<16|T[4]>>>16)|0,E[7]=T[7]+(T[6]<<8|T[6]>>>24)+T[5]|0}s.RabbitLegacy=A._createHelper(k)}(),t.RabbitLegacy})}(us,us.exports)),us.exports}var cs={exports:{}};cs.exports;var $d;function ag(){return $d||($d=1,function(d,i){(function(t,s,u){d.exports=s(ei(),ja(),Wa(),ka(),Ji())})(Tn,function(t){return function(){var s=t,u=s.lib,A=u.BlockCipher,b=s.algo;const C=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],T=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var k={pbox:[],sbox:[]};function S(y,Q){let g=Q>>24&255,w=Q>>16&255,M=Q>>8&255,z=Q&255,G=y.sbox[0][g]+y.sbox[1][w];return G=G^y.sbox[2][M],G=G+y.sbox[3][z],G}function E(y,Q,g){let w=Q,M=g,z;for(let G=0;G<C;++G)w=w^y.pbox[G],M=S(y,w)^M,z=w,w=M,M=z;return z=w,w=M,M=z,M=M^y.pbox[C],w=w^y.pbox[C+1],{left:w,right:M}}function r(y,Q,g){let w=Q,M=g,z;for(let G=C+1;G>1;--G)w=w^y.pbox[G],M=S(y,w)^M,z=w,w=M,M=z;return z=w,w=M,M=z,M=M^y.pbox[1],w=w^y.pbox[0],{left:w,right:M}}function D(y,Q,g){for(let Y=0;Y<4;Y++){y.sbox[Y]=[];for(let N=0;N<256;N++)y.sbox[Y][N]=T[Y][N]}let w=0;for(let Y=0;Y<C+2;Y++)y.pbox[Y]=c[Y]^Q[w],w++,w>=g&&(w=0);let M=0,z=0,G=0;for(let Y=0;Y<C+2;Y+=2)G=E(y,M,z),M=G.left,z=G.right,y.pbox[Y]=M,y.pbox[Y+1]=z;for(let Y=0;Y<4;Y++)for(let N=0;N<256;N+=2)G=E(y,M,z),M=G.left,z=G.right,y.sbox[Y][N]=M,y.sbox[Y][N+1]=z;return!0}var f=b.Blowfish=A.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,Q=y.words,g=y.sigBytes/4;D(k,Q,g)}},encryptBlock:function(y,Q){var g=E(k,y[Q],y[Q+1]);y[Q]=g.left,y[Q+1]=g.right},decryptBlock:function(y,Q){var g=r(k,y[Q],y[Q+1]);y[Q]=g.left,y[Q+1]=g.right},blockSize:64/32,keySize:128/32,ivSize:64/32});s.Blowfish=A._createHelper(f)}(),t.Blowfish})}(cs,cs.exports)),cs.exports}tl.exports,function(d,i){(function(t,s,u){d.exports=s(ei(),nl(),Qp(),Pp(),ja(),Rp(),Wa(),pd(),nu(),Np(),Ad(),Hp(),Op(),Up(),iu(),$p(),ka(),Ji(),jp(),Wp(),zp(),qp(),Yp(),Vp(),Kp(),Gp(),Jp(),Xp(),Zp(),eg(),tg(),ng(),ig(),rg(),ag())})(Tn,function(t){return t})}(tl,tl.exports);var og=tl.exports,jd=Ni(og);const Wd="1.2.0",sg="1.2.0",lg="1.2.0";var Ze=typeof Ze!="undefined"?Ze:{},ds={},Sa;for(Sa in Ze)Ze.hasOwnProperty(Sa)&&(ds[Sa]=Ze[Sa]);var ug=!0,Ba="";function cg(d){return Ze.locateFile?Ze.locateFile(d,Ba):Ba+d}var dg;typeof document!="undefined"&&document.currentScript&&(Ba=document.currentScript.src),Ba.indexOf("blob:")!==0?Ba=Ba.substr(0,Ba.lastIndexOf("/")+1):Ba="",Ze.print||console.log.bind(console);var fs=Ze.printErr||console.warn.bind(console);for(Sa in ds)ds.hasOwnProperty(Sa)&&(Ze[Sa]=ds[Sa]);ds=null,Ze.arguments&&Ze.arguments,Ze.thisProgram&&Ze.thisProgram,Ze.quit&&Ze.quit;function fg(d,i){if(typeof WebAssembly.Function=="function"){for(var t={i:"i32",j:"i64",f:"f32",d:"f64"},s={parameters:[],results:i[0]=="v"?[]:[t[i[0]]]},u=1;u<i.length;++u)s.parameters.push(t[i[u]]);return new WebAssembly.Function(s,d)}var A=[1,0,1,96],b=i.slice(0,1),C=i.slice(1),c={i:127,j:126,f:125,d:124};A.push(C.length);for(var u=0;u<C.length;++u)A.push(c[C[u]]);b=="v"?A.push(0):A=A.concat([1,c[b]]),A[1]=A.length-2;var T=new Uint8Array([0,97,115,109,1,0,0,0].concat(A,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),k=new WebAssembly.Module(T),S=new WebAssembly.Instance(k,{e:{f:d}}),E=S.exports.f;return E}var zd=[],ho;function hg(){if(zd.length)return zd.pop();try{ya.grow(1)}catch(d){throw d instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":d}return ya.length-1}function pg(d,i){if(!ho){ho=new WeakMap;for(var t=0;t<ya.length;t++){var s=ya.get(t);s&&ho.set(s,t)}}if(ho.has(d))return ho.get(d);var u=hg();try{ya.set(u,d)}catch(b){if(!(b instanceof TypeError))throw b;var A=fg(d,i);ya.set(u,A)}return ho.set(d,u),u}function gg(d,i){return pg(d,i)}function mg(d){const i=window.atob(d),t=new Uint8Array(i.length);for(let s=0;s<i.length;s++)t[s]=i.charCodeAt(s);return t}var yg="AGFzbQEAAAABgQERYAN/f38AYAJ/fwF/YAN/f38Bf2ABfwF/YAJ/fwBgBX9/f39/AX9gAX8AYAABf2AHf39/f39/fwF/YAJ+fwF/YAAAYAR/f39/AGAFf39/f38AYAh/f39/f39/fwF/YA5/f39/f39/f39/f39/fwF/YAZ/fH9/f38Bf2ADfn9/AX8CDQIBYQFhAAIBYQFiAAMDOTgAAwIBAAMMAAYDAAUCAQUECgADAQAEBAUICAMGBwADDQkJEA4AAQEAAgEHBAIAAAABAQsAAAQAAQQFAXABAgIFBwEBgASAgAIGCQF/AUGgosACCwdFEQFjAgABZAASAWUAOQFmADIBZwArAWgAJQFpAAsBagAKAWsAIQFsABsBbQAaAW4AGQFvAQABcAAsAXEAHgFyAB0BcwAcCQcBAEEBCwEqCtXbATgjAQF/IwBBEGsiAyQAIAMgAjYCDCAAIAEgAhApIANBEGokAAuQAQEDfyAAIQECQAJAIABBA3FFDQAgAC0AAEUEQEEADwsDQCABQQFqIgFBA3FFDQEgAS0AAA0ACwwBCwNAIAEiAkEEaiEBIAIoAgAiA0F/cyADQYGChAhrcUGAgYKEeHFFDQALIANB/wFxRQRAIAIgAGsPCwNAIAItAAEhAyACQQFqIgEhAiADDQALCyABIABrC/ICAgJ/AX4CQCACRQ0AIAAgAmoiA0EBayABOgAAIAAgAToAACACQQNJDQAgA0ECayABOgAAIAAgAToAASADQQNrIAE6AAAgACABOgACIAJBB0kNACADQQRrIAE6AAAgACABOgADIAJBCUkNACAAQQAgAGtBA3EiBGoiAyABQf8BcUGBgoQIbCIBNgIAIAMgAiAEa0F8cSIEaiICQQRrIAE2AgAgBEEJSQ0AIAMgATYCCCADIAE2AgQgAkEIayABNgIAIAJBDGsgATYCACAEQRlJDQAgAyABNgIYIAMgATYCFCADIAE2AhAgAyABNgIMIAJBEGsgATYCACACQRRrIAE2AgAgAkEYayABNgIAIAJBHGsgATYCACAEIANBBHFBGHIiBGsiAkEgSQ0AIAGtQoGAgIAQfiEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkEgayICQR9LDQALCyAAC00BAn8gAS0AACECAkAgAC0AACIDRQ0AIAIgA0cNAANAIAEtAAEhAiAALQABIgNFDQEgAUEBaiEBIABBAWohACACIANGDQALCyADIAJrC/cMARR/IwBBgAJrIgUkACAAIAAtAIcBIgMgAkEDdCIEQfgBcWpB/wFLBH8gACAALQCGASIDQQFqOgCGAQJAIANB/wFHDQAgACAALQCFASIDQQFqOgCFASADQf8BRw0AIAAgAC0AhAEiA0EBajoAhAEgA0H/AUcNACAAIAAtAIMBIgNBAWo6AIMBIANB/wFHDQAgACAALQCCASIDQQFqOgCCASADQf8BRw0AIAAgAC0AgQEiA0EBajoAgQEgA0H/AUcNACAAIAAtAIABQQFqOgCAAQsgAC0AhwEFIAMLIARqOgCHASAAIAAtAIYBIgMgAkEFdiIEQf8BcWpBgAJPBH8gACAALQCFASIDQQFqOgCFAQJAIANB/wFHDQAgACAALQCEASIDQQFqOgCEASADQf8BRw0AIAAgAC0AgwEiA0EBajoAgwEgA0H/AUcNACAAIAAtAIIBIgNBAWo6AIIBIANB/wFHDQAgACAALQCBASIDQQFqOgCBASADQf8BRw0AIAAgAC0AgAFBAWo6AIABCyAALQCGAQUgAwsgBGo6AIYBIAAgAC0AhQEiAyACQQ12IgRB/wFxakGAAk8EfyAAIAAtAIQBIgNBAWo6AIQBAkAgA0H/AUcNACAAIAAtAIMBIgNBAWo6AIMBIANB/wFHDQAgACAALQCCASIDQQFqOgCCASADQf8BRw0AIAAgAC0AgQEiA0EBajoAgQEgA0H/AUcNACAAIAAtAIABQQFqOgCAAQsgAC0AhQEFIAMLIARqOgCFASAAIAAtAIQBIgMgAkEVdiIEQf8BcWpBgAJPBH8gACAALQCDASIDQQFqOgCDAQJAIANB/wFHDQAgACAALQCCASIDQQFqOgCCASADQf8BRw0AIAAgAC0AgQEiA0EBajoAgQEgA0H/AUcNACAAIAAtAIABQQFqOgCAAQsgAC0AhAEFIAMLIARqOgCEASAAIAJBHXYiBCAALQCDASIDakGAAk8EfyAAIAAtAIIBIgNBAWo6AIIBAkAgA0H/AUcNACAAIAAtAIEBIgNBAWo6AIEBIANB/wFHDQAgACAALQCAAUEBajoAgAELIAAtAIMBBSADCyAEajoAgwEgAgRAA0AgAC0AhgFBBXQgAC0AhwFBGHRBG3ZyIAJrQT9xIQMDQAJAIAAgA0F8cWoiBEEgaiAEKAIgIAEtAAAgA0EDdEF/c0EYcXRyNgIAIAJBAWshAiADQQFqIQQgAUEBaiEBIANBPksNACAEIQMgAg0BCwsgBEHAAEYEQCAFIAAoAiAiDTYCACAAQQA2AiAgBSAAKAIkNgIEIABBADYCJCAFIAAoAig2AgggAEEANgIoIAUgACgCLDYCDCAAQQA2AiwgBSAAKAIwNgIQIABBADYCMCAFIAAoAjQ2AhQgAEEANgI0IAUgACgCODYCGCAAQQA2AjggBSAAKAI8NgIcIABBADYCPCAFIAAoAkA2AiAgAEEANgJAIAUgACgCRDYCJCAAQQA2AkQgBSAAKAJINgIoIABBADYCSCAFIAAoAkw2AiwgAEEANgJMIAUgACgCUDYCMCAAQQA2AlAgBSAAKAJUNgI0IABBADYCVCAFIAAoAlg2AjggAEEANgJYIAUgACgCXDYCPCAAQQA2AlxBECEGIA0hBANAIAUgBkECdGoiAyAEIANBHGsoAgAgA0E8aygCACIEQRl3IARBDndzIARBA3ZzamogA0EIaygCACIDQQ93IANBDXdzIANBCnZzajYCACAGQQFqIgZBwABHDQALQQAhBiAAKAJ8Ig8hCiAAKAJ4IhAhCyAAKAJ0IhEhDCAAKAJwIhIhAyAAKAJsIhMhCCAAKAJoIhQhBCAAKAJkIhUhCSAAKAJgIhYhBwNAIAZBAnRBgBRqKAIAIAMgDHEgA0EadyADQRV3cyADQQd3c2ogCmogCyADQX9zcWpqIA1qIgogBCAJcyAHcSAEIAlxcyAHQR53IAdBE3dzIAdBCndzamohDiAIIApqIQggBkEBaiIGQcAARkUEQCAFIAZBAnRqKAIAIQ0gCyEKIAwhCyADIQwgCCEDIAQhCCAJIQQgByEJIA4hBwwBCwsgACALIA9qNgJ8IAAgDCAQajYCeCAAIAMgEWo2AnQgACAIIBJqNgJwIAAgBCATajYCbCAAIAkgFGo2AmggACAHIBVqNgJkIAAgDiAWajYCYAsgAg0ACwsgBUGAAmokAAtSAQJ/QeQdKAIAIgEgAEEDakF8cSICaiEAAkAgAkEBTkEAIAAgAU0bDQA/AEEQdCAASQRAIAAQAUUNAQtB5B0gADYCACABDwtB6B1BMDYCAEF/C28BAX8jAEGAAmsiBSQAAkAgAiADTA0AIARBgMAEcQ0AIAUgAUH/AXEgAiADayICQYACIAJBgAJJIgEbEAQaIAFFBEADQCAAIAVBgAIQDCACQYACayICQf8BSw0ACwsgACAFIAIQDAsgBUGAAmokAAv+AwECfyACQYAETwRAIAAgASACEAAaDwsgACACaiEDAkAgACABc0EDcUUEQAJAIAJBAUgEQCAAIQIMAQsgAEEDcUUEQCAAIQIMAQsgACECA0AgAiABLQAAOgAAIAFBAWohASACQQFqIgIgA08NASACQQNxDQALCwJAIANBfHEiAEHAAEkNACACIABBQGoiBEsNAANAIAIgASgCADYCACACIAEoAgQ2AgQgAiABKAIINgIIIAIgASgCDDYCDCACIAEoAhA2AhAgAiABKAIUNgIUIAIgASgCGDYCGCACIAEoAhw2AhwgAiABKAIgNgIgIAIgASgCJDYCJCACIAEoAig2AiggAiABKAIsNgIsIAIgASgCMDYCMCACIAEoAjQ2AjQgAiABKAI4NgI4IAIgASgCPDYCPCABQUBrIQEgAkFAayICIARNDQALCyAAIAJNDQEDQCACIAEoAgA2AgAgAUEEaiEBIAJBBGoiAiAASQ0ACwwBCyADQQRJBEAgACECDAELIAAgA0EEayIESwRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAiABLQABOgABIAIgAS0AAjoAAiACIAEtAAM6AAMgAUEEaiEBIAJBBGoiAiAETQ0ACwsgAiADSQRAA0AgAiABLQAAOgAAIAFBAWohASACQQFqIgIgA0cNAAsLC6cMAQd/AkAgAEUNACAAQQhrIgMgAEEEaygCACIBQXhxIgBqIQUCQCABQQFxDQAgAUEDcUUNASADIAMoAgAiAWsiA0G8HigCAEkNASAAIAFqIQAgA0HAHigCAEcEQCABQf8BTQRAIAMoAggiAiABQQN2IgRBA3RB1B5qRhogAiADKAIMIgFGBEBBrB5BrB4oAgBBfiAEd3E2AgAMAwsgAiABNgIMIAEgAjYCCAwCCyADKAIYIQYCQCADIAMoAgwiAUcEQCADKAIIIgIgATYCDCABIAI2AggMAQsCQCADQRRqIgIoAgAiBA0AIANBEGoiAigCACIEDQBBACEBDAELA0AgAiEHIAQiAUEUaiICKAIAIgQNACABQRBqIQIgASgCECIEDQALIAdBADYCAAsgBkUNAQJAIAMgAygCHCICQQJ0QdwgaiIEKAIARgRAIAQgATYCACABDQFBsB5BsB4oAgBBfiACd3E2AgAMAwsgBkEQQRQgBigCECADRhtqIAE2AgAgAUUNAgsgASAGNgIYIAMoAhAiAgRAIAEgAjYCECACIAE2AhgLIAMoAhQiAkUNASABIAI2AhQgAiABNgIYDAELIAUoAgQiAUEDcUEDRw0AQbQeIAA2AgAgBSABQX5xNgIEIAMgAEEBcjYCBCAAIANqIAA2AgAPCyADIAVPDQAgBSgCBCIBQQFxRQ0AAkAgAUECcUUEQCAFQcQeKAIARgRAQcQeIAM2AgBBuB5BuB4oAgAgAGoiADYCACADIABBAXI2AgQgA0HAHigCAEcNA0G0HkEANgIAQcAeQQA2AgAPCyAFQcAeKAIARgRAQcAeIAM2AgBBtB5BtB4oAgAgAGoiADYCACADIABBAXI2AgQgACADaiAANgIADwsgAUF4cSAAaiEAAkAgAUH/AU0EQCAFKAIIIgIgAUEDdiIEQQN0QdQeakYaIAIgBSgCDCIBRgRAQaweQaweKAIAQX4gBHdxNgIADAILIAIgATYCDCABIAI2AggMAQsgBSgCGCEGAkAgBSAFKAIMIgFHBEAgBSgCCCICQbweKAIASRogAiABNgIMIAEgAjYCCAwBCwJAIAVBFGoiAigCACIEDQAgBUEQaiICKAIAIgQNAEEAIQEMAQsDQCACIQcgBCIBQRRqIgIoAgAiBA0AIAFBEGohAiABKAIQIgQNAAsgB0EANgIACyAGRQ0AAkAgBSAFKAIcIgJBAnRB3CBqIgQoAgBGBEAgBCABNgIAIAENAUGwHkGwHigCAEF+IAJ3cTYCAAwCCyAGQRBBFCAGKAIQIAVGG2ogATYCACABRQ0BCyABIAY2AhggBSgCECICBEAgASACNgIQIAIgATYCGAsgBSgCFCICRQ0AIAEgAjYCFCACIAE2AhgLIAMgAEEBcjYCBCAAIANqIAA2AgAgA0HAHigCAEcNAUG0HiAANgIADwsgBSABQX5xNgIEIAMgAEEBcjYCBCAAIANqIAA2AgALIABB/wFNBEAgAEEDdiIBQQN0QdQeaiEAAn9BrB4oAgAiAkEBIAF0IgFxRQRAQaweIAEgAnI2AgAgAAwBCyAAKAIICyECIAAgAzYCCCACIAM2AgwgAyAANgIMIAMgAjYCCA8LQR8hAiADQgA3AhAgAEH///8HTQRAIABBCHYiASABQYD+P2pBEHZBCHEiAXQiAiACQYDgH2pBEHZBBHEiAnQiBCAEQYCAD2pBEHZBAnEiBHRBD3YgASACciAEcmsiAUEBdCAAIAFBFWp2QQFxckEcaiECCyADIAI2AhwgAkECdEHcIGohAQJAAkACQEGwHigCACIEQQEgAnQiB3FFBEBBsB4gBCAHcjYCACABIAM2AgAgAyABNgIYDAELIABBAEEZIAJBAXZrIAJBH0YbdCECIAEoAgAhAQNAIAEiBCgCBEF4cSAARg0CIAJBHXYhASACQQF0IQIgBCABQQRxaiIHQRBqKAIAIgENAAsgByADNgIQIAMgBDYCGAsgAyADNgIMIAMgAzYCCAwBCyAEKAIIIgAgAzYCDCAEIAM2AgggA0EANgIYIAMgBDYCDCADIAA2AggLQcweQcweKAIAQQFrIgBBfyAAGzYCAAsLly0BDH8jAEEQayIMJAACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEH0AU0EQEGsHigCACIFQRAgAEELakF4cSAAQQtJGyIIQQN2IgJ2IgFBA3EEQCABQX9zQQFxIAJqIgNBA3QiAUHcHmooAgAiBEEIaiEAAkAgBCgCCCICIAFB1B5qIgFGBEBBrB4gBUF+IAN3cTYCAAwBCyACIAE2AgwgASACNgIICyAEIANBA3QiAUEDcjYCBCABIARqIgEgASgCBEEBcjYCBAwNCyAIQbQeKAIAIgpNDQEgAQRAAkBBAiACdCIAQQAgAGtyIAEgAnRxIgBBACAAa3FBAWsiACAAQQx2QRBxIgJ2IgFBBXZBCHEiACACciABIAB2IgFBAnZBBHEiAHIgASAAdiIBQQF2QQJxIgByIAEgAHYiAUEBdkEBcSIAciABIAB2aiIDQQN0IgBB3B5qKAIAIgQoAggiASAAQdQeaiIARgRAQaweIAVBfiADd3EiBTYCAAwBCyABIAA2AgwgACABNgIICyAEQQhqIQAgBCAIQQNyNgIEIAQgCGoiAiADQQN0IgEgCGsiA0EBcjYCBCABIARqIAM2AgAgCgRAIApBA3YiAUEDdEHUHmohB0HAHigCACEEAn8gBUEBIAF0IgFxRQRAQaweIAEgBXI2AgAgBwwBCyAHKAIICyEBIAcgBDYCCCABIAQ2AgwgBCAHNgIMIAQgATYCCAtBwB4gAjYCAEG0HiADNgIADA0LQbAeKAIAIgZFDQEgBkEAIAZrcUEBayIAIABBDHZBEHEiAnYiAUEFdkEIcSIAIAJyIAEgAHYiAUECdkEEcSIAciABIAB2IgFBAXZBAnEiAHIgASAAdiIBQQF2QQFxIgByIAEgAHZqQQJ0QdwgaigCACIBKAIEQXhxIAhrIQMgASECA0ACQCACKAIQIgBFBEAgAigCFCIARQ0BCyAAKAIEQXhxIAhrIgIgAyACIANJIgIbIQMgACABIAIbIQEgACECDAELCyABIAhqIgkgAU0NAiABKAIYIQsgASABKAIMIgRHBEAgASgCCCIAQbweKAIASRogACAENgIMIAQgADYCCAwMCyABQRRqIgIoAgAiAEUEQCABKAIQIgBFDQQgAUEQaiECCwNAIAIhByAAIgRBFGoiAigCACIADQAgBEEQaiECIAQoAhAiAA0ACyAHQQA2AgAMCwtBfyEIIABBv39LDQAgAEELaiIAQXhxIQhBsB4oAgAiCUUNAEEfIQVBACAIayEDAkACQAJAAn8gCEH///8HTQRAIABBCHYiACAAQYD+P2pBEHZBCHEiAnQiACAAQYDgH2pBEHZBBHEiAXQiACAAQYCAD2pBEHZBAnEiAHRBD3YgASACciAAcmsiAEEBdCAIIABBFWp2QQFxckEcaiEFCyAFQQJ0QdwgaigCACICRQsEQEEAIQAMAQtBACEAIAhBAEEZIAVBAXZrIAVBH0YbdCEBA0ACQCACKAIEQXhxIAhrIgcgA08NACACIQQgByIDDQBBACEDIAIhAAwDCyAAIAIoAhQiByAHIAIgAUEddkEEcWooAhAiAkYbIAAgBxshACABQQF0IQEgAg0ACwsgACAEckUEQEECIAV0IgBBACAAa3IgCXEiAEUNAyAAQQAgAGtxQQFrIgAgAEEMdkEQcSICdiIBQQV2QQhxIgAgAnIgASAAdiIBQQJ2QQRxIgByIAEgAHYiAUEBdkECcSIAciABIAB2IgFBAXZBAXEiAHIgASAAdmpBAnRB3CBqKAIAIQALIABFDQELA0AgACgCBEF4cSAIayIBIANJIQIgASADIAIbIQMgACAEIAIbIQQgACgCECIBBH8gAQUgACgCFAsiAA0ACwsgBEUNACADQbQeKAIAIAhrTw0AIAQgCGoiBiAETQ0BIAQoAhghBSAEIAQoAgwiAUcEQCAEKAIIIgBBvB4oAgBJGiAAIAE2AgwgASAANgIIDAoLIARBFGoiAigCACIARQRAIAQoAhAiAEUNBCAEQRBqIQILA0AgAiEHIAAiAUEUaiICKAIAIgANACABQRBqIQIgASgCECIADQALIAdBADYCAAwJCyAIQbQeKAIAIgJNBEBBwB4oAgAhAwJAIAIgCGsiAUEQTwRAQbQeIAE2AgBBwB4gAyAIaiIANgIAIAAgAUEBcjYCBCACIANqIAE2AgAgAyAIQQNyNgIEDAELQcAeQQA2AgBBtB5BADYCACADIAJBA3I2AgQgAiADaiIAIAAoAgRBAXI2AgQLIANBCGohAAwLCyAIQbgeKAIAIgZJBEBBuB4gBiAIayIBNgIAQcQeQcQeKAIAIgIgCGoiADYCACAAIAFBAXI2AgQgAiAIQQNyNgIEIAJBCGohAAwLC0EAIQAgCEEvaiIJAn9BhCIoAgAEQEGMIigCAAwBC0GQIkJ/NwIAQYgiQoCggICAgAQ3AgBBhCIgDEEMakFwcUHYqtWqBXM2AgBBmCJBADYCAEHoIUEANgIAQYAgCyIBaiIFQQAgAWsiB3EiAiAITQ0KQeQhKAIAIgQEQEHcISgCACIDIAJqIgEgA00NCyABIARLDQsLQeghLQAAQQRxDQUCQAJAQcQeKAIAIgMEQEHsISEAA0AgAyAAKAIAIgFPBEAgASAAKAIEaiADSw0DCyAAKAIIIgANAAsLQQAQByIBQX9GDQYgAiEFQYgiKAIAIgNBAWsiACABcQRAIAIgAWsgACABakEAIANrcWohBQsgBSAITQ0GIAVB/v///wdLDQZB5CEoAgAiBARAQdwhKAIAIgMgBWoiACADTQ0HIAAgBEsNBwsgBRAHIgAgAUcNAQwICyAFIAZrIAdxIgVB/v///wdLDQUgBRAHIgEgACgCACAAKAIEakYNBCABIQALAkAgCEEwaiAFTQ0AIABBf0YNAEGMIigCACIBIAkgBWtqQQAgAWtxIgFB/v///wdLBEAgACEBDAgLIAEQB0F/RwRAIAEgBWohBSAAIQEMCAtBACAFaxAHGgwFCyAAIgFBf0cNBgwECwALQQAhBAwHC0EAIQEMBQsgAUF/Rw0CC0HoIUHoISgCAEEEcjYCAAsgAkH+////B0sNASACEAciAUEAEAciAE8NASABQX9GDQEgAEF/Rg0BIAAgAWsiBSAIQShqTQ0BC0HcIUHcISgCACAFaiIANgIAQeAhKAIAIABJBEBB4CEgADYCAAsCQAJAAkBBxB4oAgAiBwRAQewhIQADQCABIAAoAgAiAyAAKAIEIgJqRg0CIAAoAggiAA0ACwwCC0G8HigCACIAQQAgACABTRtFBEBBvB4gATYCAAtBACEAQfAhIAU2AgBB7CEgATYCAEHMHkF/NgIAQdAeQYQiKAIANgIAQfghQQA2AgADQCAAQQN0IgNB3B5qIANB1B5qIgI2AgAgA0HgHmogAjYCACAAQQFqIgBBIEcNAAtBuB4gBUEoayIDQXggAWtBB3FBACABQQhqQQdxGyIAayICNgIAQcQeIAAgAWoiADYCACAAIAJBAXI2AgQgASADakEoNgIEQcgeQZQiKAIANgIADAILIAEgB00NACADIAdLDQAgACgCDEEIcQ0AIAAgAiAFajYCBEHEHiAHQXggB2tBB3FBACAHQQhqQQdxGyIAaiICNgIAQbgeQbgeKAIAIAVqIgEgAGsiADYCACACIABBAXI2AgQgASAHakEoNgIEQcgeQZQiKAIANgIADAELQbweKAIAIAFLBEBBvB4gATYCAAsgASAFaiECQewhIQACQAJAAkACQAJAAkADQCACIAAoAgBHBEAgACgCCCIADQEMAgsLIAAtAAxBCHFFDQELQewhIQADQCAHIAAoAgAiAk8EQCACIAAoAgRqIgQgB0sNAwsgACgCCCEADAALAAsgACABNgIAIAAgACgCBCAFajYCBCABQXggAWtBB3FBACABQQhqQQdxG2oiCSAIQQNyNgIEIAJBeCACa0EHcUEAIAJBCGpBB3EbaiIFIAlrIAhrIQIgCCAJaiEGIAUgB0YEQEHEHiAGNgIAQbgeQbgeKAIAIAJqIgA2AgAgBiAAQQFyNgIEDAMLIAVBwB4oAgBGBEBBwB4gBjYCAEG0HkG0HigCACACaiIANgIAIAYgAEEBcjYCBCAAIAZqIAA2AgAMAwsgBSgCBCIAQQNxQQFGBEAgAEF4cSEHAkAgAEH/AU0EQCAFKAIIIgMgAEEDdiIAQQN0QdQeakYaIAMgBSgCDCIBRgRAQaweQaweKAIAQX4gAHdxNgIADAILIAMgATYCDCABIAM2AggMAQsgBSgCGCEIAkAgBSAFKAIMIgFHBEAgBSgCCCIAIAE2AgwgASAANgIIDAELAkAgBUEUaiIAKAIAIgMNACAFQRBqIgAoAgAiAw0AQQAhAQwBCwNAIAAhBCADIgFBFGoiACgCACIDDQAgAUEQaiEAIAEoAhAiAw0ACyAEQQA2AgALIAhFDQACQCAFIAUoAhwiA0ECdEHcIGoiACgCAEYEQCAAIAE2AgAgAQ0BQbAeQbAeKAIAQX4gA3dxNgIADAILIAhBEEEUIAgoAhAgBUYbaiABNgIAIAFFDQELIAEgCDYCGCAFKAIQIgAEQCABIAA2AhAgACABNgIYCyAFKAIUIgBFDQAgASAANgIUIAAgATYCGAsgBSAHaiEFIAIgB2ohAgsgBSAFKAIEQX5xNgIEIAYgAkEBcjYCBCACIAZqIAI2AgAgAkH/AU0EQCACQQN2IgBBA3RB1B5qIQICf0GsHigCACIBQQEgAHQiAHFFBEBBrB4gACABcjYCACACDAELIAIoAggLIQAgAiAGNgIIIAAgBjYCDCAGIAI2AgwgBiAANgIIDAMLQR8hACACQf///wdNBEAgAkEIdiIAIABBgP4/akEQdkEIcSIDdCIAIABBgOAfakEQdkEEcSIBdCIAIABBgIAPakEQdkECcSIAdEEPdiABIANyIAByayIAQQF0IAIgAEEVanZBAXFyQRxqIQALIAYgADYCHCAGQgA3AhAgAEECdEHcIGohBAJAQbAeKAIAIgNBASAAdCIBcUUEQEGwHiABIANyNgIAIAQgBjYCACAGIAQ2AhgMAQsgAkEAQRkgAEEBdmsgAEEfRht0IQAgBCgCACEBA0AgASIDKAIEQXhxIAJGDQMgAEEddiEBIABBAXQhACADIAFBBHFqIgQoAhAiAQ0ACyAEIAY2AhAgBiADNgIYCyAGIAY2AgwgBiAGNgIIDAILQbgeIAVBKGsiA0F4IAFrQQdxQQAgAUEIakEHcRsiAGsiAjYCAEHEHiAAIAFqIgA2AgAgACACQQFyNgIEIAEgA2pBKDYCBEHIHkGUIigCADYCACAHIARBJyAEa0EHcUEAIARBJ2tBB3EbakEvayIAIAAgB0EQakkbIgJBGzYCBCACQfQhKQIANwIQIAJB7CEpAgA3AghB9CEgAkEIajYCAEHwISAFNgIAQewhIAE2AgBB+CFBADYCACACQRhqIQADQCAAQQc2AgQgAEEIaiEBIABBBGohACABIARJDQALIAIgB0YNAyACIAIoAgRBfnE2AgQgByACIAdrIgRBAXI2AgQgAiAENgIAIARB/wFNBEAgBEEDdiIAQQN0QdQeaiECAn9BrB4oAgAiAUEBIAB0IgBxRQRAQaweIAAgAXI2AgAgAgwBCyACKAIICyEAIAIgBzYCCCAAIAc2AgwgByACNgIMIAcgADYCCAwEC0EfIQAgB0IANwIQIARB////B00EQCAEQQh2IgAgAEGA/j9qQRB2QQhxIgJ0IgAgAEGA4B9qQRB2QQRxIgF0IgAgAEGAgA9qQRB2QQJxIgB0QQ92IAEgAnIgAHJrIgBBAXQgBCAAQRVqdkEBcXJBHGohAAsgByAANgIcIABBAnRB3CBqIQMCQEGwHigCACICQQEgAHQiAXFFBEBBsB4gASACcjYCACADIAc2AgAgByADNgIYDAELIARBAEEZIABBAXZrIABBH0YbdCEAIAMoAgAhAQNAIAEiAigCBEF4cSAERg0EIABBHXYhASAAQQF0IQAgAiABQQRxaiIDKAIQIgENAAsgAyAHNgIQIAcgAjYCGAsgByAHNgIMIAcgBzYCCAwDCyADKAIIIgAgBjYCDCADIAY2AgggBkEANgIYIAYgAzYCDCAGIAA2AggLIAlBCGohAAwFCyACKAIIIgAgBzYCDCACIAc2AgggB0EANgIYIAcgAjYCDCAHIAA2AggLQbgeKAIAIgAgCE0NAEG4HiAAIAhrIgE2AgBBxB5BxB4oAgAiAiAIaiIANgIAIAAgAUEBcjYCBCACIAhBA3I2AgQgAkEIaiEADAMLQegdQTA2AgBBACEADAILAkAgBUUNAAJAIAQoAhwiAkECdEHcIGoiACgCACAERgRAIAAgATYCACABDQFBsB4gCUF+IAJ3cSIJNgIADAILIAVBEEEUIAUoAhAgBEYbaiABNgIAIAFFDQELIAEgBTYCGCAEKAIQIgAEQCABIAA2AhAgACABNgIYCyAEKAIUIgBFDQAgASAANgIUIAAgATYCGAsCQCADQQ9NBEAgBCADIAhqIgBBA3I2AgQgACAEaiIAIAAoAgRBAXI2AgQMAQsgBCAIQQNyNgIEIAYgA0EBcjYCBCADIAZqIAM2AgAgA0H/AU0EQCADQQN2IgBBA3RB1B5qIQICf0GsHigCACIBQQEgAHQiAHFFBEBBrB4gACABcjYCACACDAELIAIoAggLIQAgAiAGNgIIIAAgBjYCDCAGIAI2AgwgBiAANgIIDAELQR8hACADQf///wdNBEAgA0EIdiIAIABBgP4/akEQdkEIcSICdCIAIABBgOAfakEQdkEEcSIBdCIAIABBgIAPakEQdkECcSIAdEEPdiABIAJyIAByayIAQQF0IAMgAEEVanZBAXFyQRxqIQALIAYgADYCHCAGQgA3AhAgAEECdEHcIGohAgJAAkAgCUEBIAB0IgFxRQRAQbAeIAEgCXI2AgAgAiAGNgIAIAYgAjYCGAwBCyADQQBBGSAAQQF2ayAAQR9GG3QhACACKAIAIQgDQCAIIgEoAgRBeHEgA0YNAiAAQR12IQIgAEEBdCEAIAEgAkEEcWoiAigCECIIDQALIAIgBjYCECAGIAE2AhgLIAYgBjYCDCAGIAY2AggMAQsgASgCCCIAIAY2AgwgASAGNgIIIAZBADYCGCAGIAE2AgwgBiAANgIICyAEQQhqIQAMAQsCQCALRQ0AAkAgASgCHCICQQJ0QdwgaiIAKAIAIAFGBEAgACAENgIAIAQNAUGwHiAGQX4gAndxNgIADAILIAtBEEEUIAsoAhAgAUYbaiAENgIAIARFDQELIAQgCzYCGCABKAIQIgAEQCAEIAA2AhAgACAENgIYCyABKAIUIgBFDQAgBCAANgIUIAAgBDYCGAsCQCADQQ9NBEAgASADIAhqIgBBA3I2AgQgACABaiIAIAAoAgRBAXI2AgQMAQsgASAIQQNyNgIEIAkgA0EBcjYCBCADIAlqIAM2AgAgCgRAIApBA3YiAEEDdEHUHmohBEHAHigCACECAn9BASAAdCIAIAVxRQRAQaweIAAgBXI2AgAgBAwBCyAEKAIICyEAIAQgAjYCCCAAIAI2AgwgAiAENgIMIAIgADYCCAtBwB4gCTYCAEG0HiADNgIACyABQQhqIQALIAxBEGokACAACxYAIAAtAABBIHFFBEAgASACIAAQHwsLVgEBfyMAQfABayIFJAAgBUEIaiACIAMQMCAFQQhqIAAgARAvIAQgBSkDIDcAGCAEIAUpAxg3ABAgBCAFKQMQNwAIIAQgBSkDCDcAACAFQfABaiQAQQALwgIBAX9BfyEDAkAgAEUNACABQQFIDQAgAkUNAAJAIAFBA04EQANAIAIgAC0AAEECdkGwE2otAAA6AAAgAiAALQAAQQR0QTBxIAAtAAFBBHZyQbATai0AADoAASACIAAtAAFBAnRBPHEgAC0AAkEGdnJBsBNqLQAAOgACIAIgAC0AAkE/cUGwE2otAAA6AAMgASIDQQNrIQEgAEEDaiEAIAJBBGohAiADQQVKDQALIANBBEgNAQsgAiAALQAAQQJ2QbATai0AADoAACAALQAAQQR0QTBxIQMCfyABQQFGBEAgAiADQbATai0AADoAAUE9DAELIAIgAC0AAUEEdiADckGwE2otAAA6AAEgAC0AAUECdEE8cUGwE2otAAALIQAgAkE9OgADIAIgADoAAiACQQRqIQILQQAhAyACQQA6AAALIAML1gMBAX8jAEGQAmsiAiQAIAAgAkGAAmoQFyACIAItAIACNgLwASABQfETIAJB8AFqEAIgAiACLQCBAjYC4AEgAUECakHxEyACQeABahACIAIgAi0AggI2AtABIAFBBGpB8RMgAkHQAWoQAiACIAItAIMCNgLAASABQQZqQfETIAJBwAFqEAIgAiACLQCEAjYCsAEgAUEIakHxEyACQbABahACIAIgAi0AhQI2AqABIAFBCmpB8RMgAkGgAWoQAiACIAItAIYCNgKQASABQQxqQfETIAJBkAFqEAIgAiACLQCHAjYCgAEgAUEOakHxEyACQYABahACIAIgAi0AiAI2AnAgAUEQakHxEyACQfAAahACIAIgAi0AiQI2AmAgAUESakHxEyACQeAAahACIAIgAi0AigI2AlAgAUEUakHxEyACQdAAahACIAIgAi0AiwI2AkAgAUEWakHxEyACQUBrEAIgAiACLQCMAjYCMCABQRhqQfETIAJBMGoQAiACIAItAI0CNgIgIAFBGmpB8RMgAkEgahACIAIgAi0AjgI2AhAgAUEcakHxEyACQRBqEAIgAiACLQCPAjYCACABQR5qQfETIAIQAiABQQA6ACAgAkGQAmokAEEAC5ERAg9/AX4jAEHQAGsiBSQAIAUgATYCTCAFQTdqIRMgBUE4aiERQQAhAQJAA0ACQCAOQQBIDQBB/////wcgDmsgAUgEQEHoHUE9NgIAQX8hDgwBCyABIA5qIQ4LIAUoAkwiCiEBAkACQAJAIAotAAAiBgRAA0ACQAJAIAZB/wFxIgZFBEAgASEGDAELIAZBJUcNASABIQYDQCABLQABQSVHDQEgBSABQQJqIgg2AkwgBkEBaiEGIAEtAAIhCSAIIQEgCUElRg0ACwsgBiAKayEBIAAEQCAAIAogARAMCyABDQYgBSgCTCEBIAUCfwJAIAUoAkwsAAFBMGtBCk8NACABLQACQSRHDQAgASwAAUEwayEQQQEhEiABQQNqDAELQX8hECABQQFqCyIBNgJMQQAhDwJAIAEsAAAiC0EgayIIQR9LBEAgASEGDAELIAEhBkEBIAh0IglBidEEcUUNAANAIAUgAUEBaiIGNgJMIAkgD3IhDyABLAABIgtBIGsiCEEgTw0BIAYhAUEBIAh0IglBidEEcQ0ACwsCQCALQSpGBEAgBQJ/AkAgBiwAAUEwa0EKTw0AIAUoAkwiAS0AAkEkRw0AIAEsAAFBAnQgBGpBwAFrQQo2AgAgASwAAUEDdCADakGAA2soAgAhDEEBIRIgAUEDagwBCyASDQZBACESQQAhDCAABEAgAiACKAIAIgFBBGo2AgAgASgCACEMCyAFKAJMQQFqCyIBNgJMIAxBf0oNAUEAIAxrIQwgD0GAwAByIQ8MAQsgBUHMAGoQFCIMQQBIDQQgBSgCTCEBC0F/IQcCQCABLQAAQS5HDQAgAS0AAUEqRgRAAkAgASwAAkEwa0EKTw0AIAUoAkwiAS0AA0EkRw0AIAEsAAJBAnQgBGpBwAFrQQo2AgAgASwAAkEDdCADakGAA2soAgAhByAFIAFBBGoiATYCTAwCCyASDQUgAAR/IAIgAigCACIBQQRqNgIAIAEoAgAFQQALIQcgBSAFKAJMQQJqIgE2AkwMAQsgBSABQQFqNgJMIAVBzABqEBQhByAFKAJMIQELQQAhBgNAIAYhCUF/IQ0gASwAAEHBAGtBOUsNCCAFIAFBAWoiCzYCTCABLAAAIQYgCyEBIAYgCUE6bGpB7xZqLQAAIgZBAWtBCEkNAAsCQAJAIAZBE0cEQCAGRQ0KIBBBAE4EQCAEIBBBAnRqIAY2AgAgBSADIBBBA3RqKQMANwNADAILIABFDQggBUFAayAGIAIQEyAFKAJMIQsMAgsgEEF/Sg0JC0EAIQEgAEUNBwsgD0H//3txIgggDyAPQYDAAHEbIQZBACENQZgXIRAgESEPAkACQAJAAn8CQAJAAkACQAJ/AkACQAJAAkACQAJAAkAgC0EBaywAACIBQV9xIAEgAUEPcUEDRhsgASAJGyIBQdgAaw4hBBQUFBQUFBQUDhQPBg4ODhQGFBQUFAIFAxQUCRQBFBQEAAsCQCABQcEAaw4HDhQLFA4ODgALIAFB0wBGDQkMEwsgBSkDQCEUQZgXDAULQQAhAQJAAkACQAJAAkACQAJAIAlB/wFxDggAAQIDBBoFBhoLIAUoAkAgDjYCAAwZCyAFKAJAIA42AgAMGAsgBSgCQCAOrDcDAAwXCyAFKAJAIA47AQAMFgsgBSgCQCAOOgAADBULIAUoAkAgDjYCAAwUCyAFKAJAIA6sNwMADBMLIAdBCCAHQQhLGyEHIAZBCHIhBkH4ACEBCyAFKQNAIBEgAUEgcRAkIQogBkEIcUUNAyAFKQNAUA0DIAFBBHZBmBdqIRBBAiENDAMLIAUpA0AgERAjIQogBkEIcUUNAiAHIBEgCmsiAUEBaiABIAdIGyEHDAILIAUpA0AiFEJ/VwRAIAVCACAUfSIUNwNAQQEhDUGYFwwBCyAGQYAQcQRAQQEhDUGZFwwBC0GaF0GYFyAGQQFxIg0bCyEQIBQgERAiIQoLIAZB//97cSAGIAdBf0obIQYgBSkDQCEUAkAgBw0AIBRQRQ0AQQAhByARIQoMDAsgByAUUCARIApraiIBIAEgB0gbIQcMCwsgBSgCQCIBQaIXIAEbIgogBxAoIgEgByAKaiABGyEPIAghBiABIAprIAcgARshBwwKCyAHBEAgBSgCQAwCC0EAIQEgAEEgIAxBACAGEAgMAgsgBUEANgIMIAUgBSkDQD4CCCAFIAVBCGo2AkBBfyEHIAVBCGoLIQlBACEBAkADQCAJKAIAIghFDQECQCAFQQRqIAgQFSIKQQBIIggNACAKIAcgAWtLDQAgCUEEaiEJIAcgASAKaiIBSw0BDAILC0F/IQ0gCA0LCyAAQSAgDCABIAYQCCABRQRAQQAhAQwBC0EAIQkgBSgCQCELA0AgCygCACIIRQ0BIAVBBGogCBAVIgggCWoiCSABSg0BIAAgBUEEaiAIEAwgC0EEaiELIAEgCUsNAAsLIABBICAMIAEgBkGAwABzEAggDCABIAEgDEgbIQEMCAsgACAFKwNAIAwgByAGIAFBABEPACEBDAcLIAUgBSkDQDwAN0EBIQcgEyEKIAghBgwECyAFIAFBAWoiCDYCTCABLQABIQYgCCEBDAALAAsgDiENIAANBCASRQ0CQQEhAQNAIAQgAUECdGooAgAiAARAIAMgAUEDdGogACACEBNBASENIAFBAWoiAUEKRw0BDAYLC0EBIQ0gAUEKTw0EA0AgBCABQQJ0aigCAA0BIAFBAWoiAUEKRw0ACwwEC0F/IQ0MAwsgAEEgIA0gDyAKayIJIAcgByAJSBsiCGoiCyAMIAsgDEobIgEgCyAGEAggACAQIA0QDCAAQTAgASALIAZBgIAEcxAIIABBMCAIIAlBABAIIAAgCiAJEAwgAEEgIAEgCyAGQYDAAHMQCAwBCwtBACENCyAFQdAAaiQAIA0LkxEBF38jAEFAaiEFIAAoAgwhDCAAKAIIIQsgACgCBCEKIAAoAgAhAgNAIAUgA0ECdGogASAEai0AACABIARBAXJqLQAAQQh0ciABIARBAnJqLQAAQRB0ciABIARBA3JqLQAAQRh0cjYCACAEQQRqIQQgA0EBaiIDQRBHDQALIAAgAiAFKAIQIg0gBSgCICIHIAUoAjAiDiAFKAIAIgggBSgCJCIPIAUoAjQiECAFKAIEIhEgBSgCFCISIBAgDyASIBEgDiAHIA0gCCACIAogC3FqIAwgCkF/c3FqakGIt9XEAmtBB3cgCmoiAWogDCARaiALIAFBf3NxaiABIApxakGqkeG5AWtBDHcgAWoiAyAKIAUoAgwiE2ogASADIAsgBSgCCCIUaiAKIANBf3NxaiABIANxakHb4YGhAmpBEXdqIgRBf3NxaiADIARxakGS4ojyA2tBFncgBGoiAkF/c3FqIAIgBHFqQdHgj9QAa0EHdyACaiIBaiADIBJqIAQgAUF/c3FqIAEgAnFqQaqMn7wEakEMdyABaiIDIAUoAhwiFSACaiABIAMgBSgCGCIWIARqIAIgA0F/c3FqIAEgA3FqQe3zvr4Fa0ERd2oiBEF/c3FqIAMgBHFqQf/V5RVrQRZ3IARqIgFBf3NxaiABIARxakHYsYLMBmpBB3cgAWoiAmogAyAPaiAEIAJBf3NxaiABIAJxakHRkOylB2tBDHcgAmoiAyAFKAIsIhcgAWogAiADIAUoAigiGCAEaiABIANBf3NxaiACIANxakHPyAJrQRF3aiIBQX9zcWogASADcWpBwtCMtQdrQRZ3IAFqIgRBf3NxaiABIARxakGiosDcBmpBB3cgBGoiAmogBSgCOCIJIAFqIAQgAyAQaiABIAJBf3NxaiACIARxakHtnJ4Ta0EMdyACaiIGQX9zIgFxaiACIAZxakHy+JrMBWtBEXcgBmoiAyABcWogBCAFKAI8IgRqIAIgA0F/cyIBcWogAyAGcWpBoZDQzQRqQRZ3IANqIgUgBnFqQZ61h88Aa0EFdyAFaiICaiADIBdqIAIgBUF/c3FqIAYgFmogASAFcWogAiADcWpBwJn9/QNrQQl3IAJqIgYgBXFqQdG0+bICakEOdyAGaiIDIAZBf3NxaiAFIAhqIAYgAkF/c3FqIAIgA3FqQdbwpLIBa0EUdyADaiICIAZxakGj38POAmtBBXcgAmoiAWogAyAEaiABIAJBf3NxaiAGIBhqIAIgA0F/c3FqIAEgA3FqQdOokBJqQQl3IAFqIgYgAnFqQf+y+LoCa0EOdyAGaiIDIAZBf3NxaiACIA1qIAYgAUF/c3FqIAEgA3FqQbiIsMEBa0EUdyADaiICIAZxakHmm4ePAmpBBXcgAmoiAWogAyATaiABIAJBf3NxaiAGIAlqIAIgA0F/c3FqIAEgA3FqQarwo+YDa0EJdyABaiIGIAJxakH55KvZAGtBDncgBmoiAyAGQX9zcWogAiAHaiAGIAFBf3NxaiABIANxakHtqeiqBGpBFHcgA2oiAiAGcWpB+63wsAVrQQV3IAJqIgFqIAIgDmogBiAUaiACIANBf3NxaiABIANxakGIuMEYa0EJdyABaiIFIAFBf3NxaiADIBVqIAEgAkF/c3FqIAIgBXFqQdmFvLsGakEOdyAFaiIDIAFxakH25taWB2tBFHcgA2oiAiADcyIBIAVzakG+jRdrQQR3IAJqIgZqIAMgF2ogBSAHaiABIAZzakH/krjEB2tBC3cgBmoiByACIAZzc2pBosL17AZqQRB3IAdqIgMgB3MgAiAJaiAGIAdzIANzakH0j+sQa0EXdyADaiICc2pBvKuE2gVrQQR3IAJqIgFqIAMgFWogByANaiACIANzIAFzakGpn/veBGpBC3cgAWoiByABIAJzc2pBoOmSygBrQRB3IAdqIgMgB3MgAiAYaiABIAdzIANzakGQh4GKBGtBF3cgA2oiAnNqQcb97cQCakEEdyACaiIBaiADIBNqIAcgCGogAiADcyABc2pBhrD7qgFrQQt3IAFqIgggASACc3NqQfuew9gCa0EQdyAIaiIDIAhzIAIgFmogASAIcyADc2pBhbqgJGpBF3cgA2oiAnNqQcffrLECa0EEdyACaiIBaiACIBRqIAggDmogAiADcyABc2pBm8yRyQFrQQt3IAFqIgggAXMgAyAEaiABIAJzIAhzakH4+Yn9AWpBEHcgCGoiA3NqQZvTztoDa0EXdyADaiICIAhBf3NyIANzakG8u9veAGtBBncgAmoiAWogAiASaiADIAlqIAggFWogASADQX9zciACc2pBl/+rmQRqQQp3IAFqIgkgAkF/c3IgAXNqQdm4r6MFa0EPdyAJaiIDIAFBf3NyIAlzakHHv7Eba0EVdyADaiICIAlBf3NyIANzakHDs+2qBmpBBncgAmoiAWogAiARaiADIBhqIAkgE2ogASADQX9zciACc2pB7ubMhwdrQQp3IAFqIgkgAkF/c3IgAXNqQYOXwABrQQ93IAlqIgIgAUF/c3IgCXNqQa/E7tMHa0EVdyACaiIBIAlBf3NyIAJzakHP/KH9BmpBBncgAWoiA2ogASAQaiACIBZqIAQgCWogAyACQX9zciABc2pBoLLMDmtBCncgA2oiAiABQX9zciADc2pB7Pn65wVrQQ93IAJqIgEgA0F/c3IgAnNqQaGjoPAEakEVdyABaiIEIAJBf3NyIAFzakH+grLFAGtBBncgBGoiA2o2AgAgACACIBdqIAMgAUF/c3IgBHNqQcublJYEa0EKdyADaiICIAxqNgIMIAAgASAUaiACIARBf3NyIANzakG7pd/WAmpBD3cgAmoiASALajYCCCAAIAEgCmogBCAPaiABIANBf3NyIAJzakHv2OSjAWtBFXdqNgIECwMAAQu7AgACQCABQRRLDQACQAJAAkACQAJAAkACQAJAAkACQCABQQlrDgoAAQIDBAUGBwgJCgsgAiACKAIAIgFBBGo2AgAgACABKAIANgIADwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMADwsgAiACKAIAIgFBBGo2AgAgACABMgEANwMADwsgAiACKAIAIgFBBGo2AgAgACABMwEANwMADwsgAiACKAIAIgFBBGo2AgAgACABMAAANwMADwsgAiACKAIAIgFBBGo2AgAgACABMQAANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsgACACQQARBAALC0oBA38gACgCACwAAEEwa0EKSQRAA0AgACgCACIBLAAAIQMgACABQQFqNgIAIAMgAkEKbGpBMGshAiABLAABQTBrQQpJDQALCyACCxEAIABFBEBBAA8LIAAgARAnC40EAQd/IAAgACgCECIFIAJBA3RqIgQ2AhAgACAAKAIUIAQgBUlqIAJBHXZqNgIUQQAhBAJAQcAAIAVBA3ZBP3EiB2siBSACSw0AQcAAIAdrIglBA3EhBCAAIAdqQRhqIQYgB0E/c0EDTwRAIAlB/ABxIQkDQCADIAZqIAEgA2otAAA6AAAgBiADQQFyIghqIAEgCGotAAA6AAAgBiADQQJyIghqIAEgCGotAAA6AAAgBiADQQNyIghqIAEgCGotAAA6AAAgA0EEaiEDIAlBBGsiCQ0ACwsgBARAA0AgAyAGaiABIANqLQAAOgAAIANBAWohAyAEQQFrIgQNAAsLIAAgAEEYahARIAdB/wBzIQRBACEHIAIgBE0EQCAFIQQMAQsDQCAAIAEgBWoQESAFQf8AaiEDIAVBQGsiBCEFIAIgA0sNAAsLAkAgAiAEayIGRQ0AIAEgBGohASAAIAdqQRhqIQAgBkEDcSEFQQAhAyAEQX9zIAJqQQNPBEAgBkF8cSEEA0AgACADaiABIANqLQAAOgAAIAAgA0EBciICaiABIAJqLQAAOgAAIAAgA0ECciICaiABIAJqLQAAOgAAIAAgA0EDciICaiABIAJqLQAAOgAAIANBBGohAyAEQQRrIgQNAAsLIAVFDQADQCAAIANqIAEgA2otAAA6AAAgA0EBaiEDIAVBAWsiBQ0ACwsLmwIBA38jAEHgAGsiAiQAIAAQAyEDIAJCADcDECACQv6568XpjpWZEDcDCCACQoHGlLqW8ermbzcDACACIAAgAxAWIAIgAigCECIANgBYIAIgAigCFDYAXCACQcAbQThB+AAgAEEDdkE/cSIAQThJGyAAaxAWIAIgAigCFCACKAIQIgBBv39LajYCFCACIABBQGs2AhBBACEDIABBA3ZBP3EiAEE4TwRAIAJBGGoiBCAAaiACQdgAakHAACAAayIDEAkgAiAEEBFBACEAC0EIIANrIgQEQCAAIAJqQRhqIAJB2ABqIANqIAQQCQsgASACKAIANgAAIAEgAigCBDYABCABIAIoAgg2AAggASACKAIMNgAMIAJB4ABqJAAL4AQBCH8gACABLQAAOgAAIAAgAS0AAToAASAAIAEtAAI6AAIgACABLQADOgADIAAgAS0ABDoABCAAIAEtAAU6AAUgACABLQAGOgAGIAAgAS0ABzoAByAAIAEtAAg6AAggACABLQAJOgAJIAAgAS0ACjoACiAAIAEtAAs6AAsgACABLQAMOgAMIAAgAS0ADToADSAAIAEtAA46AA4gACABLQAPOgAPIAAgAS0AEDoAECAAIAEtABE6ABEgACABLQASOgASIAAgAS0AEzoAEyAAIAEtABQ6ABQgACABLQAVOgAVIAAgAS0AFjoAFiAAIAEtABc6ABcgACABLQAYOgAYIAAgAS0AGToAGSAAIAEtABo6ABogACABLQAbOgAbIAAgAS0AHDoAHCAAIAEtAB06AB0gACABLQAeOgAeIAAgAS0AHzoAH0EIIQIDQCACQQJ0IgcgAGoiAUEBay0AACEDIAFBAmstAAAhBCABQQNrLQAAIQUgAUEEay0AACEGAkACQAJAIAJBB3EOBQACAgIBAgsgBUGgD2ohCCADQaAPaiEJIARBoA9qLQAAIQUgBkGgD2otAAAhAyAJLQAAIQQgAkEDdkGgEWotAAAgCC0AAHMhBgwBCyADQaAPai0AACEDIARBoA9qLQAAIQQgBUGgD2otAAAhBSAGQaAPai0AACEGCyABIAFBIGstAAAgBnM6AAAgACAHQQFyaiABQR9rLQAAIAVzOgAAIAAgB0ECcmogAUEeay0AACAEczoAACAAIAdBA3JqIAFBHWstAAAgA3M6AAAgAkEBaiICQTxHDQALC/4BAQJ/IwBB0ARrIgUkACAFQgA3AMgEIAVCADcAwQQgBUIANwC5BCAFQgA3ALEEIAVCADcAqQQgBUHtDi0AADoAoAQgBUIANwChBCAFQd0OKQAANwOQBCAFQeUOKQAANwOYBCABEAMgAhADakHIAWoQCyEGIAUgADYCCCAFIAI2AgQgBSABNgIAIAZB7g4gBRACIAVBEGpBAEGABBAEGiAGEAMhAAJ/IAMtAAAEQCAGIAAgAyADEAMgBUEQahANDAELIAYgACAFQZAEaiAFQZAEahADIAVBEGoQDQshAyAGEAogA0UEQCAFQRBqQSAgBBAOIQMLIAVB0ARqJAAgAwulAQECfyMAQaAEayIHJAAgABADIAEQA2ogAhADaiADEANqIAQQA2pB0QFqEAshCCAHQfUNNgIUIAcgAzYCECAHIAQ2AgwgByACNgIIIAcgATYCBCAHIAA2AgAgCEH/DSAHEAIgB0EgakEAQYAEEAQaIAggCBADIAUgBRADIAdBIGoQDSEFIAgQCiAFRQRAIAdBIGpBICAGEA4hBQsgB0GgBGokACAFC40CAQJ/IwBB4ARrIgckACAHQgA3ANgEIAdCADcA0QQgB0IANwDJBCAHQYYNKQAANwOwBCAHQY4NKQAANwO4BCAHQZYNLQAAOgDABCAHQgA3AMEEIAdB9gwpAAA3A6AEIAdB/gwpAAA3A6gEIAAQAyABEANqIAIQA2ogAxADaiAEEANqIAUQA2pByAFqEAshCCAHIAU2AhQgByADNgIQIAcgBDYCDCAHIAI2AgggByABNgIEIAcgADYCACAIQZcNIAcQAiAHQSBqQQBBgAQQBBogCCAIEAMgB0GgBGogB0GgBGoQAyAHQSBqEA0hBSAIEAogBUUEQCAHQSBqQSAgBhAOIQULIAdB4ARqJAAgBQsQACMAIABrQXBxIgAkACAACwYAIAAkAAsEACMAC6cBAQN/AkAgASACKAIQIgQEfyAEBSACECANASACKAIQCyACKAIUIgVrSwRAIAIgACABIAIoAiQRAgAaDwsCQCACLABLQQBIDQAgASEEA0AgBCIDRQ0BIAAgA0EBayIEai0AAEEKRw0ACyACIAAgAyACKAIkEQIAIANJDQEgACADaiEAIAEgA2shASACKAIUIQULIAUgACABEAkgAiACKAIUIAFqNgIUCwtZAQF/IAAgAC0ASiIBQQFrIAFyOgBKIAAoAgAiAUEIcQRAIAAgAUEgcjYCAEF/DwsgAEIANwIEIAAgACgCLCIBNgIcIAAgATYCFCAAIAEgACgCMGo2AhBBAAvVAQEBfyMAQaAGayIIJAAgCEGgBGpBAEGAAhAEGiAGIAYQAyAIQaAEahA1IAAQAyABEANqIAIQA2ogAxADaiAEEANqIAUQA2pB4AFqEAshBiAIIAU2AhggCCAENgIUIAggAjYCECAIIAM2AgwgCEGoDDYCCCAIIAE2AgQgCCAANgIAIAZBwQwgCBACIAhBIGpBAEGABBAEGiAGIAYQAyAIQaAEaiAIQaAEahADIAhBIGoQDSEFIAYQCiAFRQRAIAhBIGpBICAHEA4hBQsgCEGgBmokACAFC4MBAgN/AX4CQCAAQoCAgIAQVARAIAAhBQwBCwNAIAFBAWsiASAAIABCCoAiBUIKfn2nQTByOgAAIABC/////58BViECIAUhACACDQALCyAFpyICBEADQCABQQFrIgEgAiACQQpuIgNBCmxrQTByOgAAIAJBCUshBCADIQIgBA0ACwsgAQstACAAUEUEQANAIAFBAWsiASAAp0EHcUEwcjoAACAAQgOIIgBCAFINAAsLIAELNAAgAFBFBEADQCABQQFrIgEgAKdBD3FBgBtqLQAAIAJyOgAAIABCBIgiAEIAUg0ACwsgAQvMCQEJfyMAQeASayIOJAAgDkHgEWpBAEGAARAEGgJAIAwtAAAEQCAOQeARaiAMEC0MAQsgAEGACBAFRQRAIA5BgBJqQaUILQAAOgAAIA5B+BFqQZ0IKQAANwMAIA5B8BFqQZUIKQAANwMAIA5BjQgpAAA3A+gRIA5BhQgpAAA3A+ARDAELIABBpggQBUUEQCAOQYASakGlCC0AADoAACAOQfgRakGdCCkAADcDACAOQfARakGVCCkAADcDACAOQY0IKQAANwPoESAOQYUIKQAANwPgEQwBCyAAQa8IEAVFBEAgDkGAEmpB4QgtAAA6AAAgDkH4EWpB2QgpAAA3AwAgDkHwEWpB0QgpAAA3AwAgDkHJCCkAADcD6BEgDkHBCCkAADcD4BEMAQsgAEHiCBAFRQRAAkAgAUHlCBAFBEAgAUHrCBAFDQELIA5BgBJqQZAJLQAAOgAAIA5B+BFqQYgJKQAANwMAIA5B8BFqQYAJKQAANwMAIA5B+AgpAAA3A+gRIA5B8AgpAAA3A+ARDAILIA5BgBJqQbEJLQAAOgAAIA5B+BFqQakJKQAANwMAIA5B8BFqQaEJKQAANwMAIA5BmQkpAAA3A+gRIA5BkQkpAAA3A+ARDAELIABBsgkQBUUEQCAOQYASakGQCS0AADoAACAOQfgRakGICSkAADcDACAOQfARakGACSkAADcDACAOQfgIKQAANwPoESAOQfAIKQAANwPgEQwBCwJAIABBuQkQBQRAIABBwgkQBQ0BCyAOQYASakHvCS0AADoAACAOQfgRakHnCSkAADcDACAOQfARakHfCSkAADcDACAOQdcJKQAANwPoESAOQc8JKQAANwPgEQwBCyAAQfAJEAUEQCAAQYAKEAVFDQELIA5BgBJqQbQKLQAAOgAAIA5B+BFqQawKKQAANwMAIA5B8BFqQaQKKQAANwMAIA5BnAopAAA3A+gRIA5BlAopAAA3A+ARCyAOQeAQakEAQYABEAQaIA5B4BFqIA5B4BBqEA8aIAIQAyEBIAMQAyEMIAQQAyEPIAUQAyEQIAYQAyERIAcQAyESIAgQAyETIAkQAyEUIAoQAyEVIAsQAyEWIA5B4A5qQQBBgAIQBBogBi0AAARAIA4gBjYCUCAOQeAOakG1CiAOQdAAahACCyAOQeAGakEAQYAIEAQaIActAAAEQCAOIAc2AkAgDkHgBmpBxgogDkFAaxACCyAOQeAEakEAQYACEAQaIAotAAAEQCAOIAo2AjAgDkHgBGpB2gogDkEwahACC0HvCiEHIBUgFCATIBIgESAQIA8gASAMampqampqamogFmpByAFqEAshAQJAIABBuQkQBUUNACAAQcIJEAVFDQAgAEHwCRAFRQRAQaULIQcMAQtB5gtBpQsgAEGAChAFGyEHCyAOIAs2AiQgDiAINgIcIA4gCTYCGCAOIAU2AgwgDiAENgIIIA4gAzYCBCAOIAI2AgAgDiAOQeAEajYCICAOIA5B4AZqNgIUIA4gDkHgDmo2AhAgASAHIA4QAiAOQeAAakEAQYAEEAQaIAEgARADIA5B4BBqIA5B4BBqEAMgDkHgAGoQDSEAIAEQCiAARQRAIA5B4ABqQSAgDRAOIQALIA5B4BJqJAAgAAvHAgEDfyMAQdABayIDJAAgAyACNgLMAUEAIQIgA0GgAWpBAEEoEAQaIAMgAygCzAE2AsgBAkBBACABIANByAFqIANB0ABqIANBoAFqEBBBAEgNACAAKAJMQQBOIQIgACgCACEEIAAsAEpBAEwEQCAAIARBX3E2AgALIARBIHEhBQJ/IAAoAjAEQCAAIAEgA0HIAWogA0HQAGogA0GgAWoQEAwBCyAAQdAANgIwIAAgA0HQAGo2AhAgACADNgIcIAAgAzYCFCAAKAIsIQQgACADNgIsIAAgASADQcgBaiADQdAAaiADQaABahAQIARFDQAaIABBAEEAIAAoAiQRAgAaIABBADYCMCAAIAQ2AiwgAEEANgIcIABBADYCECAAKAIUGiAAQQA2AhRBAAsaIAAgACgCACAFcjYCACACRQ0ACyADQdABaiQAC4kCAAJAIAAEfyABQf8ATQ0BAkBBrB0oAgAoAgBFBEAgAUGAf3FBgL8DRg0DDAELIAFB/w9NBEAgACABQT9xQYABcjoAASAAIAFBBnZBwAFyOgAAQQIPCyABQYCwA09BACABQYBAcUGAwANHG0UEQCAAIAFBP3FBgAFyOgACIAAgAUEMdkHgAXI6AAAgACABQQZ2QT9xQYABcjoAAUEDDwsgAUGAgARrQf//P00EQCAAIAFBP3FBgAFyOgADIAAgAUESdkHwAXI6AAAgACABQQZ2QT9xQYABcjoAAiAAIAFBDHZBP3FBgAFyOgABQQQPCwtB6B1BGTYCAEF/BUEBCw8LIAAgAToAAEEBC7oBAQF/IAFBAEchAgJAAkACQCABRQ0AIABBA3FFDQADQCAALQAARQ0CIABBAWohACABQQFrIgFBAEchAiABRQ0BIABBA3ENAAsLIAJFDQELAkAgAC0AAEUNACABQQRJDQADQCAAKAIAIgJBf3MgAkGBgoQIa3FBgIGChHhxDQEgAEEEaiEAIAFBBGsiAUEDSw0ACwsgAUUNAANAIAAtAABFBEAgAA8LIABBAWohACABQQFrIgENAAsLQQALhwEBAn8jAEGgAWsiAyQAIANBCGpBiBZBkAEQCSADIAA2AjQgAyAANgIcIANBfiAAayIEQf////8HIARB/////wdJGyIENgI4IAMgACAEaiIANgIkIAMgADYCGCADQQhqIAEgAhAmIAQEQCADKAIcIgAgACADKAIYRmtBADoAAAsgA0GgAWokAAsyAQF/IAAoAhQiAyABIAIgACgCECADayIBIAEgAksbIgEQCSAAIAAoAhQgAWo2AhQgAgsMACAAIAAQAyABEC4LBQBB6B0LyAEBAX8CQAJAIAAgAXNBA3ENACABQQNxBEADQCAAIAEtAAAiAjoAACACRQ0DIABBAWohACABQQFqIgFBA3ENAAsLIAEoAgAiAkF/cyACQYGChAhrcUGAgYKEeHENAANAIAAgAjYCACABKAIEIQIgAEEEaiEAIAFBBGohASACQYGChAhrIAJBf3NxQYCBgoR4cUUNAAsLIAAgAS0AACICOgAAIAJFDQADQCAAIAEtAAEiAjoAASAAQQFqIQAgAUEBaiEBIAINAAsLC5EHAQF/IwBBoARrIgMkACADQYAEaiAAIAEQMSADIAMtAIAENgLwAyACQYAWIANB8ANqEAIgAyADLQCBBDYC4AMgAkECakGAFiADQeADahACIAMgAy0AggQ2AtADIAJBBGpBgBYgA0HQA2oQAiADIAMtAIMENgLAAyACQQZqQYAWIANBwANqEAIgAyADLQCEBDYCsAMgAkEIakGAFiADQbADahACIAMgAy0AhQQ2AqADIAJBCmpBgBYgA0GgA2oQAiADIAMtAIYENgKQAyACQQxqQYAWIANBkANqEAIgAyADLQCHBDYCgAMgAkEOakGAFiADQYADahACIAMgAy0AiAQ2AvACIAJBEGpBgBYgA0HwAmoQAiADIAMtAIkENgLgAiACQRJqQYAWIANB4AJqEAIgAyADLQCKBDYC0AIgAkEUakGAFiADQdACahACIAMgAy0AiwQ2AsACIAJBFmpBgBYgA0HAAmoQAiADIAMtAIwENgKwAiACQRhqQYAWIANBsAJqEAIgAyADLQCNBDYCoAIgAkEaakGAFiADQaACahACIAMgAy0AjgQ2ApACIAJBHGpBgBYgA0GQAmoQAiADIAMtAI8ENgKAAiACQR5qQYAWIANBgAJqEAIgAyADLQCQBDYC8AEgAkEgakGAFiADQfABahACIAMgAy0AkQQ2AuABIAJBImpBgBYgA0HgAWoQAiADIAMtAJIENgLQASACQSRqQYAWIANB0AFqEAIgAyADLQCTBDYCwAEgAkEmakGAFiADQcABahACIAMgAy0AlAQ2ArABIAJBKGpBgBYgA0GwAWoQAiADIAMtAJUENgKgASACQSpqQYAWIANBoAFqEAIgAyADLQCWBDYCkAEgAkEsakGAFiADQZABahACIAMgAy0AlwQ2AoABIAJBLmpBgBYgA0GAAWoQAiADIAMtAJgENgJwIAJBMGpBgBYgA0HwAGoQAiADIAMtAJkENgJgIAJBMmpBgBYgA0HgAGoQAiADIAMtAJoENgJQIAJBNGpBgBYgA0HQAGoQAiADIAMtAJsENgJAIAJBNmpBgBYgA0FAaxACIAMgAy0AnAQ2AjAgAkE4akGAFiADQTBqEAIgAyADLQCdBDYCICACQTpqQYAWIANBIGoQAiADIAMtAJ4ENgIQIAJBPGpBgBYgA0EQahACIAMgAy0AnwQ2AgAgAkE+akGAFiADEAIgA0GgBGokAEEAC9UFAQN/IwBB0ABrIgQkACAEQQBByAAQBCIFQYABOgAAIABB4ABqIQQgAgRAIAQgASACEAYLQYABIAAtAOYBQQV0QSBxIAAtAOcBQQN2ciIBa0HAACABayIBIAFBCUkbIgEgBWpBCGsgACkA4AE3AAAgBCAFIAEQBgNAIAMgBGogBCADQXxxaiIBQeAAaigCACADQQN0QRBxIgJBGHN2OgAAIAQgA0EBcmogASgCYCACQRBzdjoAACADQQJqIgNBIEcNAAsgACAAKQB4NwAYIAAgACkAcDcAECAAIAApAGg3AAggACAAKQBgNwAAQQAhAyAAQSBqIQEDQCABIANqIgIgAi0AAEHqAHM6AAAgASADQQFyaiICIAItAABB6gBzOgAAIAEgA0ECcmoiAiACLQAAQeoAczoAACABIANBA3JqIgIgAi0AAEHqAHM6AAAgA0EEaiIDQcAARw0ACyAAQgA3ArgBIABCADcCsAEgAEIANwKoASAAQgA3AqABIABCADcCmAEgAEIANwKQASAAQgA3AogBIABCADcCgAEgAEIANwDgASAAQquzj/yRo7Pw2wA3AtgBIABC/6S5iMWR2oKbfzcC0AEgAELy5rvjo6f9p6V/NwLIASAAQufMp9DW0Ouzu383AsABIAQgAEEgakHAABAGQQAhAyAFQQBByAAQBCIBQYABOgAAIAQgAEEgEAYgAUGAASAALQDmAUEFdEEgcSAALQDnAUEDdnIiAmtBwAAgAmsiAiACQQlJGyICakEIayAAKQDgATcAACAEIAEgAhAGA0AgAEHgAGoiAiADaiACIANBfHFqIgRB4ABqKAIAIANBA3RBEHEiBUEYc3Y6AAAgAiADQQFyaiAEKAJgIAVBEHN2OgAAIANBAmoiA0EgRw0ACyAAIAApAGA3AAAgACAAKQB4NwAYIAAgACkAcDcAECAAIAApAGg3AAggAUHQAGokAAu9CQEGfyMAQdAAayIHJAACQCACQcAATARAAkAgAkEBSARAQQAhAgwBCyACQQNxIQUgAkEBa0EDTwRAIAJBfHEhCCAAQSBqIQQDQCADIARqIAEgA2otAABBNnM6AAAgBCADQQFyIgZqIAEgBmotAABBNnM6AAAgBCADQQJyIgZqIAEgBmotAABBNnM6AAAgBCADQQNyIgZqIAEgBmotAABBNnM6AAAgA0EEaiEDIAhBBGsiCA0ACwsgBQRAA0AgACADaiABIANqLQAAQTZzOgAgIANBAWohAyAFQQFrIgUNAAsLIAJBP0sNAgsgACACakEgakE2QcAAIAJrEAQaDAELIABCADcCuAEgAEIANwKwASAAQgA3AqgBIABCADcCoAEgAEIANwKYASAAQgA3ApABIABCADcCiAEgAEIANwKAASAAQgA3AOABIABCq7OP/JGjs/DbADcC2AEgAEL/pLmIxZHagpt/NwLQASAAQvLmu+Ojp/2npX83AsgBIABC58yn0NbQ67O7fzcCwAEgB0EAQcgAEAQiBUGAAToAACAAQeAAaiIEIAEgAhAGIAVBgAEgAC0A5gFBBXRBIHEgAC0A5wFBA3ZyIgFrQcAAIAFrIgEgAUEJSRsiAWpBCGsgACkA4AE3AAAgBCAFIAEQBgNAIAMgBGogBCADQXxxaiIBQeAAaigCACADQQN0QRBxIgJBGHN2OgAAIAQgA0EBcmogASgCYCACQRBzdjoAACADQQJqIgNBIEcNAAsgACAALQBgQTZzOgAgIAAgAC0AYUE2czoAISAAIAAtAGJBNnM6ACIgACAALQBjQTZzOgAjIAAgAC0AZEE2czoAJCAAIAAtAGVBNnM6ACUgACAALQBmQTZzOgAmIAAgAC0AZ0E2czoAJyAAIAAtAGhBNnM6ACggACAALQBpQTZzOgApIAAgAC0AakE2czoAKiAAIAAtAGtBNnM6ACsgACAALQBsQTZzOgAsIAAgAC0AbUE2czoALSAAIAAtAG5BNnM6AC4gACAALQBvQTZzOgAvIAAgAC0AcEE2czoAMCAAIAAtAHFBNnM6ADEgACAALQByQTZzOgAyIAAgAC0Ac0E2czoAMyAAIAAtAHRBNnM6ADQgACAALQB1QTZzOgA1IAAgAC0AdkE2czoANiAAIAAtAHdBNnM6ADcgACAALQB4QTZzOgA4IAAgAC0AeUE2czoAOSAAIAAtAHpBNnM6ADogACAALQB7QTZzOgA7IAAgAC0AfEE2czoAPCAAIAAtAH1BNnM6AD0gACAALQB+QTZzOgA+IAAgAC0Af0E2czoAPyAAQrbs2LHjxo2bNjcAWCAAQrbs2LHjxo2bNjcAUCAAQrbs2LHjxo2bNjcASCAAQUBrQrbs2LHjxo2bNjcAAAsgAEIANwK4ASAAQgA3ArABIABCADcCqAEgAEIANwKgASAAQgA3ApgBIABCADcCkAEgAEIANwKIASAAQgA3AoABIABCADcA4AEgAEKrs4/8kaOz8NsANwLYASAAQv+kuYjFkdqCm383AtABIABC8ua746On/aelfzcCyAEgAELnzKfQ1tDrs7t/NwLAASAAQeAAaiAAQSBqQcAAEAYgB0HQAGokAAuTAwIEfwF+IwBB4AFrIgMkACADQgA3A2AgA0IANwNYIANCADcDUCADQgA3A0ggA0FAa0IANwMAIANCADcDOCADQgA3AzAgA0Krs4/8kaOz8NsANwOAASADQv+kuYjFkdqCm383A3ggA0Ly5rvjo6f9p6V/NwNwIANCADcDKCADQgA3A4gBIANC58yn0NbQ67O7fzcDaCADQZABakEAQcgAEAQaIANBgAE6AJABQcAAIQYgAgRAIANBCGogASACEAYgAy0AjwFBA3YhBUHAACADLQCOAUEFdEEgcWshBiADKQOIASEHCyADIAYgBWsiAUFAayABIAFBCUkbIgFqIAc3AIgBIANBCGogA0GQAWogARAGA0AgA0EIaiAEaiAEQXxxIANqIgFB6ABqKAIAIARBA3RBEHEiAkEYc3Y6AAAgA0EIaiAEQQFyaiABKAJoIAJBEHN2OgAAIARBAmoiBEEgRw0ACyAAIAMpAwg3AAAgACADKQMgNwAYIAAgAykDGDcAECAAIAMpAxA3AAggA0HgAWokAAsIACAAIAEQMwslAQF/IwBBEGsiAiQAIAAgAhAXIAJBECABEA4aIAJBEGokAEEAC6ILAQh/IwBBEGsiBiQAAkADQAJAIAAgCWosAAAhBQJAAkACQAJAAkACQAJAAkACQCABBEAgBUE9Rg0CQQEgBUEwa0EKSSAFQSByQeEAa0EaSRsNAQsgBUH/AXFBK2sOBQABAQEAAQsgBkEMaiAEaiAFOgAAIARBAWoiBEEERw0HAkAgBi0ADCIEQcEAayIHQf8BcUEaSQ0AIARB4QBrQf8BcUEZTQRAIARBxwBrIQcMAQsgBEEwa0H/AXFBCU0EQCAEQQRqIQcMAQtBPiEHAkACQAJAIARBK2sOEwMCAgIAAgICAgICAgICAgICAgECC0E/IQcMAgtBACEHDAELQf8BIQcLIAYgBzoADCAGLQANIgRBwQBrIgVB/wFxQRpJDQYgBEHhAGtB/wFxQRpJDQUgBEEwa0H/AXFBCkkNBEE+IQUgBEEraw4TBgMDAwIDAwMDAwMDAwMDAwMDAQMLIARFDQkgBEEDTARAIAZBDGogBGpBAEEEIARrEAQaCwJAIAYtAAwiAEHBAGsiCUH/AXFBGkkNACAAQeEAa0H/AXFBGU0EQCAAQccAayEJDAELIABBMGtB/wFxQQlNBEAgAEEEaiEJDAELQT4hCQJAAkACQCAAQStrDhMDAgICAAICAgICAgICAgICAgIBAgtBPyEJDAILQQAhCQwBC0H/ASEJCwJAIAYtAA0iAEHBAGsiBUH/AXFBGkkNACAAQeEAa0H/AXFBGk8EQCAAQTBrQf8BcUEKTwRAQT4hBQJAAkACQCAAQStrDhMFAgICAQICAgICAgICAgICAgIAAgtBACEFDAQLQT8hBQwDC0H/ASEFDAILIABBBGohBQwBCyAAQccAayEFCwJAIAYtAA4iAEHBAGsiAUH/AXFBGkkNACAAQeEAa0H/AXFBGk8EQCAAQTBrQf8BcUEKTwRAQT4hAQJAAkACQCAAQStrDhMFAgICAQICAgICAgICAgICAgIAAgtBACEBDAQLQT8hAQwDC0H/ASEBDAILIABBBGohAQwBCyAAQccAayEBCwJAIAYtAA8iAEHBAGsiB0H/AXFBGkkNACAAQeEAa0H/AXFBGk8EQCAAQTBrQf8BcUEKTwRAQT4hBwJAAkACQCAAQStrDhMFAgICAQICAgICAgICAgICAgIAAgtBACEHDAQLQT8hBwwDC0H/ASEHDAILIABBBGohBwwBCyAAQccAayEHCyAGIAcgAUEGdGo6AAsgBiABQQJ2QQ9xIAVBBHRyOgAKIAYgBUEEdkEDcSAJQQJ0cjoACSAEQQFKDQcMCQtBACEFDAQLQT8hBQwDC0H/ASEFDAILIARBBGohBQwBCyAEQccAayEFCyAGIAU6AA0CQCAGLQAOIghBwQBrIgRB/wFxQRpJDQAgCEHhAGtB/wFxQRpPBEAgCEEwa0H/AXFBCk8EQEE+IQQCQAJAAkAgCEEraw4TBQICAgECAgICAgICAgICAgICAAILQQAhBAwEC0E/IQQMAwtB/wEhBAwCCyAIQQRqIQQMAQsgCEHHAGshBAsgBiAEOgAOAkAgBi0ADyILQcEAayIIQf8BcUEaSQ0AIAtB4QBrQf8BcUEaTwRAIAtBMGtB/wFxQQpPBEBBPiEIAkACQAJAIAtBK2sOEwUCAgIBAgICAgICAgICAgICAgACC0EAIQgMBAtBPyEIDAMLQf8BIQgMAgsgC0EEaiEIDAELIAtBxwBrIQgLIAYgCDoADyAGIAggBEEGdGoiCDoACyAGIARBAnZBD3EgBUEEdHI6AAogBiAFQQR2QQNxIAdBAnRyOgAJIAIgCmoiBCAIOgACIAQgBi8ACTsAACAKQQNqIQpBACEECyABQQFrIQEgCUEBaiEJDAELCyACIApqIAZBCWogBEEBaxAJIAQgCmpBAWshCgsgAyAKNgIAIAZBEGokAAu/AQEBfyMAQZAHayIDJABBkBsgA0GQBmoQDxogA0GQAmpBAEGABBAEGiADQQA2AowCIAAgASADQZACaiADQYwCahA0IANBCGoiACADQZAGahAYIAAgAykAmAY3APgBIAAgAykAkAY3APABIANBCGogA0GQAmogAygCjAIQNiADIAMoAowCIgAgACADaiwAjwJrIgA2AowCIABBAE4EQCADQZACaiAAakEAOgAACyADQZACaiACEA8aIANBkAdqJAAL8gIBAn8jAEEQayIDJAAgAgRAA0AgAyABKQAANwMAIAMgAUEIaikAADcDCCABIAAQNyABIAEtAAAgAC0A8AFzOgAAIAEgAS0AASAALQDxAXM6AAEgASABLQACIAAtAPIBczoAAiABIAEtAAMgAC0A8wFzOgADIAEgAS0ABCAALQD0AXM6AAQgASABLQAFIAAtAPUBczoABSABIAEtAAYgAC0A9gFzOgAGIAEgAS0AByAALQD3AXM6AAcgASABLQAIIAAtAPgBczoACCABIAEtAAkgAC0A+QFzOgAJIAEgAS0ACiAALQD6AXM6AAogASABLQALIAAtAPsBczoACyABIAEtAAwgAC0A/AFzOgAMIAEgAS0ADSAALQD9AXM6AA0gASABLQAOIAAtAP4BczoADiABIAEtAA8gAC0A/wFzOgAPIAAgAykDCDcA+AEgACADKQMANwDwASABQRBqIQEgBEEQaiIEIAJJDQALCyADQRBqJAALvQgBE38gACAALQAAIAEtAOABcyICOgAAIAAgAC0AASABLQDhAXMiBDoAASAAIAAtAAIgAS0A4gFzIgU6AAIgACAALQADIAEtAOMBcyIGOgADIAAgAC0ABCABLQDkAXMiBzoABCAAIAAtAAUgAS0A5QFzIgg6AAUgACAALQAGIAEtAOYBcyIJOgAGIAAgAC0AByABLQDnAXMiCjoAByAAIAAtAAggAS0A6AFzIgs6AAggACAALQAJIAEtAOkBcyIMOgAJIAAgAC0ACiABLQDqAXMiDToACiAAIAAtAAsgAS0A6wFzIgM6AAsgACAALQAMIAEtAOwBcyIOOgAMQQ0hEiAAIAAtAA0gAS0A7QFzIg86AA0gACAALQAOIAEtAO4BcyIQOgAOIAAtAA8gAS0A7wFzIREDQCAAIA5B/wFxQbARai0AADoADCAAIAtBsBFqLQAAOgAIIAAgB0GwEWotAAA6AAQgACACQbARai0AADoAACAAIAxBsBFqLQAAOgANIAAgCEGwEWotAAA6AAkgACAEQbARai0AADoABSAAIA9BsBFqLQAAOgABIAAgCUGwEWotAAA6AA4gACAFQbARai0AADoACiAAIBBBsBFqLQAAOgAGIAAgDUGwEWotAAA6AAIgACAGQbARai0AADoADyAAIBFBsBFqLQAAOgALIAAgA0GwEWotAAA6AAcgACAKQbARai0AADoAAyASQf8BcSICIAAgARA4QQAhDiACBEADQCAAIA5BAnRqIgIgAiwAAyIEQQd2QRtxIARBAXRzIgMgAiwAASIGIAIsAAAiB3NzIhQgAiwAAiIFcyAHQQd2QRtxIAdBAXRzIghzIAZBGXRBGHVBB3ZBG3EgBkEHdkEbcSAGQQF0cyIJQQF0cyIPcyAIQRl0QRh1QQd2QRtxIAdBGXRBGHVBB3ZBG3EgCEEBdHMiEEEBdHMiCnMgCUEZdEEYdUEHdkEbcSAPQQF0cyILcyAEQRl0QRh1QQd2QRtxIANBAXRzIhFzIAVBB3ZBG3EgBUEBdHMiDEEZdEEYdUEHdkEbcSAFQRl0QRh1QQd2QRtxIAxBAXRzIhNBAXRzIg1zIANBGXRBGHVBB3ZBG3EgEUEBdHMiA3M6AAMgAiAEIBRzIBBzIAxzIApzIBNzIAtzIA1zIANzOgACIAIgBCAFIAdzcyAJcyAMcyAPcyAKcyALcyARcyANcyADczoAASACIAQgBSAGcyAIc3MgCXMgEHMgCnMgE3MgC3MgDXMgA3M6AAAgDkEBaiIOQQRHDQALIBJBAWshEiAALQAMIQ4gAC0ACCELIAAtAAQhByAALQAAIQIgAC0ADyERIAAtAAshAyAALQAHIQogAC0AAyEGIAAtAA4hECAALQAGIQkgAC0ACiENIAAtAAIhBSAALQABIQQgAC0ABSEIIAAtAAkhDCAALQANIQ8MAQsLC+QCACABIAEtAAAgAiAAQQR0IgBqLQAAczoAACABIAEtAAEgAiAAQQFyai0AAHM6AAEgASABLQACIAIgAEECcmotAABzOgACIAEgAS0AAyACIABBA3JqLQAAczoAAyABIAEtAAQgAiAAQQRyai0AAHM6AAQgASABLQAFIAIgAEEFcmotAABzOgAFIAEgAS0ABiACIABBBnJqLQAAczoABiABIAEtAAcgAiAAQQdyai0AAHM6AAcgASABLQAIIAIgAEEIcmotAABzOgAIIAEgAS0ACSACIABBCXJqLQAAczoACSABIAEtAAogAiAAQQpyai0AAHM6AAogASABLQALIAIgAEELcmotAABzOgALIAEgAS0ADCACIABBDHJqLQAAczoADCABIAEtAA0gAiAAQQ1yai0AAHM6AA0gASABLQAOIAIgAEEOcmotAABzOgAOIAEgAS0ADyACIABBD3JqLQAAczoADwsIACAAIAEQDwsLuxEVAEGACAuTB2ltb3UAJV5rIzFESTJnSSNoZE5LJWViI0pQa0BuSkl4R1hWMVUAaW1vdWxpZmUAaW1vdXF1ZXN0aW9ubmFpcmUAbDA1NW4xaGFiaWRhcTFhcjBsYzl0Y21uZ2VmejZra2cAaGcAZGVidWcAdGVzdAB6cTdvYTEzNDJLN1c4NWFrU01yRUtkOTNwb0VBOHhCRQBkYjgyYmVCOTFCNmE0OTJFYjg3MTg3Mzk5RGM5QjNmZQBoZ2dsb3cAaW1vdW9wZW4AaW1vdWxpZmVvcGVuAHZqZ2Yzd29sdmI1eXRjZWF4bWthNzJ4Zmo4c2l4d2YyAGltb3VvcGVuX3dlYmFwcABpbW91bGlmZW9wZW5fd2ViYXBwAFh0ZXFXY0xTRTc1SWZzMUxEMTBuNGxMemZVZWJPVEhQAHgtcGNzLWFwaXZlcjolcwoAeC1wY3MtY2xpZW50LXVhOiVzCgB4LXBjcy1zZXNzaW9uLWlkOiVzCgAlcwolcwolcwolcwolcyVzeC1kYXRlOiVzCngtbm9uY2U6JXMKJXN4LXVzZXJuYW1lOiVzCgAlcwolcwolcwolcwolcyVzeC1wY3MtZGF0ZTolcwp4LXBjcy1ub25jZTolcwolc3gtcGNzLXVzZXJuYW1lOiVzACVzCiVzCiVzCiVzCiVzJXN4LXBjcy1kYXRlOiVzCngtcGNzLW5vbmNlOiVzCiVzeC1wY3MtdXNlcm5hbWU6JXMKAGFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbQAlcyVzJXN4LWRhdGU6JXN4LW5vbmNlOiVzeC11c2VybmFtZTolc3gtcGNzLXRva2VuOiVzADM4ME52cjNZejBMYU5yZjFXUU91UTg5QVVhNWw0RzYyACVzJXMlc2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgKeC1hbGthaWQtZGF0ZTolcwp4LWxha2FpZC1ub25jZTolcwp4LWFsa2FpZC11c2VybmFtZTolcwB1bmRlZmluZWQAJXMlcyVzYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOAp4LWFsa2FpZC1kYXRlOiVzCngtYWxrYWlkLW5vbmNlOiVzCngtYWxrYWlkLXVzZXJuYW1lOiVzADEyMzQ1Njc4ODc2NTQzMjEAeC1hbGthaWQtbm9uY2U6JXMKeC1hbGthaWQtZGF0ZTolcwolcwBBoA8L1QRjfHd78mtvxTABZyv+16t2yoLJffpZR/Ct1KKvnKRywLf9kyY2P/fMNKXl8XHYMRUExyPDGJYFmgcSgOLrJ7J1CYMsGhtuWqBSO9azKeMvhFPRAO0g/LFbasu+OUpMWM/Q76r7Q00zhUX5An9QPJ+oUaNAj5KdOPW8ttohEP/z0s0ME+xfl0QXxKd+PWRdGXNggU/cIiqQiEbuuBTeXgvb4DI6CkkGJFzC06xikZXkeefIN22N1U6pbFb06mV6rgi6eCUuHKa0xujddB9LvYuKcD61ZkgD9g5hNVe5hsEdnuH4mBFp2Y6Umx6H6c5VKN+MoYkNv+ZCaEGZLQ+wVLsWjQECBAgQIECAGzYAAAAAAFIJatUwNqU4v0CjnoHz1/t84zmCmy//hzSOQ0TE3unLVHuUMqbCIz3uTJULQvrDTgguoWYo2SSydluiSW2L0SVy+PZkhmiYFtSkXMxdZbaSbHBIUP3tudpeFUZXp42dhJDYqwCMvNMK9+RYBbizRQbQLB6Pyj8PAsGvvQMBE4prOpERQU9n3OqX8s/O8LTmc5asdCLnrTWF4vk36Bx1325H8RpxHSnFiW+3Yg6qGL4b/FY+S8bSeSCa28D+eM1a9B/dqDOIB8cxsRIQWSeA7F9gUX+pGbVKDS3lep+TyZzvoOA7Ta4q9bDI67s8g1OZYRcrBH66d9Ym4WkUY1UhDH1BQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvACUwMngAQYAUC4QCmC+KQpFEN3HP+8C1pdu16VvCVjnxEfFZpII/ktVeHKuYqgfYAVuDEr6FMSTDfQxVdF2+cv6x3oCnBtybdPGbwcFpm+SGR77vxp3BD8yhDCRvLOktqoR0StypsFzaiPl2UlE+mG3GMajIJwOwx39Zv/ML4MZHkafVUWPKBmcpKRSFCrcnOCEbLvxtLE0TDThTVHMKZbsKanYuycKBhSxykqHov6JLZhqocItLwqNRbMcZ6JLRJAaZ1oU1DvRwoGoQFsGkGQhsNx5Md0gntbywNLMMHDlKqthOT8qcW/NvLmjugo90b2OleBR4yIQIAseM+v++kOtsUKT3o/m+8nhxxiUwMngAQawWCwEBAEHTFgsF//////8AQZgXC1ktKyAgIDBYMHgAKG51bGwpAAAAAAAAAAARAAoAERERAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABEADwoREREDCgcAAQAJCwsAAAkGCwAACwAGEQAAABEREQBBgRgLIQsAAAAAAAAAABEACgoREREACgAAAgAJCwAAAAkACwAACwBBuxgLAQwAQccYCxUMAAAAAAwAAAAACQwAAAAAAAwAAAwAQfUYCwEOAEGBGQsVDQAAAAQNAAAAAAkOAAAAAAAOAAAOAEGvGQsBEABBuxkLHg8AAAAADwAAAAAJEAAAAAAAEAAAEAAAEgAAABISEgBB8hkLDhIAAAASEhIAAAAAAAAJAEGjGgsBCwBBrxoLFQoAAAAACgAAAAAJCwAAAAAACwAACwBB3RoLAQwAQekaCycMAAAAAAwAAAAACQwAAAAAAAwAAAwAADAxMjM0NTY3ODlBQkNERUYAQZAbCzFndzI+XTFbe1Q1dDJoNWMsQSVjazJMOChBXWNBUkk3UElNT1VLRVlfAAAAAAAAAACAAEGsHQsCFA8AQeQdCwMgEVA=",hs=mg(yg);Ze.wasmBinary&&(hs=Ze.wasmBinary),Ze.noExitRuntime,typeof WebAssembly!="object"&&rl("no native wasm support detected");var il,qd=!1;function Ag(d,i){d||rl("Assertion failed: "+i)}function Yd(d){var i=Ze["_"+d];return Ag(i,"Cannot call unknown function "+d+", make sure it is exported"),i}function vg(d,i,t,s,u){var A={string:function(r){var D=0;if(r!=null&&r!==0){var f=(r.length<<2)+1;D=ru(f),_g(r,D,f)}return D},array:function(r){var D=ru(r.length);return Eg(r,D),D}};function b(r){return i==="string"?Kd(r):i==="boolean"?Boolean(r):r}var C=Yd(d),c=[],T=0;if(s)for(var k=0;k<s.length;k++){var S=A[t[k]];S?(T===0&&(T=ff()),c[k]=S(s[k])):c[k]=s[k]}var E=C.apply(null,c);return E=b(E),T!==0&&hf(T),E}function xg(d,i,t,s){t=t||[];var u=t.every(function(b){return b==="number"}),A=i!=="string";return A&&u&&!s?Yd(d):function(){return vg(d,i,t,arguments)}}var Vd=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function Cg(d,i,t){for(var s=i+t,u=i;d[u]&&!(u>=s);)++u;if(u-i>16&&d.subarray&&Vd)return Vd.decode(d.subarray(i,u));for(var A="";i<u;){var b=d[i++];if(!(b&128)){A+=String.fromCharCode(b);continue}var C=d[i++]&63;if((b&224)==192){A+=String.fromCharCode((b&31)<<6|C);continue}var c=d[i++]&63;if((b&240)==224?b=(b&15)<<12|C<<6|c:b=(b&7)<<18|C<<12|c<<6|d[i++]&63,b<65536)A+=String.fromCharCode(b);else{var T=b-65536;A+=String.fromCharCode(55296|T>>10,56320|T&1023)}}return A}function Kd(d,i){return d?Cg(ps,d,i):""}function bg(d,i,t,s){if(!(s>0))return 0;for(var u=t,A=t+s-1,b=0;b<d.length;++b){var C=d.charCodeAt(b);if(C>=55296&&C<=57343){var c=d.charCodeAt(++b);C=65536+((C&1023)<<10)|c&1023}if(C<=127){if(t>=A)break;i[t++]=C}else if(C<=2047){if(t+1>=A)break;i[t++]=192|C>>6,i[t++]=128|C&63}else if(C<=65535){if(t+2>=A)break;i[t++]=224|C>>12,i[t++]=128|C>>6&63,i[t++]=128|C&63}else{if(t+3>=A)break;i[t++]=240|C>>18,i[t++]=128|C>>12&63,i[t++]=128|C>>6&63,i[t++]=128|C&63}}return i[t]=0,t-u}function _g(d,i,t){return bg(d,ps,i,t)}function Eg(d,i){Jd.set(d,i)}function Ig(d,i){return d%i>0&&(d+=i-d%i),d}var Gd,Jd,ps;function Xd(d){Gd=d,Ze.HEAP8=Jd=new Int8Array(d),Ze.HEAP16=new Int16Array(d),Ze.HEAP32=new Int32Array(d),Ze.HEAPU8=ps=new Uint8Array(d),Ze.HEAPU16=new Uint16Array(d),Ze.HEAPU32=new Uint32Array(d),Ze.HEAPF32=new Float32Array(d),Ze.HEAPF64=new Float64Array(d)}Ze.INITIAL_MEMORY;var ya,Zd=[],ef=[],wg=[],tf=[];ef.push({func:function(){df()}});function kg(){if(Ze.preRun)for(typeof Ze.preRun=="function"&&(Ze.preRun=[Ze.preRun]);Ze.preRun.length;)Tg(Ze.preRun.shift());ms(Zd)}function Sg(){ms(ef)}function Bg(){ms(wg)}function Dg(){if(Ze.postRun)for(typeof Ze.postRun=="function"&&(Ze.postRun=[Ze.postRun]);Ze.postRun.length;)Lg(Ze.postRun.shift());ms(tf)}function Tg(d){Zd.unshift(d)}function Lg(d){tf.unshift(d)}var za=0,gs=null;function Fg(d){za++,Ze.monitorRunDependencies&&Ze.monitorRunDependencies(za)}function Mg(d){if(za--,Ze.monitorRunDependencies&&Ze.monitorRunDependencies(za),za==0&&gs){var i=gs;gs=null,i()}}Ze.preloadedImages={},Ze.preloadedAudios={};function rl(d){Ze.onAbort&&Ze.onAbort(d),d+="",fs(d),qd=!0,d="abort("+d+"). Build with -s ASSERTIONS=1 for more info.";var i=new WebAssembly.RuntimeError(d);throw i}function Qg(d,i){return String.prototype.startsWith?d.startsWith(i):d.indexOf(i)===0}var Pg="data:application/octet-stream;base64,";function nf(d){return Qg(d,Pg)}var ca="libFrontBasicAlg.wasm";nf(ca)||(ca=cg(ca));function rf(d){try{if(d==ca&&hs)return new Uint8Array(hs);if(!dg)throw"both async and sync fetching of the wasm failed"}catch(i){rl(i)}}function Rg(){return!hs&&ug&&typeof fetch=="function"?fetch(ca,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+ca+"'";return d.arrayBuffer()}).catch(function(){return rf(ca)}):Promise.resolve().then(function(){return rf(ca)})}function Ng(){var d={a:Ug};function i(b,C){var c=b.exports;Ze.asm=c,il=Ze.asm.c,Xd(il.buffer),ya=Ze.asm.o,Mg()}Fg();function t(b){i(b.instance)}function s(b){return Rg().then(function(C){return WebAssembly.instantiate(C,d)}).then(b,function(C){fs("failed to asynchronously prepare wasm: "+C),rl(C)})}function u(){return!hs&&typeof WebAssembly.instantiateStreaming=="function"&&!nf(ca)&&typeof fetch=="function"?fetch(ca,{credentials:"same-origin"}).then(function(b){var C=WebAssembly.instantiateStreaming(b,d);return C.then(t,function(c){return fs("wasm streaming compile failed: "+c),fs("falling back to ArrayBuffer instantiation"),s(t)})}):s(t)}if(Ze.instantiateWasm)try{var A=Ze.instantiateWasm(d,i);return A}catch(b){return fs("Module.instantiateWasm callback failed with error: "+b),!1}return u(),{}}function ms(d){for(;d.length>0;){var i=d.shift();if(typeof i=="function"){i(Ze);continue}var t=i.func;typeof t=="number"?i.arg===void 0?ya.get(t)():ya.get(t)(i.arg):t(i.arg===void 0?null:i.arg)}}Ze.callRuntimeCallbacks=ms;function Hg(d){return d}Ze.demangle=Hg;function af(d){var i=/\b_Z[\w\d_]+/g;return d.replace(i,function(t){var s=t;return t===s?t:s+" ["+t+"]"})}Ze.demangleAll=af;function of(){var d=new Error;if(!d.stack){try{throw new Error}catch(i){d=i}if(!d.stack)return"(no stack trace available)"}return d.stack.toString()}Ze.jsStackTrace=of;function Og(){var d=of();return Ze.extraStackTrace&&(d+=`
`+Ze.extraStackTrace()),af(d)}Ze.stackTrace=Og;function sf(d,i,t){ps.copyWithin(d,i,i+t)}Ze._emscripten_memcpy_big=sf;function lf(){return ps.length}Ze._emscripten_get_heap_size=lf;function uf(d){try{return il.grow(d-Gd.byteLength+65535>>>16),Xd(il.buffer),1}catch(i){}}Ze.emscripten_realloc_buffer=uf;function cf(d){var i=lf(),t=2147483648;if(d>t)return!1;for(var s=1;s<=4;s*=2){var u=i*(1+.2/s);u=Math.min(u,d+100663296);var A=Math.min(t,Ig(Math.max(d,u),65536)),b=uf(A);if(b)return!0}return!1}Ze._emscripten_resize_heap=cf;var Ug={a:sf,b:cf};Ng();var df=Ze.___wasm_call_ctors=function(){return(df=Ze.___wasm_call_ctors=Ze.asm.d).apply(null,arguments)};Ze._LCOldContentV1=function(){return(Ze._LCOldContentV1=Ze.asm.e).apply(null,arguments)},Ze._LCOldContentV2=function(){return(Ze._LCOldContentV2=Ze.asm.f).apply(null,arguments)},Ze._LCContent=function(){return(Ze._LCContent=Ze.asm.g).apply(null,arguments)},Ze._LCBaseSignature=function(){return(Ze._LCBaseSignature=Ze.asm.h).apply(null,arguments)},Ze._malloc=function(){return(Ze._malloc=Ze.asm.i).apply(null,arguments)},Ze._free=function(){return(Ze._free=Ze.asm.j).apply(null,arguments)},Ze._LCFileUploadSignature=function(){return(Ze._LCFileUploadSignature=Ze.asm.k).apply(null,arguments)},Ze._LCOMSSignatureByUserName=function(){return(Ze._LCOMSSignatureByUserName=Ze.asm.l).apply(null,arguments)},Ze._LCOMSSignatureByPassword=function(){return(Ze._LCOMSSignatureByPassword=Ze.asm.m).apply(null,arguments)},Ze._LCDUBHESignature=function(){return(Ze._LCDUBHESignature=Ze.asm.n).apply(null,arguments)},Ze.___errno_location=function(){return(Ze.___errno_location=Ze.asm.p).apply(null,arguments)};var ff=Ze.stackSave=function(){return(ff=Ze.stackSave=Ze.asm.q).apply(null,arguments)},hf=Ze.stackRestore=function(){return(hf=Ze.stackRestore=Ze.asm.r).apply(null,arguments)},ru=Ze.stackAlloc=function(){return(ru=Ze.stackAlloc=Ze.asm.s).apply(null,arguments)};Ze.cwrap=xg,Ze.UTF8ToString=Kd,Ze.addFunction=gg;var al;gs=function d(){al||au(),al||(gs=d)};function au(d){if(za>0||(kg(),za>0))return;function i(){al||(al=!0,Ze.calledRun=!0,!qd&&(Sg(),Bg(),Ze.onRuntimeInitialized&&Ze.onRuntimeInitialized(),Dg()))}Ze.setStatus?(Ze.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Ze.setStatus("")},1),i()},1)):i()}if(Ze.run=au,Ze.preInit)for(typeof Ze.preInit=="function"&&(Ze.preInit=[Ze.preInit]);Ze.preInit.length>0;)Ze.preInit.pop()();au();var ou={exports:{}},pf=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(pf){var gf=new Uint8Array(16);ou.exports=function(){return pf(gf),gf}}else{var mf=new Array(16);ou.exports=function(){for(var i=0,t;i<16;i++)(i&3)===0&&(t=Math.random()*4294967296),mf[i]=t>>>((i&3)<<3)&255;return mf}}for(var yf=ou.exports,$g=Ni(yf),jg=ai({__proto__:null,default:$g},[yf]),Af=rr(jg),vf=[],ol=0;ol<256;++ol)vf[ol]=(ol+256).toString(16).substr(1);function Wg(d,i){var t=i||0,s=vf;return[s[d[t++]],s[d[t++]],s[d[t++]],s[d[t++]],"-",s[d[t++]],s[d[t++]],"-",s[d[t++]],s[d[t++]],"-",s[d[t++]],s[d[t++]],"-",s[d[t++]],s[d[t++]],s[d[t++]],s[d[t++]],s[d[t++]],s[d[t++]]].join("")}var xf=Wg,zg=Ni(xf),qg=ai({__proto__:null,default:zg},[xf]),Cf=rr(qg),Yg=Af,Vg=Cf,bf,su,lu=0,uu=0;function Kg(d,i,t){var s=i&&t||0,u=i||[];d=d||{};var A=d.node||bf,b=d.clockseq!==void 0?d.clockseq:su;if(A==null||b==null){var C=Yg();A==null&&(A=bf=[C[0]|1,C[1],C[2],C[3],C[4],C[5]]),b==null&&(b=su=(C[6]<<8|C[7])&16383)}var c=d.msecs!==void 0?d.msecs:new Date().getTime(),T=d.nsecs!==void 0?d.nsecs:uu+1,k=c-lu+(T-uu)/1e4;if(k<0&&d.clockseq===void 0&&(b=b+1&16383),(k<0||c>lu)&&d.nsecs===void 0&&(T=0),T>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");lu=c,uu=T,su=b,c+=122192928e5;var S=((c&268435455)*1e4+T)%4294967296;u[s++]=S>>>24&255,u[s++]=S>>>16&255,u[s++]=S>>>8&255,u[s++]=S&255;var E=c/4294967296*1e4&268435455;u[s++]=E>>>8&255,u[s++]=E&255,u[s++]=E>>>24&15|16,u[s++]=E>>>16&255,u[s++]=b>>>8|128,u[s++]=b&255;for(var r=0;r<6;++r)u[s+r]=A[r];return i||Vg(u)}var _f=Kg,Gg=Ni(_f),Jg=ai({__proto__:null,default:Gg},[_f]),Xg=rr(Jg),Zg=Af,em=Cf;function tm(d,i,t){var s=i&&t||0;typeof d=="string"&&(i=d==="binary"?new Array(16):null,d=null),d=d||{};var u=d.random||(d.rng||Zg)();if(u[6]=u[6]&15|64,u[8]=u[8]&63|128,i)for(var A=0;A<16;++A)i[s+A]=u[A];return i||em(u)}var Ef=tm,nm=Ni(Ef),im=ai({__proto__:null,default:nm},[Ef]),rm=rr(im),am=Xg,If=rm,cu=If;cu.v1=am,cu.v4=If;var om=cu;let sm=0;function lm(){const d=om.v4().replace(/-/g,"");return Date.now()+d}function um(d){const i=u=>u<10?"0"+u:u;var t=d.getUTCFullYear()+"-"+i(d.getUTCMonth()+1)+"-"+i(d.getUTCDate()),s=i(d.getUTCHours())+":"+i(d.getUTCMinutes())+":"+i(d.getUTCSeconds());return t+"T"+s+"Z"}function cm(d){const i=d||sm;return um(new Date(Date.now()+i))}function dm(d){Ze.onRuntimeInitialized=d}function xr(d){let t=new TextEncoder().encode(d),s=new Uint8Array(t.length);s.set(t);let u=Ze._malloc(s.length+1);return Ze.HEAPU8.set(s,u),Ze.HEAPU8[u+t.length]=0,u}function fm(d){const i=xr(d),t=Ze._malloc(512),s=Ze._LCOldContentV2(i,t);let u=!1;return s===0&&(u=Ze.UTF8ToString(t)),Ze._free(i),Ze._free(t),u}function hm({type:d,env:i,method:t,url:s,content:u,contentType:A,apiver:b,clientUA:C,nonce:c,date:T,session:k,username:S,password:E}){const r=xr(d),D=xr(i),f=xr(t),y=xr(s),Q=xr(u),g=xr(A),w=xr(b||""),M=xr(C||""),z=xr(c),G=xr(T),Y=xr(k||""),N=xr(S),K=xr(E||""),p=Ze._malloc(512),x=Ze._LCBaseSignature(r,D,f,y,Q,g,w,M,z,G,Y,N,K,p);let _=!1;return x===0&&(_=Ze.UTF8ToString(p)),Ze._free(r),Ze._free(D),Ze._free(f),Ze._free(y),Ze._free(Q),Ze._free(g),Ze._free(w),Ze._free(M),Ze._free(z),Ze._free(G),Ze._free(Y),Ze._free(N),Ze._free(K),Ze._free(p),_}const pm="https://openapi.lechange.cn";let wf=!1;dm(()=>{wf=!0});const gm=(d,i)=>new Promise(t=>{let s=null;s=setInterval(()=>{if(wf){clearInterval(s);const A=u();t(A)}});const u=()=>{const A=lm(),b=cm(),C="openDefault\\7AbRle427K36nWUii8VUvMfsXabRnxrl",c=fm(JSON.stringify(i)),T="application/json;charset=UTF-8",k=jd.enc.Base64.stringify(jd.enc.Utf8.parse(JSON.stringify({clientVersion:Wd}))),S=hm({type:"imouopen_webapp",env:"online",method:"POST",url:d,content:c,contentType:T,apiver:"",clientUA:"",nonce:A,date:b,session:"",username:C,password:""});return{"Content-MD5":c,"Content-Type":T,"x-pcs-date":b,"x-pcs-signature":S,"x-pcs-username":C,"x-pcs-nonce":A,"x-pcs-client-ua":k}}}),Aa=(d,i,t="")=>Ar(this,null,function*(){const s=yield gm(d,i);return new Promise((u,A)=>{Dp({url:`${pm}${d}`,method:"post",data:i,headers:s}).then(b=>u(b||!0)).catch(b=>u(b))})});var sl={exports:{}};sl.exports,function(d,i){(function(t,s){d.exports=s()})(Tn,function(){var t=1e3,s=6e4,u=36e5,A="millisecond",b="second",C="minute",c="hour",T="day",k="week",S="month",E="quarter",r="year",D="date",f="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Q=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(R){var X=["th","st","nd","rd"],J=R%100;return"["+R+(X[(J-20)%10]||X[J]||X[0])+"]"}},w=function(R,X,J){var ne=String(R);return!ne||ne.length>=X?R:""+Array(X+1-ne.length).join(J)+R},M={s:w,z:function(R){var X=-R.utcOffset(),J=Math.abs(X),ne=Math.floor(J/60),le=J%60;return(X<=0?"+":"-")+w(ne,2,"0")+":"+w(le,2,"0")},m:function R(X,J){if(X.date()<J.date())return-R(J,X);var ne=12*(J.year()-X.year())+(J.month()-X.month()),le=X.clone().add(ne,S),me=J-le<0,Ae=X.clone().add(ne+(me?-1:1),S);return+(-(ne+(J-le)/(me?le-Ae:Ae-le))||0)},a:function(R){return R<0?Math.ceil(R)||0:Math.floor(R)},p:function(R){return{M:S,y:r,w:k,d:T,D,h:c,m:C,s:b,ms:A,Q:E}[R]||String(R||"").toLowerCase().replace(/s$/,"")},u:function(R){return R===void 0}},z="en",G={};G[z]=g;var Y="$isDayjsObject",N=function(R){return R instanceof _||!(!R||!R[Y])},K=function R(X,J,ne){var le;if(!X)return z;if(typeof X=="string"){var me=X.toLowerCase();G[me]&&(le=me),J&&(G[me]=J,le=me);var Ae=X.split("-");if(!le&&Ae.length>1)return R(Ae[0])}else{var q=X.name;G[q]=X,le=q}return!ne&&le&&(z=le),le||!ne&&z},p=function(R,X){if(N(R))return R.clone();var J=typeof X=="object"?X:{};return J.date=R,J.args=arguments,new _(J)},x=M;x.l=K,x.i=N,x.w=function(R,X){return p(R,{locale:X.$L,utc:X.$u,x:X.$x,$offset:X.$offset})};var _=function(){function R(J){this.$L=K(J.locale,null,!0),this.parse(J),this.$x=this.$x||J.x||{},this[Y]=!0}var X=R.prototype;return X.parse=function(J){this.$d=function(ne){var le=ne.date,me=ne.utc;if(le===null)return new Date(NaN);if(x.u(le))return new Date;if(le instanceof Date)return new Date(le);if(typeof le=="string"&&!/Z$/i.test(le)){var Ae=le.match(y);if(Ae){var q=Ae[2]-1||0,Z=(Ae[7]||"0").substring(0,3);return me?new Date(Date.UTC(Ae[1],q,Ae[3]||1,Ae[4]||0,Ae[5]||0,Ae[6]||0,Z)):new Date(Ae[1],q,Ae[3]||1,Ae[4]||0,Ae[5]||0,Ae[6]||0,Z)}}return new Date(le)}(J),this.init()},X.init=function(){var J=this.$d;this.$y=J.getFullYear(),this.$M=J.getMonth(),this.$D=J.getDate(),this.$W=J.getDay(),this.$H=J.getHours(),this.$m=J.getMinutes(),this.$s=J.getSeconds(),this.$ms=J.getMilliseconds()},X.$utils=function(){return x},X.isValid=function(){return this.$d.toString()!==f},X.isSame=function(J,ne){var le=p(J);return this.startOf(ne)<=le&&le<=this.endOf(ne)},X.isAfter=function(J,ne){return p(J)<this.startOf(ne)},X.isBefore=function(J,ne){return this.endOf(ne)<p(J)},X.$g=function(J,ne,le){return x.u(J)?this[ne]:this.set(le,J)},X.unix=function(){return Math.floor(this.valueOf()/1e3)},X.valueOf=function(){return this.$d.getTime()},X.startOf=function(J,ne){var le=this,me=!!x.u(ne)||ne,Ae=x.p(J),q=function(ee,ie){var ge=x.w(le.$u?Date.UTC(le.$y,ie,ee):new Date(le.$y,ie,ee),le);return me?ge:ge.endOf(T)},Z=function(ee,ie){return x.w(le.toDate()[ee].apply(le.toDate("s"),(me?[0,0,0,0]:[23,59,59,999]).slice(ie)),le)},re=this.$W,ae=this.$M,oe=this.$D,ue="set"+(this.$u?"UTC":"");switch(Ae){case r:return me?q(1,0):q(31,11);case S:return me?q(1,ae):q(0,ae+1);case k:var Ee=this.$locale().weekStart||0,O=(re<Ee?re+7:re)-Ee;return q(me?oe-O:oe+(6-O),ae);case T:case D:return Z(ue+"Hours",0);case c:return Z(ue+"Minutes",1);case C:return Z(ue+"Seconds",2);case b:return Z(ue+"Milliseconds",3);default:return this.clone()}},X.endOf=function(J){return this.startOf(J,!1)},X.$set=function(J,ne){var le,me=x.p(J),Ae="set"+(this.$u?"UTC":""),q=(le={},le[T]=Ae+"Date",le[D]=Ae+"Date",le[S]=Ae+"Month",le[r]=Ae+"FullYear",le[c]=Ae+"Hours",le[C]=Ae+"Minutes",le[b]=Ae+"Seconds",le[A]=Ae+"Milliseconds",le)[me],Z=me===T?this.$D+(ne-this.$W):ne;if(me===S||me===r){var re=this.clone().set(D,1);re.$d[q](Z),re.init(),this.$d=re.set(D,Math.min(this.$D,re.daysInMonth())).$d}else q&&this.$d[q](Z);return this.init(),this},X.set=function(J,ne){return this.clone().$set(J,ne)},X.get=function(J){return this[x.p(J)]()},X.add=function(J,ne){var le,me=this;J=Number(J);var Ae=x.p(ne),q=function(ae){var oe=p(me);return x.w(oe.date(oe.date()+Math.round(ae*J)),me)};if(Ae===S)return this.set(S,this.$M+J);if(Ae===r)return this.set(r,this.$y+J);if(Ae===T)return q(1);if(Ae===k)return q(7);var Z=(le={},le[C]=s,le[c]=u,le[b]=t,le)[Ae]||1,re=this.$d.getTime()+J*Z;return x.w(re,this)},X.subtract=function(J,ne){return this.add(-1*J,ne)},X.format=function(J){var ne=this,le=this.$locale();if(!this.isValid())return le.invalidDate||f;var me=J||"YYYY-MM-DDTHH:mm:ssZ",Ae=x.z(this),q=this.$H,Z=this.$m,re=this.$M,ae=le.weekdays,oe=le.months,ue=le.meridiem,Ee=function(ie,ge,_e,we){return ie&&(ie[ge]||ie(ne,me))||_e[ge].slice(0,we)},O=function(ie){return x.s(q%12||12,ie,"0")},ee=ue||function(ie,ge,_e){var we=ie<12?"AM":"PM";return _e?we.toLowerCase():we};return me.replace(Q,function(ie,ge){return ge||function(_e){switch(_e){case"YY":return String(ne.$y).slice(-2);case"YYYY":return x.s(ne.$y,4,"0");case"M":return re+1;case"MM":return x.s(re+1,2,"0");case"MMM":return Ee(le.monthsShort,re,oe,3);case"MMMM":return Ee(oe,re);case"D":return ne.$D;case"DD":return x.s(ne.$D,2,"0");case"d":return String(ne.$W);case"dd":return Ee(le.weekdaysMin,ne.$W,ae,2);case"ddd":return Ee(le.weekdaysShort,ne.$W,ae,3);case"dddd":return ae[ne.$W];case"H":return String(q);case"HH":return x.s(q,2,"0");case"h":return O(1);case"hh":return O(2);case"a":return ee(q,Z,!0);case"A":return ee(q,Z,!1);case"m":return String(Z);case"mm":return x.s(Z,2,"0");case"s":return String(ne.$s);case"ss":return x.s(ne.$s,2,"0");case"SSS":return x.s(ne.$ms,3,"0");case"Z":return Ae}return null}(ie)||Ae.replace(":","")})},X.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},X.diff=function(J,ne,le){var me,Ae=this,q=x.p(ne),Z=p(J),re=(Z.utcOffset()-this.utcOffset())*s,ae=this-Z,oe=function(){return x.m(Ae,Z)};switch(q){case r:me=oe()/12;break;case S:me=oe();break;case E:me=oe()/3;break;case k:me=(ae-re)/6048e5;break;case T:me=(ae-re)/864e5;break;case c:me=ae/u;break;case C:me=ae/s;break;case b:me=ae/t;break;default:me=ae}return le?me:x.a(me)},X.daysInMonth=function(){return this.endOf(S).$D},X.$locale=function(){return G[this.$L]},X.locale=function(J,ne){if(!J)return this.$L;var le=this.clone(),me=K(J,ne,!0);return me&&(le.$L=me),le},X.clone=function(){return x.w(this.$d,this)},X.toDate=function(){return new Date(this.valueOf())},X.toJSON=function(){return this.isValid()?this.toISOString():null},X.toISOString=function(){return this.$d.toISOString()},X.toString=function(){return this.$d.toUTCString()},R}(),B=_.prototype;return p.prototype=B,[["$ms",A],["$s",b],["$m",C],["$H",c],["$W",T],["$M",S],["$y",r],["$D",D]].forEach(function(R){B[R[1]]=function(X){return this.$g(X,R[0],R[1])}}),p.extend=function(R,X){return R.$i||(R(X,_,p),R.$i=!0),p},p.locale=K,p.isDayjs=N,p.unix=function(R){return p(1e3*R)},p.en=G[z],p.Ls=G,p.p={},p})}(sl,sl.exports);var mm=sl.exports,An=Ni(mm);const ym=d=>{const{token:i,deviceId:t="",channelId:s="",type:u="",streamId:A="",beginTime:b="",endTime:C="",recordType:c="",webrtc:T="",domain:k,encryptStream:S=!0,streamType:E=""}=d,r=Gt.getRandomString();let D=u=="1"?"real":c==="localRecord"?"localRecord":"cloudRecord";D=T?"talk":D;let f={kitToken:i,deviceId:t,channelId:s,streamId:A,businessType:D,beginTime:b,endTime:C,webrtc:T,rtsvEnable:!0,encryptStreamFlag:S};return E&&(f.protoType=E),Aa("/openapi/getEncryptKitStreamUrl",{id:r,params:f},k)},Am=d=>{const{token:i,deviceId:t,channelId:s,type:u,streamId:A,beginTime:b,endTime:C,recordType:c,tid:T,domain:k}=d,S=Gt.getRandomString(),E=An(b).format("YYYY_MM_DD_HH_mm_ss"),r=An(C).format("YYYY_MM_DD_HH_mm_ss"),D=u=="1"?"live":c==="localRecord"?"local":"cloud";return Aa("/openapi/getDeviceEncryptKey",{id:S,params:{businessType:D,kitToken:i,deviceId:t,channelId:s,streamId:A,beginTime:E,endTime:r,tid:T||"xxxxxxxxxxx"}},k)},vm=d=>Ar(this,null,function*(){var E;const{token:i,deviceId:t,channelId:s,recordType:u,beginTime:A,endTime:b,domain:C}=d,T={id:Gt.getRandomString(),params:{kitToken:i,deviceId:t,channelId:s,recordType:u==="localRecord"?"local":"cloud",beginTime:A,endTime:b}},k=yield Aa("/openapi/queryDeviceRecordsByKitToken",T,C),S=(E=k==null?void 0:k.data)==null?void 0:E.result;return(S==null?void 0:S.code)==="0"?S==null?void 0:S.data:S}),xm=(d,i)=>{const{token:t,deviceId:s,channelId:u,domain:A}=d;return Aa("/openapi/controlMovePTZByKitToken",{params:{kitToken:t,deviceId:s,channelId:u,operation:i}},A)},Cm=d=>{const{token:i,deviceId:t,channelId:s,streamId:u,domain:A,type:b,streamType:C=""}=d,c=Gt.getRandomString();let T={kitToken:i,deviceId:t,channelId:s,streamId:u,businessType:"rtspTalk",talkType:b==="video"?"1":"0",rtsvEnable:!0};return C&&(T.protoType=C),Aa("/openapi/getEncryptKitStreamUrl",{id:c,params:T},A)},ll=d=>Ar(this,null,function*(){var D;const{token:i,deviceId:t,channelId:s,streamId:u,domain:A,recordType:b,year:C,month:c}=d,T=Gt.getRandomString(),k=b==="localRecord"?"queryLocalRecordBitmapByKitToken":"queryCloudRecordBitmapByKitToken",S={id:T,params:{kitToken:i,deviceId:t,channelId:s,streamId:u,year:C,month:c}},E=yield Aa(`/openapi/${k}`,S,A),r=(D=E==null?void 0:E.data)==null?void 0:D.result;return(r==null?void 0:r.code)==="0"?r==null?void 0:r.data:r}),bm=d=>Ar(this,null,function*(){var S;const{token:i,deviceId:t,channelId:s,domain:u,ref:A,content:b={}}=d,c={id:Gt.getRandomString(),params:{kitToken:i,deviceId:t,channelId:s,ref:A,content:b}},T=yield Aa("/openapi/iotDeviceControlByKitToken",c,u),k=(S=T==null?void 0:T.data)==null?void 0:S.result;return(k==null?void 0:k.code)==="0"?k==null?void 0:k.data:k}),_m=d=>{const{logs:i,domain:t}=d,u={id:Gt.getRandomString(),params:{logs:i}};return Aa("/openapi/reportBuryLog",u,t)},Em=d=>{const{domain:i}=d,s={id:Gt.getRandomString(),params:{}};return Aa("/openapi/getBuryConfig",s,i)};var A1="",v1="",du={exports:{}};du.exports,function(d){(function(i){var t,s=i.document,u={modules:{},status:{},timeout:10,event:{}},A=function(){this.v="2.9.18"},b=i.LAYUI_GLOBAL||{},C=(t=s.currentScript&&s.currentScript.tagName.toUpperCase()==="SCRIPT"?s.currentScript.src:function(){for(var E,r=s.getElementsByTagName("script"),D=r.length-1,f=D;0<f;f--)if(r[f].readyState==="interactive"){E=r[f].src;break}return E||r[D].src}(),u.dir=b.dir||t.substring(0,t.lastIndexOf("/")+1)),c=function(E,r){r=r||"log",i.console&&console[r]&&console[r]("layui error hint: "+E)},T=typeof opera!="undefined"&&opera.toString()==="[object Opera]",k=u.builtin={lay:"lay",layer:"layer",laydate:"laydate",laypage:"laypage",laytpl:"laytpl",form:"form",upload:"upload",dropdown:"dropdown",transfer:"transfer",tree:"tree",table:"table",treeTable:"treeTable",element:"element",rate:"rate",colorpicker:"colorpicker",slider:"slider",carousel:"carousel",flow:"flow",util:"util",code:"code",jquery:"jquery",all:"all","layui.all":"layui.all"},S=(A.prototype.cache=u,A.prototype.define=function(E,r){return typeof E=="function"&&(r=E,E=[]),this.use(E,function(){var D=function(f,y){layui[f]=y,u.status[f]=!0};return typeof r=="function"&&r(function(f,y){D(f,y),u.callback[f]=function(){r(D)}}),this},null,"define"),this},A.prototype.use=function(E,r,D,f){var y,Q,g=this,w=u.dir=u.dir||C,M=s.getElementsByTagName("head")[0],z=(E=typeof E=="string"?[E]:typeof E=="function"?(r=E,["all"]):E,i.jQuery&&jQuery.fn.on&&(g.each(E,function(K,p){p==="jquery"&&E.splice(K,1)}),layui.jquery=layui.$=jQuery),E[0]),G=0;function Y(K,p){var x=navigator.platform==="PLaySTATION 3"?/^complete$/:/^(complete|loaded)$/;K.type!=="load"&&!x.test((K.currentTarget||K.srcElement).readyState)||(u.modules[z]=p,M.removeChild(y),function _(){return++G>1e3*u.timeout/4?c(z+" is not a valid module","error"):void(u.status[z]?N():setTimeout(_,4))}())}function N(){D.push(layui[z]),1<E.length?g.use(E.slice(1),r,D,f):typeof r=="function"&&(layui.jquery&&typeof layui.jquery=="function"&&f!=="define"?layui.jquery(function(){r.apply(layui,D)}):r.apply(layui,D))}return D=D||[],u.host=u.host||(w.match(/\/\/([\s\S]+?)\//)||["//"+location.host+"/"])[0],E.length===0||layui["layui.all"]&&k[z]?N():(Q=(Q=(k[z]?w+"modules/":!/^\{\/\}/.test(g.modules[z])&&u.base||"")+(g.modules[z]||z)+".js").replace(/^\{\/\}/,""),!u.modules[z]&&layui[z]&&(u.modules[z]=Q),u.modules[z]?function K(){return++G>1e3*u.timeout/4?c(z+" is not a valid module","error"):void(typeof u.modules[z]=="string"&&u.status[z]?N():setTimeout(K,4))}():((y=s.createElement("script")).async=!0,y.charset="utf-8",y.src=Q+((w=u.version===!0?u.v||new Date().getTime():u.version||"")?"?v="+w:""),M.appendChild(y),!y.attachEvent||y.attachEvent.toString&&y.attachEvent.toString().indexOf("[native code")<0||T?y.addEventListener("load",function(K){Y(K,Q)},!1):y.attachEvent("onreadystatechange",function(K){Y(K,Q)}),u.modules[z]=Q)),g},A.prototype.disuse=function(E){var r=this;return E=r.isArray(E)?E:[E],r.each(E,function(D,f){u.status[f],delete r[f],delete k[f],delete r.modules[f],delete u.status[f],delete u.modules[f]}),r},A.prototype.getStyle=function(E,r){return E=E.currentStyle||i.getComputedStyle(E,null),E[E.getPropertyValue?"getPropertyValue":"getAttribute"](r)},A.prototype.link=function(E,r,D){var f=this,y=s.getElementsByTagName("head")[0],Q=s.createElement("link"),g="layuicss-"+((D=typeof r=="string"?r:D)||E).replace(/\.|\//g,""),w="creating",M=0;return Q.href=E+(u.debug?"?v="+new Date().getTime():""),Q.rel="stylesheet",Q.id=g,Q.media="all",s.getElementById(g)||y.appendChild(Q),typeof r=="function"&&function z(G){var Y=s.getElementById(g);return++M>1e3*u.timeout/100?c(E+" timeout"):void(parseInt(f.getStyle(Y,"width"))===1989?(G===w&&Y.removeAttribute("lay-status"),Y.getAttribute("lay-status")===w?setTimeout(z,100):r()):(Y.setAttribute("lay-status",w),setTimeout(function(){z(w)},100)))}(),f},A.prototype.addcss=function(E,r,D){return layui.link(u.dir+"css/"+E,r,D)},u.callback={},A.prototype.factory=function(E){if(layui[E])return typeof u.callback[E]=="function"?u.callback[E]:null},A.prototype.img=function(E,r,D){var f=new Image;if(f.src=E,f.complete)return r(f);f.onload=function(){f.onload=null,typeof r=="function"&&r(f)},f.onerror=function(y){f.onerror=null,typeof D=="function"&&D(y)}},A.prototype.config=function(E){for(var r in E=E||{})u[r]=E[r];return this},A.prototype.modules=function(){var E,r={};for(E in k)r[E]=k[E];return r}(),A.prototype.extend=function(E){for(var r in E=E||{})this[r]||this.modules[r]?c(r+" Module already exists","error"):this.modules[r]=E[r];return this},A.prototype.router=A.prototype.hash=function(E){var r={path:[],search:{},hash:((E=E||location.hash).match(/[^#](#.*$)/)||[])[1]||""};return/^#\//.test(E)&&(E=E.replace(/^#\//,""),r.href="/"+E,E=E.replace(/([^#])(#.*$)/,"$1").split("/")||[],this.each(E,function(D,f){/^\w+=/.test(f)?(f=f.split("="),r.search[f[0]]=f[1]):r.path.push(f)})),r},A.prototype.url=function(E){var r,D,f=this;return{pathname:(E?((E.match(/\.[^.]+?\/.+/)||[])[0]||"").replace(/^[^\/]+/,"").replace(/\?.+/,""):location.pathname).replace(/^\//,"").split("/"),search:(r={},D=(E?((E.match(/\?.+/)||[])[0]||"").replace(/\#.+/,""):location.search).replace(/^\?+/,"").split("&"),f.each(D,function(y,Q){var g=Q.indexOf("="),w=g<0?Q.substr(0,Q.length):g!==0&&Q.substr(0,g);w&&(r[w]=0<g?Q.substr(g+1):null)}),r),hash:f.router(E?(E.match(/#.+/)||[])[0]||"/":location.hash)}},A.prototype.data=function(E,r,D){if(E=E||"layui",D=D||localStorage,i.JSON&&i.JSON.parse){if(r===null)return delete D[E];r=typeof r=="object"?r:{key:r};try{var f=JSON.parse(D[E])}catch(y){f={}}return"value"in r&&(f[r.key]=r.value),r.remove&&delete f[r.key],D[E]=JSON.stringify(f),r.key?f[r.key]:f}},A.prototype.sessionData=function(E,r){return this.data(E,r,sessionStorage)},A.prototype.device=function(E){var r=navigator.userAgent.toLowerCase(),D=function(y){var Q=new RegExp(y+"/([^\\s\\_\\-]+)");return(y=(r.match(Q)||[])[1])||!1},f={os:/windows/.test(r)?"windows":/linux/.test(r)?"linux":/iphone|ipod|ipad|ios/.test(r)?"ios":/mac/.test(r)?"mac":void 0,ie:!!(i.ActiveXObject||"ActiveXObject"in i)&&((r.match(/msie\s(\d+)/)||[])[1]||"11"),weixin:D("micromessenger")};return E&&!f[E]&&(f[E]=D(E)),f.android=/android/.test(r),f.ios=f.os==="ios",f.mobile=f.android||f.ios,f},A.prototype.hint=function(){return{error:c}},A.prototype._typeof=A.prototype.type=function(E){return E===null?String(E):typeof E=="object"||typeof E=="function"?(r=(r=Object.prototype.toString.call(E).match(/\s(.+)\]$/)||[])[1]||"Object",new RegExp("\\b(Function|Array|Date|RegExp|Object|Error|Symbol)\\b").test(r)?r.toLowerCase():"object"):typeof E;var r},A.prototype._isArray=A.prototype.isArray=function(E){var r,D=this.type(E);return!(!E||typeof E!="object"||E===i)&&(r="length"in E&&E.length,D==="array"||r===0||typeof r=="number"&&0<r&&r-1 in E)},A.prototype.each=function(E,r){var D,f=function(y,Q){return r.call(Q[y],y,Q[y])};if(typeof r=="function"){if(this.isArray(E=E||[]))for(D=0;D<E.length&&!f(D,E);D++);else for(D in E)if(f(D,E))break}return this},A.prototype.sort=function(E,r,D,f){if(f=f?E||[]:JSON.parse(JSON.stringify(E||[])),this.type(E)!=="object"||r){if(typeof E!="object")return[f];f.sort(function(y,Q){var g=y[r],w=Q[r];if(!isNaN(y)&&!isNaN(Q))return y-Q;if(!isNaN(y)&&isNaN(Q)){if(!r||typeof Q!="object")return-1;g=y}else if(isNaN(y)&&!isNaN(Q)){if(!r||typeof y!="object")return 1;w=Q}return y=[!isNaN(g),!isNaN(w)],y[0]&&y[1]?g&&!w&&w!==0?1:!g&&g!==0&&w?-1:g-w:y[0]||y[1]?y[0]||!y[1]?-1:!y[0]||y[1]?1:void 0:w<g?1:g<w?-1:0}),D&&f.reverse()}return f},A.prototype.stope=function(E){E=E||i.event;try{E.stopPropagation()}catch(r){E.cancelBubble=!0}},"LAYUI-EVENT-REMOVE");A.prototype.onevent=function(E,r,D){return typeof E!="string"||typeof D!="function"?this:A.event(E,r,null,D)},A.prototype.event=A.event=function(w,r,D,f){var y=this,Q=null,g=(r||"").match(/\((.*)\)$/)||[],w=(w+"."+r).replace(g[0],""),M=g[1]||"",z=function(G,Y){(Y&&Y.call(y,D))===!1&&Q===null&&(Q=!1)};return D===S?(delete(y.cache.event[w]||{})[M],y):f?(u.event[w]=u.event[w]||{},M?u.event[w][M]=[f]:(u.event[w][M]=u.event[w][M]||[],u.event[w][M].push(f)),this):(layui.each(u.event[w],function(G,Y){(M==="{*}"||(G===""&&layui.each(Y,z),M&&G===M))&&layui.each(Y,z)}),Q)},A.prototype.on=function(E,r,D){return this.onevent.call(this,r,E,D)},A.prototype.off=function(E,r){return this.event.call(this,r,E,S)},A.prototype.debounce=function(E,r){var D;return function(){var f=this,y=arguments;clearTimeout(D),D=setTimeout(function(){E.apply(f,y)},r)}},A.prototype.throttle=function(E,r){var D=!1;return function(){D||(E.apply(this,arguments),D=!0,setTimeout(function(){D=!1},r))}},i.layui=new A})(window),layui.define(function(i){var t=layui.cache;layui.config({dir:t.dir.replace(/lay\/dest\/$/,"")}),i("layui.all",layui.v)}),function(i){var t,s=i.document,u=function(b){return new A(b)},A=function(b){var C=this,c=typeof b=="object"?layui.isArray(b)?b:[b]:(this.selector=b,s.querySelectorAll(b||null));u.each(c,function(T,k){C.push(c[T])})};Array.prototype.indexOf=Array.prototype.indexOf||function(b,C){var c=-1;return C=C||0,layui.each(this,function(T,k){if(b===k&&C<=T)return c=T,!0}),c},A.fn=A.prototype=[],A.fn.constructor=A,u.extend=function(){var b,C=1,c=arguments,T=function(k,S){for(var E in k=k||(layui.type(S)==="array"?[]:{}),S)k[E]=S[E]&&S[E].constructor===Object?T(k[E],S[E]):S[E];return k};for(c[0]=typeof c[0]=="object"?c[0]:{},b=c.length;C<b;C++)typeof c[C]=="object"&&T(c[0],c[C]);return c[0]},u.ie=(t=navigator.userAgent.toLowerCase(),!!(i.ActiveXObject||"ActiveXObject"in i)&&((t.match(/msie\s(\d+)/)||[])[1]||"11")),u.layui=layui||{},u.getPath=layui.cache.dir,u.stope=layui.stope,u.each=function(){return layui.each.apply(layui,arguments),this},u.digit=function(b,C){if(typeof b!="string"&&typeof b!="number")return"";var c="";C=C||2;for(var T=(b=String(b)).length;T<C;T++)c+="0";return b<Math.pow(10,C)?c+b:b},u.elem=function(b,C){var c=s.createElement(b);return u.each(C||{},function(T,k){c.setAttribute(T,k)}),c},u.hasScrollbar=function(){return s.body.scrollHeight>(i.innerHeight||s.documentElement.clientHeight)},u.getStyleRules=function(b,C){if(b)return b=(b=b.sheet||b.styleSheet||{}).cssRules||b.rules,typeof C=="function"&&layui.each(b,function(c,T){if(C(T,c))return!0}),b},u.style=function(b){b=b||{};var C=u.elem("style"),c=b.text||"",T=b.target;if(c)return"styleSheet"in C?(C.setAttribute("type","text/css"),C.styleSheet.cssText=c):C.innerHTML=c,C.id="LAY-STYLE-"+(b.id||(c=u.style.index||0,u.style.index++,"DF-"+c)),T&&((b=u(T).find("#"+C.id))[0]&&b.remove(),u(T).append(C)),C},u.position=function(b,C,c){var T,k,S,E,r,D,f,y,Q;C&&(c=c||{},b!==s&&b!==u("body")[0]||(c.clickType="right"),T=c.clickType==="right"?{left:(T=c.e||i.event||{}).clientX,top:T.clientY,right:T.clientX,bottom:T.clientY}:b.getBoundingClientRect(),D=C.offsetWidth,f=C.offsetHeight,k=function(g){return s.body[g=g?"scrollLeft":"scrollTop"]|s.documentElement[g]},S=function(g){return s.documentElement[g?"clientWidth":"clientHeight"]},E="margin"in c?c.margin:5,Q=T.left,r=T.bottom,c.align==="center"?Q-=(D-b.offsetWidth)/2:c.align==="right"&&(Q=Q-D+b.offsetWidth),(Q=Q+D+E>S("width")?S("width")-D-E:Q)<E&&(Q=E),T.bottom+f+E>S()&&(T.top>f+E&&T.top<=S()?r=T.top-f-2*E:c.allowBottomOut||(r=S()-f-2*E)<0&&(r=0)),(D=c.position)&&(C.style.position=D),f=c.offset?c.offset[0]:0,y=c.offset?c.offset[1]:0,C.style.left=Q+(D==="fixed"?0:k(1))+f+"px",C.style.top=r+(D==="fixed"?0:k())+y+"px",u.hasScrollbar()||(Q=C.getBoundingClientRect(),!c.SYSTEM_RELOAD&&Q.bottom+E>S()&&(c.SYSTEM_RELOAD=!0,setTimeout(function(){u.position(b,C,c)},50))))},u.options=function(T,C){if(C=typeof C=="object"?C:{attr:C},T===s)return{};var T=u(T),c=C.attr||"lay-options",T=T.attr(c);try{return new Function("return "+(T||"{}"))()}catch(k){return layui.hint().error(C.errorText||[c+'="'+T+'"',`
 parseerror: `+k].join(`
`),"error"),{}}},u.isTopElem=function(b){var C=[s,u("body")[0]],c=!1;return u.each(C,function(T,k){if(k===b)return c=!0}),c},u.clipboard={writeText:function(b){var C=String(b.text);function c(){var T=s.createElement("textarea");T.value=C,T.style.position="fixed",T.style.opacity="0",T.style.top="0px",T.style.left="0px",s.body.appendChild(T),T.select();try{s.execCommand("copy"),typeof b.done=="function"&&b.done()}catch(k){typeof b.error=="function"&&b.error(k)}finally{T.remove?T.remove():s.body.removeChild(T)}}navigator&&"clipboard"in navigator?navigator.clipboard.writeText(C).then(b.done,function(){c()}):c()}},u.passiveSupported=function(){var b=!1;try{var C=Object.defineProperty({},"passive",{get:function(){b=!0}});i.addEventListener("test",null,C),i.removeEventListener("test",null,C)}catch(c){}return b}(),u.touchEventsSupported=function(){return"ontouchstart"in i},u.touchSwipe=function(b,C){var c,T,k,S=C,E=u(b)[0];E&&u.touchEventsSupported()&&(c={pointerStart:{x:0,y:0},pointerEnd:{x:0,y:0},distanceX:0,distanceY:0,direction:"none",timeStart:null},C=function(r){r.touches.length===1&&(E.addEventListener("touchmove",T,!!u.passiveSupported&&{passive:!1}),E.addEventListener("touchend",k),E.addEventListener("touchcancel",k),c.timeStart=Date.now(),c.pointerStart.x=c.pointerEnd.x=r.touches[0].clientX,c.pointerStart.y=c.pointerEnd.y=r.touches[0].clientY,c.distanceX=c.distanceY=0,c.direction="none",S.onTouchStart)&&S.onTouchStart(r,c)},T=function(r){r.preventDefault(),c.pointerEnd.x=r.touches[0].clientX,c.pointerEnd.y=r.touches[0].clientY,c.distanceX=c.pointerStart.x-c.pointerEnd.x,c.distanceY=c.pointerStart.y-c.pointerEnd.y,Math.abs(c.distanceX)>Math.abs(c.distanceY)?c.direction=0<c.distanceX?"left":"right":c.direction=0<c.distanceY?"up":"down",S.onTouchMove&&S.onTouchMove(r,c)},k=function(r){S.onTouchEnd&&S.onTouchEnd(r,c),E.removeEventListener("touchmove",T),E.removeEventListener("touchend",k,!!u.passiveSupported&&{passive:!1}),E.removeEventListener("touchcancel",k)},E.__lay_touchswipe_cb_&&E.removeEventListener("touchstart",E.__lay_touchswipe_cb_),E.__lay_touchswipe_cb_=C,E.addEventListener("touchstart",C))},u.addEvent=s.addEventListener?function(b,C,c,T){b.addEventListener(C,c,T)}:function(b,C,c){var T="_lay_on_"+C,k=function(E){E.target=E.srcElement,c.call(b,E)},S=(k._rawFn=c,b[T]||(b[T]=[]),!1);u.each(b[T],function(E,r){if(r._rawFn===c)return S=!0}),S||(b[T].push(k),b.attachEvent("on"+C,k))},u.removeEvent=s.removeEventListener?function(b,C,c,T){b.removeEventListener(C,c,T)}:function(b,C,c){var T,k="_lay_on_"+C,S=b[k];layui.isArray(S)&&(T=[],u.each(S,function(E,r){r._rawFn===c?b.detachEvent("on"+C,r):T.push(r)}),b[k]=T)},u.onClickOutside=function(b,C,y){var T,k,S,E,r=(y=y||{}).event||("onpointerdown"in i?"pointerdown":"mousedown"),D=y.scope||s,f=y.ignore||[],y=!("capture"in y)||y.capture;return T=D,k=r,S=function(Q){var g=b,w=Q.target||Q.srcElement,M=function(Y){var G=Y.composedPath&&Y.composedPath()||Y.path,Y=Y.target||Y.srcElement;return G!=null?G:[Y].concat(function N(K,p){return p=p||[],K=K.parentNode,K?N(K,p.concat([K])):p}(Y))}(Q);g&&g!==w&&M.indexOf(g)===-1&&!function(z,G){for(var Y=z.target||z.srcElement,N=0;N<f.length;N++){var K=f[N];if(typeof K=="string")for(var p=s.querySelectorAll(K),x=0;x<p.length;x++){var _=p[N];if(_===Y||G.indexOf(_)!==-1)return 1}else if(K&&(K===Y||G.indexOf(K)!==-1))return 1}}(Q,M)&&C(Q)},E=u.passiveSupported?{passive:!0,capture:y}:y,T.addEventListener?T.addEventListener(k,S,E):T.attachEvent("on"+k,S),function(){T.removeEventListener?T.removeEventListener(k,S,E):T.detachEvent("on"+k,S)}},A.addStr=function(b,C){return b=b.replace(/\s+/," "),C=C.replace(/\s+/," ").split(" "),u.each(C,function(c,T){new RegExp("\\b"+T+"\\b").test(b)||(b=b+" "+T)}),b.replace(/^\s|\s$/,"")},A.removeStr=function(b,C){return b=b.replace(/\s+/," "),C=C.replace(/\s+/," ").split(" "),u.each(C,function(c,T){T=new RegExp("\\b"+T+"\\b"),T.test(b)&&(b=b.replace(T,""))}),b.replace(/\s+/," ").replace(/^\s|\s$/,"")},A.fn.find=function(b){var C=[],c=typeof b=="object";return this.each(function(T,k){k=c&&k.contains(b)?b:k.querySelectorAll(b||null),u.each(k,function(S,E){C.push(E)})}),u(C)},A.fn.each=function(b){return u.each.call(this,this,b)},A.fn.addClass=function(b,C){return this.each(function(c,T){T.className=A[C?"removeStr":"addStr"](T.className,b)})},A.fn.removeClass=function(b){return this.addClass(b,!0)},A.fn.hasClass=function(b){var C=!1;return this.each(function(c,T){new RegExp("\\b"+b+"\\b").test(T.className)&&(C=!0)}),C},A.fn.css=function(b,C){var c=this,T=function(k){return isNaN(k)?k:k+"px"};return typeof b!="string"||C!==void 0?c.each(function(k,S){typeof b=="object"?u.each(b,function(E,r){S.style[E]=T(r)}):S.style[b]=T(C)}):0<c.length?c[0].style[b]:void 0},A.fn.width=function(b){var C=this;return b!==void 0?C.each(function(c,T){C.css("width",b)}):0<C.length?C[0].offsetWidth:void 0},A.fn.height=function(b){var C=this;return b!==void 0?C.each(function(c,T){C.css("height",b)}):0<C.length?C[0].offsetHeight:void 0},A.fn.attr=function(b,C){var c=this;return C!==void 0?c.each(function(T,k){k.setAttribute(b,C)}):0<c.length?c[0].getAttribute(b):void 0},A.fn.removeAttr=function(b){return this.each(function(C,c){c.removeAttribute(b)})},A.fn.html=function(b){var C=this;return b!==void 0?this.each(function(c,T){T.innerHTML=b}):0<C.length?C[0].innerHTML:void 0},A.fn.val=function(b){var C=this;return b!==void 0?this.each(function(c,T){T.value=b}):0<C.length?C[0].value:void 0},A.fn.append=function(b){return this.each(function(C,c){typeof b=="object"?c.appendChild(b):c.innerHTML=c.innerHTML+b})},A.fn.remove=function(b){return this.each(function(C,c){b?c.removeChild(b):c.parentNode.removeChild(c)})},A.fn.on=function(b,C,c){return this.each(function(T,k){u.addEvent(k,b,C,c)})},A.fn.off=function(b,C,c){return this.each(function(T,k){u.removeEvent(k,b,C,c)})},i.lay=u,i.layui&&layui.define&&layui.define(function(b){b("lay",u)})}(window),layui.define(function(i){var t={open:"{{",close:"}}"},s={escape:function(c){return c==null?"":/[<"'>]|&(?=#[a-zA-Z0-9]+)/g.test(c+="")?c.replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):c}},u=function(c){return new RegExp(c,"g")},A=function(c,T){var k="Laytpl Error: ";return typeof console=="object"&&console.error(k+c+`
`+(T||"")),k+c},b=function(S,T){var k=this,S=(k.config=k.config||{},k.template=S,function(E){for(var r in E)k.config[r]=E[r]});S(t),S(T)},C=(b.prototype.tagExp=function(c,T,k){var S=this.config;return u((T||"")+S.open+["#([\\s\\S])+?","([^{#}])*?"][c||0]+S.close+(k||""))},b.prototype.parse=function(c,T){var k=this,S=k.config,E=c,r=u("^"+S.open+"#"),D=u(S.close+"$");if(typeof c!="string")return c;c='"use strict";var view = "'+(c=c.replace(/\s+|\r|\t|\n/g," ").replace(u(S.open+"#"),S.open+"# ").replace(u(S.close+"}"),"} "+S.close).replace(/\\/g,"\\\\").replace(u(S.open+"!(.+?)!"+S.close),function(f){return f=f.replace(u("^"+S.open+"!"),"").replace(u("!"+S.close),"").replace(u(S.open+"|"+S.close),function(y){return y.replace(/(.)/g,"\\$1")})}).replace(/(?="|')/g,"\\").replace(k.tagExp(),function(f){return'";'+(f=f.replace(r,"").replace(D,"")).replace(/\\(.)/g,"$1")+';view+="'}).replace(k.tagExp(1),function(f){var y='"+laytpl.escape(';return f.replace(/\s/g,"")===S.open+S.close?"":(f=f.replace(u(S.open+"|"+S.close),""),/^=/.test(f)?f=f.replace(/^=/,""):/^-/.test(f)&&(f=f.replace(/^-/,""),y='"+('),y+f.replace(/\\(.)/g,"$1")+')+"')}))+'";return view;';try{return k.cache=c=new Function("d, laytpl",c),c(T,s)}catch(f){return delete k.cache,A(f,E)}},b.prototype.render=function(S,T){S=S||{};var k=this,S=k.cache?k.cache(S,s):k.parse(k.template,S);return typeof T=="function"&&T(S),S},function(c,T){return new b(c,T)});C.config=function(c){for(var T in c=c||{})t[T]=c[T]},C.v="2.0.0",i("laytpl",C)}),layui.define(function(i){var t=document,s="getElementById",u="getElementsByTagName",A="layui-disabled",b=function(c){var T=this;T.config=c||{},T.config.index=++C.index,T.render(!0)},C=(b.prototype.type=function(){var c=this.config;if(typeof c.elem=="object")return c.elem.length===void 0?2:3},b.prototype.view=function(){var c,T,k,S=this.config,E=S.groups="groups"in S?Number(S.groups)||0:5,r=(S.layout=typeof S.layout=="object"?S.layout:["prev","page","next"],S.count=Number(S.count)||0,S.curr=Number(S.curr)||1,S.limits=typeof S.limits=="object"?S.limits:[10,20,30,40,50],S.limit=Number(S.limit)||10,S.pages=Math.ceil(S.count/S.limit)||1,S.curr>S.pages?S.curr=S.pages:S.curr<1&&(S.curr=1),E<0?E=1:E>S.pages&&(E=S.pages),S.prev="prev"in S?S.prev:"\u4E0A\u4E00\u9875",S.next="next"in S?S.next:"\u4E0B\u4E00\u9875",S.pages>E?Math.ceil((S.curr+(1<E?1:0))/(0<E?E:1)):1),D={prev:S.prev?'<a class="layui-laypage-prev'+(S.curr==1?" "+A:"")+'" data-page="'+(S.curr-1)+'">'+S.prev+"</a>":"",page:function(){var f=[];if(S.count<1)return"";1<r&&S.first!==!1&&E!==0&&f.push('<a class="layui-laypage-first" data-page="1"  title="\u9996\u9875">'+(S.first||1)+"</a>");var y=Math.floor((E-1)/2),Q=1<r?S.curr-y:1,g=1<r?(y=S.curr+(E-y-1))>S.pages?S.pages:y:E;for(g-Q<E-1&&(Q=g-E+1),S.first!==!1&&2<Q&&f.push('<span class="layui-laypage-spr">...</span>');Q<=g;Q++)Q===S.curr?f.push('<span class="layui-laypage-curr"><em class="layui-laypage-em" '+(/^#/.test(S.theme)?'style="background-color:'+S.theme+';"':"")+"></em><em>"+Q+"</em></span>"):f.push('<a data-page="'+Q+'">'+Q+"</a>");return S.pages>E&&S.pages>g&&S.last!==!1&&(g+1<S.pages&&f.push('<span class="layui-laypage-spr">...</span>'),E!==0)&&f.push('<a class="layui-laypage-last" title="\u5C3E\u9875"  data-page="'+S.pages+'">'+(S.last||S.pages)+"</a>"),f.join("")}(),next:S.next?'<a class="layui-laypage-next'+(S.curr==S.pages?" "+A:"")+'" data-page="'+(S.curr+1)+'">'+S.next+"</a>":"",count:'<span class="layui-laypage-count">'+(T=typeof S.countText=="object"?S.countText:["\u5171 "," \u6761"])[0]+S.count+T[1]+"</span>",limit:(c=['<span class="layui-laypage-limits"><select lay-ignore>'],layui.each(S.limits,function(f,y){var Q;c.push('<option value="'+y+'"'+(y===S.limit?" selected":"")+">"+(Q=(y=y)+" \u6761/\u9875",typeof S.limitTemplet=="function"&&S.limitTemplet(y)||Q)+"</option>")}),c.join("")+"</select></span>"),refresh:['<a data-page="'+S.curr+'" class="layui-laypage-refresh">','<i class="layui-icon layui-icon-refresh"></i>',"</a>"].join(""),skip:['<span class="layui-laypage-skip">'+(T=typeof S.skipText=="object"?S.skipText:["\u5230\u7B2C","\u9875","\u786E\u5B9A"])[0],'<input type="text" min="1" value="'+S.curr+'" class="layui-input">',T[1]+'<button type="button" class="layui-laypage-btn">'+T[2]+"</button>","</span>"].join("")};return['<div class="layui-box layui-laypage layui-laypage-'+(S.theme?/^#/.test(S.theme)?"molv":S.theme:"default")+'" id="layui-laypage-'+S.index+'">',(k=[],layui.each(S.layout,function(f,y){D[y]&&k.push(D[y])}),k.join("")),"</div>"].join("")},b.prototype.jump=function(c,T){if(c){var k=this,S=k.config,E=c.children,r=c[u]("button")[0],D=c[u]("input")[0],c=c[u]("select")[0],f=function(){var w=Number(D.value.replace(/\s|\D/g,""));w&&(S.curr=w,k.render())};if(T)return f();for(var y=0,Q=E.length;y<Q;y++)E[y].nodeName.toLowerCase()==="a"&&C.on(E[y],"click",function(){var w=Number(this.getAttribute("data-page"));w<1||w>S.pages||(S.curr=w,k.render())});c&&C.on(c,"change",function(){var w=this.value;S.curr*w>S.count&&(S.curr=Math.ceil(S.count/w)),S.limit=w,k.render()}),r&&C.on(r,"click",function(){f()})}},b.prototype.skip=function(c){var T,k;c&&(T=this,k=c[u]("input")[0])&&C.on(k,"keyup",function(r){var E=this.value,r=r.keyCode;/^(37|38|39|40)$/.test(r)||(/\D/.test(E)&&(this.value=E.replace(/\D/,"")),r===13&&T.jump(c,!0))})},b.prototype.render=function(c){var T=this,k=T.config,E=T.type(),S=T.view(),E=(E===2?k.elem&&(k.elem.innerHTML=S):E===3?k.elem.html(S):t[s](k.elem)&&(t[s](k.elem).innerHTML=S),k.jump&&k.jump(k,c),t[s]("layui-laypage-"+k.index));T.jump(E),k.hash&&!c&&(location.hash="!"+k.hash+"="+k.curr),T.skip(E)},{render:function(c){return new b(c).index},index:layui.laypage?layui.laypage.index+1e4:0,on:function(c,T,k){return c.attachEvent?c.attachEvent("on"+T,function(S){S.target=S.srcElement,k.call(c,S)}):c.addEventListener(T,k,!1),this}});i("laypage",C)}),function(i,t){var s=i.layui&&layui.define,u={getPath:i.lay&&lay.getPath?lay.getPath:"",link:function(p,x,_){c.path&&i.lay&&lay.layui&&lay.layui.link(c.path+p,x,_)}},A=i.LAYUI_GLOBAL||{},b="laydate",C="lay-"+b+"-id",c={v:"5.6.0",config:{weekStart:0},index:i.laydate&&i.laydate.v?1e5:0,path:A.laydate_dir||u.getPath,set:function(p){var x=this;return x.config=lay.extend({},x.config,p),x},ready:function(p){var x="laydate",_=(s?"modules/":"")+"laydate.css?v="+c.v;return s?layui["layui.all"]?typeof p=="function"&&p():layui.addcss(_,p,x):u.link(_,p,x),this}},T=function(){var p=this,x=p.config.id;return(T.that[x]=p).inst={hint:function(_){p.hint.call(p,_)},reload:function(_){p.reload.call(p,_)},config:p.config}},k="layui-this",S="laydate-disabled",E=[100,2e5],r="layui-laydate-static",D="layui-laydate-list",f="laydate-selected",y="layui-laydate-hint",Q="laydate-day-prev",g="laydate-day-next",w=".laydate-btns-confirm",M="laydate-time-text",z="laydate-btns-time",G="layui-laydate-preview",Y="layui-laydate-shade",N=function(p){var x,_=this,B=(_.index=++c.index,_.config=lay.extend({},_.config,c.config,p),lay(p.elem||_.config.elem));return 1<B.length?(lay.each(B,function(){c.render(lay.extend({},_.config,{elem:this}))}),_):(p=lay.extend(_.config,lay.options(B[0])),B[0]&&B.attr(C)?(x=T.getThis(B.attr(C)))?x.reload(p):void 0:(p.id="id"in p?p.id:B.attr("id")||_.index,p.index=_.index,void c.ready(function(){_.init()})))},K="yyyy|y|MM|M|dd|d|HH|H|mm|m|ss|s";T.formatArr=function(p){return(p||"").match(new RegExp(K+"|.","g"))||[]},N.isLeapYear=function(p){return p%4==0&&p%100!=0||p%400==0},N.prototype.config={type:"date",range:!1,format:"yyyy-MM-dd",value:null,isInitValue:!0,min:"1900-1-1",max:"2099-12-31",trigger:"click",show:!1,showBottom:!0,isPreview:!0,btns:["clear","now","confirm"],lang:"cn",theme:"default",position:null,calendar:!1,mark:{},holidays:null,zIndex:null,done:null,change:null,autoConfirm:!0,shade:0},N.prototype.lang=function(){var p={cn:{weeks:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],time:["\u65F6","\u5206","\u79D2"],timeTips:"\u9009\u62E9\u65F6\u95F4",startTime:"\u5F00\u59CB\u65F6\u95F4",endTime:"\u7ED3\u675F\u65F6\u95F4",dateTips:"\u8FD4\u56DE\u65E5\u671F",month:["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"],tools:{confirm:"\u786E\u5B9A",clear:"\u6E05\u7A7A",now:"\u73B0\u5728"},timeout:"\u7ED3\u675F\u65F6\u95F4\u4E0D\u80FD\u65E9\u4E8E\u5F00\u59CB\u65F6\u95F4<br>\u8BF7\u91CD\u65B0\u9009\u62E9",invalidDate:"\u4E0D\u5728\u6709\u6548\u65E5\u671F\u6216\u65F6\u95F4\u8303\u56F4\u5185",formatError:["\u65E5\u671F\u683C\u5F0F\u4E0D\u5408\u6CD5<br>\u5FC5\u987B\u9075\u5FAA\u4E0B\u8FF0\u683C\u5F0F\uFF1A<br>","<br>\u5DF2\u4E3A\u4F60\u91CD\u7F6E"],preview:"\u5F53\u524D\u9009\u4E2D\u7684\u7ED3\u679C"},en:{weeks:["Su","Mo","Tu","We","Th","Fr","Sa"],time:["Hours","Minutes","Seconds"],timeTips:"Select Time",startTime:"Start Time",endTime:"End Time",dateTips:"Select Date",month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tools:{confirm:"Confirm",clear:"Clear",now:"Now"},timeout:"End time cannot be less than start Time<br>Please re-select",invalidDate:"Invalid date",formatError:["The date format error<br>Must be followed\uFF1A<br>","<br>It has been reset"],preview:"The selected result"}};return p[this.config.lang]||p.cn},N.prototype.markerOfChineseFestivals={"0-1-1":"\u5143\u65E6","0-2-14":"\u60C5\u4EBA","0-3-8":"\u5987\u5973","0-3-12":"\u690D\u6811","0-4-1":"\u611A\u4EBA","0-5-1":"\u52B3\u52A8","0-5-4":"\u9752\u5E74","0-6-1":"\u513F\u7AE5","0-9-10":"\u6559\u5E08","0-10-1":"\u56FD\u5E86","0-12-25":"\u5723\u8BDE"},N.prototype.reload=function(p){this.config=lay.extend({},this.config,p),this.init()},N.prototype.init=function(){var p=this,x=p.config,_=x.position==="static",B={year:"yyyy",month:"yyyy-MM",date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss"};x.elem=lay(x.elem),x.eventElem=lay(x.eventElem),x.elem[0]&&(layui.type(x.theme)!=="array"&&(x.theme=[x.theme]),x.fullPanel&&(x.type!=="datetime"||x.range)&&delete x.fullPanel,p.rangeStr=x.range?typeof x.range=="string"?x.range:"-":"",p.rangeLinked=!(!x.range||!x.rangeLinked||x.type!=="date"&&x.type!=="datetime"),p.autoCalendarModel=function(){var R=p.rangeLinked;return p.rangeLinked=x.range&&(x.type==="date"||x.type==="datetime")&&(!p.startDate||!p.endDate||p.startDate&&p.endDate&&p.startDate.year===p.endDate.year&&p.startDate.month===p.endDate.month),lay(p.elem)[p.rangeLinked?"addClass":"removeClass"]("layui-laydate-linkage"),p.rangeLinked!=R},p.autoCalendarModel.auto=p.rangeLinked&&x.rangeLinked==="auto",layui.type(x.range)==="array"&&(p.rangeElem=[lay(x.range[0]),lay(x.range[1])]),B[x.type]||(i.console&&console.error&&console.error("laydate type error:'"+x.type+"' is not supported"),x.type="date"),x.format===B.date&&(x.format=B[x.type]||B.date),p.format=T.formatArr(x.format),x.weekStart&&!/^[0-6]$/.test(x.weekStart)&&(B=p.lang(),x.weekStart=B.weeks.indexOf(x.weekStart),x.weekStart===-1)&&(x.weekStart=0),p.EXP_IF="",p.EXP_SPLIT="",lay.each(p.format,function(R,X){R=new RegExp(K).test(X)?"\\d{"+(new RegExp(K).test(p.format[R===0?R+1:R-1]||"")?/^yyyy|y$/.test(X)?4:X.length:/^yyyy$/.test(X)?"1,4":/^y$/.test(X)?"1,308":"1,2")+"}":"\\"+X,p.EXP_IF=p.EXP_IF+R,p.EXP_SPLIT=p.EXP_SPLIT+"("+R+")"}),p.EXP_IF_ONE=new RegExp("^"+p.EXP_IF+"$"),p.EXP_IF=new RegExp("^"+(x.range?p.EXP_IF+"\\s\\"+p.rangeStr+"\\s"+p.EXP_IF:p.EXP_IF)+"$"),p.EXP_SPLIT=new RegExp("^"+p.EXP_SPLIT+"$",""),p.isInput(x.elem[0])||x.trigger==="focus"&&(x.trigger="click"),x.elem.attr("lay-key",p.index),x.eventElem.attr("lay-key",p.index),x.elem.attr(C,x.id),lay.each(["min","max"],function(le,X){var me=[],Ae=[];if(typeof x[X]=="number")var J=x[X],ne=new Date,ne=p.newDate({year:ne.getFullYear(),month:ne.getMonth(),date:ne.getDate(),hours:le?23:0,minutes:le?59:0,seconds:le?59:0}).getTime(),le=new Date(J?J<864e5?ne+864e5*J:J:ne),me=[le.getFullYear(),le.getMonth()+1,le.getDate()],Ae=[le.getHours(),le.getMinutes(),le.getSeconds()];else if(typeof x[X]=="string")me=(x[X].match(/\d+-\d+-\d+/)||[""])[0].split("-"),Ae=(x[X].match(/\d+:\d+:\d+/)||[""])[0].split(":");else if(typeof x[X]=="object")return x[X];x[X]={year:0|me[0]||new Date().getFullYear(),month:me[1]?(0|me[1])-1:new Date().getMonth(),date:0|me[2]||new Date().getDate(),hours:0|Ae[0],minutes:0|Ae[1],seconds:0|Ae[2]}}),p.elemID="layui-laydate"+x.elem.attr("lay-key"),(x.show||_)&&p.render(),_||p.events(),typeof x.formatToDisplay=="function"&&(p.isInput(x.elem[0])?p.formatToDisplay(x.elem[0],x.formatToDisplay):(B=p.rangeElem)&&(p.formatToDisplay(B[0][0],x.formatToDisplay),p.formatToDisplay(B[1][0],x.formatToDisplay))),x.value)&&x.isInitValue&&(layui.type(x.value)==="date"?p.setValue(p.parse(0,p.systemDate(x.value))):p.setValue(x.value))},N.prototype.render=function(){var p,x,_,B,R=this,X=R.config,J=R.lang(),ne=X.position==="static",le=R.elem=lay.elem("div",{id:R.elemID,class:["layui-laydate",X.range?" layui-laydate-range":"",R.rangeLinked?" layui-laydate-linkage":"",ne?" "+r:"",X.fullPanel?" laydate-theme-fullpanel":"",(p="",lay.each(X.theme,function(O,ee){ee==="default"||/^#/.test(ee)||(p+=" laydate-theme-"+ee)}),p)].join("")}),me=R.elemMain=[],Ae=R.elemHeader=[],q=R.elemCont=[],Z=R.table=[],re=R.footer=lay.elem("div",{class:"layui-laydate-footer"}),Ee=R.shortcut=lay.elem("ul",{class:"layui-laydate-shortcut"}),ae=(X.zIndex&&(le.style.zIndex=X.zIndex),lay.each(new Array(2),function(O){if(!X.range&&0<O)return!0;var ee=lay.elem("div",{class:"layui-laydate-header"}),ie=[((ie=lay.elem("i",{class:"layui-icon laydate-icon laydate-prev-y"})).innerHTML="&#xe65a;",ie),((ie=lay.elem("i",{class:"layui-icon laydate-icon laydate-prev-m"})).innerHTML="&#xe603;",ie),((ie=lay.elem("div",{class:"laydate-set-ym"})).appendChild(lay.elem("span")),ie.appendChild(lay.elem("span")),ie),((ie=lay.elem("i",{class:"layui-icon laydate-icon laydate-next-m"})).innerHTML="&#xe602;",ie),((ie=lay.elem("i",{class:"layui-icon laydate-icon laydate-next-y"})).innerHTML="&#xe65b;",ie)],ge=lay.elem("div",{class:"layui-laydate-content"}),_e=lay.elem("table"),we=lay.elem("thead"),ke=lay.elem("tr");lay.each(ie,function(Se,Te){ee.appendChild(Te)}),we.appendChild(ke),lay.each(new Array(6),function(Se){var Te=_e.insertRow(0);lay.each(new Array(7),function(Re){var Ne;Se===0&&((Ne=lay.elem("th")).innerHTML=J.weeks[(Re+X.weekStart)%7],ke.appendChild(Ne)),Te.insertCell(Re)})}),_e.insertBefore(we,_e.children[0]),ge.appendChild(_e),me[O]=lay.elem("div",{class:"layui-laydate-main laydate-main-list-"+O}),me[O].appendChild(ee),me[O].appendChild(ge),Ae.push(ie),q.push(ge),Z.push(_e)}),lay(re).html((ae=[],x=[],X.type==="datetime"&&ae.push('<span lay-type="datetime" class="'+z+'">'+J.timeTips+"</span>"),(X.range||X.type!=="datetime"||X.fullPanel)&&ae.push('<span class="'+G+'" title="'+J.preview+'"></span>'),lay.each(X.btns,function(O,ee){var ie=J.tools[ee]||"btn";X.range&&ee==="now"||(ne&&ee==="clear"&&(ie=X.lang==="cn"?"\u91CD\u7F6E":"Reset"),x.push('<span lay-type="'+ee+'" class="laydate-btns-'+ee+'">'+ie+"</span>"))}),ae.push('<div class="laydate-footer-btns">'+x.join("")+"</div>"),ae.join(""))),X.shortcuts&&(le.appendChild(Ee),lay(Ee).html((_=[],lay.each(X.shortcuts,function(O,ee){_.push('<li data-index="'+O+'">'+ee.text+"</li>")}),_.join(""))).find("li").on("click",function(O){var ie=X.shortcuts[this.dataset.index]||{},ie=(typeof ie.value=="function"?ie.value():ie.value)||[],ee=(layui.isArray(ie)||(ie=[ie]),X.type),ie=(lay.each(ie,function(ge,_e){var we=[X.dateTime,R.endDate][ge];ee==="time"&&layui.type(_e)!=="date"?R.EXP_IF.test(_e)&&(_e=(_e.match(R.EXP_SPLIT)||[]).slice(1),lay.extend(we,{hours:0|_e[0],minutes:0|_e[2],seconds:0|_e[4]})):lay.extend(we,R.systemDate(layui.type(_e)==="date"?_e:new Date(_e))),ee!=="time"&&ee!=="datetime"||(R[["startTime","endTime"][ge]]={hours:we.hours,minutes:we.minutes,seconds:we.seconds}),ge===0?R.startDate=lay.extend({},we):R.endState=!0,ee==="year"||ee==="month"||ee==="time"?R.listYM[ge]=[we.year,we.month+1]:ge&&R.autoCalendarModel.auto&&R.autoCalendarModel()}),R.checkDate("limit").calendar(null,null,"init"),lay(R.footer).find("."+z).removeClass(S));ie&&ie.attr("lay-type")==="date"&&ie[0].click(),R.done(null,"change"),lay(this).addClass(k),X.position!=="static"&&R.setValue(R.parse()).done().remove()})),lay.each(me,function(O,ee){le.appendChild(ee)}),X.showBottom&&le.appendChild(re),lay.elem("style")),oe=[],ue=!0,Ee=(lay.each(X.theme,function(O,ee){ue&&/^#/.test(ee)?(ue=!(B=!0),oe.push(["#{{id}} .layui-laydate-header{background-color:{{theme}};}","#{{id}} li.layui-this,#{{id}} td.layui-this>div{background-color:{{theme}} !important;}",X.theme.indexOf("circle")!==-1?"":"#{{id}} .layui-this{background-color:{{theme}} !important;}","#{{id}} .laydate-day-now{color:{{theme}} !important;}","#{{id}} .laydate-day-now:after{border-color:{{theme}} !important;}"].join("").replace(/{{id}}/g,R.elemID).replace(/{{theme}}/g,ee))):!ue&&/^#/.test(ee)&&oe.push(["#{{id}} .laydate-selected>div{background-color:{{theme}} !important;}","#{{id}} .laydate-selected:hover>div{background-color:{{theme}} !important;}"].join("").replace(/{{id}}/g,R.elemID).replace(/{{theme}}/g,ee))}),X.shortcuts&&X.range&&oe.push("#{{id}}.layui-laydate-range{width: 628px;}".replace(/{{id}}/g,R.elemID)),oe.length&&(oe=oe.join(""),"styleSheet"in ae?(ae.setAttribute("type","text/css"),ae.styleSheet.cssText=oe):ae.innerHTML=oe,B&&lay(le).addClass("laydate-theme-molv"),le.appendChild(ae)),R.remove(N.thisElemDate),c.thisId=X.id,ne?X.elem.append(le):(t.body.appendChild(le),R.position()),X.shade?'<div class="'+Y+'" style="z-index:'+(parseInt(layui.getStyle(le,"z-index"))-1)+"; background-color: "+(X.shade[1]||"#000")+"; opacity: "+(X.shade[0]||X.shade)+'"></div>':"");le.insertAdjacentHTML("beforebegin",Ee),R.checkDate().calendar(null,0,"init"),R.changeEvent(),N.thisElemDate=R.elemID,R.renderAdditional(),typeof X.ready=="function"&&X.ready(lay.extend({},X.dateTime,{month:X.dateTime.month+1})),R.preview()},N.prototype.remove=function(p){var x=this,_=x.config,B=lay("#"+(p||x.elemID));return B[0]&&(B.hasClass(r)||x.checkDate(function(){B.remove(),delete x.startDate,delete x.endDate,delete x.endState,delete x.startTime,delete x.endTime,delete c.thisId,typeof _.close=="function"&&_.close(x)}),lay("."+Y).remove()),x},N.prototype.position=function(){var p=this.config;return lay.position(p.elem[0],this.elem,{position:p.position}),this},N.prototype.hint=function(p){var x=this,_=(x.config,lay.elem("div",{class:y}));x.elem&&(_.innerHTML=(p=typeof p=="object"?p||{}:{content:p}).content||"",lay(x.elem).find("."+y).remove(),x.elem.appendChild(_),clearTimeout(x.hinTimer),x.hinTimer=setTimeout(function(){lay(x.elem).find("."+y).remove()},"ms"in p?p.ms:3e3))},N.prototype.getAsYM=function(p,x,_){return _?x--:x++,x<0&&(x=11,p--),11<x&&(x=0,p++),[p,x]},N.prototype.systemDate=function(p){var x=p||new Date;return{year:x.getFullYear(),month:x.getMonth(),date:x.getDate(),hours:p?p.getHours():0,minutes:p?p.getMinutes():0,seconds:p?p.getSeconds():0}},N.prototype.checkDate=function(p){var x,_,B,R,X,J=this,ne=J.config,le=J.lang(),me=ne.dateTime=ne.dateTime||J.systemDate(),Ae=ne.elem[0],q=(J.isInput(Ae),function(){if(J.rangeElem){var ae=[J.rangeElem[0].val(),J.rangeElem[1].val()];if(ae[0]&&ae[1])return ae.join(" "+J.rangeStr+" ")}return J.isInput(Ae)?Ae.value:ne.position==="static"?"":lay(Ae).attr("lay-date")}()),Z=function(ae){ae&&(ae.year>E[1]&&(ae.year=E[1],_=!0),11<ae.month&&(ae.month=11,_=!0),59<ae.seconds&&(ae.seconds=0,ae.minutes++,_=!0),59<ae.minutes&&(ae.minutes=0,ae.hours++,_=!0),23<ae.hours&&(ae.hours=0,_=!0),x=c.getEndDate(ae.month+1,ae.year),ae.date>x)&&(ae.date=x,_=!0)},re=function(ae,oe,ue){var Ee=["startTime","endTime"];oe=(oe.match(J.EXP_SPLIT)||[]).slice(1),ue=ue||0,ne.range&&(J[Ee[ue]]=J[Ee[ue]]||{}),lay.each(J.format,function(O,ee){var ie=parseFloat(oe[O]);oe[O].length<ee.length&&(_=!0),/yyyy|y/.test(ee)?(ie<E[0]&&(ie=E[0],_=!0),ae.year=ie):/MM|M/.test(ee)?(ie<1&&(ie=1,_=!0),ae.month=ie-1):/dd|d/.test(ee)?(ie<1&&(ie=1,_=!0),ae.date=ie):/HH|H/.test(ee)?(ie<0&&(_=!(ie=0)),23<ie&&(ie=23,_=!0),ae.hours=ie,ne.range&&(J[Ee[ue]].hours=ie)):/mm|m/.test(ee)?(ie<0&&(_=!(ie=0)),59<ie&&(ie=59,_=!0),ae.minutes=ie,ne.range&&(J[Ee[ue]].minutes=ie)):/ss|s/.test(ee)&&(ie<0&&(_=!(ie=0)),59<ie&&(ie=59,_=!0),ae.seconds=ie,ne.range)&&(J[Ee[ue]].seconds=ie)}),Z(ae)};return p==="limit"?ne.range?(Z(J.rangeLinked?J.startDate:me),J.endDate&&Z(J.endDate)):Z(me):(typeof(q=q||ne.value)=="string"&&(q=q.replace(/\s+/g," ").replace(/^\s|\s$/g,"")),(B=function(){var ae,oe,ue;ne.range&&(J.endDate=J.endDate||lay.extend({},ne.dateTime,(ae={},oe=ne.dateTime,ue=J.getAsYM(oe.year,oe.month),ne.type==="year"?ae.year=oe.year+1:ne.type!=="time"&&(ae.year=ue[0],ae.month=ue[1]),ne.type!=="datetime"&&ne.type!=="time"||(ae.hours=23,ae.minutes=ae.seconds=59),ae)))})(),typeof q=="string"&&q?J.EXP_IF.test(q)?ne.range?(q=q.split(" "+J.rangeStr+" "),lay.each([ne.dateTime,J.endDate],function(ae,oe){re(oe,q[ae],ae)})):re(me,q):(J.hint(le.formatError[0]+(ne.range?ne.format+" "+J.rangeStr+" "+ne.format:ne.format)+le.formatError[1]),_=!0):q&&layui.type(q)==="date"?ne.dateTime=J.systemDate(q):(ne.dateTime=J.systemDate(),delete J.startTime,delete J.endDate,B(),delete J.endTime),J.rangeElem&&(B=[J.rangeElem[0].val(),J.rangeElem[1].val()],R=[ne.dateTime,J.endDate],lay.each(B,function(ae,oe){J.EXP_IF_ONE.test(oe)&&re(R[ae],oe,ae)})),Z(me),ne.range&&Z(J.endDate),_&&q&&J.setValue(!ne.range||J.endDate?J.parse():""),J.getDateTime(me)>J.getDateTime(ne.max)?(me=ne.dateTime=lay.extend({},ne.max),X=!0):J.getDateTime(me)<J.getDateTime(ne.min)&&(me=ne.dateTime=lay.extend({},ne.min),X=!0),ne.range&&((J.getDateTime(J.endDate)<J.getDateTime(ne.min)||J.getDateTime(J.endDate)>J.getDateTime(ne.max))&&(J.endDate=lay.extend({},ne.max),X=!0),J.startTime={hours:ne.dateTime.hours,minutes:ne.dateTime.minutes,seconds:ne.dateTime.seconds},J.endTime={hours:J.endDate.hours,minutes:J.endDate.minutes,seconds:J.endDate.seconds},ne.type==="month")&&(ne.dateTime.date=1,J.endDate.date=1),X&&q&&(J.setValue(J.parse()),J.hint("value "+le.invalidDate+le.formatError[1])),J.startDate=J.startDate||q&&lay.extend({},ne.dateTime),J.autoCalendarModel.auto&&J.autoCalendarModel(),J.endState=!ne.range||!J.rangeLinked||!(!J.startDate||!J.endDate),p&&p()),J},N.prototype.markRender=function(p,x,_){var B;typeof _=="object"?lay.each(_||{},function(R,X){R=R.split("-"),R[0]!=x[0]&&R[0]!=0||R[1]!=x[1]&&R[1]!=0||R[2]!=x[2]||(B=X||x[2])}):typeof _=="string"&&(B=_||x[2]),B&&p.find("div").html('<span class="laydate-day-mark">'+B+"</span>")},N.prototype.mark=function(p,x){var _=this,B=_.config,R=function(X){_.markRender(p,x,X)};return B.calendar&&B.lang==="cn"&&R(_.markerOfChineseFestivals),typeof B.mark=="function"?B.mark({year:x[0],month:x[1],date:x[2]},R):typeof B.mark=="object"&&R(B.mark),_},N.prototype.holidaysRender=function(p,x,_){var B=["holidays","workdays"],R=function(X,J,ne){X.find("div").html(["<span",' class="laydate-day-holidays"',' type="'+J+'"',">",ne,"</span>"].join(""))};layui.type(_)==="array"?lay.each(_,function(X,J){lay.each(J,function(ne,le){var me,Ae,q;le=le,me=p.attr("lay-ymd"),Ae=le.split("-"),q=me.split("-"),lay.each(Ae,function(Z,re){Ae[Z]=parseInt(re,10)}),lay.each(q,function(Z,re){q[Z]=parseInt(re,10)}),Ae.join("-")===q.join("-")&&R(p,B[X],x[2])})}):typeof _=="string"&&B.indexOf(_)!==-1&&R(p,_,x[2])},N.prototype.holidays=function(p,x){var _=this,B=_.config,R=function(X){_.holidaysRender(p,x,X)};return typeof B.holidays=="function"?B.holidays({year:x[0],month:x[1],date:x[2]},R):layui.type(B.holidays)==="array"&&R(B.holidays),_},N.prototype.cellRender=function(p,x,_){var B=this.config;return typeof B.cellRender=="function"&&B.cellRender(x,function(R){typeof R=="string"?lay(p).html(R):typeof R=="object"&&lay(p).html("").append(lay(R)[0])},{originElem:p,type:_}),this},N.prototype.startOfYear=function(p){return p=new Date(p),p.setFullYear(p.getFullYear(),0,1),p.setHours(0,0,0,0),p},N.prototype.endOfYear=function(x){var x=new Date(x),_=x.getFullYear();return x.setFullYear(_+1,0,0),x.setHours(23,59,59,999),x},N.prototype.startOfMonth=function(p){return p=new Date(p),p.setDate(1),p.setHours(0,0,0,0),p},N.prototype.endOfMonth=function(x){var x=new Date(x),_=x.getMonth();return x.setFullYear(x.getFullYear(),_+1,0),x.setHours(23,59,59,999),x},N.prototype.addDays=function(p,x){return p=new Date(p),x&&p.setDate(p.getDate()+x),p},N.prototype.isDisabledYearOrMonth=function(p,x,_){for(var B=this,R=B.config,X=x==="year"?B.startOfYear(p):B.startOfMonth(p),x=x==="year"?B.endOfYear(p):B.endOfMonth(p),J=Math.floor((x.getTime()-X.getTime())/864e5)+1,ne=0,le=0;le<J;le++){var me=B.addDays(X,le);R.disabledDate.call(R,me,_)&&ne++}return ne===J},N.prototype.isDisabledDate=function(p,x){x=x||{};var _=this.config,B=!_.range||x.rangeType===0?"start":"end";return!!_.disabledDate&&_.type!=="time"&&(x.disabledType==="date"||x.disabledType==="datetime")&&((p=new Date(p)).setHours(0,0,0,0),x.type==="year"||x.type==="month"?this.isDisabledYearOrMonth(p,x.type,B):_.disabledDate.call(_,p,B))},N.prototype.isDisabledTime=function(p,x){x=x||{};var _,B=this.config,R=!B.range||x.rangeType===0?"start":"end";return!!B.disabledTime&&!(B.type!=="time"&&B.type!=="datetime"||x.disabledType!=="time"&&x.disabledType!=="datetime")&&(_=function(X,J,ne){return function(){return(typeof J=="function"&&J.apply(B,ne)||[]).indexOf(X)!==-1}},p=this.systemDate(new Date(p)),R=B.disabledTime.call(B,this.newDate(p),R)||{},x.disabledType==="datetime"?_(p.hours,R.hours)()||_(p.minutes,R.minutes,[p.hours])()||_(p.seconds,R.seconds,[p.hours,p.minutes])():[_(p.hours,R.hours),_(p.minutes,R.minutes,[p.hours]),_(p.seconds,R.seconds,[p.hours,p.minutes])][x.time.length-1]())},N.prototype.isDisabledDateTime=function(p,x){return this.config,this.isDisabledDate(p,x=x||{})||this.isDisabledTime(p,x)},N.prototype.limit=function(p){p=p||{};var x=this,_=x.config,B={},R=p.index>(p.time?0:41)?x.endDate:_.dateTime;return lay.each({now:lay.extend({},R,p.date||{}),min:_.min,max:_.max},function(X,J){var ne;B[X]=x.newDate(lay.extend({year:J.year,month:p.type==="year"?0:J.month,date:p.type==="year"||p.type==="month"?1:J.date},(ne={},lay.each(p.time,function(le,me){ne[me]=J[me]}),ne))).getTime()}),R=B.now<B.min||B.max<B.now||x.isDisabledDateTime(B.now,p),p.elem&&p.elem[R?"addClass":"removeClass"](S),R},N.prototype.thisDateTime=function(p){var x=this.config;return p?this.endDate:x.dateTime},N.prototype.calendar=function(p,x,_){x=x?1:0;var B,R,X,J=this,ne=J.config,le=p||J.thisDateTime(x),me=new Date,Ae=J.lang(),q=ne.type!=="date"&&ne.type!=="datetime",Z=lay(J.table[x]).find("td"),re=lay(J.elemHeader[x][2]).find("span");return le.year<E[0]&&(le.year=E[0],J.hint(Ae.invalidDate)),le.year>E[1]&&(le.year=E[1],J.hint(Ae.invalidDate)),J.firstDate||(J.firstDate=lay.extend({},le)),me.setFullYear(le.year,le.month,1),B=(me.getDay()+(7-ne.weekStart))%7,R=c.getEndDate(le.month||12,le.year),X=c.getEndDate(le.month+1,le.year),lay.each(Z,function(ae,oe){var ue,Ee=[le.year,le.month];(oe=lay(oe)).removeAttr("class"),ae<B?(ue=R-B+ae,oe.addClass("laydate-day-prev"),Ee=J.getAsYM(le.year,le.month,"sub")):B<=ae&&ae<X+B?(ue=ae-B,J.rangeLinked||ue+1===le.date&&oe.addClass(k)):(ue=ae-X-B,oe.addClass("laydate-day-next"),Ee=J.getAsYM(le.year,le.month)),Ee[1]++,Ee[2]=ue+1,oe.attr("lay-ymd",Ee.join("-")).html("<div>"+Ee[2]+"</div>"),J.mark(oe,Ee).holidays(oe,Ee).limit({elem:oe,date:{year:Ee[0],month:Ee[1]-1,date:Ee[2]},index:ae,rangeType:x,disabledType:"date"}),J.cellRender(oe,{year:Ee[0],month:Ee[1],date:Ee[2]},"date")}),lay(re[0]).attr("lay-ym",le.year+"-"+(le.month+1)),lay(re[1]).attr("lay-ym",le.year+"-"+(le.month+1)),J.panelYM||(J.panelYM={}),J.panelYM[x]={year:le.year,month:le.month},ne.lang==="cn"?(lay(re[0]).attr("lay-type","year").html(le.year+" \u5E74"),lay(re[1]).attr("lay-type","month").html(le.month+1+" \u6708")):(lay(re[0]).attr("lay-type","month").html(Ae.month[le.month]),lay(re[1]).attr("lay-type","year").html(le.year)),q&&(ne.range?!p&&_==="init"||(J.listYM=[[(J.startDate||ne.dateTime).year,(J.startDate||ne.dateTime).month+1],[J.endDate.year,J.endDate.month+1]],J.list(ne.type,0).list(ne.type,1),ne.type==="time"?J.setBtnStatus("\u65F6\u95F4",lay.extend({},J.systemDate(),J.startTime),lay.extend({},J.systemDate(),J.endTime)):J.setBtnStatus(!0)):(J.listYM=[[le.year,le.month+1]],J.list(ne.type,0))),ne.range&&_==="init"&&(J.rangeLinked?(me=J.getAsYM(le.year,le.month,x?"sub":null),J.calendar(lay.extend({},le,{year:me[0],month:me[1]}),1-x)):J.calendar(null,1-x)),ne.range||(Z=["hours","minutes","seconds"],J.limit({elem:lay(J.footer).find(".laydate-btns-now"),date:J.systemDate(/^(datetime|time)$/.test(ne.type)?new Date:null),index:0,time:Z,disabledType:"datetime"}),J.limit({elem:lay(J.footer).find(w),index:0,time:Z,disabledType:"datetime"})),J.setBtnStatus(),lay(J.shortcut).find("li."+k).removeClass(k),ne.range&&!q&&_!=="init"&&J.stampRange(),J},N.prototype.list=function(p,x){var _,B,R,X,J,ne,le,me=this,Ae=me.config,q=me.rangeLinked?Ae.dateTime:[Ae.dateTime,me.endDate][x],Z=me.lang(),re=Ae.range&&Ae.type!=="date"&&Ae.type!=="datetime",ae=lay.elem("ul",{class:D+" "+{year:"laydate-year-list",month:"laydate-month-list",time:"laydate-time-list"}[p]}),oe=me.elemHeader[x],ue=lay(oe[2]).find("span"),Ee=me.elemCont[x||0],O=lay(Ee).find("."+D)[0],ee=Ae.lang==="cn",ie=ee?"\u5E74":"",ge=me.listYM[x]||{},_e=["hours","minutes","seconds"],we=["startTime","endTime"][x];return ge[0]<1&&(ge[0]=1),p==="year"?(R=_=ge[0]-7,_<1&&(R=_=1),lay.each(new Array(15),function(ke){var Se=lay.elem("li",{"lay-ym":_}),Te={year:_,month:0,date:1};_==ge[0]&&lay(Se).addClass(k),Se.innerHTML=_+ie,ae.appendChild(Se),me.limit({elem:lay(Se),date:Te,index:x,type:p,rangeType:x,disabledType:"date"}),me.cellRender(Se,{year:_,month:1,date:1},"year"),_++}),lay(ue[ee?0:1]).attr("lay-ym",_-8+"-"+ge[1]).html(R+ie+" - "+(_-1)+ie)):p==="month"?(lay.each(new Array(12),function(ke){var Se=lay.elem("li",{"lay-ym":ke}),Te={year:ge[0],month:ke,date:1};ke+1==ge[1]&&lay(Se).addClass(k),Se.innerHTML=Z.month[ke]+(ee?"\u6708":""),ae.appendChild(Se),me.limit({elem:lay(Se),date:Te,index:x,type:p,rangeType:x,disabledType:"date"}),me.cellRender(Se,{year:ge[0],month:ke+1,date:1},"month")}),lay(ue[ee?0:1]).attr("lay-ym",ge[0]+"-"+ge[1]).html(ge[0]+ie)):p==="time"&&(B=function(){lay(ae).find("ol").each(function(ke,Se){lay(Se).find("li").each(function(Te,Re){me.limit({elem:lay(Re),date:[{hours:Te},{hours:me[we].hours,minutes:Te},{hours:me[we].hours,minutes:me[we].minutes,seconds:Te}][ke],index:x,rangeType:x,disabledType:"time",time:[["hours"],["hours","minutes"],["hours","minutes","seconds"]][ke]})})}),Ae.range||me.limit({elem:lay(me.footer).find(w),date:me[we],index:0,time:["hours","minutes","seconds"],disabledType:"datetime"})},Ae.range?me[we]||(me[we]=we==="startTime"?q:me.endDate):me[we]=q,lay.each([24,60,60],function(ke,Se){var Te=lay.elem("li"),Re=["<p>"+Z.time[ke]+"</p><ol>"];lay.each(new Array(Se),function(Ne){Re.push("<li"+(me[we][_e[ke]]===Ne?' class="'+k+'"':"")+">"+lay.digit(Ne,2)+"</li>")}),Te.innerHTML=Re.join("")+"</ol>",ae.appendChild(Te)}),B(),R=Ae.format.indexOf("H")!==-1,ue=Ae.format.indexOf("m")!==-1,le=Ae.format.indexOf("s")!==-1,X=ae.children,J=0,lay.each([R,ue,le],function(ke,Se){Se||(X[ke].className+=" layui-hide",J++)}),ae.className+=" laydate-time-list-hide-"+J),O&&Ee.removeChild(O),Ee.appendChild(ae),p==="year"||p==="month"?(lay(me.elemMain[x]).addClass("laydate-ym-show"),lay(ae).find("li").on("click",function(){var ke,Se,Te=0|lay(this).attr("lay-ym");lay(this).hasClass(S)||(me.rangeLinked?lay.extend(q,{year:p==="year"?Te:ge[0],month:p==="year"?ge[1]-1:Te}):q[p]=Te,ke=["year","month"].indexOf(Ae.type)!==-1,Se=p==="year"&&["date","datetime"].indexOf(Ae.type)!==-1,ke||Se?(lay(ae).find("."+k).removeClass(k),lay(this).addClass(k),(Ae.type==="month"&&p==="year"||Se)&&(me.listYM[x][0]=Te,re&&((x?me.endDate:q).year=Te),me.list("month",x))):(me.checkDate("limit").calendar(q,x,"init"),me.closeList()),me.setBtnStatus(),!Ae.range&&Ae.autoConfirm&&(Ae.type==="month"&&p==="month"||Ae.type==="year"&&p==="year")&&me.setValue(me.parse()).done().remove(),me.autoCalendarModel.auto&&!me.rangeLinked?me.choose(lay(Ee).find("td.layui-this"),x):me.endState&&me.done(null,"change"),lay(me.footer).find("."+z).removeClass(S))})):(ue=lay.elem("span",{class:M}),ne=function(){lay(ae).find("ol").each(function(ke){var Se=this,Te=lay(Se).find("li");Se.scrollTop=30*(me[we][_e[ke]]-2),Se.scrollTop<=0&&Te.each(function(Re,Ne){if(!lay(this).hasClass(S))return Se.scrollTop=30*(Re-2),!0})})},le=lay(oe[2]).find("."+M),ne(),ue.innerHTML=Ae.range?[Z.startTime,Z.endTime][x]:Z.timeTips,lay(me.elemMain[x]).addClass("laydate-time-show"),le[0]&&le.remove(),oe[2].appendChild(ue),(O=lay(ae).find("ol")).each(function(ke){var Se=this;lay(Se).find("li").on("click",function(){var Te=0|this.innerHTML;lay(this).hasClass(S)||(Ae.range?me[we][_e[ke]]=Te:q[_e[ke]]=Te,lay(Se).find("."+k).removeClass(k),lay(this).addClass(k),B(),ne(),!me.endDate&&Ae.type!=="time"&&Ae.type!=="datetime"||me.done(null,"change"),me.setBtnStatus())})}),layui.device().mobile&&O.css({overflowY:"auto",touchAction:"pan-y"})),me},N.prototype.listYM=[],N.prototype.closeList=function(){var p=this;p.config,lay.each(p.elemCont,function(x,_){lay(this).find("."+D).remove(),lay(p.elemMain[x]).removeClass("laydate-ym-show laydate-time-show")}),lay(p.elem).find("."+M).remove()},N.prototype.setBtnStatus=function(p,x,_){var B=this,R=B.config,X=B.lang(),J=lay(B.footer).find(w),ne=R.type==="datetime"||R.type==="time"?["hours","minutes","seconds"]:void 0;R.range&&(x=x||(B.rangeLinked?B.startDate:R.dateTime),_=_||B.endDate,R=!B.endState||B.newDate(x).getTime()>B.newDate(_).getTime(),B.limit({date:x,disabledType:"datetime",time:ne,rangeType:0})||B.limit({date:_,disabledType:"datetime",time:ne,rangeType:1})?J.addClass(S):J[R?"addClass":"removeClass"](S),p)&&R&&B.hint(typeof p=="string"?X.timeout.replace(/\u65e5\u671f/g,p):X.timeout)},N.prototype.parse=function(p,R){var _=this,B=_.config,X=_.rangeLinked?_.startDate:B.dateTime,R=R||(p=="end"?lay.extend({},_.endDate,_.endTime):B.range?lay.extend({},X||B.dateTime,_.startTime):B.dateTime),X=c.parse(R,_.format,1);return B.range&&p===void 0?X+" "+_.rangeStr+" "+_.parse("end"):X},N.prototype.newDate=function(p){return p=p||{},new Date(p.year||1,p.month||0,p.date||1,p.hours||0,p.minutes||0,p.seconds||0)},N.prototype.getDateTime=function(p){return this.newDate(p).getTime()},N.prototype.formatToDisplay=function(p,x){var _=this,B=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");Object.defineProperty(p,"value",lay.extend({},B,{get:function(){return this.getAttribute("lay-date")},set:function(R){B.set.call(this,x.call(_,R)),this.setAttribute("lay-date",R)}}))},N.prototype.setValue=function(p){var x,_=this,B=_.config,R=B.elem[0];return B.position!=="static"&&(p=p||"",_.isInput(R)?lay(R).val(p):(x=_.rangeElem)?(layui.type(p)!=="array"&&(p=p.split(" "+_.rangeStr+" ")),x[0].val(p[0]||""),x[1].val(p[1]||"")):(lay(R).find("*").length===0&&(x=typeof B.formatToDisplay=="function"?B.formatToDisplay(p):p,lay(R).html(x)),lay(R).attr("lay-date",p))),_},N.prototype.preview=function(){var p,x=this,_=x.config;_.isPreview&&(p=lay(x.elem).find("."+G),_=!_.range||(x.rangeLinked?x.endState:x.endDate)?x.parse():"",p.html(_),p.html())&&(p.css({color:"#16b777"}),setTimeout(function(){p.css({color:"#777"})},300))},N.prototype.renderAdditional=function(){this.config.fullPanel&&this.list("time",0)},N.prototype.stampRange=function(){var p,x=this,_=x.config,B=x.rangeLinked?x.startDate:_.dateTime,R=lay(x.elem).find("td");_.range&&!x.endState&&lay(x.footer).find(w).addClass(S),B=B&&x.newDate({year:B.year,month:B.month,date:B.date}).getTime(),p=x.endState&&x.endDate&&x.newDate({year:x.endDate.year,month:x.endDate.month,date:x.endDate.date}).getTime(),lay.each(R,function(X,J){var ne=lay(J).attr("lay-ymd").split("-"),ne=x.newDate({year:ne[0],month:ne[1]-1,date:ne[2]}).getTime();_.rangeLinked&&!x.startDate&&ne===x.newDate(x.systemDate()).getTime()&&lay(J).addClass(lay(J).hasClass(Q)||lay(J).hasClass(g)?"":"laydate-day-now"),lay(J).removeClass(f+" "+k),ne!==B&&ne!==p||(x.rangeLinked||!x.rangeLinked&&(X<42?ne===B:ne===p))&&lay(J).addClass(lay(J).hasClass(Q)||lay(J).hasClass(g)?f:k),B<ne&&ne<p&&lay(J).addClass(f)})},N.prototype.done=function(p,x){var _=this,B=_.config,R=lay.extend({},lay.extend(_.rangeLinked?_.startDate:B.dateTime,_.startTime)),X=lay.extend({},lay.extend(_.endDate,_.endTime));return lay.each([R,X],function(J,ne){"month"in ne&&lay.extend(ne,{month:ne.month+1})}),_.preview(),p=p||[_.parse(),R,X],x==="change"&&_.renderAdditional(),typeof B[x||"done"]=="function"&&B[x||"done"].apply(B,p),_},N.prototype.checkPanelDate=function(p,x){var _,B=this.config;if(B.type==="date"||B.type==="datetime")return B=x===0,p=p.month+1,_=this.panelYM[x].month+1,B=this.endState&&(B&&_<p||!B&&p<_)?1-x:x,{needFullRender:p!==_,index:B}},N.prototype.choose=function(p,x){var _,B,R,X,J,ne,le;p.hasClass(S)||(B=(_=this).config,R=x,_.rangeLinked&&(_.endState||!_.startDate?(x=0,_.endState=!1):(x=1,_.endState=!0)),X=_.thisDateTime(x),lay(_.elem).find("td"),p={year:0|(p=p.attr("lay-ymd").split("-"))[0],month:(0|p[1])-1,date:0|p[2]},lay.extend(X,p),B.range?(lay.each(["startTime","endTime"],function(me,Ae){_[Ae]=_[Ae]||{hours:me?23:0,minutes:me?59:0,seconds:me?59:0},x===me&&(_.getDateTime(lay.extend({},X,_[Ae]))<_.getDateTime(B.min)?(_[Ae]={hours:B.min.hours,minutes:B.min.minutes,seconds:B.min.seconds},lay.extend(X,_[Ae])):_.getDateTime(lay.extend({},X,_[Ae]))>_.getDateTime(B.max)&&(_[Ae]={hours:B.max.hours,minutes:B.max.minutes,seconds:B.max.seconds},lay.extend(X,_[Ae])))}),x||(_.startDate=lay.extend({},X)),_.endState&&!_.limit({date:_.rangeLinked?_.startDate:_.thisDateTime(1-x),disabledType:"date"})&&(((J=_.endState&&_.autoCalendarModel.auto?_.autoCalendarModel():J)||_.rangeLinked&&_.endState)&&_.newDate(_.startDate)>_.newDate(_.endDate)&&(_.startDate.year===_.endDate.year&&_.startDate.month===_.endDate.month&&_.startDate.date===_.endDate.date&&(ne=_.startTime,_.startTime=_.endTime,_.endTime=ne),ne=_.startDate,_.startDate=lay.extend({},_.endDate,_.startTime),B.dateTime=lay.extend({},_.startDate),_.endDate=lay.extend({},ne,_.endTime)),J)&&(B.dateTime=lay.extend({},_.startDate)),_.rangeLinked?(p=_.checkPanelDate(X,R),ne=lay.extend({},X),le=J||p&&p.needFullRender?"init":null,p=p?p.index:R,_.calendar(ne,p,le)):_.calendar(null,x,J?"init":null),_.endState&&_.done(null,"change")):B.position==="static"?_.calendar().done().done(null,"change"):B.type==="date"?B.autoConfirm?_.setValue(_.parse()).done().remove():_.calendar().done(null,"change"):B.type==="datetime"&&_.calendar().done(null,"change"))},N.prototype.tool=function(p,x){var _=this,B=_.config,R=_.lang(),X=B.dateTime,J=B.position==="static",ne={datetime:function(){lay(p).hasClass(S)||(_.list("time",0),B.range&&_.list("time",1),lay(p).attr("lay-type","date").html(_.lang().dateTips))},date:function(){_.closeList(),lay(p).attr("lay-type","datetime").html(_.lang().timeTips)},clear:function(){J&&(lay.extend(X,_.firstDate),_.calendar()),B.range&&(delete B.dateTime,delete _.endDate,delete _.startTime,delete _.endTime),_.setValue(""),_.done(null,"onClear").done(["",{},{}]).remove()},now:function(){var le=new Date;if(lay(p).hasClass(S))return _.hint(R.tools.now+", "+R.invalidDate);lay.extend(X,_.systemDate(),{hours:le.getHours(),minutes:le.getMinutes(),seconds:le.getSeconds()}),_.setValue(_.parse()),J&&_.calendar(),_.done(null,"onNow").done().remove()},confirm:function(){if(B.range){if(lay(p).hasClass(S))return(B.type==="time"?_.startTime&&_.endTime&&_.newDate(_.startTime)>_.newDate(_.endTime):_.startDate&&_.endDate&&_.newDate(lay.extend({},_.startDate,_.startTime||{}))>_.newDate(lay.extend({},_.endDate,_.endTime||{})))?_.hint(B.type==="time"?R.timeout.replace(/\u65e5\u671f/g,"\u65F6\u95F4"):R.timeout):_.hint(R.invalidDate)}else if(lay(p).hasClass(S))return _.hint(R.invalidDate);_.setValue(_.parse()),_.done(null,"onConfirm").done().remove()}};ne[x]&&ne[x]()},N.prototype.change=function(p){var x=this,_=x.config,B=x.thisDateTime(p),R=_.range&&(_.type==="year"||_.type==="month"),X=x.elemCont[p||0],J=x.listYM[p],ne=function(le){var me=lay(X).find(".laydate-year-list")[0],Ae=lay(X).find(".laydate-month-list")[0];return me&&(J[0]=le?J[0]-15:J[0]+15,x.list("year",p)),Ae&&(le?J[0]--:J[0]++,x.list("month",p)),(me||Ae)&&(lay.extend(B,{year:J[0]}),R&&(B.year=J[0]),_.range||x.done(null,"change"),_.range||x.limit({elem:lay(x.footer).find(w),date:{year:J[0]},disabledType:"datetime"})),x.setBtnStatus(),me||Ae};return{prevYear:function(){ne("sub")||(x.rangeLinked?(_.dateTime.year--,x.checkDate("limit").calendar(null,null,"init")):(B.year--,x.checkDate("limit").calendar(null,p),x.autoCalendarModel.auto?x.choose(lay(X).find("td.layui-this"),p):x.done(null,"change")))},prevMonth:function(){var le,me;x.rangeLinked?(me=x.panelYM[0],me=x.getAsYM(me.year,me.month,"sub"),le=lay.extend({},_.dateTime,x.panelYM[0],{year:me[0],month:me[1]}),x.checkDate("limit").calendar(le,null,"init")):(me=x.getAsYM(B.year,B.month,"sub"),lay.extend(B,{year:me[0],month:me[1]}),x.checkDate("limit").calendar(null,null,"init"),x.autoCalendarModel.auto?x.choose(lay(X).find("td.layui-this"),p):x.done(null,"change"))},nextMonth:function(){var le,me;x.rangeLinked?(me=x.panelYM[0],me=x.getAsYM(me.year,me.month),le=lay.extend({},_.dateTime,x.panelYM[0],{year:me[0],month:me[1]}),x.checkDate("limit").calendar(le,null,"init")):(me=x.getAsYM(B.year,B.month),lay.extend(B,{year:me[0],month:me[1]}),x.checkDate("limit").calendar(null,null,"init"),x.autoCalendarModel.auto?x.choose(lay(X).find("td.layui-this"),p):x.done(null,"change"))},nextYear:function(){ne()||(x.rangeLinked?(_.dateTime.year++,x.checkDate("limit").calendar(null,0,"init")):(B.year++,x.checkDate("limit").calendar(null,p),x.autoCalendarModel.auto?x.choose(lay(X).find("td.layui-this"),p):x.done(null,"change")))}}},N.prototype.changeEvent=function(){var p=this;p.config,lay(p.elem).on("click",function(x){lay.stope(x)}).on("mousedown",function(x){lay.stope(x)}),lay.each(p.elemHeader,function(x,_){lay(_[0]).on("click",function(B){p.change(x).prevYear()}),lay(_[1]).on("click",function(B){p.change(x).prevMonth()}),lay(_[2]).find("span").on("click",function(B){var X=lay(this),R=X.attr("lay-ym"),X=X.attr("lay-type");R&&(R=R.split("-"),p.listYM[x]=[0|R[0],0|R[1]],p.list(X,x),lay(p.footer).find("."+z).addClass(S))}),lay(_[3]).on("click",function(B){p.change(x).nextMonth()}),lay(_[4]).on("click",function(B){p.change(x).nextYear()})}),lay.each(p.table,function(x,_){lay(_).find("td").on("click",function(){p.choose(lay(this),x)})}),lay(p.footer).find("span").on("click",function(){var x=lay(this).attr("lay-type");p.tool(this,x)})},N.prototype.isInput=function(p){return/input|textarea/.test(p.tagName.toLocaleLowerCase())||/INPUT|TEXTAREA/.test(p.tagName)},N.prototype.events=function(){var p,x=this,_=x.config;_.elem[0]&&!_.elem[0].eventHandler&&(_.elem.on(_.trigger,p=function(){c.thisId!==_.id&&x.render()}),_.elem[0].eventHandler=!0,_.eventElem.on(_.trigger,p),x.unbind=function(){x.remove(),_.elem.off(_.trigger,p),_.elem.removeAttr("lay-key"),_.elem.removeAttr(C),_.elem[0].eventHandler=!1,_.eventElem.off(_.trigger,p),_.eventElem.removeAttr("lay-key"),delete T.that[_.id]})},T.that={},T.getThis=function(p){var x=T.that[p];return!x&&s&&layui.hint().error(p?b+" instance with ID '"+p+"' not found":"ID argument required"),x},u.run=function(p){p(t).on("mousedown",function(x){var _,B;c.thisId&&(_=T.getThis(c.thisId))&&(B=_.config,x.target===B.elem[0]||x.target===B.eventElem[0]||x.target===p(B.closeStop)[0]||B.elem[0]&&B.elem[0].contains(x.target)||_.remove())}).on("keydown",function(x){var _;c.thisId&&(_=T.getThis(c.thisId))&&_.config.position!=="static"&&x.keyCode===13&&p("#"+_.elemID)[0]&&_.elemID===N.thisElemDate&&(x.preventDefault(),p(_.footer).find(w)[0].click())}),p(i).on("resize",function(){if(c.thisId){var x=T.getThis(c.thisId);if(x)return!(!x.elem||!p(".layui-laydate")[0])&&void x.position()}})},c.render=function(p){return p=new N(p),T.call(p)},c.reload=function(p,x){if(p=T.getThis(p),p)return p.reload(x)},c.getInst=function(p){if(p=T.getThis(p),p)return p.inst},c.hint=function(p,x){if(p=T.getThis(p),p)return p.hint(x)},c.unbind=function(p){if(p=T.getThis(p),p)return p.unbind()},c.close=function(p){if(p=T.getThis(p||c.thisId),p)return p.remove()},c.parse=function(p,x,_){return p=p||{},x=((x=typeof x=="string"?T.formatArr(x):x)||[]).concat(),lay.each(x,function(B,R){/yyyy|y/.test(R)?x[B]=lay.digit(p.year,R.length):/MM|M/.test(R)?x[B]=lay.digit(p.month+(_||0),R.length):/dd|d/.test(R)?x[B]=lay.digit(p.date,R.length):/HH|H/.test(R)?x[B]=lay.digit(p.hours,R.length):/mm|m/.test(R)?x[B]=lay.digit(p.minutes,R.length):/ss|s/.test(R)&&(x[B]=lay.digit(p.seconds,R.length))}),x.join("")},c.getEndDate=function(p,x){var _=new Date;return _.setFullYear(x||_.getFullYear(),p||_.getMonth()+1,1),new Date(_.getTime()-864e5).getDate()},s?(c.ready(),layui.define("lay",function(p){c.path=layui.cache.dir,u.run(lay),p(b,c)})):(c.ready(),u.run(i.lay),i.laydate=c)}(window,window.document),function(i,t){d.exports=i.document?t(i):function(s){if(s.document)return t(s);throw new Error("jQuery requires a window with a document")}}(typeof window!="undefined"?window:Tn,function(i,t){var s=[],u=i.document,A=s.slice,b=s.concat,C=s.push,c=s.indexOf,T={},k=T.toString,S=T.hasOwnProperty,E={},Ee="1.12.4",r=function(l,P){return new r.fn.init(l,P)},D=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,f=/^-ms-/,y=/-([\da-z])/gi,Q=function(l,P){return P.toUpperCase()};function g(l){var P=!!l&&"length"in l&&l.length,V=r.type(l);return V!=="function"&&!r.isWindow(l)&&(V==="array"||P===0||typeof P=="number"&&0<P&&P-1 in l)}r.fn=r.prototype={jquery:Ee,constructor:r,selector:"",length:0,toArray:function(){return A.call(this)},get:function(l){return l!=null?l<0?this[l+this.length]:this[l]:A.call(this)},pushStack:function(l){return l=r.merge(this.constructor(),l),l.prevObject=this,l.context=this.context,l},each:function(l){return r.each(this,l)},map:function(l){return this.pushStack(r.map(this,function(P,V){return l.call(P,V,P)}))},slice:function(){return this.pushStack(A.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(V){var P=this.length,V=+V+(V<0?P:0);return this.pushStack(0<=V&&V<P?[this[V]]:[])},end:function(){return this.prevObject||this.constructor()},push:C,sort:s.sort,splice:s.splice},r.extend=r.fn.extend=function(){var l,P,V,te,he,ye=arguments[0]||{},Ie=1,Pe=arguments.length,je=!1;for(typeof ye=="boolean"&&(je=ye,ye=arguments[Ie]||{},Ie++),typeof ye=="object"||r.isFunction(ye)||(ye={}),Ie===Pe&&(ye=this,Ie--);Ie<Pe;Ie++)if((te=arguments[Ie])!=null)for(V in te)he=ye[V],ye!==(P=te[V])&&(je&&P&&(r.isPlainObject(P)||(l=r.isArray(P)))?(he=l?(l=!1,he&&r.isArray(he)?he:[]):he&&r.isPlainObject(he)?he:{},ye[V]=r.extend(je,he,P)):P!==void 0&&(ye[V]=P));return ye},r.extend({expando:"jQuery"+(Ee+Math.random()).replace(/\D/g,""),isReady:!0,error:function(l){throw new Error(l)},noop:function(){},isFunction:function(l){return r.type(l)==="function"},isArray:Array.isArray||function(l){return r.type(l)==="array"},isWindow:function(l){return l!=null&&l==l.window},isNumeric:function(l){var P=l&&l.toString();return!r.isArray(l)&&0<=P-parseFloat(P)+1},isEmptyObject:function(l){for(var P in l)return!1;return!0},isPlainObject:function(l){if(!l||r.type(l)!=="object"||l.nodeType||r.isWindow(l))return!1;try{if(l.constructor&&!S.call(l,"constructor")&&!S.call(l.constructor.prototype,"isPrototypeOf"))return!1}catch(V){return!1}if(!E.ownFirst)for(var P in l)return S.call(l,P);for(P in l);return P===void 0||S.call(l,P)},type:function(l){return l==null?l+"":typeof l=="object"||typeof l=="function"?T[k.call(l)]||"object":typeof l},globalEval:function(l){l&&r.trim(l)&&(i.execScript||function(P){i.eval.call(i,P)})(l)},camelCase:function(l){return l.replace(f,"ms-").replace(y,Q)},nodeName:function(l,P){return l.nodeName&&l.nodeName.toLowerCase()===P.toLowerCase()},each:function(l,P){var V,te=0;if(g(l))for(V=l.length;te<V&&P.call(l[te],te,l[te])!==!1;te++);else for(te in l)if(P.call(l[te],te,l[te])===!1)break;return l},trim:function(l){return l==null?"":(l+"").replace(D,"")},makeArray:function(l,P){return P=P||[],l!=null&&(g(Object(l))?r.merge(P,typeof l=="string"?[l]:l):C.call(P,l)),P},inArray:function(l,P,V){var te;if(P){if(c)return c.call(P,l,V);for(te=P.length,V=V?V<0?Math.max(0,te+V):V:0;V<te;V++)if(V in P&&P[V]===l)return V}return-1},merge:function(l,P){for(var V=+P.length,te=0,he=l.length;te<V;)l[he++]=P[te++];if(V!=V)for(;P[te]!==void 0;)l[he++]=P[te++];return l.length=he,l},grep:function(l,P,V){for(var te=[],he=0,ye=l.length,Ie=!V;he<ye;he++)!P(l[he],he)!=Ie&&te.push(l[he]);return te},map:function(l,P,V){var te,he,ye=0,Ie=[];if(g(l))for(te=l.length;ye<te;ye++)(he=P(l[ye],ye,V))!=null&&Ie.push(he);else for(ye in l)(he=P(l[ye],ye,V))!=null&&Ie.push(he);return b.apply([],Ie)},guid:1,proxy:function(l,P){var V,te;return typeof P=="string"&&(te=l[P],P=l,l=te),r.isFunction(l)?(V=A.call(arguments,2),(te=function(){return l.apply(P||this,V.concat(A.call(arguments)))}).guid=l.guid=l.guid||r.guid++,te):void 0},now:function(){return+new Date},support:E}),typeof Symbol=="function"&&(r.fn[Symbol.iterator]=s[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(l,P){T["[object "+P+"]"]=P.toLowerCase()});var Ee=function(l){var P,V,te,he,ye,Ie,Pe,je,qe,gt,_t,Tt,dt,kt,Dn,Wn,Ei,Mi,dn,zn="sizzle"+ +new Date,En=l.document,Ci=0,Rr=0,Nr=bs(),Ta=bs(),na=bs(),zr=function(Be,He){return Be===He&&(_t=!0),0},kr={}.hasOwnProperty,yr=[],vs=yr.pop,Ya=yr.push,Sr=yr.push,va=yr.slice,er=function(Be,He){for(var Fe=0,Xe=Be.length;Fe<Xe;Fe++)if(Be[Fe]===He)return Fe;return-1},Br="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ri="[\\x20\\t\\r\\n\\f]",Yi="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",hl="\\["+ri+"*("+Yi+")(?:"+ri+"*([*^$|!~]?=)"+ri+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Yi+"))|)"+ri+"*\\]",xs=":("+Yi+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+hl+")*)|.*)\\)|)",xu=new RegExp(ri+"+","g"),Ao=new RegExp("^"+ri+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ri+"+$","g"),Cu=new RegExp("^"+ri+"*,"+ri+"*"),pl=new RegExp("^"+ri+"*([>+~]|"+ri+")"+ri+"*"),bu=new RegExp("="+ri+`*([^\\]'"]*?)`+ri+"*\\]","g"),_u=new RegExp(xs),gl=new RegExp("^"+Yi+"$"),vo={ID:new RegExp("^#("+Yi+")"),CLASS:new RegExp("^\\.("+Yi+")"),TAG:new RegExp("^("+Yi+"|[*])"),ATTR:new RegExp("^"+hl),PSEUDO:new RegExp("^"+xs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ri+"*(even|odd|(([+-]|)(\\d*)n|)"+ri+"*(?:([+-]|)"+ri+"*(\\d+)|))"+ri+"*\\)|)","i"),bool:new RegExp("^(?:"+Br+")$","i"),needsContext:new RegExp("^"+ri+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ri+"*((?:-\\d)?\\d*)"+ri+"*\\)|)(?=[^-]|$)","i")},Eu=/^(?:input|select|textarea|button)$/i,Iu=/^h\d$/i,Va=/^[^{]+\{\s*\[native \w/,wu=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Cs=/[+~]/,ku=/'|\\/g,ia=new RegExp("\\\\([\\da-f]{1,6}"+ri+"?|("+ri+")|.)","ig"),ra=function(Be,He,Fe){var Xe="0x"+He-65536;return Xe!=Xe||Fe?He:Xe<0?String.fromCharCode(65536+Xe):String.fromCharCode(Xe>>10|55296,1023&Xe|56320)},ml=function(){Tt()};try{Sr.apply(yr=va.call(En.childNodes),En.childNodes),yr[En.childNodes.length].nodeType}catch(Be){Sr={apply:yr.length?function(He,Fe){Ya.apply(He,va.call(Fe))}:function(He,Fe){for(var Xe=He.length,At=0;He[Xe++]=Fe[At++];);He.length=Xe-1}}}function yi(Be,He,Fe,Xe){var At,Jt,Rt,fn,xn,Kn,$n,Vn,qn=He&&He.ownerDocument,bi=He?He.nodeType:9;if(Fe=Fe||[],typeof Be!="string"||!Be||bi!==1&&bi!==9&&bi!==11)return Fe;if(!Xe&&((He?He.ownerDocument||He:En)!==dt&&Tt(He),He=He||dt,Dn)){if(bi!==11&&(Kn=wu.exec(Be)))if(At=Kn[1]){if(bi===9){if(!(Rt=He.getElementById(At)))return Fe;if(Rt.id===At)return Fe.push(Rt),Fe}else if(qn&&(Rt=qn.getElementById(At))&&dn(He,Rt)&&Rt.id===At)return Fe.push(Rt),Fe}else{if(Kn[2])return Sr.apply(Fe,He.getElementsByTagName(Be)),Fe;if((At=Kn[3])&&V.getElementsByClassName&&He.getElementsByClassName)return Sr.apply(Fe,He.getElementsByClassName(At)),Fe}if(V.qsa&&!na[Be+" "]&&(!Wn||!Wn.test(Be))){if(bi!==1)qn=He,Vn=Be;else if(He.nodeName.toLowerCase()!=="object"){for((fn=He.getAttribute("id"))?fn=fn.replace(ku,"\\$&"):He.setAttribute("id",fn=zn),Jt=($n=Ie(Be)).length,xn=gl.test(fn)?"#"+fn:"[id='"+fn+"']";Jt--;)$n[Jt]=xn+" "+xo($n[Jt]);Vn=$n.join(","),qn=Cs.test(Be)&&Es(He.parentNode)||He}if(Vn)try{return Sr.apply(Fe,qn.querySelectorAll(Vn)),Fe}catch(Sn){}finally{fn===zn&&He.removeAttribute("id")}}}return je(Be.replace(Ao,"$1"),He,Fe,Xe)}function bs(){var Be=[];function He(Fe,Xe){return Be.push(Fe+" ")>te.cacheLength&&delete He[Be.shift()],He[Fe+" "]=Xe}return He}function Hr(Be){return Be[zn]=!0,Be}function ui(Be){var He=dt.createElement("div");try{return!!Be(He)}catch(Fe){return!1}finally{He.parentNode&&He.parentNode.removeChild(He)}}function _s(Be,He){for(var Fe=Be.split("|"),Xe=Fe.length;Xe--;)te.attrHandle[Fe[Xe]]=He}function yl(Be,He){var Fe=He&&Be,Xe=Fe&&Be.nodeType===1&&He.nodeType===1&&(~He.sourceIndex||1<<31)-(~Be.sourceIndex||1<<31);if(Xe)return Xe;if(Fe){for(;Fe=Fe.nextSibling;)if(Fe===He)return-1}return Be?1:-1}function xa(Be){return Hr(function(He){return He=+He,Hr(function(Fe,Xe){for(var At,Jt=Be([],Fe.length,He),Rt=Jt.length;Rt--;)Fe[At=Jt[Rt]]&&(Fe[At]=!(Xe[At]=Fe[At]))})})}function Es(Be){return Be&&typeof Be.getElementsByTagName!="undefined"&&Be}for(P in V=yi.support={},ye=yi.isXML=function(Be){return Be=Be&&(Be.ownerDocument||Be).documentElement,!!Be&&Be.nodeName!=="HTML"},Tt=yi.setDocument=function(He){var He=He?He.ownerDocument||He:En;return He!==dt&&He.nodeType===9&&He.documentElement&&(kt=(dt=He).documentElement,Dn=!ye(dt),(He=dt.defaultView)&&He.top!==He&&(He.addEventListener?He.addEventListener("unload",ml,!1):He.attachEvent&&He.attachEvent("onunload",ml)),V.attributes=ui(function(Fe){return Fe.className="i",!Fe.getAttribute("className")}),V.getElementsByTagName=ui(function(Fe){return Fe.appendChild(dt.createComment("")),!Fe.getElementsByTagName("*").length}),V.getElementsByClassName=Va.test(dt.getElementsByClassName),V.getById=ui(function(Fe){return kt.appendChild(Fe).id=zn,!dt.getElementsByName||!dt.getElementsByName(zn).length}),V.getById?(te.find.ID=function(Fe,Xe){if(typeof Xe.getElementById!="undefined"&&Dn)return(Fe=Xe.getElementById(Fe))?[Fe]:[]},te.filter.ID=function(Fe){var Xe=Fe.replace(ia,ra);return function(At){return At.getAttribute("id")===Xe}}):(delete te.find.ID,te.filter.ID=function(Fe){var Xe=Fe.replace(ia,ra);return function(At){return At=typeof At.getAttributeNode!="undefined"&&At.getAttributeNode("id"),At&&At.value===Xe}}),te.find.TAG=V.getElementsByTagName?function(Fe,Xe){return typeof Xe.getElementsByTagName!="undefined"?Xe.getElementsByTagName(Fe):V.qsa?Xe.querySelectorAll(Fe):void 0}:function(Fe,Xe){var At,Jt=[],Rt=0,fn=Xe.getElementsByTagName(Fe);if(Fe!=="*")return fn;for(;At=fn[Rt++];)At.nodeType===1&&Jt.push(At);return Jt},te.find.CLASS=V.getElementsByClassName&&function(Fe,Xe){if(typeof Xe.getElementsByClassName!="undefined"&&Dn)return Xe.getElementsByClassName(Fe)},Ei=[],Wn=[],(V.qsa=Va.test(dt.querySelectorAll))&&(ui(function(Fe){kt.appendChild(Fe).innerHTML="<a id='"+zn+"'></a><select id='"+zn+"-\r\\' msallowcapture=''><option selected=''></option></select>",Fe.querySelectorAll("[msallowcapture^='']").length&&Wn.push("[*^$]="+ri+`*(?:''|"")`),Fe.querySelectorAll("[selected]").length||Wn.push("\\["+ri+"*(?:value|"+Br+")"),Fe.querySelectorAll("[id~="+zn+"-]").length||Wn.push("~="),Fe.querySelectorAll(":checked").length||Wn.push(":checked"),Fe.querySelectorAll("a#"+zn+"+*").length||Wn.push(".#.+[+~]")}),ui(function(Fe){var Xe=dt.createElement("input");Xe.setAttribute("type","hidden"),Fe.appendChild(Xe).setAttribute("name","D"),Fe.querySelectorAll("[name=d]").length&&Wn.push("name"+ri+"*[*^$|!~]?="),Fe.querySelectorAll(":enabled").length||Wn.push(":enabled",":disabled"),Fe.querySelectorAll("*,:x"),Wn.push(",.*:")})),(V.matchesSelector=Va.test(Mi=kt.matches||kt.webkitMatchesSelector||kt.mozMatchesSelector||kt.oMatchesSelector||kt.msMatchesSelector))&&ui(function(Fe){V.disconnectedMatch=Mi.call(Fe,"div"),Mi.call(Fe,"[s!='']:x"),Ei.push("!=",xs)}),Wn=Wn.length&&new RegExp(Wn.join("|")),Ei=Ei.length&&new RegExp(Ei.join("|")),He=Va.test(kt.compareDocumentPosition),dn=He||Va.test(kt.contains)?function(Fe,Jt){var At=Fe.nodeType===9?Fe.documentElement:Fe,Jt=Jt&&Jt.parentNode;return Fe===Jt||!(!Jt||Jt.nodeType!==1||!(At.contains?At.contains(Jt):Fe.compareDocumentPosition&&16&Fe.compareDocumentPosition(Jt)))}:function(Fe,Xe){if(Xe){for(;Xe=Xe.parentNode;)if(Xe===Fe)return!0}return!1},zr=He?function(Fe,Xe){var At;return Fe===Xe?(_t=!0,0):(At=!Fe.compareDocumentPosition-!Xe.compareDocumentPosition)||(1&(At=(Fe.ownerDocument||Fe)===(Xe.ownerDocument||Xe)?Fe.compareDocumentPosition(Xe):1)||!V.sortDetached&&Xe.compareDocumentPosition(Fe)===At?Fe===dt||Fe.ownerDocument===En&&dn(En,Fe)?-1:Xe===dt||Xe.ownerDocument===En&&dn(En,Xe)?1:gt?er(gt,Fe)-er(gt,Xe):0:4&At?-1:1)}:function(Fe,Xe){if(Fe===Xe)return _t=!0,0;var At,Jt=0,Rt=Fe.parentNode,fn=Xe.parentNode,xn=[Fe],Kn=[Xe];if(!Rt||!fn)return Fe===dt?-1:Xe===dt?1:Rt?-1:fn?1:gt?er(gt,Fe)-er(gt,Xe):0;if(Rt===fn)return yl(Fe,Xe);for(At=Fe;At=At.parentNode;)xn.unshift(At);for(At=Xe;At=At.parentNode;)Kn.unshift(At);for(;xn[Jt]===Kn[Jt];)Jt++;return Jt?yl(xn[Jt],Kn[Jt]):xn[Jt]===En?-1:Kn[Jt]===En?1:0}),dt},yi.matches=function(Be,He){return yi(Be,null,null,He)},yi.matchesSelector=function(Be,He){if((Be.ownerDocument||Be)!==dt&&Tt(Be),He=He.replace(bu,"='$1']"),V.matchesSelector&&Dn&&!na[He+" "]&&(!Ei||!Ei.test(He))&&(!Wn||!Wn.test(He)))try{var Fe=Mi.call(Be,He);if(Fe||V.disconnectedMatch||Be.document&&Be.document.nodeType!==11)return Fe}catch(Xe){}return 0<yi(He,dt,null,[Be]).length},yi.contains=function(Be,He){return(Be.ownerDocument||Be)!==dt&&Tt(Be),dn(Be,He)},yi.attr=function(Be,He){(Be.ownerDocument||Be)!==dt&&Tt(Be);var Fe=te.attrHandle[He.toLowerCase()],Fe=Fe&&kr.call(te.attrHandle,He.toLowerCase())?Fe(Be,He,!Dn):void 0;return Fe!==void 0?Fe:V.attributes||!Dn?Be.getAttribute(He):(Fe=Be.getAttributeNode(He))&&Fe.specified?Fe.value:null},yi.error=function(Be){throw new Error("Syntax error, unrecognized expression: "+Be)},yi.uniqueSort=function(Be){var He,Fe=[],Xe=0,At=0;if(_t=!V.detectDuplicates,gt=!V.sortStable&&Be.slice(0),Be.sort(zr),_t){for(;He=Be[At++];)He===Be[At]&&(Xe=Fe.push(At));for(;Xe--;)Be.splice(Fe[Xe],1)}return gt=null,Be},he=yi.getText=function(Be){var He,Fe="",Xe=0,At=Be.nodeType;if(At){if(At===1||At===9||At===11){if(typeof Be.textContent=="string")return Be.textContent;for(Be=Be.firstChild;Be;Be=Be.nextSibling)Fe+=he(Be)}else if(At===3||At===4)return Be.nodeValue}else for(;He=Be[Xe++];)Fe+=he(He);return Fe},(te=yi.selectors={cacheLength:50,createPseudo:Hr,match:vo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Be){return Be[1]=Be[1].replace(ia,ra),Be[3]=(Be[3]||Be[4]||Be[5]||"").replace(ia,ra),Be[2]==="~="&&(Be[3]=" "+Be[3]+" "),Be.slice(0,4)},CHILD:function(Be){return Be[1]=Be[1].toLowerCase(),Be[1].slice(0,3)==="nth"?(Be[3]||yi.error(Be[0]),Be[4]=+(Be[4]?Be[5]+(Be[6]||1):2*(Be[3]==="even"||Be[3]==="odd")),Be[5]=+(Be[7]+Be[8]||Be[3]==="odd")):Be[3]&&yi.error(Be[0]),Be},PSEUDO:function(Be){var He,Fe=!Be[6]&&Be[2];return vo.CHILD.test(Be[0])?null:(Be[3]?Be[2]=Be[4]||Be[5]||"":Fe&&_u.test(Fe)&&(He=(He=Ie(Fe,!0))&&Fe.indexOf(")",Fe.length-He)-Fe.length)&&(Be[0]=Be[0].slice(0,He),Be[2]=Fe.slice(0,He)),Be.slice(0,3))}},filter:{TAG:function(Be){var He=Be.replace(ia,ra).toLowerCase();return Be==="*"?function(){return!0}:function(Fe){return Fe.nodeName&&Fe.nodeName.toLowerCase()===He}},CLASS:function(Be){var He=Nr[Be+" "];return He||(He=new RegExp("(^|"+ri+")"+Be+"("+ri+"|$)"))&&Nr(Be,function(Fe){return He.test(typeof Fe.className=="string"&&Fe.className||typeof Fe.getAttribute!="undefined"&&Fe.getAttribute("class")||"")})},ATTR:function(Be,He,Fe){return function(Xe){return Xe=yi.attr(Xe,Be),Xe==null?He==="!=":!He||(Xe+="",He==="="?Xe===Fe:He==="!="?Xe!==Fe:He==="^="?Fe&&Xe.indexOf(Fe)===0:He==="*="?Fe&&-1<Xe.indexOf(Fe):He==="$="?Fe&&Xe.slice(-Fe.length)===Fe:He==="~="?-1<(" "+Xe.replace(xu," ")+" ").indexOf(Fe):He==="|="&&(Xe===Fe||Xe.slice(0,Fe.length+1)===Fe+"-"))}},CHILD:function(Be,He,Fe,Xe,At){var Jt=Be.slice(0,3)!=="nth",Rt=Be.slice(-4)!=="last",fn=He==="of-type";return Xe===1&&At===0?function(xn){return!!xn.parentNode}:function(xn,Kn,$n){var Vn,qn,bi,Sn,ci,ki,Oi=Jt!=Rt?"nextSibling":"previousSibling",li=xn.parentNode,Si=fn&&xn.nodeName.toLowerCase(),Wi=!$n&&!fn,Di=!1;if(li){if(Jt){for(;Oi;){for(Sn=xn;Sn=Sn[Oi];)if(fn?Sn.nodeName.toLowerCase()===Si:Sn.nodeType===1)return!1;ki=Oi=Be==="only"&&!ki&&"nextSibling"}return!0}if(ki=[Rt?li.firstChild:li.lastChild],Rt&&Wi){for(Di=(ci=(Vn=(qn=(bi=(Sn=li)[zn]||(Sn[zn]={}))[Sn.uniqueID]||(bi[Sn.uniqueID]={}))[Be]||[])[0]===Ci&&Vn[1])&&Vn[2],Sn=ci&&li.childNodes[ci];Sn=++ci&&Sn&&Sn[Oi]||(Di=ci=0,ki.pop());)if(Sn.nodeType===1&&++Di&&Sn===xn){qn[Be]=[Ci,ci,Di];break}}else if((Di=Wi?ci=(Vn=(qn=(bi=(Sn=xn)[zn]||(Sn[zn]={}))[Sn.uniqueID]||(bi[Sn.uniqueID]={}))[Be]||[])[0]===Ci&&Vn[1]:Di)===!1)for(;(Sn=++ci&&Sn&&Sn[Oi]||(Di=ci=0,ki.pop()))&&((fn?Sn.nodeName.toLowerCase()!==Si:Sn.nodeType!==1)||!++Di||(Wi&&((qn=(bi=Sn[zn]||(Sn[zn]={}))[Sn.uniqueID]||(bi[Sn.uniqueID]={}))[Be]=[Ci,Di]),Sn!==xn)););return(Di-=At)===Xe||Di%Xe==0&&0<=Di/Xe}}},PSEUDO:function(Be,He){var Fe,Xe=te.pseudos[Be]||te.setFilters[Be.toLowerCase()]||yi.error("unsupported pseudo: "+Be);return Xe[zn]?Xe(He):1<Xe.length?(Fe=[Be,Be,"",He],te.setFilters.hasOwnProperty(Be.toLowerCase())?Hr(function(At,Jt){for(var Rt,fn=Xe(At,He),xn=fn.length;xn--;)At[Rt=er(At,fn[xn])]=!(Jt[Rt]=fn[xn])}):function(At){return Xe(At,0,Fe)}):Xe}},pseudos:{not:Hr(function(Be){var He=[],Fe=[],Xe=Pe(Be.replace(Ao,"$1"));return Xe[zn]?Hr(function(At,Jt,Rt,fn){for(var xn,Kn=Xe(At,null,fn,[]),$n=At.length;$n--;)(xn=Kn[$n])&&(At[$n]=!(Jt[$n]=xn))}):function(At,Jt,Rt){return He[0]=At,Xe(He,null,Rt,Fe),He[0]=null,!Fe.pop()}}),has:Hr(function(Be){return function(He){return 0<yi(Be,He).length}}),contains:Hr(function(Be){return Be=Be.replace(ia,ra),function(He){return-1<(He.textContent||He.innerText||he(He)).indexOf(Be)}}),lang:Hr(function(Be){return gl.test(Be||"")||yi.error("unsupported lang: "+Be),Be=Be.replace(ia,ra).toLowerCase(),function(He){var Fe;do if(Fe=Dn?He.lang:He.getAttribute("xml:lang")||He.getAttribute("lang"))return(Fe=Fe.toLowerCase())===Be||Fe.indexOf(Be+"-")===0;while((He=He.parentNode)&&He.nodeType===1);return!1}}),target:function(Be){var He=l.location&&l.location.hash;return He&&He.slice(1)===Be.id},root:function(Be){return Be===kt},focus:function(Be){return Be===dt.activeElement&&(!dt.hasFocus||dt.hasFocus())&&!!(Be.type||Be.href||~Be.tabIndex)},enabled:function(Be){return Be.disabled===!1},disabled:function(Be){return Be.disabled===!0},checked:function(Be){var He=Be.nodeName.toLowerCase();return He==="input"&&!!Be.checked||He==="option"&&!!Be.selected},selected:function(Be){return Be.parentNode&&Be.parentNode.selectedIndex,Be.selected===!0},empty:function(Be){for(Be=Be.firstChild;Be;Be=Be.nextSibling)if(Be.nodeType<6)return!1;return!0},parent:function(Be){return!te.pseudos.empty(Be)},header:function(Be){return Iu.test(Be.nodeName)},input:function(Be){return Eu.test(Be.nodeName)},button:function(Be){var He=Be.nodeName.toLowerCase();return He==="input"&&Be.type==="button"||He==="button"},text:function(Be){return Be.nodeName.toLowerCase()==="input"&&Be.type==="text"&&((Be=Be.getAttribute("type"))==null||Be.toLowerCase()==="text")},first:xa(function(){return[0]}),last:xa(function(Be,He){return[He-1]}),eq:xa(function(Be,He,Fe){return[Fe<0?Fe+He:Fe]}),even:xa(function(Be,He){for(var Fe=0;Fe<He;Fe+=2)Be.push(Fe);return Be}),odd:xa(function(Be,He){for(var Fe=1;Fe<He;Fe+=2)Be.push(Fe);return Be}),lt:xa(function(Be,He,Fe){for(var Xe=Fe<0?Fe+He:Fe;0<=--Xe;)Be.push(Xe);return Be}),gt:xa(function(Be,He,Fe){for(var Xe=Fe<0?Fe+He:Fe;++Xe<He;)Be.push(Xe);return Be})}}).pseudos.nth=te.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})te.pseudos[P]=function(Be){return function(He){return He.nodeName.toLowerCase()==="input"&&He.type===Be}}(P);for(P in{submit:!0,reset:!0})te.pseudos[P]=function(Be){return function(He){var Fe=He.nodeName.toLowerCase();return(Fe==="input"||Fe==="button")&&He.type===Be}}(P);function La(){}function xo(Be){for(var He=0,Fe=Be.length,Xe="";He<Fe;He++)Xe+=Be[He].value;return Xe}function Is(Be,He,Fe){var Xe=He.dir,At=Fe&&Xe==="parentNode",Jt=Rr++;return He.first?function(Rt,fn,xn){for(;Rt=Rt[Xe];)if(Rt.nodeType===1||At)return Be(Rt,fn,xn)}:function(Rt,fn,xn){var Kn,$n,Vn=[Ci,Jt];if(xn){for(;Rt=Rt[Xe];)if((Rt.nodeType===1||At)&&Be(Rt,fn,xn))return!0}else for(;Rt=Rt[Xe];)if(Rt.nodeType===1||At){if((Kn=($n=($n=Rt[zn]||(Rt[zn]={}))[Rt.uniqueID]||($n[Rt.uniqueID]={}))[Xe])&&Kn[0]===Ci&&Kn[1]===Jt)return Vn[2]=Kn[2];if(($n[Xe]=Vn)[2]=Be(Rt,fn,xn))return!0}}}function ws(Be){return 1<Be.length?function(He,Fe,Xe){for(var At=Be.length;At--;)if(!Be[At](He,Fe,Xe))return!1;return!0}:Be[0]}function Co(Be,He,Fe,Xe,At){for(var Jt,Rt=[],fn=0,xn=Be.length,Kn=He!=null;fn<xn;fn++)!(Jt=Be[fn])||Fe&&!Fe(Jt,Xe,At)||(Rt.push(Jt),Kn&&He.push(fn));return Rt}function ks(Be,He,Fe,Xe,At,Jt){return Xe&&!Xe[zn]&&(Xe=ks(Xe)),At&&!At[zn]&&(At=ks(At,Jt)),Hr(function(Rt,fn,xn,Kn){var $n,Vn,qn,bi=[],Sn=[],ci=fn.length,ki=Rt||function(Si,Wi,Di){for(var Vi=0,Dr=Wi.length;Vi<Dr;Vi++)yi(Si,Wi[Vi],Di);return Di}(He||"*",xn.nodeType?[xn]:xn,[]),Oi=!Be||!Rt&&He?ki:Co(ki,bi,Be,xn,Kn),li=Fe?At||(Rt?Be:ci||Xe)?[]:fn:Oi;if(Fe&&Fe(Oi,li,xn,Kn),Xe)for($n=Co(li,Sn),Xe($n,[],xn,Kn),Vn=$n.length;Vn--;)(qn=$n[Vn])&&(li[Sn[Vn]]=!(Oi[Sn[Vn]]=qn));if(Rt){if(At||Be){if(At){for($n=[],Vn=li.length;Vn--;)(qn=li[Vn])&&$n.push(Oi[Vn]=qn);At(null,li=[],$n,Kn)}for(Vn=li.length;Vn--;)(qn=li[Vn])&&-1<($n=At?er(Rt,qn):bi[Vn])&&(Rt[$n]=!(fn[$n]=qn))}}else li=Co(li===fn?li.splice(ci,li.length):li),At?At(null,fn,li,Kn):Sr.apply(fn,li)})}return La.prototype=te.filters=te.pseudos,te.setFilters=new La,Ie=yi.tokenize=function(Be,He){var Fe,Xe,At,Jt,Rt,fn,xn,Kn=Ta[Be+" "];if(Kn)return He?0:Kn.slice(0);for(Rt=Be,fn=[],xn=te.preFilter;Rt;){for(Jt in Fe&&!(Xe=Cu.exec(Rt))||(Xe&&(Rt=Rt.slice(Xe[0].length)||Rt),fn.push(At=[])),Fe=!1,(Xe=pl.exec(Rt))&&(Fe=Xe.shift(),At.push({value:Fe,type:Xe[0].replace(Ao," ")}),Rt=Rt.slice(Fe.length)),te.filter)!(Xe=vo[Jt].exec(Rt))||xn[Jt]&&!(Xe=xn[Jt](Xe))||(Fe=Xe.shift(),At.push({value:Fe,type:Jt,matches:Xe}),Rt=Rt.slice(Fe.length));if(!Fe)break}return He?Rt.length:Rt?yi.error(Be):Ta(Be,fn).slice(0)},Pe=yi.compile=function(Be,He){var Fe,Xe,At,Jt,Rt,fn,xn=[],Kn=[],$n=na[Be+" "];if(!$n){for(Fe=(He=He||Ie(Be)).length;Fe--;)(($n=function Vn(qn){for(var bi,Sn,ci,ki=qn.length,Oi=te.relative[qn[0].type],li=Oi||te.relative[" "],Si=Oi?1:0,Wi=Is(function(Dr){return Dr===bi},li,!0),Di=Is(function(Dr){return-1<er(bi,Dr)},li,!0),Vi=[function(Dr,Fa,Ka){return Dr=!Oi&&(Ka||Fa!==qe)||((bi=Fa).nodeType?Wi:Di)(Dr,Fa,Ka),bi=null,Dr}];Si<ki;Si++)if(Sn=te.relative[qn[Si].type])Vi=[Is(ws(Vi),Sn)];else{if((Sn=te.filter[qn[Si].type].apply(null,qn[Si].matches))[zn]){for(ci=++Si;ci<ki&&!te.relative[qn[ci].type];ci++);return ks(1<Si&&ws(Vi),1<Si&&xo(qn.slice(0,Si-1).concat({value:qn[Si-2].type===" "?"*":""})).replace(Ao,"$1"),Sn,Si<ci&&Vn(qn.slice(Si,ci)),ci<ki&&Vn(qn=qn.slice(ci)),ci<ki&&xo(qn))}Vi.push(Sn)}return ws(Vi)}(He[Fe]))[zn]?xn:Kn).push($n);($n=na(Be,(Xe=Kn,Jt=0<(At=xn).length,Rt=0<Xe.length,fn=function(Vn,qn,bi,Sn,ci){var ki,Oi,li,Si=0,Wi="0",Di=Vn&&[],Vi=[],Dr=qe,Fa=Vn||Rt&&te.find.TAG("*",ci),Ka=Ci+=Dr==null?1:Math.random()||.1,Su=Fa.length;for(ci&&(qe=qn===dt||qn||ci);Wi!==Su&&(ki=Fa[Wi])!=null;Wi++){if(Rt&&ki){for(Oi=0,qn||ki.ownerDocument===dt||(Tt(ki),bi=!Dn);li=Xe[Oi++];)if(li(ki,qn||dt,bi)){Sn.push(ki);break}ci&&(Ci=Ka)}Jt&&((ki=!li&&ki)&&Si--,Vn)&&Di.push(ki)}if(Si+=Wi,Jt&&Wi!==Si){for(Oi=0;li=At[Oi++];)li(Di,Vi,qn,bi);if(Vn){if(0<Si)for(;Wi--;)Di[Wi]||Vi[Wi]||(Vi[Wi]=vs.call(Sn));Vi=Co(Vi)}Sr.apply(Sn,Vi),ci&&!Vn&&0<Vi.length&&1<Si+At.length&&yi.uniqueSort(Sn)}return ci&&(Ci=Ka,qe=Dr),Di},Jt?Hr(fn):fn))).selector=Be}return $n},je=yi.select=function(Be,He,Fe,Xe){var At,Jt,Rt,fn,xn,Kn=typeof Be=="function"&&Be,$n=!Xe&&Ie(Be=Kn.selector||Be);if(Fe=Fe||[],$n.length===1){if(2<(Jt=$n[0]=$n[0].slice(0)).length&&(Rt=Jt[0]).type==="ID"&&V.getById&&He.nodeType===9&&Dn&&te.relative[Jt[1].type]){if(!(He=(te.find.ID(Rt.matches[0].replace(ia,ra),He)||[])[0]))return Fe;Kn&&(He=He.parentNode),Be=Be.slice(Jt.shift().value.length)}for(At=vo.needsContext.test(Be)?0:Jt.length;At--&&(Rt=Jt[At],!te.relative[fn=Rt.type]);)if((xn=te.find[fn])&&(Xe=xn(Rt.matches[0].replace(ia,ra),Cs.test(Jt[0].type)&&Es(He.parentNode)||He))){if(Jt.splice(At,1),Be=Xe.length&&xo(Jt))break;return Sr.apply(Fe,Xe),Fe}}return(Kn||Pe(Be,$n))(Xe,He,!Dn,Fe,!He||Cs.test(Be)&&Es(He.parentNode)||He),Fe},V.sortStable=zn.split("").sort(zr).join("")===zn,V.detectDuplicates=!!_t,Tt(),V.sortDetached=ui(function(Be){return 1&Be.compareDocumentPosition(dt.createElement("div"))}),ui(function(Be){return Be.innerHTML="<a href='#'></a>",Be.firstChild.getAttribute("href")==="#"})||_s("type|href|height|width",function(Be,He,Fe){if(!Fe)return Be.getAttribute(He,He.toLowerCase()==="type"?1:2)}),V.attributes&&ui(function(Be){return Be.innerHTML="<input/>",Be.firstChild.setAttribute("value",""),Be.firstChild.getAttribute("value")===""})||_s("value",function(Be,He,Fe){if(!Fe&&Be.nodeName.toLowerCase()==="input")return Be.defaultValue}),ui(function(Be){return Be.getAttribute("disabled")==null})||_s(Br,function(Be,He,Fe){if(!Fe)return Be[He]===!0?He.toLowerCase():(Fe=Be.getAttributeNode(He))&&Fe.specified?Fe.value:null}),yi}(i),w=(r.find=Ee,r.expr=Ee.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=Ee.uniqueSort,r.text=Ee.getText,r.isXMLDoc=Ee.isXML,r.contains=Ee.contains,function(l,P,V){for(var te=[],he=V!==void 0;(l=l[P])&&l.nodeType!==9;)if(l.nodeType===1){if(he&&r(l).is(V))break;te.push(l)}return te}),M=function(l,P){for(var V=[];l;l=l.nextSibling)l.nodeType===1&&l!==P&&V.push(l);return V},z=r.expr.match.needsContext,G=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Y=/^.[^:#\[\.,]*$/;function N(l,P,V){if(r.isFunction(P))return r.grep(l,function(te,he){return!!P.call(te,he,te)!==V});if(P.nodeType)return r.grep(l,function(te){return te===P!==V});if(typeof P=="string"){if(Y.test(P))return r.filter(P,l,V);P=r.filter(P,l)}return r.grep(l,function(te){return-1<r.inArray(te,P)!==V})}r.filter=function(l,P,V){var te=P[0];return V&&(l=":not("+l+")"),P.length===1&&te.nodeType===1?r.find.matchesSelector(te,l)?[te]:[]:r.find.matches(l,r.grep(P,function(he){return he.nodeType===1}))},r.fn.extend({find:function(l){var P,V=[],te=this,he=te.length;if(typeof l!="string")return this.pushStack(r(l).filter(function(){for(P=0;P<he;P++)if(r.contains(te[P],this))return!0}));for(P=0;P<he;P++)r.find(l,te[P],V);return(V=this.pushStack(1<he?r.unique(V):V)).selector=this.selector?this.selector+" "+l:l,V},filter:function(l){return this.pushStack(N(this,l||[],!1))},not:function(l){return this.pushStack(N(this,l||[],!0))},is:function(l){return!!N(this,typeof l=="string"&&z.test(l)?r(l):l||[],!1).length}});var K,p=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,x=((r.fn.init=function(l,P,V){if(l){if(V=V||K,typeof l!="string")return l.nodeType?(this.context=this[0]=l,this.length=1,this):r.isFunction(l)?typeof V.ready!="undefined"?V.ready(l):l(r):(l.selector!==void 0&&(this.selector=l.selector,this.context=l.context),r.makeArray(l,this));if(!(te=l.charAt(0)==="<"&&l.charAt(l.length-1)===">"&&3<=l.length?[null,l,null]:p.exec(l))||!te[1]&&P)return(!P||P.jquery?P||V:this.constructor(P)).find(l);if(te[1]){if(P=P instanceof r?P[0]:P,r.merge(this,r.parseHTML(te[1],P&&P.nodeType?P.ownerDocument||P:u,!0)),G.test(te[1])&&r.isPlainObject(P))for(var te in P)r.isFunction(this[te])?this[te](P[te]):this.attr(te,P[te])}else{if((V=u.getElementById(te[2]))&&V.parentNode){if(V.id!==te[2])return K.find(l);this.length=1,this[0]=V}this.context=u,this.selector=l}}return this}).prototype=r.fn,K=r(u),/^(?:parents|prev(?:Until|All))/),_={children:!0,contents:!0,next:!0,prev:!0};function B(l,P){for(;(l=l[P])&&l.nodeType!==1;);return l}r.fn.extend({has:function(l){var P,V=r(l,this),te=V.length;return this.filter(function(){for(P=0;P<te;P++)if(r.contains(this,V[P]))return!0})},closest:function(l,P){for(var V,te=0,he=this.length,ye=[],Ie=z.test(l)||typeof l!="string"?r(l,P||this.context):0;te<he;te++)for(V=this[te];V&&V!==P;V=V.parentNode)if(V.nodeType<11&&(Ie?-1<Ie.index(V):V.nodeType===1&&r.find.matchesSelector(V,l))){ye.push(V);break}return this.pushStack(1<ye.length?r.uniqueSort(ye):ye)},index:function(l){return l?typeof l=="string"?r.inArray(this[0],r(l)):r.inArray(l.jquery?l[0]:l,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(l,P){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(l,P))))},addBack:function(l){return this.add(l==null?this.prevObject:this.prevObject.filter(l))}}),r.each({parent:function(l){return l=l.parentNode,l&&l.nodeType!==11?l:null},parents:function(l){return w(l,"parentNode")},parentsUntil:function(l,P,V){return w(l,"parentNode",V)},next:function(l){return B(l,"nextSibling")},prev:function(l){return B(l,"previousSibling")},nextAll:function(l){return w(l,"nextSibling")},prevAll:function(l){return w(l,"previousSibling")},nextUntil:function(l,P,V){return w(l,"nextSibling",V)},prevUntil:function(l,P,V){return w(l,"previousSibling",V)},siblings:function(l){return M((l.parentNode||{}).firstChild,l)},children:function(l){return M(l.firstChild)},contents:function(l){return r.nodeName(l,"iframe")?l.contentDocument||l.contentWindow.document:r.merge([],l.childNodes)}},function(l,P){r.fn[l]=function(V,te){var he=r.map(this,P,V);return(te=l.slice(-5)!=="Until"?V:te)&&typeof te=="string"&&(he=r.filter(te,he)),1<this.length&&(_[l]||(he=r.uniqueSort(he)),x.test(l))&&(he=he.reverse()),this.pushStack(he)}});var R,X,J=/\S+/g;function ne(){u.addEventListener?(u.removeEventListener("DOMContentLoaded",le),i.removeEventListener("load",le)):(u.detachEvent("onreadystatechange",le),i.detachEvent("onload",le))}function le(){!u.addEventListener&&i.event.type!=="load"&&u.readyState!=="complete"||(ne(),r.ready())}for(X in r.Callbacks=function(l){var P,V;l=typeof l=="string"?(P=l,V={},r.each(P.match(J)||[],function(Tt,dt){V[dt]=!0}),V):r.extend({},l);var te,he,ye,Ie,Pe=[],je=[],qe=-1,gt=function(){for(Ie=l.once,ye=te=!0;je.length;qe=-1)for(he=je.shift();++qe<Pe.length;)Pe[qe].apply(he[0],he[1])===!1&&l.stopOnFalse&&(qe=Pe.length,he=!1);l.memory||(he=!1),te=!1,Ie&&(Pe=he?[]:"")},_t={add:function(){return Pe&&(he&&!te&&(qe=Pe.length-1,je.push(he)),function Tt(dt){r.each(dt,function(kt,Dn){r.isFunction(Dn)?l.unique&&_t.has(Dn)||Pe.push(Dn):Dn&&Dn.length&&r.type(Dn)!=="string"&&Tt(Dn)})}(arguments),he)&&!te&&gt(),this},remove:function(){return r.each(arguments,function(Tt,dt){for(var kt;-1<(kt=r.inArray(dt,Pe,kt));)Pe.splice(kt,1),kt<=qe&&qe--}),this},has:function(Tt){return Tt?-1<r.inArray(Tt,Pe):0<Pe.length},empty:function(){return Pe=Pe&&[],this},disable:function(){return Ie=je=[],Pe=he="",this},disabled:function(){return!Pe},lock:function(){return Ie=!0,he||_t.disable(),this},locked:function(){return!!Ie},fireWith:function(Tt,dt){return Ie||(dt=[Tt,(dt=dt||[]).slice?dt.slice():dt],je.push(dt),te)||gt(),this},fire:function(){return _t.fireWith(this,arguments),this},fired:function(){return!!ye}};return _t},r.extend({Deferred:function(l){var P=[["resolve","done",r.Callbacks("once memory"),"resolved"],["reject","fail",r.Callbacks("once memory"),"rejected"],["notify","progress",r.Callbacks("memory")]],V="pending",te={state:function(){return V},always:function(){return he.done(arguments).fail(arguments),this},then:function(){var ye=arguments;return r.Deferred(function(Ie){r.each(P,function(Pe,je){var qe=r.isFunction(ye[Pe])&&ye[Pe];he[je[1]](function(){var gt=qe&&qe.apply(this,arguments);gt&&r.isFunction(gt.promise)?gt.promise().progress(Ie.notify).done(Ie.resolve).fail(Ie.reject):Ie[je[0]+"With"](this===te?Ie.promise():this,qe?[gt]:arguments)})}),ye=null}).promise()},promise:function(ye){return ye!=null?r.extend(ye,te):te}},he={};return te.pipe=te.then,r.each(P,function(ye,Ie){var Pe=Ie[2],je=Ie[3];te[Ie[1]]=Pe.add,je&&Pe.add(function(){V=je},P[1^ye][2].disable,P[2][2].lock),he[Ie[0]]=function(){return he[Ie[0]+"With"](this===he?te:this,arguments),this},he[Ie[0]+"With"]=Pe.fireWith}),te.promise(he),l&&l.call(he,he),he},when:function(l){var P,V,te,he=0,ye=A.call(arguments),Ie=ye.length,Pe=Ie!==1||l&&r.isFunction(l.promise)?Ie:0,je=Pe===1?l:r.Deferred(),qe=function(gt,_t,Tt){return function(dt){_t[gt]=this,Tt[gt]=1<arguments.length?A.call(arguments):dt,Tt===P?je.notifyWith(_t,Tt):--Pe||je.resolveWith(_t,Tt)}};if(1<Ie)for(P=new Array(Ie),V=new Array(Ie),te=new Array(Ie);he<Ie;he++)ye[he]&&r.isFunction(ye[he].promise)?ye[he].promise().progress(qe(he,V,P)).done(qe(he,te,ye)).fail(je.reject):--Pe;return Pe||je.resolveWith(te,ye),je.promise()}}),r.fn.ready=function(l){return r.ready.promise().done(l),this},r.extend({isReady:!1,readyWait:1,holdReady:function(l){l?r.readyWait++:r.ready(!0)},ready:function(l){(l===!0?--r.readyWait:r.isReady)||(r.isReady=!0)!==l&&0<--r.readyWait||(R.resolveWith(u,[r]),r.fn.triggerHandler&&(r(u).triggerHandler("ready"),r(u).off("ready")))}}),r.ready.promise=function(l){if(!R)if(R=r.Deferred(),u.readyState==="complete"||u.readyState!=="loading"&&!u.documentElement.doScroll)i.setTimeout(r.ready);else if(u.addEventListener)u.addEventListener("DOMContentLoaded",le),i.addEventListener("load",le);else{u.attachEvent("onreadystatechange",le),i.attachEvent("onload",le);var P=!1;try{P=i.frameElement==null&&u.documentElement}catch(V){}P&&P.doScroll&&function V(){if(!r.isReady){try{P.doScroll("left")}catch(te){return i.setTimeout(V,50)}ne(),r.ready()}}()}return R.promise(l)},r.ready.promise(),r(E))break;E.ownFirst=X==="0",E.inlineBlockNeedsLayout=!1,r(function(){var l,P,V=u.getElementsByTagName("body")[0];V&&V.style&&(l=u.createElement("div"),(P=u.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",V.appendChild(P).appendChild(l),typeof l.style.zoom!="undefined"&&(l.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",E.inlineBlockNeedsLayout=l=l.offsetWidth===3,l)&&(V.style.zoom=1),V.removeChild(P))}),Ee=u.createElement("div"),E.deleteExpando=!0;try{delete Ee.test}catch(l){E.deleteExpando=!1}var me,Ae=function(l){var P=r.noData[(l.nodeName+" ").toLowerCase()],V=+l.nodeType||1;return(V===1||V===9)&&(!P||P!==!0&&l.getAttribute("classid")===P)},q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/([A-Z])/g;function re(l,P,V){if(V===void 0&&l.nodeType===1){var te="data-"+P.replace(Z,"-$1").toLowerCase();if(typeof(V=l.getAttribute(te))=="string"){try{V=V==="true"||V!=="false"&&(V==="null"?null:+V+""===V?+V:q.test(V)?r.parseJSON(V):V)}catch(he){}r.data(l,P,V)}else V=void 0}return V}function ae(l){for(var P in l)if((P!=="data"||!r.isEmptyObject(l[P]))&&P!=="toJSON")return;return 1}function oe(l,P,V,te){if(Ae(l)){var he,ye=r.expando,Ie=l.nodeType,Pe=Ie?r.cache:l,je=Ie?l[ye]:l[ye]&&ye;if(je&&Pe[je]&&(te||Pe[je].data)||V!==void 0||typeof P!="string")return Pe[je=je||(Ie?l[ye]=s.pop()||r.guid++:ye)]||(Pe[je]=Ie?{}:{toJSON:r.noop}),typeof P!="object"&&typeof P!="function"||(te?Pe[je]=r.extend(Pe[je],P):Pe[je].data=r.extend(Pe[je].data,P)),l=Pe[je],te||(l.data||(l.data={}),l=l.data),V!==void 0&&(l[r.camelCase(P)]=V),typeof P=="string"?(he=l[P])==null&&(he=l[r.camelCase(P)]):he=l,he}}function ue(l,P,V){if(Ae(l)){var te,he,ye=l.nodeType,Ie=ye?r.cache:l,Pe=ye?l[r.expando]:r.expando;if(Ie[Pe]){if(P&&(te=V?Ie[Pe]:Ie[Pe].data)){for(he=(P=r.isArray(P)?P.concat(r.map(P,r.camelCase)):P in te||(P=r.camelCase(P))in te?[P]:P.split(" ")).length;he--;)delete te[P[he]];if(V?!ae(te):!r.isEmptyObject(te))return}(V||(delete Ie[Pe].data,ae(Ie[Pe])))&&(ye?r.cleanData([l],!0):E.deleteExpando||Ie!=Ie.window?delete Ie[Pe]:Ie[Pe]=void 0)}}}r.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(l){return!!(l=l.nodeType?r.cache[l[r.expando]]:l[r.expando])&&!ae(l)},data:function(l,P,V){return oe(l,P,V)},removeData:function(l,P){return ue(l,P)},_data:function(l,P,V){return oe(l,P,V,!0)},_removeData:function(l,P){return ue(l,P,!0)}}),r.fn.extend({data:function(l,P){var V,te,he,ye=this[0],Ie=ye&&ye.attributes;if(l!==void 0)return typeof l=="object"?this.each(function(){r.data(this,l)}):1<arguments.length?this.each(function(){r.data(this,l,P)}):ye?re(ye,l,r.data(ye,l)):void 0;if(this.length&&(he=r.data(ye),ye.nodeType===1)&&!r._data(ye,"parsedAttrs")){for(V=Ie.length;V--;)Ie[V]&&(te=Ie[V].name).indexOf("data-")===0&&re(ye,te=r.camelCase(te.slice(5)),he[te]);r._data(ye,"parsedAttrs",!0)}return he},removeData:function(l){return this.each(function(){r.removeData(this,l)})}}),r.extend({queue:function(l,P,V){var te;if(l)return te=r._data(l,P=(P||"fx")+"queue"),V&&(!te||r.isArray(V)?te=r._data(l,P,r.makeArray(V)):te.push(V)),te||[]},dequeue:function(l,P){P=P||"fx";var V=r.queue(l,P),te=V.length,he=V.shift(),ye=r._queueHooks(l,P);he==="inprogress"&&(he=V.shift(),te--),he&&(P==="fx"&&V.unshift("inprogress"),delete ye.stop,he.call(l,function(){r.dequeue(l,P)},ye)),!te&&ye&&ye.empty.fire()},_queueHooks:function(l,P){var V=P+"queueHooks";return r._data(l,V)||r._data(l,V,{empty:r.Callbacks("once memory").add(function(){r._removeData(l,P+"queue"),r._removeData(l,V)})})}}),r.fn.extend({queue:function(l,P){var V=2;return typeof l!="string"&&(P=l,l="fx",V--),arguments.length<V?r.queue(this[0],l):P===void 0?this:this.each(function(){var te=r.queue(this,l,P);r._queueHooks(this,l),l==="fx"&&te[0]!=="inprogress"&&r.dequeue(this,l)})},dequeue:function(l){return this.each(function(){r.dequeue(this,l)})},clearQueue:function(l){return this.queue(l||"fx",[])},promise:function(l,P){var V,te=1,he=r.Deferred(),ye=this,Ie=this.length,Pe=function(){--te||he.resolveWith(ye,[ye])};for(typeof l!="string"&&(P=l,l=void 0),l=l||"fx";Ie--;)(V=r._data(ye[Ie],l+"queueHooks"))&&V.empty&&(te++,V.empty.add(Pe));return Pe(),he.promise(P)}}),E.shrinkWrapBlocks=function(){var l,P,V;return me!=null?me:(me=!1,(P=u.getElementsByTagName("body")[0])&&P.style?(l=u.createElement("div"),(V=u.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",P.appendChild(V).appendChild(l),typeof l.style.zoom!="undefined"&&(l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",l.appendChild(u.createElement("div")).style.width="5px",me=l.offsetWidth!==3),P.removeChild(V),me):void 0)};var Ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,O=new RegExp("^(?:([+-])=|)("+Ee+")([a-z%]*)$","i"),ee=["Top","Right","Bottom","Left"],ie=function(l,P){return r.css(l=P||l,"display")==="none"||!r.contains(l.ownerDocument,l)};function ge(l,P,V,te){var he,ye=1,Ie=20,Pe=te?function(){return te.cur()}:function(){return r.css(l,P,"")},je=Pe(),qe=V&&V[3]||(r.cssNumber[P]?"":"px"),gt=(r.cssNumber[P]||qe!=="px"&&+je)&&O.exec(r.css(l,P));if(gt&&gt[3]!==qe)for(qe=qe||gt[3],V=V||[],gt=+je||1;gt/=ye=ye||".5",r.style(l,P,gt+qe),ye!==(ye=Pe()/je)&&ye!==1&&--Ie;);return V&&(gt=+gt||+je||0,he=V[1]?gt+(V[1]+1)*V[2]:+V[2],te)&&(te.unit=qe,te.start=gt,te.end=he),he}var _e=function(l,P,V,te,he,ye,Ie){var Pe=0,je=l.length,qe=V==null;if(r.type(V)==="object")for(Pe in he=!0,V)_e(l,P,Pe,V[Pe],!0,ye,Ie);else if(te!==void 0&&(he=!0,r.isFunction(te)||(Ie=!0),P=qe?Ie?(P.call(l,te),null):(qe=P,function(gt,_t,Tt){return qe.call(r(gt),Tt)}):P))for(;Pe<je;Pe++)P(l[Pe],V,Ie?te:te.call(l[Pe],Pe,P(l[Pe],V)));return he?l:qe?P.call(l):je?P(l[0],V):ye},we=/^(?:checkbox|radio)$/i,ke=/<([\w:-]+)/,Se=/^$|\/(?:java|ecma)script/i,Te=/^\s+/,Re="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function Ne(l){var P=Re.split("|"),V=l.createDocumentFragment();if(V.createElement)for(;P.length;)V.createElement(P.pop());return V}di=u.createElement("div"),tn=u.createDocumentFragment(),ni=u.createElement("input"),di.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",E.leadingWhitespace=di.firstChild.nodeType===3,E.tbody=!di.getElementsByTagName("tbody").length,E.htmlSerialize=!!di.getElementsByTagName("link").length,E.html5Clone=u.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",ni.type="checkbox",ni.checked=!0,tn.appendChild(ni),E.appendChecked=ni.checked,di.innerHTML="<textarea>x</textarea>",E.noCloneChecked=!!di.cloneNode(!0).lastChild.defaultValue,tn.appendChild(di),(ni=u.createElement("input")).setAttribute("type","radio"),ni.setAttribute("checked","checked"),ni.setAttribute("name","t"),di.appendChild(ni),E.checkClone=di.cloneNode(!0).cloneNode(!0).lastChild.checked,E.noCloneEvent=!!di.addEventListener,di[r.expando]=1,E.attributes=!di.getAttribute(r.expando);var Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:E.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function Je(l,P){var V,te,he=0,ye=typeof l.getElementsByTagName!="undefined"?l.getElementsByTagName(P||"*"):typeof l.querySelectorAll!="undefined"?l.querySelectorAll(P||"*"):void 0;if(!ye)for(ye=[],V=l.childNodes||l;(te=V[he])!=null;he++)!P||r.nodeName(te,P)?ye.push(te):r.merge(ye,Je(te,P));return P===void 0||P&&r.nodeName(l,P)?r.merge([l],ye):ye}function rt(l,P){for(var V,te=0;(V=l[te])!=null;te++)r._data(V,"globalEval",!P||r._data(P[te],"globalEval"))}Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td;var We=/<|&#?\w+;/,Ve=/<tbody/i;function Oe(l){we.test(l.type)&&(l.defaultChecked=l.checked)}function ft(l,P,V,te,he){for(var ye,Ie,Pe,je,qe,gt,_t,Tt=l.length,dt=Ne(P),kt=[],Dn=0;Dn<Tt;Dn++)if((Ie=l[Dn])||Ie===0)if(r.type(Ie)==="object")r.merge(kt,Ie.nodeType?[Ie]:Ie);else if(We.test(Ie)){for(je=je||dt.appendChild(P.createElement("div")),qe=(ke.exec(Ie)||["",""])[1].toLowerCase(),_t=Ye[qe]||Ye._default,je.innerHTML=_t[1]+r.htmlPrefilter(Ie)+_t[2],ye=_t[0];ye--;)je=je.lastChild;if(!E.leadingWhitespace&&Te.test(Ie)&&kt.push(P.createTextNode(Te.exec(Ie)[0])),!E.tbody)for(ye=(Ie=qe!=="table"||Ve.test(Ie)?_t[1]!=="<table>"||Ve.test(Ie)?0:je:je.firstChild)&&Ie.childNodes.length;ye--;)r.nodeName(gt=Ie.childNodes[ye],"tbody")&&!gt.childNodes.length&&Ie.removeChild(gt);for(r.merge(kt,je.childNodes),je.textContent="";je.firstChild;)je.removeChild(je.firstChild);je=dt.lastChild}else kt.push(P.createTextNode(Ie));for(je&&dt.removeChild(je),E.appendChecked||r.grep(Je(kt,"input"),Oe),Dn=0;Ie=kt[Dn++];)if(te&&-1<r.inArray(Ie,te))he&&he.push(Ie);else if(Pe=r.contains(Ie.ownerDocument,Ie),je=Je(dt.appendChild(Ie),"script"),Pe&&rt(je),V)for(ye=0;Ie=je[ye++];)Se.test(Ie.type||"")&&V.push(Ie);return je=null,dt}var ht,qt,bn=u.createElement("div");for(ht in{submit:!0,change:!0,focusin:!0})(E[ht]=(qt="on"+ht)in i)||(bn.setAttribute(qt,"t"),E[ht]=bn.attributes[qt].expando===!1);var sn=/^(?:input|select|textarea)$/i,gn=/^key/,kn=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Yn=/^(?:focusinfocus|focusoutblur)$/,Nn=/^([^.]*)(?:\.(.+)|)/;function pi(){return!0}function Ln(){return!1}function si(){try{return u.activeElement}catch(l){}}function Xi(l,P,V,te,he,ye){var Ie,Pe;if(typeof P=="object"){for(Pe in typeof V!="string"&&(te=te||V,V=void 0),P)Xi(l,Pe,V,te,P[Pe],ye);return l}if(te==null&&he==null?(he=V,te=V=void 0):he==null&&(typeof V=="string"?(he=te,te=void 0):(he=te,te=V,V=void 0)),he===!1)he=Ln;else if(!he)return l;return ye===1&&(Ie=he,(he=function(je){return r().off(je),Ie.apply(this,arguments)}).guid=Ie.guid||(Ie.guid=r.guid++)),l.each(function(){r.event.add(this,P,he,te,V)})}r.event={global:{},add:function(l,P,V,te,he){var ye,Ie,Pe,je,qe,gt,_t,Tt,dt,kt=r._data(l);if(kt)for(V.handler&&(V=(Pe=V).handler,he=Pe.selector),V.guid||(V.guid=r.guid++),ye=(ye=kt.events)||(kt.events={}),(qe=kt.handle)||((qe=kt.handle=function(Dn){return r===void 0||Dn&&r.event.triggered===Dn.type?void 0:r.event.dispatch.apply(qe.elem,arguments)}).elem=l),Ie=(P=(P||"").match(J)||[""]).length;Ie--;)_t=dt=(Tt=Nn.exec(P[Ie])||[])[1],Tt=(Tt[2]||"").split(".").sort(),_t&&(je=r.event.special[_t]||{},_t=(he?je.delegateType:je.bindType)||_t,je=r.event.special[_t]||{},dt=r.extend({type:_t,origType:dt,data:te,handler:V,guid:V.guid,selector:he,needsContext:he&&r.expr.match.needsContext.test(he),namespace:Tt.join(".")},Pe),(gt=ye[_t])||((gt=ye[_t]=[]).delegateCount=0,je.setup&&je.setup.call(l,te,Tt,qe)!==!1)||(l.addEventListener?l.addEventListener(_t,qe,!1):l.attachEvent&&l.attachEvent("on"+_t,qe)),je.add&&(je.add.call(l,dt),dt.handler.guid||(dt.handler.guid=V.guid)),he?gt.splice(gt.delegateCount++,0,dt):gt.push(dt),r.event.global[_t]=!0)},remove:function(l,P,V,te,he){var ye,Ie,Pe,je,qe,gt,_t,Tt,dt,kt,Dn,Wn=r.hasData(l)&&r._data(l);if(Wn&&(gt=Wn.events)){for(qe=(P=(P||"").match(J)||[""]).length;qe--;)if(dt=Dn=(Pe=Nn.exec(P[qe])||[])[1],kt=(Pe[2]||"").split(".").sort(),dt){for(_t=r.event.special[dt]||{},Tt=gt[dt=(te?_t.delegateType:_t.bindType)||dt]||[],Pe=Pe[2]&&new RegExp("(^|\\.)"+kt.join("\\.(?:.*\\.|)")+"(\\.|$)"),je=ye=Tt.length;ye--;)Ie=Tt[ye],!he&&Dn!==Ie.origType||V&&V.guid!==Ie.guid||Pe&&!Pe.test(Ie.namespace)||te&&te!==Ie.selector&&(te!=="**"||!Ie.selector)||(Tt.splice(ye,1),Ie.selector&&Tt.delegateCount--,_t.remove&&_t.remove.call(l,Ie));je&&!Tt.length&&(_t.teardown&&_t.teardown.call(l,kt,Wn.handle)!==!1||r.removeEvent(l,dt,Wn.handle),delete gt[dt])}else for(dt in gt)r.event.remove(l,dt+P[qe],V,te,!0);r.isEmptyObject(gt)&&(delete Wn.handle,r._removeData(l,"events"))}},trigger:function(l,P,V,te){var he,ye,Ie,Pe,je,qe,gt=[V||u],_t=S.call(l,"type")?l.type:l,Tt=S.call(l,"namespace")?l.namespace.split("."):[],dt=je=V=V||u;if(V.nodeType!==3&&V.nodeType!==8&&!Yn.test(_t+r.event.triggered)&&(-1<_t.indexOf(".")&&(_t=(Tt=_t.split(".")).shift(),Tt.sort()),ye=_t.indexOf(":")<0&&"on"+_t,(l=l[r.expando]?l:new r.Event(_t,typeof l=="object"&&l)).isTrigger=te?2:3,l.namespace=Tt.join("."),l.rnamespace=l.namespace?new RegExp("(^|\\.)"+Tt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l.result=void 0,l.target||(l.target=V),P=P==null?[l]:r.makeArray(P,[l]),Pe=r.event.special[_t]||{},te||!Pe.trigger||Pe.trigger.apply(V,P)!==!1)){if(!te&&!Pe.noBubble&&!r.isWindow(V)){for(Ie=Pe.delegateType||_t,Yn.test(Ie+_t)||(dt=dt.parentNode);dt;dt=dt.parentNode)gt.push(dt),je=dt;je===(V.ownerDocument||u)&&gt.push(je.defaultView||je.parentWindow||i)}for(qe=0;(dt=gt[qe++])&&!l.isPropagationStopped();)l.type=1<qe?Ie:Pe.bindType||_t,(he=(r._data(dt,"events")||{})[l.type]&&r._data(dt,"handle"))&&he.apply(dt,P),(he=ye&&dt[ye])&&he.apply&&Ae(dt)&&(l.result=he.apply(dt,P),l.result===!1)&&l.preventDefault();if(l.type=_t,!te&&!l.isDefaultPrevented()&&(!Pe._default||Pe._default.apply(gt.pop(),P)===!1)&&Ae(V)&&ye&&V[_t]&&!r.isWindow(V)){(je=V[ye])&&(V[ye]=null),r.event.triggered=_t;try{V[_t]()}catch(kt){}r.event.triggered=void 0,je&&(V[ye]=je)}return l.result}},dispatch:function(l){l=r.event.fix(l);var P,V,te,he,ye,Ie=A.call(arguments),Pe=(r._data(this,"events")||{})[l.type]||[],je=r.event.special[l.type]||{};if((Ie[0]=l).delegateTarget=this,!je.preDispatch||je.preDispatch.call(this,l)!==!1){for(ye=r.event.handlers.call(this,l,Pe),P=0;(te=ye[P++])&&!l.isPropagationStopped();)for(l.currentTarget=te.elem,V=0;(he=te.handlers[V++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!l.rnamespace.test(he.namespace)||(l.handleObj=he,l.data=he.data,(he=((r.event.special[he.origType]||{}).handle||he.handler).apply(te.elem,Ie))!==void 0&&(l.result=he)===!1&&(l.preventDefault(),l.stopPropagation()));return je.postDispatch&&je.postDispatch.call(this,l),l.result}},handlers:function(l,P){var V,te,he,ye,Ie=[],Pe=P.delegateCount,je=l.target;if(Pe&&je.nodeType&&(l.type!=="click"||isNaN(l.button)||l.button<1)){for(;je!=this;je=je.parentNode||this)if(je.nodeType===1&&(je.disabled!==!0||l.type!=="click")){for(te=[],V=0;V<Pe;V++)te[he=(ye=P[V]).selector+" "]===void 0&&(te[he]=ye.needsContext?-1<r(he,this).index(je):r.find(he,this,null,[je]).length),te[he]&&te.push(ye);te.length&&Ie.push({elem:je,handlers:te})}}return Pe<P.length&&Ie.push({elem:this,handlers:P.slice(Pe)}),Ie},fix:function(l){if(l[r.expando])return l;var P,V,te,he=l.type,ye=l,Ie=this.fixHooks[he];for(Ie||(this.fixHooks[he]=Ie=kn.test(he)?this.mouseHooks:gn.test(he)?this.keyHooks:{}),te=Ie.props?this.props.concat(Ie.props):this.props,l=new r.Event(ye),P=te.length;P--;)l[V=te[P]]=ye[V];return l.target||(l.target=ye.srcElement||u),l.target.nodeType===3&&(l.target=l.target.parentNode),l.metaKey=!!l.metaKey,Ie.filter?Ie.filter(l,ye):l},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(l,P){return l.which==null&&(l.which=P.charCode!=null?P.charCode:P.keyCode),l}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(l,P){var V,te,he=P.button,ye=P.fromElement;return l.pageX==null&&P.clientX!=null&&(te=(V=l.target.ownerDocument||u).documentElement,V=V.body,l.pageX=P.clientX+(te&&te.scrollLeft||V&&V.scrollLeft||0)-(te&&te.clientLeft||V&&V.clientLeft||0),l.pageY=P.clientY+(te&&te.scrollTop||V&&V.scrollTop||0)-(te&&te.clientTop||V&&V.clientTop||0)),!l.relatedTarget&&ye&&(l.relatedTarget=ye===l.target?P.toElement:ye),l.which||he===void 0||(l.which=1&he?1:2&he?3:4&he?2:0),l}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==si()&&this.focus)try{return this.focus(),!1}catch(l){}},delegateType:"focusin"},blur:{trigger:function(){if(this===si()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(r.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1},_default:function(l){return r.nodeName(l.target,"a")}},beforeunload:{postDispatch:function(l){l.result!==void 0&&l.originalEvent&&(l.originalEvent.returnValue=l.result)}}},simulate:function(l,P,V){l=r.extend(new r.Event,V,{type:l,isSimulated:!0}),r.event.trigger(l,null,P),l.isDefaultPrevented()&&V.preventDefault()}},r.removeEvent=u.removeEventListener?function(l,P,V){l.removeEventListener&&l.removeEventListener(P,V)}:function(l,P,V){P="on"+P,l.detachEvent&&(typeof l[P]=="undefined"&&(l[P]=null),l.detachEvent(P,V))},r.Event=function(l,P){if(!(this instanceof r.Event))return new r.Event(l,P);l&&l.type?(this.originalEvent=l,this.type=l.type,this.isDefaultPrevented=l.defaultPrevented||l.defaultPrevented===void 0&&l.returnValue===!1?pi:Ln):this.type=l,P&&r.extend(this,P),this.timeStamp=l&&l.timeStamp||r.now(),this[r.expando]=!0},r.Event.prototype={constructor:r.Event,isDefaultPrevented:Ln,isPropagationStopped:Ln,isImmediatePropagationStopped:Ln,preventDefault:function(){var l=this.originalEvent;this.isDefaultPrevented=pi,l&&(l.preventDefault?l.preventDefault():l.returnValue=!1)},stopPropagation:function(){var l=this.originalEvent;this.isPropagationStopped=pi,l&&!this.isSimulated&&(l.stopPropagation&&l.stopPropagation(),l.cancelBubble=!0)},stopImmediatePropagation:function(){var l=this.originalEvent;this.isImmediatePropagationStopped=pi,l&&l.stopImmediatePropagation&&l.stopImmediatePropagation(),this.stopPropagation()}},r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(l,P){r.event.special[l]={delegateType:P,bindType:P,handle:function(V){var te,he=V.relatedTarget,ye=V.handleObj;return he&&(he===this||r.contains(this,he))||(V.type=ye.origType,te=ye.handler.apply(this,arguments),V.type=P),te}}}),E.submit||(r.event.special.submit={setup:function(){if(r.nodeName(this,"form"))return!1;r.event.add(this,"click._submit keypress._submit",function(l){l=l.target,l=r.nodeName(l,"input")||r.nodeName(l,"button")?r.prop(l,"form"):void 0,l&&!r._data(l,"submit")&&(r.event.add(l,"submit._submit",function(P){P._submitBubble=!0}),r._data(l,"submit",!0))})},postDispatch:function(l){l._submitBubble&&(delete l._submitBubble,this.parentNode)&&!l.isTrigger&&r.event.simulate("submit",this.parentNode,l)},teardown:function(){if(r.nodeName(this,"form"))return!1;r.event.remove(this,"._submit")}}),E.change||(r.event.special.change={setup:function(){if(sn.test(this.nodeName))return this.type!=="checkbox"&&this.type!=="radio"||(r.event.add(this,"propertychange._change",function(l){l.originalEvent.propertyName==="checked"&&(this._justChanged=!0)}),r.event.add(this,"click._change",function(l){this._justChanged&&!l.isTrigger&&(this._justChanged=!1),r.event.simulate("change",this,l)})),!1;r.event.add(this,"beforeactivate._change",function(l){l=l.target,sn.test(l.nodeName)&&!r._data(l,"change")&&(r.event.add(l,"change._change",function(P){!this.parentNode||P.isSimulated||P.isTrigger||r.event.simulate("change",this.parentNode,P)}),r._data(l,"change",!0))})},handle:function(l){var P=l.target;if(this!==P||l.isSimulated||l.isTrigger||P.type!=="radio"&&P.type!=="checkbox")return l.handleObj.handler.apply(this,arguments)},teardown:function(){return r.event.remove(this,"._change"),!sn.test(this.nodeName)}}),E.focusin||r.each({focus:"focusin",blur:"focusout"},function(l,P){var V=function(te){r.event.simulate(P,te.target,r.event.fix(te))};r.event.special[P]={setup:function(){var te=this.ownerDocument||this,he=r._data(te,P);he||te.addEventListener(l,V,!0),r._data(te,P,(he||0)+1)},teardown:function(){var te=this.ownerDocument||this,he=r._data(te,P)-1;he?r._data(te,P,he):(te.removeEventListener(l,V,!0),r._removeData(te,P))}}}),r.fn.extend({on:function(l,P,V,te){return Xi(this,l,P,V,te)},one:function(l,P,V,te){return Xi(this,l,P,V,te,1)},off:function(l,P,V){var te,he;if(l&&l.preventDefault&&l.handleObj)te=l.handleObj,r(l.delegateTarget).off(te.namespace?te.origType+"."+te.namespace:te.origType,te.selector,te.handler);else{if(typeof l!="object")return P!==!1&&typeof P!="function"||(V=P,P=void 0),V===!1&&(V=Ln),this.each(function(){r.event.remove(this,l,V,P)});for(he in l)this.off(he,P,l[he])}return this},trigger:function(l,P){return this.each(function(){r.event.trigger(l,P,this)})},triggerHandler:function(l,P){var V=this[0];if(V)return r.event.trigger(l,P,V,!0)}});var or=/ jQuery\d+="(?:null|\d+)"/g,jr=new RegExp("<(?:"+Re+")[\\s/>]","i"),ji=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,br=/<script|<style|<link/i,Zr=/checked\s*(?:[^=]|=\s*.checked.)/i,ea=/^true\/(.*)/,Wr=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,_r=Ne(u).appendChild(u.createElement("div"));function $(l,P){return r.nodeName(l,"table")&&r.nodeName(P.nodeType!==11?P:P.firstChild,"tr")?l.getElementsByTagName("tbody")[0]||l.appendChild(l.ownerDocument.createElement("tbody")):l}function F(l){return l.type=(r.find.attr(l,"type")!==null)+"/"+l.type,l}function n(l){var P=ea.exec(l.type);return P?l.type=P[1]:l.removeAttribute("type"),l}function v(l,P){if(P.nodeType===1&&r.hasData(l)){var V,te,he,l=r._data(l),ye=r._data(P,l),Ie=l.events;if(Ie)for(V in delete ye.handle,ye.events={},Ie)for(te=0,he=Ie[V].length;te<he;te++)r.event.add(P,V,Ie[V][te]);ye.data&&(ye.data=r.extend({},ye.data))}}function I(l,P,V,te){P=b.apply([],P);var he,ye,Ie,Pe,je,qe,gt=0,_t=l.length,Tt=_t-1,dt=P[0],kt=r.isFunction(dt);if(kt||1<_t&&typeof dt=="string"&&!E.checkClone&&Zr.test(dt))return l.each(function(Dn){var Wn=l.eq(Dn);kt&&(P[0]=dt.call(this,Dn,Wn.html())),I(Wn,P,V,te)});if(_t&&(he=(qe=ft(P,l[0].ownerDocument,!1,l,te)).firstChild,qe.childNodes.length===1&&(qe=he),he||te)){for(Ie=(Pe=r.map(Je(qe,"script"),F)).length;gt<_t;gt++)ye=qe,gt!==Tt&&(ye=r.clone(ye,!0,!0),Ie)&&r.merge(Pe,Je(ye,"script")),V.call(l[gt],ye,gt);if(Ie)for(je=Pe[Pe.length-1].ownerDocument,r.map(Pe,n),gt=0;gt<Ie;gt++)ye=Pe[gt],Se.test(ye.type||"")&&!r._data(ye,"globalEval")&&r.contains(je,ye)&&(ye.src?r._evalUrl&&r._evalUrl(ye.src):r.globalEval((ye.text||ye.textContent||ye.innerHTML||"").replace(Wr,"")));qe=null}return l}function U(l,P,V){for(var te,he=P?r.filter(P,l):l,ye=0;(te=he[ye])!=null;ye++)V||te.nodeType!==1||r.cleanData(Je(te)),te.parentNode&&(V&&r.contains(te.ownerDocument,te)&&rt(Je(te,"script")),te.parentNode.removeChild(te));return l}r.extend({htmlPrefilter:function(l){return l.replace(ji,"<$1></$2>")},clone:function(l,P,V){var te,he,ye,Ie,Pe,je=r.contains(l.ownerDocument,l);if(E.html5Clone||r.isXMLDoc(l)||!jr.test("<"+l.nodeName+">")?ye=l.cloneNode(!0):(_r.innerHTML=l.outerHTML,_r.removeChild(ye=_r.firstChild)),!(E.noCloneEvent&&E.noCloneChecked||l.nodeType!==1&&l.nodeType!==11||r.isXMLDoc(l))){for(te=Je(ye),Pe=Je(l),Ie=0;(he=Pe[Ie])!=null;++Ie)if(te[Ie]){_t=gt=qe=dt=Tt=void 0;var qe,gt,_t,Tt=he,dt=te[Ie];if(dt.nodeType===1){if(qe=dt.nodeName.toLowerCase(),!E.noCloneEvent&&dt[r.expando]){for(gt in(_t=r._data(dt)).events)r.removeEvent(dt,gt,_t.handle);dt.removeAttribute(r.expando)}qe==="script"&&dt.text!==Tt.text?(F(dt).text=Tt.text,n(dt)):qe==="object"?(dt.parentNode&&(dt.outerHTML=Tt.outerHTML),E.html5Clone&&Tt.innerHTML&&!r.trim(dt.innerHTML)&&(dt.innerHTML=Tt.innerHTML)):qe==="input"&&we.test(Tt.type)?(dt.defaultChecked=dt.checked=Tt.checked,dt.value!==Tt.value&&(dt.value=Tt.value)):qe==="option"?dt.defaultSelected=dt.selected=Tt.defaultSelected:qe!=="input"&&qe!=="textarea"||(dt.defaultValue=Tt.defaultValue)}}}if(P)if(V)for(Pe=Pe||Je(l),te=te||Je(ye),Ie=0;(he=Pe[Ie])!=null;Ie++)v(he,te[Ie]);else v(l,ye);return 0<(te=Je(ye,"script")).length&&rt(te,!je&&Je(l,"script")),te=Pe=he=null,ye},cleanData:function(l,P){for(var V,te,he,ye,Ie=0,Pe=r.expando,je=r.cache,qe=E.attributes,gt=r.event.special;(V=l[Ie])!=null;Ie++)if((P||Ae(V))&&(ye=(he=V[Pe])&&je[he])){if(ye.events)for(te in ye.events)gt[te]?r.event.remove(V,te):r.removeEvent(V,te,ye.handle);je[he]&&(delete je[he],qe||typeof V.removeAttribute=="undefined"?V[Pe]=void 0:V.removeAttribute(Pe),s.push(he))}}}),r.fn.extend({domManip:I,detach:function(l){return U(this,l,!0)},remove:function(l){return U(this,l)},text:function(l){return _e(this,function(P){return P===void 0?r.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(P))},null,l,arguments.length)},append:function(){return I(this,arguments,function(l){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||$(this,l).appendChild(l)})},prepend:function(){return I(this,arguments,function(l){var P;this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(P=$(this,l)).insertBefore(l,P.firstChild)})},before:function(){return I(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this)})},after:function(){return I(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this.nextSibling)})},empty:function(){for(var l,P=0;(l=this[P])!=null;P++){for(l.nodeType===1&&r.cleanData(Je(l,!1));l.firstChild;)l.removeChild(l.firstChild);l.options&&r.nodeName(l,"select")&&(l.options.length=0)}return this},clone:function(l,P){return l=l!=null&&l,P=P==null?l:P,this.map(function(){return r.clone(this,l,P)})},html:function(l){return _e(this,function(P){var V=this[0]||{},te=0,he=this.length;if(P===void 0)return V.nodeType===1?V.innerHTML.replace(or,""):void 0;if(typeof P=="string"&&!br.test(P)&&(E.htmlSerialize||!jr.test(P))&&(E.leadingWhitespace||!Te.test(P))&&!Ye[(ke.exec(P)||["",""])[1].toLowerCase()]){P=r.htmlPrefilter(P);try{for(;te<he;te++)(V=this[te]||{}).nodeType===1&&(r.cleanData(Je(V,!1)),V.innerHTML=P);V=0}catch(ye){}}V&&this.empty().append(P)},null,l,arguments.length)},replaceWith:function(){var l=[];return I(this,arguments,function(P){var V=this.parentNode;r.inArray(this,l)<0&&(r.cleanData(Je(this)),V)&&V.replaceChild(P,this)},l)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(l,P){r.fn[l]=function(V){for(var te,he=0,ye=[],Ie=r(V),Pe=Ie.length-1;he<=Pe;he++)te=he===Pe?this:this.clone(!0),r(Ie[he])[P](te),C.apply(ye,te.get());return this.pushStack(ye)}});var W,fe={HTML:"block",BODY:"block"};function pe(l,P){return l=r(P.createElement(l)).appendTo(P.body),P=r.css(l[0],"display"),l.detach(),P}function ve(l){var P=u,V=fe[l];return V||((V=pe(l,P))!=="none"&&V||((P=((W=(W||r("<iframe frameborder='0' width='0' height='0'/>")).appendTo(P.documentElement))[0].contentWindow||W[0].contentDocument).document).write(),P.close(),V=pe(l,P),W.detach()),fe[l]=V),V}var Ue,ze,Le,Qe,lt,nt,Ke,xt,Lt=/^margin/,bt=new RegExp("^("+Ee+")(?!px)[a-z%]+$","i"),un=function(l,P,V,te){var he,ye={};for(he in P)ye[he]=l.style[he],l.style[he]=P[he];for(he in te=V.apply(l,te||[]),P)l.style[he]=ye[he];return te},pt=u.documentElement;function et(){var l,P=u.documentElement;P.appendChild(Ke),xt.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",Ue=Le=nt=!1,ze=lt=!0,i.getComputedStyle&&(l=i.getComputedStyle(xt),Ue=(l||{}).top!=="1%",nt=(l||{}).marginLeft==="2px",Le=(l||{width:"4px"}).width==="4px",xt.style.marginRight="50%",ze=(l||{marginRight:"4px"}).marginRight==="4px",(l=xt.appendChild(u.createElement("div"))).style.cssText=xt.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",l.style.marginRight=l.style.width="0",xt.style.width="1px",lt=!parseFloat((i.getComputedStyle(l)||{}).marginRight),xt.removeChild(l)),xt.style.display="none",(Qe=xt.getClientRects().length===0)&&(xt.style.display="",xt.innerHTML="<table><tr><td></td><td>t</td></tr></table>",xt.childNodes[0].style.borderCollapse="separate",(l=xt.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",Qe=l[0].offsetHeight===0)&&(l[0].style.display="",l[1].style.display="none",Qe=l[0].offsetHeight===0),P.removeChild(Ke)}Ke=u.createElement("div"),(xt=u.createElement("div")).style&&(xt.style.cssText="float:left;opacity:.5",E.opacity=xt.style.opacity==="0.5",E.cssFloat=!!xt.style.cssFloat,xt.style.backgroundClip="content-box",xt.cloneNode(!0).style.backgroundClip="",E.clearCloneStyle=xt.style.backgroundClip==="content-box",(Ke=u.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",xt.innerHTML="",Ke.appendChild(xt),E.boxSizing=xt.style.boxSizing===""||xt.style.MozBoxSizing===""||xt.style.WebkitBoxSizing==="",r.extend(E,{reliableHiddenOffsets:function(){return Ue==null&&et(),Qe},boxSizingReliable:function(){return Ue==null&&et(),Le},pixelMarginRight:function(){return Ue==null&&et(),ze},pixelPosition:function(){return Ue==null&&et(),Ue},reliableMarginRight:function(){return Ue==null&&et(),lt},reliableMarginLeft:function(){return Ue==null&&et(),nt}}));var tt,ut,rn=/^(top|right|bottom|left)$/;function Xt(l,P){return{get:function(){if(!l())return(this.get=P).apply(this,arguments);delete this.get}}}i.getComputedStyle?(tt=function(l){var P=l.ownerDocument.defaultView;return(P=P&&P.opener?P:i).getComputedStyle(l)},ut=function(l,P,V){var te,he,ye=l.style;return(he=(V=V||tt(l))?V.getPropertyValue(P)||V[P]:void 0)!==""&&he!==void 0||r.contains(l.ownerDocument,l)||(he=r.style(l,P)),V&&!E.pixelMarginRight()&&bt.test(he)&&Lt.test(P)&&(l=ye.width,P=ye.minWidth,te=ye.maxWidth,ye.minWidth=ye.maxWidth=ye.width=he,he=V.width,ye.width=l,ye.minWidth=P,ye.maxWidth=te),he===void 0?he:he+""}):pt.currentStyle&&(tt=function(l){return l.currentStyle},ut=function(l,P,V){var te,he,ye,Ie=l.style;return(V=(V=V||tt(l))?V[P]:void 0)==null&&Ie&&Ie[P]&&(V=Ie[P]),bt.test(V)&&!rn.test(P)&&(te=Ie.left,(ye=(he=l.runtimeStyle)&&he.left)&&(he.left=l.currentStyle.left),Ie.left=P==="fontSize"?"1em":V,V=Ie.pixelLeft+"px",Ie.left=te,ye)&&(he.left=ye),V===void 0?V:V+""||"auto"});var Ot=/alpha\([^)]*\)/i,ot=/opacity\s*=\s*([^)]*)/i,Ut=/^(none|table(?!-c[ea]).+)/,Kt=new RegExp("^("+Ee+")(.*)$","i"),$t={position:"absolute",visibility:"hidden",display:"block"},de={letterSpacing:"0",fontWeight:"400"},ce=["Webkit","O","Moz","ms"],xe=u.createElement("div").style;function $e(l){if(l in xe)return l;for(var P=l.charAt(0).toUpperCase()+l.slice(1),V=ce.length;V--;)if((l=ce[V]+P)in xe)return l}function De(l,P){for(var V,te,he,ye=[],Ie=0,Pe=l.length;Ie<Pe;Ie++)(te=l[Ie]).style&&(ye[Ie]=r._data(te,"olddisplay"),V=te.style.display,P?(ye[Ie]||V!=="none"||(te.style.display=""),te.style.display===""&&ie(te)&&(ye[Ie]=r._data(te,"olddisplay",ve(te.nodeName)))):(he=ie(te),(V&&V!=="none"||!he)&&r._data(te,"olddisplay",he?V:r.css(te,"display"))));for(Ie=0;Ie<Pe;Ie++)!(te=l[Ie]).style||P&&te.style.display!=="none"&&te.style.display!==""||(te.style.display=P?ye[Ie]||"":"none");return l}function Ge(l,P,V){var te=Kt.exec(P);return te?Math.max(0,te[1]-(V||0))+(te[2]||"px"):P}function yt(l,P,V,te,he){for(var ye=V===(te?"border":"content")?4:P==="width"?1:0,Ie=0;ye<4;ye+=2)V==="margin"&&(Ie+=r.css(l,V+ee[ye],!0,he)),te?(V==="content"&&(Ie-=r.css(l,"padding"+ee[ye],!0,he)),V!=="margin"&&(Ie-=r.css(l,"border"+ee[ye]+"Width",!0,he))):(Ie+=r.css(l,"padding"+ee[ye],!0,he),V!=="padding"&&(Ie+=r.css(l,"border"+ee[ye]+"Width",!0,he)));return Ie}function Mt(l,P,V){var te=!0,he=P==="width"?l.offsetWidth:l.offsetHeight,ye=tt(l),Ie=E.boxSizing&&r.css(l,"boxSizing",!1,ye)==="border-box";if(he<=0||he==null){if(((he=ut(l,P,ye))<0||he==null)&&(he=l.style[P]),bt.test(he))return he;te=Ie&&(E.boxSizingReliable()||he===l.style[P]),he=parseFloat(he)||0}return he+yt(l,P,V||(Ie?"border":"content"),te,ye)+"px"}function Dt(l,P,V,te,he){return new Dt.prototype.init(l,P,V,te,he)}r.extend({cssHooks:{opacity:{get:function(l,P){if(P)return(P=ut(l,"opacity"))===""?"1":P}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:E.cssFloat?"cssFloat":"styleFloat"},style:function(l,P,V,te){if(l&&l.nodeType!==3&&l.nodeType!==8&&l.style){var he,ye,Ie,Pe=r.camelCase(P),je=l.style;if(P=r.cssProps[Pe]||(r.cssProps[Pe]=$e(Pe)||Pe),Ie=r.cssHooks[P]||r.cssHooks[Pe],V===void 0)return Ie&&"get"in Ie&&(he=Ie.get(l,!1,te))!==void 0?he:je[P];if((ye=typeof V)=="string"&&(he=O.exec(V))&&he[1]&&(V=ge(l,P,he),ye="number"),V!=null&&V==V&&(ye==="number"&&(V+=he&&he[3]||(r.cssNumber[Pe]?"":"px")),E.clearCloneStyle||V!==""||P.indexOf("background")!==0||(je[P]="inherit"),!(Ie&&"set"in Ie&&(V=Ie.set(l,V,te))===void 0)))try{je[P]=V}catch(qe){}}},css:function(l,P,V,te){var he,ye=r.camelCase(P);return P=r.cssProps[ye]||(r.cssProps[ye]=$e(ye)||ye),(he=(he=(ye=r.cssHooks[P]||r.cssHooks[ye])&&"get"in ye?ye.get(l,!0,V):he)===void 0?ut(l,P,te):he)==="normal"&&P in de&&(he=de[P]),(V===""||V)&&(ye=parseFloat(he),V===!0||isFinite(ye))?ye||0:he}}),r.each(["height","width"],function(l,P){r.cssHooks[P]={get:function(V,te,he){if(te)return Ut.test(r.css(V,"display"))&&V.offsetWidth===0?un(V,$t,function(){return Mt(V,P,he)}):Mt(V,P,he)},set:function(V,te,he){var ye=he&&tt(V);return Ge(0,te,he?yt(V,P,he,E.boxSizing&&r.css(V,"boxSizing",!1,ye)==="border-box",ye):0)}}}),E.opacity||(r.cssHooks.opacity={get:function(l,P){return ot.test((P&&l.currentStyle?l.currentStyle:l.style).filter||"")?.01*parseFloat(RegExp.$1)+"":P?"1":""},set:function(te,P){var V=te.style,te=te.currentStyle,he=r.isNumeric(P)?"alpha(opacity="+100*P+")":"",ye=te&&te.filter||V.filter||"";((V.zoom=1)<=P||P==="")&&r.trim(ye.replace(Ot,""))===""&&V.removeAttribute&&(V.removeAttribute("filter"),P===""||te&&!te.filter)||(V.filter=Ot.test(ye)?ye.replace(Ot,he):ye+" "+he)}}),r.cssHooks.marginRight=Xt(E.reliableMarginRight,function(l,P){if(P)return un(l,{display:"inline-block"},ut,[l,"marginRight"])}),r.cssHooks.marginLeft=Xt(E.reliableMarginLeft,function(l,P){if(P)return(parseFloat(ut(l,"marginLeft"))||(r.contains(l.ownerDocument,l)?l.getBoundingClientRect().left-un(l,{marginLeft:0},function(){return l.getBoundingClientRect().left}):0))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(l,P){r.cssHooks[l+P]={expand:function(V){for(var te=0,he={},ye=typeof V=="string"?V.split(" "):[V];te<4;te++)he[l+ee[te]+P]=ye[te]||ye[te-2]||ye[0];return he}},Lt.test(l)||(r.cssHooks[l+P].set=Ge)}),r.fn.extend({css:function(l,P){return _e(this,function(V,te,he){var ye,Ie,Pe={},je=0;if(r.isArray(te)){for(ye=tt(V),Ie=te.length;je<Ie;je++)Pe[te[je]]=r.css(V,te[je],!1,ye);return Pe}return he!==void 0?r.style(V,te,he):r.css(V,te)},l,P,1<arguments.length)},show:function(){return De(this,!0)},hide:function(){return De(this)},toggle:function(l){return typeof l=="boolean"?l?this.show():this.hide():this.each(function(){ie(this)?r(this).show():r(this).hide()})}}),((r.Tween=Dt).prototype={constructor:Dt,init:function(l,P,V,te,he,ye){this.elem=l,this.prop=V,this.easing=he||r.easing._default,this.options=P,this.start=this.now=this.cur(),this.end=te,this.unit=ye||(r.cssNumber[V]?"":"px")},cur:function(){var l=Dt.propHooks[this.prop];return(l&&l.get?l:Dt.propHooks._default).get(this)},run:function(l){var P,V=Dt.propHooks[this.prop];return this.options.duration?this.pos=P=r.easing[this.easing](l,this.options.duration*l,0,1,this.options.duration):this.pos=P=l,this.now=(this.end-this.start)*P+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(V&&V.set?V:Dt.propHooks._default).set(this),this}}).init.prototype=Dt.prototype,(Dt.propHooks={_default:{get:function(l){return l.elem.nodeType!==1||l.elem[l.prop]!=null&&l.elem.style[l.prop]==null?l.elem[l.prop]:(l=r.css(l.elem,l.prop,""))&&l!=="auto"?l:0},set:function(l){r.fx.step[l.prop]?r.fx.step[l.prop](l):l.elem.nodeType!==1||l.elem.style[r.cssProps[l.prop]]==null&&!r.cssHooks[l.prop]?l.elem[l.prop]=l.now:r.style(l.elem,l.prop,l.now+l.unit)}}}).scrollTop=Dt.propHooks.scrollLeft={set:function(l){l.elem.nodeType&&l.elem.parentNode&&(l.elem[l.prop]=l.now)}},r.easing={linear:function(l){return l},swing:function(l){return .5-Math.cos(l*Math.PI)/2},_default:"swing"},r.fx=Dt.prototype.init,r.fx.step={};var vn,Vt,tn,di,Pr=/^(?:toggle|show|hide)$/,Et=/queueHooks$/;function Er(){return i.setTimeout(function(){vn=void 0}),vn=r.now()}function Ir(l,P){var V,te={height:l},he=0;for(P=P?1:0;he<4;he+=2-P)te["margin"+(V=ee[he])]=te["padding"+V]=l;return P&&(te.opacity=te.width=l),te}function ta(l,P,V){for(var te,he=(Fn.tweeners[P]||[]).concat(Fn.tweeners["*"]),ye=0,Ie=he.length;ye<Ie;ye++)if(te=he[ye].call(V,P,l))return te}function Fn(l,P,V){var te,he,ye,Ie,Pe,je,qe,gt=0,_t=Fn.prefilters.length,Tt=r.Deferred().always(function(){delete dt.elem}),dt=function(){if(he)return!1;for(var Mi=vn||Er(),Mi=Math.max(0,kt.startTime+kt.duration-Mi),dn=1-(Mi/kt.duration||0),zn=0,En=kt.tweens.length;zn<En;zn++)kt.tweens[zn].run(dn);return Tt.notifyWith(l,[kt,dn,Mi]),dn<1&&En?Mi:(Tt.resolveWith(l,[kt]),!1)},kt=Tt.promise({elem:l,props:r.extend({},P),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},V),originalProperties:P,originalOptions:V,startTime:vn||Er(),duration:V.duration,tweens:[],createTween:function(Mi,dn){return dn=r.Tween(l,kt.opts,Mi,dn,kt.opts.specialEasing[Mi]||kt.opts.easing),kt.tweens.push(dn),dn},stop:function(Mi){var dn=0,zn=Mi?kt.tweens.length:0;if(!he){for(he=!0;dn<zn;dn++)kt.tweens[dn].run(1);Mi?(Tt.notifyWith(l,[kt,1,0]),Tt.resolveWith(l,[kt,Mi])):Tt.rejectWith(l,[kt,Mi])}return this}}),Dn=kt.props,Wn=Dn,Ei=kt.opts.specialEasing;for(ye in Wn)if(Pe=Ei[Ie=r.camelCase(ye)],je=Wn[ye],r.isArray(je)&&(Pe=je[1],je=Wn[ye]=je[0]),ye!==Ie&&(Wn[Ie]=je,delete Wn[ye]),(qe=r.cssHooks[Ie])&&"expand"in qe)for(ye in je=qe.expand(je),delete Wn[Ie],je)ye in Wn||(Wn[ye]=je[ye],Ei[ye]=Pe);else Ei[Ie]=Pe;for(;gt<_t;gt++)if(te=Fn.prefilters[gt].call(kt,l,Dn,kt.opts))return r.isFunction(te.stop)&&(r._queueHooks(kt.elem,kt.opts.queue).stop=r.proxy(te.stop,te)),te;return r.map(Dn,ta,kt),r.isFunction(kt.opts.start)&&kt.opts.start.call(l,kt),r.fx.timer(r.extend(dt,{elem:l,anim:kt,queue:kt.opts.queue})),kt.progress(kt.opts.progress).done(kt.opts.done,kt.opts.complete).fail(kt.opts.fail).always(kt.opts.always)}r.Animation=r.extend(Fn,{tweeners:{"*":[function(l,P){var V=this.createTween(l,P);return ge(V.elem,l,O.exec(P),V),V}]},tweener:function(l,P){for(var V,te=0,he=(l=r.isFunction(l)?(P=l,["*"]):l.match(J)).length;te<he;te++)V=l[te],Fn.tweeners[V]=Fn.tweeners[V]||[],Fn.tweeners[V].unshift(P)},prefilters:[function(l,P,V){var te,he,ye,Ie,Pe,je,qe,gt=this,_t={},Tt=l.style,dt=l.nodeType&&ie(l),kt=r._data(l,"fxshow");for(te in V.queue||((Pe=r._queueHooks(l,"fx")).unqueued==null&&(Pe.unqueued=0,je=Pe.empty.fire,Pe.empty.fire=function(){Pe.unqueued||je()}),Pe.unqueued++,gt.always(function(){gt.always(function(){Pe.unqueued--,r.queue(l,"fx").length||Pe.empty.fire()})})),l.nodeType===1&&("height"in P||"width"in P)&&(V.overflow=[Tt.overflow,Tt.overflowX,Tt.overflowY],((qe=r.css(l,"display"))==="none"?r._data(l,"olddisplay")||ve(l.nodeName):qe)==="inline")&&r.css(l,"float")==="none"&&(E.inlineBlockNeedsLayout&&ve(l.nodeName)!=="inline"?Tt.zoom=1:Tt.display="inline-block"),V.overflow&&(Tt.overflow="hidden",E.shrinkWrapBlocks()||gt.always(function(){Tt.overflow=V.overflow[0],Tt.overflowX=V.overflow[1],Tt.overflowY=V.overflow[2]})),P)if(he=P[te],Pr.exec(he)){if(delete P[te],ye=ye||he==="toggle",he===(dt?"hide":"show")){if(he!=="show"||!kt||kt[te]===void 0)continue;dt=!0}_t[te]=kt&&kt[te]||r.style(l,te)}else qe=void 0;if(r.isEmptyObject(_t))(qe==="none"?ve(l.nodeName):qe)==="inline"&&(Tt.display=qe);else for(te in kt?"hidden"in kt&&(dt=kt.hidden):kt=r._data(l,"fxshow",{}),ye&&(kt.hidden=!dt),dt?r(l).show():gt.done(function(){r(l).hide()}),gt.done(function(){for(var Dn in r._removeData(l,"fxshow"),_t)r.style(l,Dn,_t[Dn])}),_t)Ie=ta(dt?kt[te]:0,te,gt),te in kt||(kt[te]=Ie.start,dt&&(Ie.end=Ie.start,Ie.start=te==="width"||te==="height"?1:0))}],prefilter:function(l,P){P?Fn.prefilters.unshift(l):Fn.prefilters.push(l)}}),r.speed=function(l,P,V){var te=l&&typeof l=="object"?r.extend({},l):{complete:V||!V&&P||r.isFunction(l)&&l,duration:l,easing:V&&P||P&&!r.isFunction(P)&&P};return te.duration=r.fx.off?0:typeof te.duration=="number"?te.duration:te.duration in r.fx.speeds?r.fx.speeds[te.duration]:r.fx.speeds._default,te.queue!=null&&te.queue!==!0||(te.queue="fx"),te.old=te.complete,te.complete=function(){r.isFunction(te.old)&&te.old.call(this),te.queue&&r.dequeue(this,te.queue)},te},r.fn.extend({fadeTo:function(l,P,V,te){return this.filter(ie).css("opacity",0).show().end().animate({opacity:P},l,V,te)},animate:function(l,Ie,V,te){var he=r.isEmptyObject(l),ye=r.speed(Ie,V,te),Ie=function(){var Pe=Fn(this,r.extend({},l),ye);(he||r._data(this,"finish"))&&Pe.stop(!0)};return Ie.finish=Ie,he||ye.queue===!1?this.each(Ie):this.queue(ye.queue,Ie)},stop:function(l,P,V){var te=function(he){var ye=he.stop;delete he.stop,ye(V)};return typeof l!="string"&&(V=P,P=l,l=void 0),P&&l!==!1&&this.queue(l||"fx",[]),this.each(function(){var he=!0,ye=l!=null&&l+"queueHooks",Ie=r.timers,Pe=r._data(this);if(ye)Pe[ye]&&Pe[ye].stop&&te(Pe[ye]);else for(ye in Pe)Pe[ye]&&Pe[ye].stop&&Et.test(ye)&&te(Pe[ye]);for(ye=Ie.length;ye--;)Ie[ye].elem!==this||l!=null&&Ie[ye].queue!==l||(Ie[ye].anim.stop(V),he=!1,Ie.splice(ye,1));!he&&V||r.dequeue(this,l)})},finish:function(l){return l!==!1&&(l=l||"fx"),this.each(function(){var P,V=r._data(this),te=V[l+"queue"],he=V[l+"queueHooks"],ye=r.timers,Ie=te?te.length:0;for(V.finish=!0,r.queue(this,l,[]),he&&he.stop&&he.stop.call(this,!0),P=ye.length;P--;)ye[P].elem===this&&ye[P].queue===l&&(ye[P].anim.stop(!0),ye.splice(P,1));for(P=0;P<Ie;P++)te[P]&&te[P].finish&&te[P].finish.call(this);delete V.finish})}}),r.each(["toggle","show","hide"],function(l,P){var V=r.fn[P];r.fn[P]=function(te,he,ye){return te==null||typeof te=="boolean"?V.apply(this,arguments):this.animate(Ir(P,!0),te,he,ye)}}),r.each({slideDown:Ir("show"),slideUp:Ir("hide"),slideToggle:Ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(l,P){r.fn[l]=function(V,te,he){return this.animate(P,V,te,he)}}),r.timers=[],r.fx.tick=function(){var l,P=r.timers,V=0;for(vn=r.now();V<P.length;V++)(l=P[V])()||P[V]!==l||P.splice(V--,1);P.length||r.fx.stop(),vn=void 0},r.fx.timer=function(l){r.timers.push(l),l()?r.fx.start():r.timers.pop()},r.fx.interval=13,r.fx.start=function(){Vt=Vt||i.setInterval(r.fx.tick,r.fx.interval)},r.fx.stop=function(){i.clearInterval(Vt),Vt=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(l,P){return l=r.fx&&r.fx.speeds[l]||l,this.queue(P=P||"fx",function(V,te){var he=i.setTimeout(V,l);te.stop=function(){i.clearTimeout(he)}})},tn=u.createElement("input"),ni=u.createElement("div"),di=u.createElement("select"),Ee=di.appendChild(u.createElement("option")),(ni=u.createElement("div")).setAttribute("className","t"),ni.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",_n=ni.getElementsByTagName("a")[0],tn.setAttribute("type","checkbox"),ni.appendChild(tn),(_n=ni.getElementsByTagName("a")[0]).style.cssText="top:1px",E.getSetAttribute=ni.className!=="t",E.style=/top/.test(_n.getAttribute("style")),E.hrefNormalized=_n.getAttribute("href")==="/a",E.checkOn=!!tn.value,E.optSelected=Ee.selected,E.enctype=!!u.createElement("form").enctype,di.disabled=!0,E.optDisabled=!Ee.disabled,(tn=u.createElement("input")).setAttribute("value",""),E.input=tn.getAttribute("value")==="",tn.value="t",tn.setAttribute("type","radio"),E.radioValue=tn.value==="t";var gr=/\r/g,Wt=/[\x20\t\r\n\f]+/g;r.fn.extend({val:function(l){var P,V,te,he=this[0];return arguments.length?(te=r.isFunction(l),this.each(function(ye){this.nodeType!==1||((ye=te?l.call(this,ye,r(this).val()):l)==null?ye="":typeof ye=="number"?ye+="":r.isArray(ye)&&(ye=r.map(ye,function(Ie){return Ie==null?"":Ie+""})),(P=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()])&&"set"in P&&P.set(this,ye,"value")!==void 0)||(this.value=ye)})):he?(P=r.valHooks[he.type]||r.valHooks[he.nodeName.toLowerCase()])&&"get"in P&&(V=P.get(he,"value"))!==void 0?V:typeof(V=he.value)=="string"?V.replace(gr,""):V==null?"":V:void 0}}),r.extend({valHooks:{option:{get:function(l){var P=r.find.attr(l,"value");return P!=null?P:r.trim(r.text(l)).replace(Wt," ")}},select:{get:function(l){for(var P,V=l.options,te=l.selectedIndex,he=l.type==="select-one"||te<0,ye=he?null:[],Ie=he?te+1:V.length,Pe=te<0?Ie:he?te:0;Pe<Ie;Pe++)if(((P=V[Pe]).selected||Pe===te)&&(E.optDisabled?!P.disabled:P.getAttribute("disabled")===null)&&(!P.parentNode.disabled||!r.nodeName(P.parentNode,"optgroup"))){if(P=r(P).val(),he)return P;ye.push(P)}return ye},set:function(l,P){for(var V,te,he=l.options,ye=r.makeArray(P),Ie=he.length;Ie--;)if(te=he[Ie],-1<r.inArray(r.valHooks.option.get(te),ye))try{te.selected=V=!0}catch(Pe){te.scrollHeight}else te.selected=!1;return V||(l.selectedIndex=-1),he}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(l,P){if(r.isArray(P))return l.checked=-1<r.inArray(r(l).val(),P)}},E.checkOn||(r.valHooks[this].get=function(l){return l.getAttribute("value")===null?"on":l.value})});var ct,Pn,jt=r.expr.attrHandle,St=/^(?:checked|selected)$/i,Gn=E.getSetAttribute,Hn=E.input,fi=(r.fn.extend({attr:function(l,P){return _e(this,r.attr,l,P,1<arguments.length)},removeAttr:function(l){return this.each(function(){r.removeAttr(this,l)})}}),r.extend({attr:function(l,P,V){var te,he,ye=l.nodeType;if(ye!==3&&ye!==8&&ye!==2)return typeof l.getAttribute=="undefined"?r.prop(l,P,V):(ye===1&&r.isXMLDoc(l)||(P=P.toLowerCase(),he=r.attrHooks[P]||(r.expr.match.bool.test(P)?Pn:ct)),V!==void 0?V===null?void r.removeAttr(l,P):he&&"set"in he&&(te=he.set(l,V,P))!==void 0?te:(l.setAttribute(P,V+""),V):!(he&&"get"in he&&(te=he.get(l,P))!==null)&&(te=r.find.attr(l,P))==null?void 0:te)},attrHooks:{type:{set:function(l,P){var V;if(!E.radioValue&&P==="radio"&&r.nodeName(l,"input"))return V=l.value,l.setAttribute("type",P),V&&(l.value=V),P}}},removeAttr:function(l,P){var V,te,he=0,ye=P&&P.match(J);if(ye&&l.nodeType===1)for(;V=ye[he++];)te=r.propFix[V]||V,r.expr.match.bool.test(V)?Hn&&Gn||!St.test(V)?l[te]=!1:l[r.camelCase("default-"+V)]=l[te]=!1:r.attr(l,V,""),l.removeAttribute(Gn?V:te)}}),Pn={set:function(l,P,V){return P===!1?r.removeAttr(l,V):Hn&&Gn||!St.test(V)?l.setAttribute(!Gn&&r.propFix[V]||V,V):l[r.camelCase("default-"+V)]=l[V]=!0,V}},r.each(r.expr.match.bool.source.match(/\w+/g),function(l,P){var V=jt[P]||r.find.attr;Hn&&Gn||!St.test(P)?jt[P]=function(te,he,ye){var Ie,Pe;return ye||(Pe=jt[he],jt[he]=Ie,Ie=V(te,he,ye)!=null?he.toLowerCase():null,jt[he]=Pe),Ie}:jt[P]=function(te,he,ye){if(!ye)return te[r.camelCase("default-"+he)]?he.toLowerCase():null}}),Hn&&Gn||(r.attrHooks.value={set:function(l,P,V){if(!r.nodeName(l,"input"))return ct&&ct.set(l,P,V);l.defaultValue=P}}),Gn||(ct={set:function(l,P,V){var te=l.getAttributeNode(V);if(te||l.setAttributeNode(te=l.ownerDocument.createAttribute(V)),te.value=P+="",V==="value"||P===l.getAttribute(V))return P}},jt.id=jt.name=jt.coords=function(l,P,V){if(!V)return(V=l.getAttributeNode(P))&&V.value!==""?V.value:null},r.valHooks.button={get:function(l,P){if(P=l.getAttributeNode(P),P&&P.specified)return P.value},set:ct.set},r.attrHooks.contenteditable={set:function(l,P,V){ct.set(l,P!==""&&P,V)}},r.each(["width","height"],function(l,P){r.attrHooks[P]={set:function(V,te){if(te==="")return V.setAttribute(P,"auto"),te}}})),E.style||(r.attrHooks.style={get:function(l){return l.style.cssText||void 0},set:function(l,P){return l.style.cssText=P+""}}),/^(?:input|select|textarea|button|object)$/i),mn=/^(?:a|area)$/i,ti=(r.fn.extend({prop:function(l,P){return _e(this,r.prop,l,P,1<arguments.length)},removeProp:function(l){return l=r.propFix[l]||l,this.each(function(){try{this[l]=void 0,delete this[l]}catch(P){}})}}),r.extend({prop:function(l,P,V){var te,he,ye=l.nodeType;if(ye!==3&&ye!==8&&ye!==2)return ye===1&&r.isXMLDoc(l)||(P=r.propFix[P]||P,he=r.propHooks[P]),V!==void 0?he&&"set"in he&&(te=he.set(l,V,P))!==void 0?te:l[P]=V:he&&"get"in he&&(te=he.get(l,P))!==null?te:l[P]},propHooks:{tabIndex:{get:function(l){var P=r.find.attr(l,"tabindex");return P?parseInt(P,10):fi.test(l.nodeName)||mn.test(l.nodeName)&&l.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),E.hrefNormalized||r.each(["href","src"],function(l,P){r.propHooks[P]={get:function(V){return V.getAttribute(P,4)}}}),E.optSelected||(r.propHooks.selected={get:function(l){return l=l.parentNode,l&&(l.selectedIndex,l.parentNode)&&l.parentNode.selectedIndex,null},set:function(l){l=l.parentNode,l&&(l.selectedIndex,l.parentNode)&&l.parentNode.selectedIndex}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this}),E.enctype||(r.propFix.enctype="encoding"),/[\t\r\n\f]/g);function Hi(l){return r.attr(l,"class")||""}r.fn.extend({addClass:function(l){var P,V,te,he,ye,Ie,Pe=0;if(r.isFunction(l))return this.each(function(je){r(this).addClass(l.call(this,je,Hi(this)))});if(typeof l=="string"&&l){for(P=l.match(J)||[];V=this[Pe++];)if(Ie=Hi(V),te=V.nodeType===1&&(" "+Ie+" ").replace(ti," ")){for(ye=0;he=P[ye++];)te.indexOf(" "+he+" ")<0&&(te+=he+" ");Ie!==(Ie=r.trim(te))&&r.attr(V,"class",Ie)}}return this},removeClass:function(l){var P,V,te,he,ye,Ie,Pe=0;if(r.isFunction(l))return this.each(function(je){r(this).removeClass(l.call(this,je,Hi(this)))});if(!arguments.length)return this.attr("class","");if(typeof l=="string"&&l){for(P=l.match(J)||[];V=this[Pe++];)if(Ie=Hi(V),te=V.nodeType===1&&(" "+Ie+" ").replace(ti," ")){for(ye=0;he=P[ye++];)for(;-1<te.indexOf(" "+he+" ");)te=te.replace(" "+he+" "," ");Ie!==(Ie=r.trim(te))&&r.attr(V,"class",Ie)}}return this},toggleClass:function(l,P){var V=typeof l;return typeof P=="boolean"&&V=="string"?P?this.addClass(l):this.removeClass(l):r.isFunction(l)?this.each(function(te){r(this).toggleClass(l.call(this,te,Hi(this),P),P)}):this.each(function(){var te,he,ye,Ie;if(V=="string")for(he=0,ye=r(this),Ie=l.match(J)||[];te=Ie[he++];)ye.hasClass(te)?ye.removeClass(te):ye.addClass(te);else l!==void 0&&V!="boolean"||((te=Hi(this))&&r._data(this,"__className__",te),r.attr(this,"class",!te&&l!==!1&&r._data(this,"__className__")||""))})},hasClass:function(l){for(var P,V=0,te=" "+l+" ";P=this[V++];)if(P.nodeType===1&&-1<(" "+Hi(P)+" ").replace(ti," ").indexOf(te))return!0;return!1}}),r.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(l,P){r.fn[P]=function(V,te){return 0<arguments.length?this.on(P,null,V,te):this.trigger(P)}}),r.fn.extend({hover:function(l,P){return this.mouseenter(l).mouseleave(P||l)}});var ni=i.location,sr=r.now(),Zi=/\?/,hi=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,Jn=(r.parseJSON=function(l){var P,V,te;return i.JSON&&i.JSON.parse?i.JSON.parse(l+""):(V=null,(te=r.trim(l+""))&&!r.trim(te.replace(hi,function(he,ye,Ie,Pe){return(V=P&&ye?0:V)===0?he:(P=Ie||ye,V+=!Pe-!Ie,"")}))?Function("return "+te)():r.error("Invalid JSON: "+l))},r.parseXML=function(l){var P;if(!l||typeof l!="string")return null;try{i.DOMParser?P=new i.DOMParser().parseFromString(l,"text/xml"):((P=new i.ActiveXObject("Microsoft.XMLDOM")).async="false",P.loadXML(l))}catch(V){P=void 0}return P&&P.documentElement&&!P.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+l),P},/#.*$/),Xn=/([?&])_=[^&]*/,mi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,lr=/^(?:GET|HEAD)$/,qi=/^\/\//,Ct=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,at={},Ft={},it="*/".concat("*"),wt=ni.href,Un=Ct.exec(wt.toLowerCase())||[];function Bn(l){return function(P,V){typeof P!="string"&&(V=P,P="*");var te,he=0,ye=P.toLowerCase().match(J)||[];if(r.isFunction(V))for(;te=ye[he++];)te.charAt(0)==="+"?(te=te.slice(1)||"*",(l[te]=l[te]||[]).unshift(V)):(l[te]=l[te]||[]).push(V)}}function On(l,P,V,te){var he={},ye=l===Ft;function Ie(Pe){var je;return he[Pe]=!0,r.each(l[Pe]||[],function(qe,gt){return gt=gt(P,V,te),typeof gt!="string"||ye||he[gt]?ye?!(je=gt):void 0:(P.dataTypes.unshift(gt),Ie(gt),!1)}),je}return Ie(P.dataTypes[0])||!he["*"]&&Ie("*")}function Qt(l,P){var V,te,he=r.ajaxSettings.flatOptions||{};for(te in P)P[te]!==void 0&&((he[te]?l:V=V||{})[te]=P[te]);return V&&r.extend(!0,l,V),l}function jn(l,P,V,te){var he,ye,Ie,Pe,je,qe={},gt=l.dataTypes.slice();if(gt[1])for(Ie in l.converters)qe[Ie.toLowerCase()]=l.converters[Ie];for(ye=gt.shift();ye;)if(l.responseFields[ye]&&(V[l.responseFields[ye]]=P),!je&&te&&l.dataFilter&&(P=l.dataFilter(P,l.dataType)),je=ye,ye=gt.shift()){if(ye==="*")ye=je;else if(je!=="*"&&je!==ye){if(!(Ie=qe[je+" "+ye]||qe["* "+ye])){for(he in qe)if((Pe=he.split(" "))[1]===ye&&(Ie=qe[je+" "+Pe[0]]||qe["* "+Pe[0]])){Ie===!0?Ie=qe[he]:qe[he]!==!0&&(ye=Pe[0],gt.unshift(Pe[1]));break}}if(Ie!==!0)if(Ie&&l.throws)P=Ie(P);else try{P=Ie(P)}catch(_t){return{state:"parsererror",error:Ie?_t:"No conversion from "+je+" to "+ye}}}}return{state:"success",data:P}}function wr(l){if(!r.contains(l.ownerDocument||u,l))return!0;for(;l&&l.nodeType===1;){if(((P=l).style&&P.style.display||r.css(P,"display"))==="none"||l.type==="hidden")return!0;l=l.parentNode}var P;return!1}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Un[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":it,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":r.parseJSON,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(l,P){return P?Qt(Qt(l,r.ajaxSettings),P):Qt(r.ajaxSettings,l)},ajaxPrefilter:Bn(at),ajaxTransport:Bn(Ft),ajax:function(l,P){typeof l=="object"&&(P=l,l=void 0);var V,te,he,ye,Ie,Pe,je,qe=r.ajaxSetup({},P=P||{}),gt=qe.context||qe,_t=qe.context&&(gt.nodeType||gt.jquery)?r(gt):r.event,Tt=r.Deferred(),dt=r.Callbacks("once memory"),kt=qe.statusCode||{},Dn={},Wn={},Ei=0,Mi="canceled",dn={readyState:0,getResponseHeader:function(En){var Ci;if(Ei===2){if(!je)for(je={};Ci=mi.exec(he);)je[Ci[1].toLowerCase()]=Ci[2];Ci=je[En.toLowerCase()]}return Ci==null?null:Ci},getAllResponseHeaders:function(){return Ei===2?he:null},setRequestHeader:function(En,Ci){var Rr=En.toLowerCase();return Ei||(En=Wn[Rr]=Wn[Rr]||En,Dn[En]=Ci),this},overrideMimeType:function(En){return Ei||(qe.mimeType=En),this},statusCode:function(En){if(En)if(Ei<2)for(var Ci in En)kt[Ci]=[kt[Ci],En[Ci]];else dn.always(En[dn.status]);return this},abort:function(En){return En=En||Mi,Pe&&Pe.abort(En),zn(0,En),this}};if(Tt.promise(dn).complete=dt.add,dn.success=dn.done,dn.error=dn.fail,qe.url=((l||qe.url||wt)+"").replace(Jn,"").replace(qi,Un[1]+"//"),qe.type=P.method||P.type||qe.method||qe.type,qe.dataTypes=r.trim(qe.dataType||"*").toLowerCase().match(J)||[""],qe.crossDomain==null&&(l=Ct.exec(qe.url.toLowerCase()),qe.crossDomain=!(!l||l[1]===Un[1]&&l[2]===Un[2]&&(l[3]||(l[1]==="http:"?"80":"443"))===(Un[3]||(Un[1]==="http:"?"80":"443")))),qe.data&&qe.processData&&typeof qe.data!="string"&&(qe.data=r.param(qe.data,qe.traditional)),On(at,qe,P,dn),Ei!==2){for(V in(Ie=r.event&&qe.global)&&r.active++==0&&r.event.trigger("ajaxStart"),qe.type=qe.type.toUpperCase(),qe.hasContent=!lr.test(qe.type),te=qe.url,qe.hasContent||(qe.data&&(te=qe.url+=(Zi.test(te)?"&":"?")+qe.data,delete qe.data),qe.cache===!1&&(qe.url=Xn.test(te)?te.replace(Xn,"$1_="+sr++):te+(Zi.test(te)?"&":"?")+"_="+sr++)),qe.ifModified&&(r.lastModified[te]&&dn.setRequestHeader("If-Modified-Since",r.lastModified[te]),r.etag[te])&&dn.setRequestHeader("If-None-Match",r.etag[te]),(qe.data&&qe.hasContent&&qe.contentType!==!1||P.contentType)&&dn.setRequestHeader("Content-Type",qe.contentType),dn.setRequestHeader("Accept",qe.dataTypes[0]&&qe.accepts[qe.dataTypes[0]]?qe.accepts[qe.dataTypes[0]]+(qe.dataTypes[0]!=="*"?", "+it+"; q=0.01":""):qe.accepts["*"]),qe.headers)dn.setRequestHeader(V,qe.headers[V]);if(qe.beforeSend&&(qe.beforeSend.call(gt,dn,qe)===!1||Ei===2))return dn.abort();for(V in Mi="abort",{success:1,error:1,complete:1})dn[V](qe[V]);if(Pe=On(Ft,qe,P,dn)){if(dn.readyState=1,Ie&&_t.trigger("ajaxSend",[dn,qe]),Ei===2)return dn;qe.async&&0<qe.timeout&&(ye=i.setTimeout(function(){dn.abort("timeout")},qe.timeout));try{Ei=1,Pe.send(Dn,zn)}catch(En){if(!(Ei<2))throw En;zn(-1,En)}}else zn(-1,"No Transport")}return dn;function zn(En,Ci,Rr,Nr){var Ta,na,zr,kr=Ci;Ei!==2&&(Ei=2,ye&&i.clearTimeout(ye),Pe=void 0,he=Nr||"",dn.readyState=0<En?4:0,Nr=200<=En&&En<300||En===304,Rr&&(zr=function(yr,vs,Ya){for(var Sr,va,er,Br,ri=yr.contents,Yi=yr.dataTypes;Yi[0]==="*";)Yi.shift(),va===void 0&&(va=yr.mimeType||vs.getResponseHeader("Content-Type"));if(va){for(Br in ri)if(ri[Br]&&ri[Br].test(va)){Yi.unshift(Br);break}}if(Yi[0]in Ya)er=Yi[0];else{for(Br in Ya){if(!Yi[0]||yr.converters[Br+" "+Yi[0]]){er=Br;break}Sr=Sr||Br}er=er||Sr}if(er)return er!==Yi[0]&&Yi.unshift(er),Ya[er]}(qe,dn,Rr)),zr=jn(qe,zr,dn,Nr),Nr?(qe.ifModified&&((Rr=dn.getResponseHeader("Last-Modified"))&&(r.lastModified[te]=Rr),Rr=dn.getResponseHeader("etag"))&&(r.etag[te]=Rr),En===204||qe.type==="HEAD"?kr="nocontent":En===304?kr="notmodified":(kr=zr.state,Ta=zr.data,Nr=!(na=zr.error))):(na=kr,!En&&kr||(kr="error",En<0&&(En=0))),dn.status=En,dn.statusText=(Ci||kr)+"",Nr?Tt.resolveWith(gt,[Ta,kr,dn]):Tt.rejectWith(gt,[dn,kr,na]),dn.statusCode(kt),kt=void 0,Ie&&_t.trigger(Nr?"ajaxSuccess":"ajaxError",[dn,qe,Nr?Ta:na]),dt.fireWith(gt,[dn,kr]),Ie)&&(_t.trigger("ajaxComplete",[dn,qe]),--r.active||r.event.trigger("ajaxStop"))}},getJSON:function(l,P,V){return r.get(l,P,V,"json")},getScript:function(l,P){return r.get(l,void 0,P,"script")}}),r.each(["get","post"],function(l,P){r[P]=function(V,te,he,ye){return r.isFunction(te)&&(ye=ye||he,he=te,te=void 0),r.ajax(r.extend({url:V,type:P,dataType:ye,data:te,success:he},r.isPlainObject(V)&&V))}}),r._evalUrl=function(l){return r.ajax({url:l,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},r.fn.extend({wrapAll:function(l){var P;return r.isFunction(l)?this.each(function(V){r(this).wrapAll(l.call(this,V))}):(this[0]&&(P=r(l,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&P.insertBefore(this[0]),P.map(function(){for(var V=this;V.firstChild&&V.firstChild.nodeType===1;)V=V.firstChild;return V}).append(this)),this)},wrapInner:function(l){return r.isFunction(l)?this.each(function(P){r(this).wrapInner(l.call(this,P))}):this.each(function(){var P=r(this),V=P.contents();V.length?V.wrapAll(l):P.append(l)})},wrap:function(l){var P=r.isFunction(l);return this.each(function(V){r(this).wrapAll(P?l.call(this,V):l)})},unwrap:function(){return this.parent().each(function(){r.nodeName(this,"body")||r(this).replaceWith(this.childNodes)}).end()}}),r.expr.filters.hidden=function(l){return E.reliableHiddenOffsets()?l.offsetWidth<=0&&l.offsetHeight<=0&&!l.getClientRects().length:wr(l)},r.expr.filters.visible=function(l){return!r.expr.filters.hidden(l)};var ur=/%20/g,cn=/\[\]$/,nn=/\r?\n/g,yn=/^(?:submit|button|image|reset|file)$/i,Zn=/^(?:input|select|textarea|keygen)/i;r.param=function(l,P){var V,te=[],he=function(ye,Ie){Ie=r.isFunction(Ie)?Ie():Ie==null?"":Ie,te[te.length]=encodeURIComponent(ye)+"="+encodeURIComponent(Ie)};if(P===void 0&&(P=r.ajaxSettings&&r.ajaxSettings.traditional),r.isArray(l)||l.jquery&&!r.isPlainObject(l))r.each(l,function(){he(this.name,this.value)});else for(V in l)(function ye(Ie,Pe,je,qe){if(r.isArray(Pe))r.each(Pe,function(_t,Tt){je||cn.test(Ie)?qe(Ie,Tt):ye(Ie+"["+(typeof Tt=="object"&&Tt!=null?_t:"")+"]",Tt,je,qe)});else if(je||r.type(Pe)!=="object")qe(Ie,Pe);else for(var gt in Pe)ye(Ie+"["+gt+"]",Pe[gt],je,qe)})(V,l[V],P,he);return te.join("&").replace(ur,"+")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var l=r.prop(this,"elements");return l?r.makeArray(l):this}).filter(function(){var l=this.type;return this.name&&!r(this).is(":disabled")&&Zn.test(this.nodeName)&&!yn.test(l)&&(this.checked||!we.test(l))}).map(function(l,P){var V=r(this).val();return V==null?null:r.isArray(V)?r.map(V,function(te){return{name:P.name,value:te.replace(nn,`\r
`)}}):{name:P.name,value:V.replace(nn,`\r
`)}}).get()}}),r.ajaxSettings.xhr=i.ActiveXObject!==void 0?function(){return this.isLocal?Bi():8<u.documentMode?wn():/^(get|post|head|put|delete|options)$/i.test(this.type)&&wn()||Bi()}:wn;var en=0,Mn={},_n=r.ajaxSettings.xhr();function wn(){try{return new i.XMLHttpRequest}catch(l){}}function Bi(){try{return new i.ActiveXObject("Microsoft.XMLHTTP")}catch(l){}}i.attachEvent&&i.attachEvent("onunload",function(){for(var l in Mn)Mn[l](void 0,!0)}),E.cors=!!_n&&"withCredentials"in _n,(E.ajax=!!_n)&&r.ajaxTransport(function(l){var P;if(!l.crossDomain||E.cors)return{send:function(V,te){var he,ye=l.xhr(),Ie=++en;if(ye.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(he in l.xhrFields)ye[he]=l.xhrFields[he];for(he in l.mimeType&&ye.overrideMimeType&&ye.overrideMimeType(l.mimeType),l.crossDomain||V["X-Requested-With"]||(V["X-Requested-With"]="XMLHttpRequest"),V)V[he]!==void 0&&ye.setRequestHeader(he,V[he]+"");ye.send(l.hasContent&&l.data||null),P=function(Pe,je){var qe,gt,_t;if(P&&(je||ye.readyState===4))if(delete Mn[Ie],P=void 0,ye.onreadystatechange=r.noop,je)ye.readyState!==4&&ye.abort();else{_t={},qe=ye.status,typeof ye.responseText=="string"&&(_t.text=ye.responseText);try{gt=ye.statusText}catch(Tt){gt=""}qe||!l.isLocal||l.crossDomain?qe===1223&&(qe=204):qe=_t.text?200:404}_t&&te(qe,gt,_t,ye.getAllResponseHeaders())},l.async?ye.readyState===4?i.setTimeout(P):ye.onreadystatechange=Mn[Ie]=P:P()},abort:function(){P&&P(void 0,!0)}}}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(l){return r.globalEval(l),l}}}),r.ajaxPrefilter("script",function(l){l.cache===void 0&&(l.cache=!1),l.crossDomain&&(l.type="GET",l.global=!1)}),r.ajaxTransport("script",function(l){var P,V;if(l.crossDomain)return V=u.head||r("head")[0]||u.documentElement,{send:function(te,he){(P=u.createElement("script")).async=!0,l.scriptCharset&&(P.charset=l.scriptCharset),P.src=l.url,P.onload=P.onreadystatechange=function(ye,Ie){!Ie&&P.readyState&&!/loaded|complete/.test(P.readyState)||(P.onload=P.onreadystatechange=null,P.parentNode&&P.parentNode.removeChild(P),P=null,Ie)||he(200,"success")},V.insertBefore(P,V.firstChild)},abort:function(){P&&P.onload(void 0,!0)}}});var wi=[],xi=/(=)\?(?=&|$)|\?\?/,cr=(r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var l=wi.pop()||r.expando+"_"+sr++;return this[l]=!0,l}}),r.ajaxPrefilter("json jsonp",function(l,P,V){var te,he,ye,Ie=l.jsonp!==!1&&(xi.test(l.url)?"url":typeof l.data=="string"&&(l.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&xi.test(l.data)&&"data");if(Ie||l.dataTypes[0]==="jsonp")return te=l.jsonpCallback=r.isFunction(l.jsonpCallback)?l.jsonpCallback():l.jsonpCallback,Ie?l[Ie]=l[Ie].replace(xi,"$1"+te):l.jsonp!==!1&&(l.url+=(Zi.test(l.url)?"&":"?")+l.jsonp+"="+te),l.converters["script json"]=function(){return ye||r.error(te+" was not called"),ye[0]},l.dataTypes[0]="json",he=i[te],i[te]=function(){ye=arguments},V.always(function(){he===void 0?r(i).removeProp(te):i[te]=he,l[te]&&(l.jsonpCallback=P.jsonpCallback,wi.push(te)),ye&&r.isFunction(he)&&he(ye[0]),ye=he=void 0}),"script"}),r.parseHTML=function(l,P,he){if(!l||typeof l!="string")return null;typeof P=="boolean"&&(he=P,P=!1),P=P||u;var te=G.exec(l),he=!he&&[];return te?[P.createElement(te[1])]:(te=ft([l],P,he),he&&he.length&&r(he).remove(),r.merge([],te.childNodes))},r.fn.load);function mr(l){return r.isWindow(l)?l:l.nodeType===9&&(l.defaultView||l.parentWindow)}return r.fn.load=function(l,P,V){var te,he,ye,Ie,Pe;return typeof l!="string"&&cr?cr.apply(this,arguments):(Ie=this,-1<(Pe=l.indexOf(" "))&&(te=r.trim(l.slice(Pe,l.length)),l=l.slice(0,Pe)),r.isFunction(P)?(V=P,P=void 0):P&&typeof P=="object"&&(he="POST"),0<Ie.length&&r.ajax({url:l,type:he||"GET",dataType:"html",data:P}).done(function(je){ye=arguments,Ie.html(te?r("<div>").append(r.parseHTML(je)).find(te):je)}).always(V&&function(je,qe){Ie.each(function(){V.apply(this,ye||[je.responseText,qe,je])})}),this)},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(l,P){r.fn[P]=function(V){return this.on(P,V)}}),r.expr.filters.animated=function(l){return r.grep(r.timers,function(P){return l===P.elem}).length},r.offset={setOffset:function(l,P,V){var te,he,ye,Ie,Pe=r.css(l,"position"),je=r(l),qe={};Pe==="static"&&(l.style.position="relative"),ye=je.offset(),te=r.css(l,"top"),Ie=r.css(l,"left"),Pe=(Pe==="absolute"||Pe==="fixed")&&-1<r.inArray("auto",[te,Ie])?(he=(Pe=je.position()).top,Pe.left):(he=parseFloat(te)||0,parseFloat(Ie)||0),(P=r.isFunction(P)?P.call(l,V,r.extend({},ye)):P).top!=null&&(qe.top=P.top-ye.top+he),P.left!=null&&(qe.left=P.left-ye.left+Pe),"using"in P?P.using.call(l,qe):je.css(qe)}},r.fn.extend({offset:function(l){var P,V,te,he;return arguments.length?l===void 0?this:this.each(function(ye){r.offset.setOffset(this,l,ye)}):(V={top:0,left:0},(he=(te=this[0])&&te.ownerDocument)?(P=he.documentElement,r.contains(P,te)?(typeof te.getBoundingClientRect!="undefined"&&(V=te.getBoundingClientRect()),te=mr(he),{top:V.top+(te.pageYOffset||P.scrollTop)-(P.clientTop||0),left:V.left+(te.pageXOffset||P.scrollLeft)-(P.clientLeft||0)}):V):void 0)},position:function(){var l,P,V,te;if(this[0])return V={top:0,left:0},te=this[0],r.css(te,"position")==="fixed"?P=te.getBoundingClientRect():(l=this.offsetParent(),P=this.offset(),(V=r.nodeName(l[0],"html")?V:l.offset()).top+=r.css(l[0],"borderTopWidth",!0),V.left+=r.css(l[0],"borderLeftWidth",!0)),{top:P.top-V.top-r.css(te,"marginTop",!0),left:P.left-V.left-r.css(te,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){for(var l=this.offsetParent;l&&!r.nodeName(l,"html")&&r.css(l,"position")==="static";)l=l.offsetParent;return l||pt})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(l,P){var V=/Y/.test(P);r.fn[l]=function(te){return _e(this,function(he,ye,Ie){var Pe=mr(he);if(Ie===void 0)return Pe?P in Pe?Pe[P]:Pe.document.documentElement[ye]:he[ye];Pe?Pe.scrollTo(V?r(Pe).scrollLeft():Ie,V?Ie:r(Pe).scrollTop()):he[ye]=Ie},l,te,arguments.length,null)}}),r.each(["top","left"],function(l,P){r.cssHooks[P]=Xt(E.pixelPosition,function(V,te){if(te)return te=ut(V,P),bt.test(te)?r(V).position()[P]+"px":te})}),r.each({Height:"height",Width:"width"},function(l,P){r.each({padding:"inner"+l,content:P,"":"outer"+l},function(V,te){r.fn[te]=function(he,ye){var Ie=arguments.length&&(V||typeof he!="boolean"),Pe=V||(he===!0||ye===!0?"margin":"border");return _e(this,function(je,qe,gt){var _t;return r.isWindow(je)?je.document.documentElement["client"+l]:je.nodeType===9?(_t=je.documentElement,Math.max(je.body["scroll"+l],_t["scroll"+l],je.body["offset"+l],_t["offset"+l],_t["client"+l])):gt===void 0?r.css(je,qe,Pe):r.style(je,qe,gt,Pe)},P,Ie?he:void 0,Ie,null)}})}),r.fn.extend({bind:function(l,P,V){return this.on(l,null,P,V)},unbind:function(l,P){return this.off(l,null,P)},delegate:function(l,P,V,te){return this.on(P,l,V,te)},undelegate:function(l,P,V){return arguments.length===1?this.off(l,"**"):this.off(P,l||"**",V)}}),r.fn.size=function(){return this.length},r.fn.andSelf=r.fn.addBack,layui.define(function(l){l("jquery",layui.$=r)}),r}),function(i,t){var s,u,A,b=i.layui&&layui.define,C={getPath:(A=document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"?document.currentScript.src:function(){for(var f,y=document.getElementsByTagName("script"),Q=y.length-1,g=Q;0<g;g--)if(y[g].readyState==="interactive"){f=y[g].src;break}return f||y[Q].src}(),(i.LAYUI_GLOBAL||{}).layer_dir||A.substring(0,A.lastIndexOf("/")+1)),config:{removeFocus:!0},end:{},beforeEnd:{},events:{resize:{}},minStackIndex:0,minStackArr:[],btn:["\u786E\u5B9A","\u53D6\u6D88"],type:["dialog","page","iframe","loading","tips"],getStyle:function(f,y){return f=f.currentStyle||i.getComputedStyle(f,null),f[f.getPropertyValue?"getPropertyValue":"getAttribute"](y)},link:function(f,y,Q){var g,w,M,z,G,Y;c.path&&(g=document.getElementsByTagName("head")[0],w=document.createElement("link"),M=((Q=typeof y=="string"?y:Q)||f).replace(/\.|\//g,""),z="layuicss-"+M,G="creating",Y=0,w.rel="stylesheet",w.href=c.path+f,w.id=z,document.getElementById(z)||g.appendChild(w),typeof y=="function")&&function N(K){var p=document.getElementById(z);return 100<++Y?i.console&&console.error(M+".css: Invalid"):void(parseInt(C.getStyle(p,"width"))===1989?(K===G&&p.removeAttribute("lay-status"),p.getAttribute("lay-status")===G?setTimeout(N,100):y()):(p.setAttribute("lay-status",G),setTimeout(function(){N(G)},100)))}()}},c={v:"3.7.0",ie:(A=navigator.userAgent.toLowerCase(),!!(i.ActiveXObject||"ActiveXObject"in i)&&((A.match(/msie\s(\d+)/)||[])[1]||"11")),index:i.layer&&i.layer.v?1e5:0,path:C.getPath,config:function(f,y){return c.cache=C.config=s.extend({},C.config,f=f||{}),c.path=C.config.path||c.path,typeof f.extend=="string"&&(f.extend=[f.extend]),C.config.path&&c.ready(),f.extend&&(b?layui.addcss("modules/layer/"+f.extend):C.link("css/"+f.extend)),this},ready:function(f){var y="layer",Q=(b?"modules/":"css/")+"layer.css?v="+c.v;return b?layui["layui.all"]?typeof f=="function"&&f():layui.addcss(Q,f,y):C.link(Q,f,y),this},alert:function(f,y,Q){var g=typeof y=="function";return c.open(s.extend({content:f,yes:Q=g?y:Q},g?{}:y))},confirm:function(f,y,Q,g){var w=typeof y=="function";return w&&(g=Q,Q=y),c.open(s.extend({content:f,btn:C.btn,yes:Q,btn2:g},w?{}:y))},msg:function(f,y,Q){var g=typeof y=="function",w=C.config.skin,w=(w?w+" "+w+"-msg":"")||"layui-layer-msg",M=k.anim.length-1;return g&&(Q=y),c.open(s.extend({content:f,time:3e3,shade:!1,skin:w,title:!1,closeBtn:!1,btn:!1,resize:!1,end:Q,removeFocus:!1},g&&!C.config.skin?{skin:w+" layui-layer-hui",anim:M}:((y=y||{}).icon!==-1&&(y.icon!==t||C.config.skin)||(y.skin=w+" "+(y.skin||"layui-layer-hui")),y)))},load:function(f,y){return c.open(s.extend({type:3,icon:f||0,resize:!1,shade:.01,removeFocus:!1},y))},tips:function(f,y,Q){return c.open(s.extend({type:4,content:[f,y],closeBtn:!1,time:3e3,shade:!1,resize:!1,fixed:!1,maxWidth:260,removeFocus:!1},Q))}},T=function(f){var y=this,Q=function(){y.creat()};y.index=++c.index,y.config.maxWidth=s(u).width()-30,y.config=s.extend({},y.config,C.config,f),document.body?Q():setTimeout(function(){Q()},30)},k=(T.pt=T.prototype,["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"]),S=(k.anim={0:"layer-anim-00",1:"layer-anim-01",2:"layer-anim-02",3:"layer-anim-03",4:"layer-anim-04",5:"layer-anim-05",6:"layer-anim-06",slideDown:"layer-anim-slide-down",slideLeft:"layer-anim-slide-left",slideUp:"layer-anim-slide-up",slideRight:"layer-anim-slide-right"},k.SHADE="layui-layer-shade",k.MOVE="layui-layer-move","LAYUI-LAYER-SHADE-KEY"),E="LAYUI_LAYER_CONTENT_RECORD_HEIGHT",r=(T.pt.config={type:0,shade:.3,fixed:!0,move:k[1],title:"\u4FE1\u606F",offset:"auto",area:"auto",closeBtn:1,icon:-1,time:0,zIndex:19891014,maxWidth:360,anim:0,isOutAnim:!0,minStack:!0,moveType:1,resize:!0,scrollbar:!0,tips:2},T.pt.vessel=function(f,y){var Q,g=this.index,w=this.config,M=w.zIndex+g,G=typeof w.title=="object",z=w.maxmin&&(w.type===1||w.type===2),G=w.title?'<div class="layui-layer-title" style="'+(G?w.title[1]:"")+'">'+(G?w.title[0]:w.title)+"</div>":"";return w.zIndex=M,y([w.shade?'<div class="'+k.SHADE+'" id="'+k.SHADE+g+'" times="'+g+'" style="z-index:'+(M-1)+'; "></div>':"",'<div class="'+k[0]+" layui-layer-"+C.type[w.type]+(w.type!=0&&w.type!=2||w.shade?"":" layui-layer-border")+" "+(w.skin||"")+'" id="'+k[0]+g+'" type="'+C.type[w.type]+'" times="'+g+'" showtime="'+w.time+'" conType="'+(f?"object":"string")+'" style="z-index: '+M+"; width:"+w.area[0]+";height:"+w.area[1]+";position:"+(w.fixed?"fixed;":"absolute;")+'">'+(f&&w.type!=2?"":G)+"<div"+(w.id?' id="'+w.id+'"':"")+' class="layui-layer-content'+(w.type==0&&w.icon!==-1?" layui-layer-padding":"")+(w.type==3?" layui-layer-loading"+w.icon:"")+'">'+(g=["layui-icon-tips","layui-icon-success","layui-icon-error","layui-icon-question","layui-icon-lock","layui-icon-face-cry","layui-icon-face-smile"],M="layui-anim layui-anim-rotate layui-anim-loop",w.type==0&&w.icon!==-1?'<i class="layui-layer-face layui-icon '+((Q=w.icon==16?"layui-icon layui-icon-loading "+M:Q)||g[w.icon]||g[0])+'"></i>':w.type==3?(Q=["layui-icon-loading","layui-icon-loading-1"],w.icon==2?'<div class="layui-layer-loading-2 '+M+'"></div>':'<i class="layui-layer-loading-icon layui-icon '+(Q[w.icon]||Q[0])+" "+M+'"></i>'):"")+((w.type!=1||!f)&&w.content||"")+'</div><div class="layui-layer-setwin">'+(g=[],z&&(g.push('<span class="layui-layer-min"></span>'),g.push('<span class="layui-layer-max"></span>')),w.closeBtn&&g.push('<span class="layui-icon layui-icon-close '+[k[7],k[7]+(w.title?w.closeBtn:w.type==4?"1":"2")].join(" ")+'"></span>'),g.join(""))+"</div>"+(w.btn?function(){var Y="";typeof w.btn=="string"&&(w.btn=[w.btn]);for(var N,K=0,p=w.btn.length;K<p;K++)Y+='<a class="'+k[6]+K+'">'+w.btn[K]+"</a>";return'<div class="'+(N=[k[6]],w.btnAlign&&N.push(k[6]+"-"+w.btnAlign),N.join(" "))+'">'+Y+"</div>"}():"")+(w.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],G,s('<div class="'+k.MOVE+'" id="'+k.MOVE+'"></div>')),this},T.pt.creat=function(){var f,y,Q,g,w=this,M=w.config,z=w.index,G=typeof(K=M.content)=="object",Y=s("body"),N=function(p){var x;M.shift&&(M.anim=M.shift),k.anim[M.anim]&&(x="layer-anim "+k.anim[M.anim],p.addClass(x).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){s(this).removeClass(x)}))};if(M.id&&s("."+k[0]).find("#"+M.id)[0])f=s("#"+M.id).closest("."+k[0]),y=f.attr("times"),Q=f.data("config"),g=s("#"+k.SHADE+y),(f.data("maxminStatus")||{})==="min"?c.restore(y):Q.hideOnClose&&(g.show(),f.show(),N(f),setTimeout(function(){g.css({opacity:g.data(S)})},10));else{switch(M.removeFocus&&document.activeElement&&document.activeElement.blur(),typeof M.area=="string"&&(M.area=M.area==="auto"?["",""]:[M.area,""]),c.ie==6&&(M.fixed=!1),M.type){case 0:M.btn="btn"in M?M.btn:C.btn[0],c.closeAll("dialog");break;case 2:var K=M.content=G?M.content:[M.content||"","auto"];M.content='<iframe scrolling="'+(M.content[1]||"auto")+'" allowtransparency="true" id="'+k[4]+z+'" name="'+k[4]+z+`" onload="this.className='';" class="layui-layer-load" frameborder="0" src="`+M.content[0]+'"></iframe>';break;case 3:delete M.title,delete M.closeBtn,M.icon===-1&&M.icon,c.closeAll("loading");break;case 4:G||(M.content=[M.content,"body"]),M.follow=M.content[1],M.content=M.content[0]+'<i class="layui-layer-TipsG"></i>',delete M.title,M.tips=typeof M.tips=="object"?M.tips:[M.tips,!0],M.tipsMore||c.closeAll("tips")}w.vessel(G,function(p,x,_){Y.append(p[0]),G?M.type==2||M.type==4?s("body").append(p[1]):K.parents("."+k[0])[0]||(K.data("display",K.css("display")).show().addClass("layui-layer-wrap").wrap(p[1]),s("#"+k[0]+z).find("."+k[5]).before(x)):Y.append(p[1]),s("#"+k.MOVE)[0]||Y.append(C.moveElem=_),w.layero=s("#"+k[0]+z),w.shadeo=s("#"+k.SHADE+z),M.scrollbar||C.setScrollbar(z)}).auto(z),w.shadeo.css({"background-color":M.shade[1]||"#000",opacity:M.shade[0]||M.shade,transition:M.shade[2]||""}),w.shadeo.data(S,M.shade[0]||M.shade),M.type==2&&c.ie==6&&w.layero.find("iframe").attr("src",K[0]),M.type==4?w.tips():(w.offset(),parseInt(C.getStyle(document.getElementById(k.MOVE),"z-index"))||(w.layero.css("visibility","hidden"),c.ready(function(){w.offset(),w.layero.css("visibility","visible")}))),!M.fixed||C.events.resize[w.index]||(C.events.resize[w.index]=function(){w.resize()},u.on("resize",C.events.resize[w.index])),M.time<=0||setTimeout(function(){c.close(w.index)},M.time),w.move().callback(),N(w.layero),w.layero.data("config",M)}},T.pt.resize=function(){var f=this,y=f.config;f.offset(),(/^\d+%$/.test(y.area[0])||/^\d+%$/.test(y.area[1]))&&f.auto(f.index),y.type==4&&f.tips()},T.pt.auto=function(z){var y=this.config,Q=s("#"+k[0]+z),g=((y.area[0]===""||y.area[0]==="auto")&&0<y.maxWidth&&(c.ie&&c.ie<8&&y.btn&&Q.width(Q.innerWidth()),Q.outerWidth()>y.maxWidth)&&Q.width(y.maxWidth),[Q.innerWidth(),Q.innerHeight()]),w=Q.find(k[1]).outerHeight()||0,M=Q.find("."+k[6]).outerHeight()||0,z=function(G){(G=Q.find(G)).height(g[1]-w-M-2*(0|parseFloat(G.css("padding-top"))))};return y.type===2?z("iframe"):y.area[1]===""||y.area[1]==="auto"?0<y.maxHeight&&Q.outerHeight()>y.maxHeight?(g[1]=y.maxHeight,z("."+k[5])):y.fixed&&g[1]>=u.height()&&(g[1]=u.height(),z("."+k[5])):z("."+k[5]),this},T.pt.offset=function(){var f=this,y=f.config,Q=f.layero,g=[Q.outerWidth(),Q.outerHeight()],w=typeof y.offset=="object";f.offsetTop=(u.height()-g[1])/2,f.offsetLeft=(u.width()-g[0])/2,w?(f.offsetTop=y.offset[0],f.offsetLeft=y.offset[1]||f.offsetLeft):y.offset!=="auto"&&(y.offset==="t"?f.offsetTop=0:y.offset==="r"?f.offsetLeft=u.width()-g[0]:y.offset==="b"?f.offsetTop=u.height()-g[1]:y.offset==="l"?f.offsetLeft=0:y.offset==="lt"?(f.offsetTop=0,f.offsetLeft=0):y.offset==="lb"?(f.offsetTop=u.height()-g[1],f.offsetLeft=0):y.offset==="rt"?(f.offsetTop=0,f.offsetLeft=u.width()-g[0]):y.offset==="rb"?(f.offsetTop=u.height()-g[1],f.offsetLeft=u.width()-g[0]):f.offsetTop=y.offset),y.fixed||(f.offsetTop=/%$/.test(f.offsetTop)?u.height()*parseFloat(f.offsetTop)/100:parseFloat(f.offsetTop),f.offsetLeft=/%$/.test(f.offsetLeft)?u.width()*parseFloat(f.offsetLeft)/100:parseFloat(f.offsetLeft),f.offsetTop+=u.scrollTop(),f.offsetLeft+=u.scrollLeft()),Q.data("maxminStatus")==="min"&&(f.offsetTop=u.height()-(Q.find(k[1]).outerHeight()||0),f.offsetLeft=Q.css("left")),Q.css({top:f.offsetTop,left:f.offsetLeft})},T.pt.tips=function(){var f=this.config,y=this.layero,Q=[y.outerWidth(),y.outerHeight()],M=s(f.follow),g={width:(M=M[0]?M:s("body")).outerWidth(),height:M.outerHeight(),top:M.offset().top,left:M.offset().left},w=y.find(".layui-layer-TipsG"),M=f.tips[0];f.tips[1]||w.remove(),g.autoLeft=function(){0<g.left+Q[0]-u.width()?(g.tipLeft=g.left+g.width-Q[0],w.css({right:12,left:"auto"})):g.tipLeft=g.left},g.where=[function(){g.autoLeft(),g.tipTop=g.top-Q[1]-10,w.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",f.tips[1])},function(){g.tipLeft=g.left+g.width+10,g.tipTop=g.top-(.75*g.height<21?21-.5*g.height:0),g.tipTop=Math.max(g.tipTop,0),w.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",f.tips[1])},function(){g.autoLeft(),g.tipTop=g.top+g.height+10,w.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",f.tips[1])},function(){g.tipLeft=g.left-Q[0]-10,g.tipTop=g.top-(.75*g.height<21?21-.5*g.height:0),g.tipTop=Math.max(g.tipTop,0),w.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",f.tips[1])}],g.where[M-1](),M===1?g.top-(u.scrollTop()+Q[1]+16)<0&&g.where[2]():M===2?0<u.width()-(g.left+g.width+Q[0]+16)||g.where[3]():M===3?0<g.top-u.scrollTop()+g.height+Q[1]+16-u.height()&&g.where[0]():M===4&&0<Q[0]+16-g.left&&g.where[1](),y.find("."+k[5]).css({"background-color":f.tips[1],"padding-right":f.closeBtn?"30px":""}),y.css({left:g.tipLeft-(f.fixed?u.scrollLeft():0),top:g.tipTop-(f.fixed?u.scrollTop():0)})},T.pt.move=function(){var f=this,y=f.config,Q=s(document),g=f.layero,w=["LAY_MOVE_DICT","LAY_RESIZE_DICT"],M=g.find(y.move),z=g.find(".layui-layer-resize");return y.move&&M.css("cursor","move"),M.on("mousedown",function(G){var Y,N;G.button||(Y=s(this),N={},y.move&&(N.layero=g,N.config=y,N.offset=[G.clientX-parseFloat(g.css("left")),G.clientY-parseFloat(g.css("top"))],Y.data(w[0],N),C.eventMoveElem=Y,C.moveElem.css("cursor","move").show()),G.preventDefault())}),z.on("mousedown",function(G){var Y=s(this),N={};y.resize&&(N.layero=g,N.config=y,N.offset=[G.clientX,G.clientY],N.index=f.index,N.area=[g.outerWidth(),g.outerHeight()],Y.data(w[1],N),C.eventResizeElem=Y,C.moveElem.css("cursor","se-resize").show()),G.preventDefault()}),C.docEvent||(Q.on("mousemove",function(G){var Y,N,K,p,x,_,B;C.eventMoveElem&&(Y=(p=C.eventMoveElem.data(w[0])||{}).layero,x=p.config,_=G.clientX-p.offset[0],B=G.clientY-p.offset[1],N=Y.css("position")==="fixed",G.preventDefault(),p.stX=N?0:u.scrollLeft(),p.stY=N?0:u.scrollTop(),x.moveOut||(N=u.width()-Y.outerWidth()+p.stX,K=u.height()-Y.outerHeight()+p.stY,N<(_=_<p.stX?p.stX:_)&&(_=N),K<(B=B<p.stY?p.stY:B)&&(B=K)),Y.css({left:_,top:B})),C.eventResizeElem&&(x=(p=C.eventResizeElem.data(w[1])||{}).config,_=G.clientX-p.offset[0],B=G.clientY-p.offset[1],G.preventDefault(),c.style(p.index,{width:p.area[0]+_,height:p.area[1]+B}),x.resizing)&&x.resizing(p.layero)}).on("mouseup",function(G){var Y,N;C.eventMoveElem&&(N=(Y=C.eventMoveElem.data(w[0])||{}).config,C.eventMoveElem.removeData(w[0]),delete C.eventMoveElem,C.moveElem.hide(),N.moveEnd)&&N.moveEnd(Y.layero),C.eventResizeElem&&(C.eventResizeElem.removeData(w[1]),delete C.eventResizeElem,C.moveElem.hide())}),C.docEvent=!0),f},T.pt.btnLoading=function(f,y){y?f.find(".layui-layer-btn-loading-icon")[0]||f.addClass("layui-layer-btn-is-loading").attr({disabled:""}).prepend('<i class="layui-layer-btn-loading-icon layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop"></i>'):f.removeClass("layui-layer-btn-is-loading").removeAttr("disabled").find(".layui-layer-btn-loading-icon").remove()},T.pt.callback=function(){var f=this,y=f.layero,Q=f.config;f.openLayer(),Q.success&&(Q.type==2?y.find("iframe").on("load",function(){Q.success(y,f.index,f)}):Q.success(y,f.index,f)),c.ie==6&&f.IE6(y),y.find("."+k[6]).children("a").on("click",function(){var g,w=s(this),M=w.index();w.attr("disabled")||(Q.btnAsync?(g=M===0?Q.yes||Q.btn1:Q["btn"+(M+1)],f.loading=function(z){f.btnLoading(w,z)},g?C.promiseLikeResolve(g.call(Q,f.index,y,f)).then(function(z){z!==!1&&c.close(f.index)},function(z){z!==t&&i.console&&i.console.error("layer error hint: "+z)}):c.close(f.index)):M===0?Q.yes?Q.yes(f.index,y,f):Q.btn1?Q.btn1(f.index,y,f):c.close(f.index):(Q["btn"+(M+1)]&&Q["btn"+(M+1)](f.index,y,f))!==!1&&c.close(f.index))}),y.find("."+k[7]).on("click",function(){(Q.cancel&&Q.cancel(f.index,y,f))!==!1&&c.close(f.index)}),Q.shadeClose&&f.shadeo.on("click",function(){c.close(f.index)}),y.find(".layui-layer-min").on("click",function(){(Q.min&&Q.min(y,f.index,f))!==!1&&c.min(f.index,Q)}),y.find(".layui-layer-max").on("click",function(){s(this).hasClass("layui-layer-maxmin")?(c.restore(f.index),Q.restore&&Q.restore(y,f.index,f)):(c.full(f.index,Q),setTimeout(function(){Q.full&&Q.full(y,f.index,f)},100))}),Q.end&&(C.end[f.index]=Q.end),Q.beforeEnd&&(C.beforeEnd[f.index]=s.proxy(Q.beforeEnd,Q,y,f.index,f))},C.reselect=function(){s.each(s("select"),function(f,y){var Q=s(this);Q.parents("."+k[0])[0]||Q.attr("layer")==1&&s("."+k[0]).length<1&&Q.removeAttr("layer").show()})},T.pt.IE6=function(f){s("select").each(function(y,Q){var g=s(this);g.parents("."+k[0])[0]||g.css("display")!=="none"&&g.attr({layer:"1"}).hide()})},T.pt.openLayer=function(){c.zIndex=this.config.zIndex,c.setTop=function(f){return c.zIndex=parseInt(f[0].style.zIndex),f.on("mousedown",function(){c.zIndex++,f.css("z-index",c.zIndex+1)}),c.zIndex}},C.record=function(f){if(!f[0])return i.console&&console.error("index error");var Q=f.attr("type"),y=f.find(".layui-layer-content"),Q=Q===C.type[2]?y.children("iframe"):y,g=[f[0].style.width||C.getStyle(f[0],"width"),f[0].style.height||C.getStyle(f[0],"height"),f.position().top,f.position().left+parseFloat(f.css("margin-left"))];f.find(".layui-layer-max").addClass("layui-layer-maxmin"),f.attr({area:g}),y.data(E,C.getStyle(Q[0],"height"))},C.setScrollbar=function(f){k.html.css("overflow","hidden").attr("layer-full",f)},C.restScrollbar=function(f){k.html.attr("layer-full")==f&&(k.html[0].style[k.html[0].style.removeProperty?"removeProperty":"removeAttribute"]("overflow"),k.html.removeAttr("layer-full"))},C.promiseLikeResolve=function(f){var y=s.Deferred();return f&&typeof f.then=="function"?f.then(y.resolve,y.reject):y.resolve(f),y.promise()},(i.layer=c).getChildFrame=function(f,y){return y=y||s("."+k[4]).attr("times"),s("#"+k[0]+y).find("iframe").contents().find(f)},c.getFrameIndex=function(f){return s("#"+f).parents("."+k[4]).attr("times")},c.iframeAuto=function(f){var y,Q,g;f&&(y=c.getChildFrame("html",f).outerHeight(),Q=(f=s("#"+k[0]+f)).find(k[1]).outerHeight()||0,g=f.find("."+k[6]).outerHeight()||0,f.css({height:y+Q+g}),f.find("iframe").css({height:y}))},c.iframeSrc=function(f,y){s("#"+k[0]+f).find("iframe").attr("src",y)},c.style=function(g,y,Q){var g=s("#"+k[0]+g),w=g.find(".layui-layer-content"),M=g.attr("type"),z=g.find(k[1]).outerHeight()||0,G=g.find("."+k[6]).outerHeight()||0;g.attr("minLeft"),M!==C.type[3]&&M!==C.type[4]&&(Q||(parseFloat(y.width)<=260&&(y.width=260),parseFloat(y.height)-z-G<=64&&(y.height=64+z+G)),g.css(y),G=g.find("."+k[6]).outerHeight()||0,M===C.type[2]?g.find("iframe").css({height:(typeof y.height=="number"?y.height:g.height())-z-G}):w.css({height:(typeof y.height=="number"?y.height:g.height())-z-G-parseFloat(w.css("padding-top"))-parseFloat(w.css("padding-bottom"))}))},c.min=function(f,y){var Q,g,w,M,z,G,Y=s("#"+k[0]+f),N=Y.data("maxminStatus");N!=="min"&&(N==="max"&&c.restore(f),Y.data("maxminStatus","min"),y=y||Y.data("config")||{},N=s("#"+k.SHADE+f),Q=Y.find(".layui-layer-min"),g=Y.find(k[1]).outerHeight()||0,M=(w=typeof(M=Y.attr("minLeft"))=="string")?M:181*C.minStackIndex+"px",z=Y.css("position"),G={width:180,height:g,position:"fixed",overflow:"hidden"},C.record(Y),0<C.minStackArr.length&&(M=C.minStackArr[0],C.minStackArr.shift()),parseFloat(M)+180>u.width()&&(M=u.width()-180-(C.minStackArr.edgeIndex=C.minStackArr.edgeIndex||0,C.minStackArr.edgeIndex+=3))<0&&(M=0),y.minStack&&(G.left=M,G.top=u.height()-g,w||C.minStackIndex++,Y.attr("minLeft",M)),Y.attr("position",z),c.style(f,G,!0),Q.hide(),Y.attr("type")==="page"&&Y.find(k[4]).hide(),C.restScrollbar(f),N.hide())},c.restore=function(f){var y=s("#"+k[0]+f),Q=s("#"+k.SHADE+f),g=y.find(".layui-layer-content"),w=y.attr("area").split(","),M=y.attr("type"),z=y.data("config")||{},G=g.data(E);y.removeData("maxminStatus"),c.style(f,{width:w[0],height:w[1],top:parseFloat(w[2]),left:parseFloat(w[3]),position:y.attr("position"),overflow:"visible"},!0),y.find(".layui-layer-max").removeClass("layui-layer-maxmin"),y.find(".layui-layer-min").show(),M==="page"&&y.find(k[4]).show(),z.scrollbar?C.restScrollbar(f):C.setScrollbar(f),G!==t&&(g.removeData(E),(M===C.type[2]?g.children("iframe"):g).css({height:G})),Q.show()},c.full=function(f){var y=s("#"+k[0]+f),Q=y.data("maxminStatus");Q!=="max"&&(Q==="min"&&c.restore(f),y.data("maxminStatus","max"),C.record(y),k.html.attr("layer-full")||C.setScrollbar(f),setTimeout(function(){var g=y.css("position")==="fixed";c.style(f,{top:g?0:u.scrollTop(),left:g?0:u.scrollLeft(),width:"100%",height:"100%"},!0),y.find(".layui-layer-min").hide()},100))},c.title=function(f,y){s("#"+k[0]+(y||c.index)).find(k[1]).html(f)},c.close=function(f,y){var Q,g,w=(Q=s("."+k[0]).children("#"+f).closest("."+k[0]))[0]?(f=Q.attr("times"),Q):s("#"+k[0]+f),M=w.attr("type"),z=w.data("config")||{},G=z.id&&z.hideOnClose;w[0]&&(g=function(){var Y={slideDown:"layer-anim-slide-down-out",slideLeft:"layer-anim-slide-left-out",slideUp:"layer-anim-slide-up-out",slideRight:"layer-anim-slide-right-out"}[z.anim]||"layer-anim-close",N=function(){var p="layui-layer-wrap";if(G)return w.removeClass("layer-anim "+Y),w.hide();if(M===C.type[1]&&w.attr("conType")==="object"){w.children(":not(."+k[5]+")").remove();for(var x=w.find("."+p),_=0;_<2;_++)x.unwrap();x.css("display",x.data("display")).removeClass(p)}else{if(M===C.type[2])try{var B=s("#"+k[4]+f)[0];B.contentWindow.document.write(""),B.contentWindow.close(),w.find("."+k[5])[0].removeChild(B)}catch(R){}w[0].innerHTML="",w.remove()}typeof C.end[f]=="function"&&C.end[f](),delete C.end[f],typeof y=="function"&&y(),C.events.resize[f]&&(u.off("resize",C.events.resize[f]),delete C.events.resize[f])},K=s("#"+k.SHADE+f);c.ie&&c.ie<10||!z.isOutAnim?K[G?"hide":"remove"]():(K.css({opacity:0}),setTimeout(function(){K[G?"hide":"remove"]()},350)),z.isOutAnim&&w.addClass("layer-anim "+Y),c.ie==6&&C.reselect(),C.restScrollbar(f),typeof w.attr("minLeft")=="string"&&(C.minStackIndex--,C.minStackArr.push(w.attr("minLeft"))),c.ie&&c.ie<10||!z.isOutAnim?N():setTimeout(function(){N()},200)},G||typeof C.beforeEnd[f]!="function"?(delete C.beforeEnd[f],g()):C.promiseLikeResolve(C.beforeEnd[f]()).then(function(Y){Y!==!1&&(delete C.beforeEnd[f],g())},function(Y){Y!==t&&i.console&&i.console.error("layer error hint: "+Y)}))},c.closeAll=function(f,y){typeof f=="function"&&(y=f,f=null);var Q=s("."+k[0]);s.each(Q,function(g){var w=s(this),M=f?w.attr("type")===f:1;M&&c.close(w.attr("times"),g===Q.length-1?y:null)}),Q.length===0&&typeof y=="function"&&y()},c.closeLast=function(f,y){var Q,g=[],w=s.isArray(f);s(typeof f=="string"?".layui-layer-"+f:".layui-layer").each(function(M,z){if(z=s(z),w&&f.indexOf(z.attr("type"))===-1||z.css("display")==="none")return!0;g.push(Number(z.attr("times")))}),0<g.length&&(Q=Math.max.apply(null,g),c.close(Q,y))},c.cache||{}),D=function(f){return r.skin?" "+r.skin+" "+r.skin+"-"+f:""};c.prompt=function(f,y){var Q="",g="";typeof(f=f||{})=="function"&&(y=f),f.area&&(Q='style="width: '+(M=f.area)[0]+"; height: "+M[1]+';"',delete f.area),f.placeholder&&(g=' placeholder="'+f.placeholder+'"');var w,M=f.formType==2?'<textarea class="layui-layer-input"'+Q+g+"></textarea>":'<input type="'+(f.formType==1?"password":"text")+'" class="layui-layer-input"'+g+">",z=f.success;return delete f.success,c.open(s.extend({type:1,btn:["\u786E\u5B9A","\u53D6\u6D88"],content:M,skin:"layui-layer-prompt"+D("prompt"),maxWidth:u.width(),success:function(G){(w=G.find(".layui-layer-input")).val(f.value||"").focus(),typeof z=="function"&&z(G)},resize:!1,yes:function(G){var Y=w.val();Y.length>(f.maxlength||500)?c.tips("\u6700\u591A\u8F93\u5165"+(f.maxlength||500)+"\u4E2A\u5B57\u7B26",w,{tips:1}):y&&y(Y,G,w)}},f))},c.tab=function(f){var y=(f=f||{}).tab||{},Q="layui-this",g=f.success;return delete f.success,c.open(s.extend({type:1,skin:"layui-layer-tab"+D("tab"),resize:!1,title:function(){var w=y.length,M=1,z="";if(0<w)for(z='<span class="'+Q+'">'+y[0].title+"</span>";M<w;M++)z+="<span>"+y[M].title+"</span>";return z}(),content:'<ul class="layui-layer-tabmain">'+function(){var w=y.length,M=1,z="";if(0<w)for(z='<li class="layui-layer-tabli '+Q+'">'+(y[0].content||"no content")+"</li>";M<w;M++)z+='<li class="layui-layer-tabli">'+(y[M].content||"no  content")+"</li>";return z}()+"</ul>",success:function(w){var M=w.find(".layui-layer-title").children(),z=w.find(".layui-layer-tabmain").children();M.on("mousedown",function(Y){Y.stopPropagation?Y.stopPropagation():Y.cancelBubble=!0;var Y=s(this),N=Y.index();Y.addClass(Q).siblings().removeClass(Q),z.eq(N).show().siblings().hide(),typeof f.change=="function"&&f.change(N)}),typeof g=="function"&&g(w)}},f))},c.photos=function(f,y,Q){var g={};if((f=s.extend(!0,{toolbar:!0,footer:!0},f)).photos){var K=!(typeof f.photos=="string"||f.photos instanceof s),w=K?f.photos:{},M=w.data||[],z=w.start||0,G=f.success;if(g.imgIndex=1+(0|z),f.img=f.img||"img",delete f.success,K){if(M.length===0)return c.msg("\u6CA1\u6709\u56FE\u7247")}else{var Y=s(f.photos),N=function(){M=[],Y.find(f.img).each(function(B){var R=s(this);R.attr("layer-index",B),M.push({alt:R.attr("alt"),pid:R.attr("layer-pid"),src:R.attr("lay-src")||R.attr("layer-src")||R.attr("src"),thumb:R.attr("src")})})};if(N(),M.length===0||(y||Y.on("click",f.img,function(){N();var B=s(this).attr("layer-index");c.photos(s.extend(f,{photos:{start:B,data:M,tab:f.tab},full:f.full}),!0)}),!y))return}g.imgprev=function(B){g.imgIndex--,g.imgIndex<1&&(g.imgIndex=M.length),g.tabimg(B)},g.imgnext=function(B,R){g.imgIndex++,g.imgIndex>M.length&&(g.imgIndex=1,R)||g.tabimg(B)},g.keyup=function(B){var R;g.end||(R=B.keyCode,B.preventDefault(),R===37?g.imgprev(!0):R===39?g.imgnext(!0):R===27&&c.close(g.index))},g.tabimg=function(B){if(!(M.length<=1))return w.start=g.imgIndex-1,c.close(g.index),c.photos(f,!0,B)},g.isNumber=function(B){return typeof B=="number"&&!isNaN(B)},g.image={},g.getTransform=function(ne){var R=[],X=ne.rotate,J=ne.scaleX,ne=ne.scale;return g.isNumber(X)&&X!==0&&R.push("rotate("+X+"deg)"),g.isNumber(J)&&J!==1&&R.push("scaleX("+J+")"),g.isNumber(ne)&&R.push("scale("+ne+")"),R.length?R.join(" "):"none"},g.event=function(B,R,X){var J,ne;g.main.find(".layui-layer-photos-prev").on("click",function(le){le.preventDefault(),g.imgprev(!0)}),g.main.find(".layui-layer-photos-next").on("click",function(le){le.preventDefault(),g.imgnext(!0)}),s(document).on("keyup",g.keyup),B.off("click").on("click","*[toolbar-event]",function(){var le=s(this);switch(le.attr("toolbar-event")){case"rotate":g.image.rotate=((g.image.rotate||0)+Number(le.attr("data-option")))%360,g.imgElem.css({transform:g.getTransform(g.image)});break;case"scalex":g.image.scaleX=g.image.scaleX===-1?1:-1,g.imgElem.css({transform:g.getTransform(g.image)});break;case"zoom":var me=Number(le.attr("data-option"));g.image.scale=(g.image.scale||1)+me,me<0&&g.image.scale<0-me&&(g.image.scale=0-me),g.imgElem.css({transform:g.getTransform(g.image)});break;case"reset":g.image.scaleX=1,g.image.scale=1,g.image.rotate=0,g.imgElem.css({transform:"none"});break;case"close":c.close(R)}X.offset(),X.auto(R)}),g.main.on("mousewheel DOMMouseScroll",function(le){var me=le.originalEvent.wheelDelta||-le.originalEvent.detail,Ae=g.main.find('[toolbar-event="zoom"]');(0<me?Ae.eq(0):Ae.eq(1)).trigger("click"),le.preventDefault()}),(i.layui||i.lay)&&(J=i.layui.lay||i.lay,ne=function(le,me){var Ae=Date.now()-me.timeStart,Ae=me.distanceX/Ae,q=u.width()/3;(.25<Math.abs(Ae)||Math.abs(me.distanceX)>q)&&(me.direction==="left"?g.imgnext(!0):me.direction==="right"&&g.imgprev(!0))},s.each([X.shadeo,g.main],function(le,me){J.touchSwipe(me,{onTouchEnd:ne})}))},g.loadi=c.load(1,{shade:!("shade"in f)&&[.9,t,"unset"],scrollbar:!1});var K=M[z].src,p=function(B){c.close(g.loadi);var R,X=M[z].alt||"";Q&&(f.anim=-1),g.index=c.open(s.extend({type:1,id:"layui-layer-photos",area:(B=[B.width,B.height],R=[s(i).width()-100,s(i).height()-100],!f.full&&(R[0]<B[0]||R[1]<B[1])&&((R=[B[0]/R[0],B[1]/R[1]])[1]<R[0]?(B[0]=B[0]/R[0],B[1]=B[1]/R[0]):R[0]<R[1]&&(B[0]=B[0]/R[1],B[1]=B[1]/R[1])),[B[0]+"px",B[1]+"px"]),title:!1,shade:[.9,t,"unset"],shadeClose:!0,closeBtn:!1,move:".layer-layer-photos-main img",moveType:1,scrollbar:!1,moveOut:!0,anim:5,isOutAnim:!1,skin:"layui-layer-photos"+D("photos"),content:'<div class="layer-layer-photos-main"><img src="'+M[z].src+'" alt="'+X+'" layer-pid="'+(M[z].pid||"")+'">'+(R=['<div class="layui-layer-photos-pointer">'],1<M.length&&R.push(['<div class="layer-layer-photos-page">','<span class="layui-icon layui-icon-left layui-layer-photos-prev"></span>','<span class="layui-icon layui-icon-right layui-layer-photos-next"></span>',"</div>"].join("")),f.toolbar&&R.push(['<div class="layui-layer-photos-toolbar layui-layer-photos-header">','<span toolbar-event="rotate" data-option="90" title="\u65CB\u8F6C"><i class="layui-icon layui-icon-refresh"></i></span>','<span toolbar-event="scalex" title="\u53D8\u6362"><i class="layui-icon layui-icon-slider"></i></span>','<span toolbar-event="zoom" data-option="0.1" title="\u653E\u5927"><i class="layui-icon layui-icon-add-circle"></i></span>','<span toolbar-event="zoom" data-option="-0.1" title="\u7F29\u5C0F"><i class="layui-icon layui-icon-reduce-circle"></i></span>','<span toolbar-event="reset" title="\u8FD8\u539F"><i class="layui-icon layui-icon-refresh-1"></i></span>','<span toolbar-event="close" title="\u5173\u95ED"><i class="layui-icon layui-icon-close"></i></span>',"</div>"].join("")),f.footer&&R.push(['<div class="layui-layer-photos-toolbar layui-layer-photos-footer">',"<h3>"+X+"</h3>","<em>"+g.imgIndex+" / "+M.length+"</em>",'<a href="'+M[z].src+'" target="_blank">\u67E5\u770B\u539F\u56FE</a>',"</div>"].join("")),R.push("</div>"),R.join(""))+"</div>",success:function(J,ne,le){g.main=J.find(".layer-layer-photos-main"),g.footer=J.find(".layui-layer-photos-footer"),g.imgElem=g.main.children("img"),g.event(J,ne,le),f.tab&&f.tab(M[z],J),typeof G=="function"&&G(J)},end:function(){g.end=!0,s(document).off("keyup",g.keyup)}},f))},x=function(){c.close(g.loadi),c.msg("\u5F53\u524D\u56FE\u7247\u5730\u5740\u5F02\u5E38\uFF0C<br>\u662F\u5426\u7EE7\u7EED\u67E5\u770B\u4E0B\u4E00\u5F20\uFF1F",{time:3e4,btn:["\u4E0B\u4E00\u5F20","\u4E0D\u770B\u4E86"],yes:function(){1<M.length&&g.imgnext(!0,!0)}})},_=new Image;_.src=K,_.complete?p(_):(_.onload=function(){_.onload=null,p(_)},_.onerror=function(B){_.onerror=null,x(B)})}},C.run=function(y){u=(s=y)(i);var y=navigator.userAgent.toLowerCase(),y=/android|iphone|ipod|ipad|ios/.test(y),Q=s(i);y&&s.each({Height:"height",Width:"width"},function(g,w){var M="inner"+g;u[w]=function(){return M in i?i[M]:Q[w]()}}),k.html=s("html"),c.open=function(g){return new T(g).index}},i.layui&&layui.define?(c.ready(),layui.define(["jquery","lay"],function(f){c.path=layui.cache.dir,C.run(layui.$),f("layer",i.layer=c)})):(c.ready(),C.run(i.jQuery))}(window),layui.define("jquery",function(i){var t=layui.$,s=layui.hint(),u={fixbar:function(A){var b,C,c,T,k="layui-fixbar",S=t(document),E=(A=t.extend(!0,{target:"body",bars:[],default:!0,margin:160,duration:320},A),t(A.target)),r=A.scroll?t(A.scroll):t(A.target==="body"?S:E),D=(A.default&&(A.bar1&&A.bars.push({type:"bar1",icon:"layui-icon-chat"}),A.bar2&&A.bars.push({type:"bar2",icon:"layui-icon-help"}),A.bars.push({type:"top",icon:"layui-icon-top"})),t("<ul>").addClass(k));layui.each(A.bars,function(f,y){var Q=t('<li class="layui-icon">');Q.addClass(y.icon).attr({"lay-type":y.type,style:y.style||(A.bgcolor?"background-color: "+A.bgcolor:"")}).html(y.content),Q.on("click",function(){var g=t(this).attr("lay-type");g==="top"&&(A.target==="body"?t("html,body"):r).animate({scrollTop:0},A.duration),typeof A.click=="function"&&A.click.call(this,g)}),layui.type(A.on)==="object"&&layui.each(A.on,function(g,w){Q.on(g,function(){var M=t(this).attr("lay-type");typeof w=="function"&&w.call(this,M)})}),y.type==="top"&&(Q.addClass("layui-fixbar-top"),b=Q),D.append(Q)}),E.find("."+k).remove(),typeof A.css=="object"&&D.css(A.css),E.append(D),b&&(c=function f(){return r.scrollTop()>=A.margin?C||(b.show(),C=1):C&&(b.hide(),C=0),f}()),r.on("scroll",function(){c&&(clearTimeout(T),T=setTimeout(function(){c()},100))})},countdown:function(A){A=t.extend(!0,{date:new Date,now:new Date},A);var b=arguments,C=(1<b.length&&(A.date=new Date(b[0]),A.now=new Date(b[1]),A.clock=b[2]),{options:A,clear:function(){clearTimeout(C.timer)},reload:function(T){this.clear(),t.extend(!0,this.options,{now:new Date},T),c()}}),c=(typeof A.ready=="function"&&A.ready(),function T(){var S=new Date(A.date),k=new Date(A.now),S=0<(S=S.getTime()-k.getTime())?S:0,E={d:Math.floor(S/864e5),h:Math.floor(S/36e5)%24,m:Math.floor(S/6e4)%60,s:Math.floor(S/1e3)%60};return 1<b.length&&(E=[E.d,E.h,E.m,E.s]),C.timer=setTimeout(function(){k.setTime(k.getTime()+1e3),A.now=k,c()},1e3),typeof A.clock=="function"&&A.clock(E,C),S<=0&&(clearTimeout(C.timer),typeof A.done=="function")&&A.done(E,C),T}());return C},timeAgo:function(A,b){var C=this,c=[[],[]],T=new Date().getTime()-new Date(A).getTime();return 26784e5<T?(T=new Date(A),c[0][0]=C.digit(T.getFullYear(),4),c[0][1]=C.digit(T.getMonth()+1),c[0][2]=C.digit(T.getDate()),b||(c[1][0]=C.digit(T.getHours()),c[1][1]=C.digit(T.getMinutes()),c[1][2]=C.digit(T.getSeconds())),c[0].join("-")+" "+c[1].join(":")):864e5<=T?(T/1e3/60/60/24|0)+" \u5929\u524D":36e5<=T?(T/1e3/60/60|0)+" \u5C0F\u65F6\u524D":18e4<=T?(T/1e3/60|0)+" \u5206\u949F\u524D":T<0?"\u672A\u6765":"\u521A\u521A"},digit:function(A,b){var C="";b=b||2;for(var c=(A=String(A)).length;c<b;c++)C+="0";return A<Math.pow(10,b)?C+(0|A):A},toDateString:function(A,b,C){var c,T,k,S,E,r,D,f,y,Q,g;return A===null||A===""?"":(c=this,(T=new Date(function(){if(A)return!isNaN(A)&&typeof A=="string"?parseInt(A):A}()||new Date)).getDate()?(k=T.getFullYear(),S=T.getMonth(),E=T.getDate(),r=T.getHours(),D=T.getMinutes(),f=T.getSeconds(),y=T.getMilliseconds(),Q=C&&C.customMeridiem||function(w,M){return w=100*w+M,w<600?"\u51CC\u6668":w<900?"\u65E9\u4E0A":w<1100?"\u4E0A\u5348":w<1300?"\u4E2D\u5348":w<1800?"\u4E0B\u5348":"\u665A\u4E0A"},g={yy:function(){return String(k).slice(-2)},yyyy:function(){return c.digit(k,4)},M:function(){return String(S+1)},MM:function(){return c.digit(S+1)},d:function(){return String(E)},dd:function(){return c.digit(E)},H:function(){return String(r)},HH:function(){return c.digit(r)},h:function(){return String(r%12||12)},hh:function(){return c.digit(r%12||12)},A:function(){return Q(r,D)},m:function(){return String(D)},mm:function(){return c.digit(D)},s:function(){return String(f)},ss:function(){return c.digit(f)},SSS:function(){return c.digit(y,3)}},(b=b||"yyyy-MM-dd HH:mm:ss").replace(/\[([^\]]+)]|y{1,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|SSS/g,function(w,M){return M||g[w]&&g[w]()||w})):(s.error('Invalid millisecond for "util.toDateString(millisecond)"'),""))},escape:function(A){return A==null?"":/[<"'>]|&(?=#[a-zA-Z0-9]+)/g.test(A+="")?A.replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):A},unescape:function(A){return A!=null||(A=""),(A+="").replace(/\&amp;/g,"&").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&#39;/g,"'").replace(/\&quot;/g,'"')},openWin:function(A){var b=(A=A||{}).window||window.open(A.url||"",A.target,A.specs);A.url||(b.document.open("text/html","replace"),b.document.write(A.content||""),b.document.close())},toVisibleArea:function(A){var b,C,c,T,k,S,E,r;(A=t.extend({margin:160,duration:200,type:"y"},A)).scrollElem[0]&&A.thisElem[0]&&(b=A.scrollElem,E=A.thisElem,c=(k=A.type==="y")?"top":"left",T=b[C=k?"scrollTop":"scrollLeft"](),k=b[k?"height":"width"](),S=b.offset()[c],r={},(E=E.offset()[c]-S)>k-A.margin||E<A.margin)&&(r[C]=E-k/2+T,b.animate(r,A.duration))},on:function(A,b,C){typeof A=="object"&&(C=b||{},b=A,A=C.attr||"lay-on");var c,T=(C=t.extend({elem:"body",trigger:"click"},typeof C=="object"?C:{trigger:C})).elem=t(C.elem),k="["+A+"]",S="UTIL_ON_DATA";if(T[0])return T.data(S)||T.data(S,{events:{},callbacks:{}}),c=(S=T.data(S)).callbacks,b=S.events[A]=t.extend(!0,S.events[A],b),T.off(C.trigger,k,c[A]),T.on(C.trigger,k,c[A]=function(E){var r=t(this),D=r.attr(A);typeof b[D]=="function"&&b[D].call(this,r,E)}),b}};u.event=u.on,i("util",u)}),layui.define(["jquery","laytpl","lay","util"],function(i){var t,s,u,A=layui.$,b=layui.laytpl,C=layui.util,c=layui.hint(),T=layui.device().mobile?"touchstart":"mousedown",k="dropdown",S="layui_"+k+"_index",E="lay-"+k+"-id",r={config:{customName:{id:"id",title:"title",children:"child"}},index:layui[k]?layui[k].index+1e4:0,set:function(_){var B=this;return B.config=A.extend({},B.config,_),B},on:function(_,B){return layui.onevent.call(this,k,_,B)}},D=function(){var _=this,B=_.config,R=B.id;return D.that[R]=_,{config:B,reload:function(X){_.reload.call(_,X)},reloadData:function(X){r.reloadData(R,X)},close:function(){_.remove()},open:function(){_.render()}}},f="layui-dropdown",y="layui-menu-item-up",Q="layui-menu-item-down",g="layui-menu-body-title",w="layui-menu-item-group",M="layui-menu-item-parent",z="layui-menu-item-checked",G="layui-menu-item-checked2",Y="layui-menu-body-panel",N="layui-menu-body-panel-left",K="layui-dropdown-shade",p="."+w+">."+g,x=function(_){var B=this;B.index=++r.index,B.config=A.extend({},B.config,r.config,_),B.init()};x.prototype.config={trigger:"click",content:"",className:"",style:"",show:!1,isAllowSpread:!0,isSpreadItem:!0,data:[],delay:[200,300],shade:0,accordion:!1,closeOnClick:!1},x.prototype.reload=function(_,B){var R=this;R.config=A.extend({},R.config,_),R.init(!0,B)},x.prototype.init=function(_,B){var R,X=this,J=X.config,ne=A(J.elem);return 1<ne.length?(layui.each(ne,function(){r.render(A.extend({},J,{elem:this}))}),X):(A.extend(J,lay.options(ne[0])),!_&&ne[0]&&ne.attr(E)?(R=D.getThis(ne.attr(E)))?R.reload(J,B):void 0:(J.elem=A(J.elem),J.id="id"in J?J.id:ne.attr("id")||X.index,ne.attr(E,J.id),J.customName=A.extend({},r.config.customName,J.customName),(J.show||B==="reloadData"&&X.elemView&&A("body").find(X.elemView.get(0)).length)&&X.render(_,B),void X.events()))},x.prototype.render=function(_,B){var R=this,X=R.config,J=X.customName,ne=A("body"),le=function(){var q=A('<ul class="layui-menu layui-dropdown-menu"></ul>');return 0<X.data.length?me(q,X.data):q.html('<li class="layui-menu-item-none">\u6682\u65E0\u6570\u636E</li>'),q},me=function(q,Z){return layui.each(Z,function(re,ae){var oe,ue=ae[J.children]&&0<ae[J.children].length,Ee=("isSpreadItem"in ae?ae:X).isSpreadItem,O=(ee=C.escape(ae[J.title]),O=ae.templet||X.templet,ee=O?typeof O=="function"?O(ae):b(O).render(ae):ee),ee=(ue&&(ae.type=ae.type||"parent"),ae.type?{group:"group",parent:"parent","-":"-"}[ae.type]||"parent":"");(ee==="-"||ae[J.title]||ae[J.id]||ue)&&((O=A(["<li"+(oe={group:"layui-menu-item-group"+(X.isAllowSpread?Ee?" layui-menu-item-down":" layui-menu-item-up":""),parent:M,"-":"layui-menu-item-divider"},ue||ee?' class="'+oe[ee]+'"':ae.disabled?' class="layui-disabled"':"")+">",(oe="href"in ae?'<a href="'+ae.href+'" target="'+(ae.target||"_self")+'">'+O+"</a>":O,ue?'<div class="'+g+'">'+oe+(ee==="parent"?'<i class="layui-icon layui-icon-right"></i>':ee==="group"&&X.isAllowSpread?'<i class="layui-icon layui-icon-'+(Ee?"up":"down")+'"></i>':"")+"</div>":'<div class="'+g+'">'+oe+"</div>"),"</li>"].join(""))).data("item",ae),ue&&(Ee=A('<div class="layui-panel layui-menu-body-panel"></div>'),oe=A("<ul></ul>"),ee==="parent"?(Ee.append(me(oe,ae[J.children])),O.append(Ee)):O.append(me(oe,ae[J.children]))),q.append(O))}),q},Ae=['<div class="layui-dropdown layui-border-box layui-panel layui-anim layui-anim-downbit" '+E+'="'+X.id+'">',"</div>"].join("");!(_=X.trigger!=="contextmenu"&&!lay.isTopElem(X.elem[0])?_:!0)&&X.elem.data(S+"_opened")||(R.elemView=A("."+f+"["+E+'="'+X.id+'"]'),B==="reloadData"&&R.elemView.length?R.elemView.html(X.content||le()):(R.elemView=A(Ae),R.elemView.append(X.content||le()),X.className&&R.elemView.addClass(X.className),X.style&&R.elemView.attr("style",X.style),r.thisId=X.id,R.remove(),ne.append(R.elemView),X.elem.data(S+"_opened",!0),_=X.shade?'<div class="'+K+'" style="z-index:'+(R.elemView.css("z-index")-1)+"; background-color: "+(X.shade[1]||"#000")+"; opacity: "+(X.shade[0]||X.shade)+'"></div>':"",R.elemView.before(_),X.trigger==="mouseenter"&&R.elemView.on("mouseenter",function(){clearTimeout(D.timer)}).on("mouseleave",function(){R.delayRemove()})),R.position(),(D.prevElem=R.elemView).data("prevElem",X.elem),R.elemView.find(".layui-menu").on(T,function(q){layui.stope(q)}),R.elemView.find(".layui-menu li").on("click",function(q){var Z=A(this),re=Z.data("item")||{},ae=re[J.children]&&0<re[J.children].length,oe=X.clickScope==="all";re.disabled||ae&&!oe||re.type==="-"||((typeof X.click=="function"?X.click(re,Z,q):null)===!1||ae||R.remove(),layui.stope(q))}),R.elemView.find(p).on("click",function(q){var Z=A(this).parent();(Z.data("item")||{}).type==="group"&&X.isAllowSpread&&D.spread(Z,X.accordion)}),typeof X.ready=="function"&&X.ready(R.elemView,X.elem))},x.prototype.position=function(_){var B=this.config;lay.position(B.elem[0],this.elemView[0],{position:B.position,e:this.e,clickType:B.trigger==="contextmenu"?"right":null,align:B.align||null})},x.prototype.remove=function(){this.config;var _,B,R,X=D.prevElem;X&&(B=X.attr(E),_=X.data("prevElem"),R=(B=D.getThis(B)).config.close,_&&_.data(S+"_opened",!1),X.remove(),delete D.prevElem,typeof R=="function")&&R.call(B.config,_),lay("."+K).remove()},x.prototype.normalizedDelay=function(){var _=this.config,_=[].concat(_.delay);return{show:_[0],hide:_[1]!==void 0?_[1]:_[0]}},x.prototype.delayRemove=function(){var _=this;_.config,clearTimeout(D.timer),D.timer=setTimeout(function(){_.remove()},_.normalizedDelay().hide)},x.prototype.events=function(){var _=this,B=_.config,R=(B.trigger==="hover"&&(B.trigger="mouseenter"),_.prevElem&&_.prevElem.off(B.trigger,_.prevElemCallback),B.trigger==="mouseenter");_.prevElem=B.elem,_.prevElemCallback=function(X){clearTimeout(D.timer),_.e=X,R?D.timer=setTimeout(function(){_.render()},_.normalizedDelay().show):B.closeOnClick&&B.elem.data(S+"_opened")&&B.trigger==="click"?_.remove():_.render(),X.preventDefault()},B.elem.on(B.trigger,_.prevElemCallback),R&&B.elem.on("mouseleave",function(){_.delayRemove()})},D.that={},D.getThis=function(_){var B=D.that[_];return B||c.error(_?k+" instance with ID '"+_+"' not found":"ID argument required"),B},D.spread=function(_,B){var R=_.children("ul"),X=_.hasClass(y),J=function(){A(this).css({display:""})};R.is(":animated")||(X?(_.removeClass(y).addClass(Q),R.hide().stop().slideDown(200,J)):(R.stop().slideUp(200,J),_.removeClass(Q).addClass(y)),X&&B&&((R=_.siblings("."+Q)).children("ul").stop().slideUp(200,J),R.removeClass(Q).addClass(y)))},t=A(window),s=A(document),t.on("resize",function(){if(r.thisId){var _=D.getThis(r.thisId);if(_)return!(_.elemView&&!_.elemView[0]||!A("."+f)[0])&&void(_.config.trigger==="contextmenu"?_.remove():_.position())}}),lay(s).on(T,function(_){if(r.thisId){var B=D.getThis(r.thisId);if(B){var R=B.config,X=lay.isTopElem(R.elem[0]),J=R.trigger==="contextmenu",X=!(X||J)&&(R.elem[0]===_.target||R.elem.find(_.target)[0]),J=B.elemView&&(_.target===B.elemView[0]||B.elemView.find(_.target)[0]);if(!X&&!J){if(_.type==="touchstart"&&R.elem.data(S+"_opened")&&A(_.target).hasClass(K)&&_.preventDefault(),typeof R.onClickOutside=="function"&&R.onClickOutside(_)===!1)return;B.remove()}}}},{passive:!1}),u=".layui-menu:not(.layui-dropdown-menu) li",s.on("click",u,function(_){var B=A(this),R=B.parents(".layui-menu").eq(0),X=B.hasClass(w)||B.hasClass(M),J=R.attr("lay-filter")||R.attr("id"),ne=lay.options(this);B.hasClass("layui-menu-item-divider")||X||(R.find("."+z).removeClass(z),R.find("."+G).removeClass(G),B.addClass(z),B.parents("."+M).addClass(G),ne.title=ne.title||A.trim(B.children("."+g).text()),layui.event.call(this,k,"click("+J+")",ne))}),s.on("click",u+p,function(_){var X=A(this),B=X.parents("."+w+":eq(0)"),R=lay.options(B[0]),X=typeof X.parents(".layui-menu").eq(0).attr("lay-accordion")=="string";"isAllowSpread"in R&&!R.isAllowSpread||D.spread(B,X)}),u=".layui-menu ."+M,s.on("mouseenter",u,function(_){var B,R=A(this).find("."+Y);R[0]&&((B=R[0].getBoundingClientRect()).right>t.width()&&(R.addClass(N),(B=R[0].getBoundingClientRect()).left<0)&&R.removeClass(N),B.bottom>t.height())&&R.eq(0).css("margin-top",-(B.bottom-t.height()+5))}).on("mouseleave",u,function(_){var B=A(this).children("."+Y);B.removeClass(N),B.css("margin-top",0)}),r.close=function(_){return _=D.getThis(_),_?(_.remove(),D.call(_)):this},r.open=function(_){return _=D.getThis(_),_?(_.render(),D.call(_)):this},r.reload=function(_,B,R){return _=D.getThis(_),_?(_.reload(B,R),D.call(_)):this},r.reloadData=function(){var _=A.extend([],arguments),B=(_[2]="reloadData",new RegExp("^("+["data","templet","content"].join("|")+")$"));return layui.each(_[1],function(R,X){B.test(R)||delete _[1][R]}),r.reload.apply(null,_)},r.render=function(_){return _=new x(_),D.call(_)},i(k,r)}),layui.define(["jquery","lay"],function(i){var t=layui.$,s=layui.lay,u={config:{},index:layui.slider?layui.slider.index+1e4:0,set:function(D){var f=this;return f.config=t.extend({},f.config,D),f},on:function(D,f){return layui.onevent.call(this,A,D,f)}},A="slider",b="layui-disabled",C="layui-slider-bar",c="layui-slider-wrap",T="layui-slider-wrap-btn",k="layui-slider-tips",S="layui-slider-input-txt",E="layui-slider-hover",r=function(D){var f=this;f.index=++u.index,f.config=t.extend({},f.config,u.config,D),f.render()};r.prototype.config={type:"default",min:0,max:100,value:0,step:1,showstep:!1,tips:!0,tipsAlways:!1,input:!1,range:!1,height:200,disabled:!1,theme:"#16baaa"},r.prototype.precision=function(){var D=this.config,D=t.map([D.min,D.max,D.step],function(f,y){return f=String(f).split("."),f[1]?f[1].length:0});return Math.max.apply(null,D)},r.prototype.render=function(){var D=this,f=D.config,Q=t(f.elem);if(1<Q.length)return layui.each(Q,function(){u.render(t.extend({},f,{elem:this}))}),D;t.extend(f,s.options(Q[0])),f.step<=0&&(f.step=1),f.max<f.min&&(f.max=f.min+f.step),f.range?(f.value=typeof f.value=="object"?f.value:[f.min,f.value],Q=Math.min(f.value[0],f.value[1]),g=Math.max(f.value[0],f.value[1]),f.value[0]=Math.max(Q,f.min),f.value[1]=Math.max(g,f.min),f.value[0]=Math.min(f.value[0],f.max),f.value[1]=Math.min(f.value[1],f.max),g=(f.value[0]-f.min)/(f.max-f.min)*100,w=(M=(f.value[1]-f.min)/(f.max-f.min)*100)-g+"%",g+="%",M+="%"):(typeof f.value=="object"&&(f.value=Math.min.apply(null,f.value)),f.value<f.min&&(f.value=f.min),f.value>f.max&&(f.value=f.max),w=(f.value-f.min)/(f.max-f.min)*100+"%");var y,Q=f.disabled?"#c2c2c2":f.theme,g='<div class="layui-slider '+(f.type==="vertical"?"layui-slider-vertical":"")+'">'+(f.tips?'<div class="'+k+'" '+(f.tipsAlways?"":'style="display:none;"')+"></div>":"")+'<div class="layui-slider-bar" style="background:'+Q+"; "+(f.type==="vertical"?"height":"width")+":"+w+";"+(f.type==="vertical"?"bottom":"left")+":"+(g||0)+';"></div><div class="layui-slider-wrap" style="'+(f.type==="vertical"?"bottom":"left")+":"+(g||w)+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+Q+';"></div></div>'+(f.range?'<div class="layui-slider-wrap" style="'+(f.type==="vertical"?"bottom":"left")+":"+M+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+Q+';"></div></div>':"")+"</div>",w=t(f.elem),M=w.next(".layui-slider");if(M[0]&&M.remove(),D.elemTemp=t(g),f.range?(D.elemTemp.find("."+c).eq(0).data("value",f.value[0]),D.elemTemp.find("."+c).eq(1).data("value",f.value[1])):D.elemTemp.find("."+c).data("value",f.value),w.html(D.elemTemp),f.type==="vertical"&&D.elemTemp.height(f.height+"px"),f.showstep){for(var z=(f.max-f.min)/f.step,G="",Y=1;Y<1+z;Y++){var N=100*Y/z;N<100&&(G+='<div class="layui-slider-step" style="'+(f.type==="vertical"?"bottom":"left")+":"+N+'%"></div>')}D.elemTemp.append(G)}function K(_){_=_.parent().data("value"),_=f.setTips?f.setTips(_):_,D.elemTemp.find("."+k).html(_)}function p(_){var B=f.type==="vertical"?f.height:D.elemTemp[0].offsetWidth,R=D.elemTemp.find("."+c);return(f.type==="vertical"?B-_.parent()[0].offsetTop-R.height():_.parent()[0].offsetLeft)/B*100}function x(_){f.type==="vertical"?D.elemTemp.find("."+k).css({bottom:_+"%","margin-bottom":"20px",display:"inline-block"}):D.elemTemp.find("."+k).css({left:_+"%",display:"inline-block"})}f.input&&!f.range&&(Q=t('<div class="layui-slider-input"><div class="layui-slider-input-txt"><input type="text" class="layui-input"></div><div class="layui-slider-input-btn"><i class="layui-icon layui-icon-up"></i><i class="layui-icon layui-icon-down"></i></div></div>'),w.css("position","relative"),w.append(Q),w.find("."+S).children("input").val(f.value),f.type==="vertical"?Q.css({left:0,top:-48}):D.elemTemp.css("margin-right",Q.outerWidth()+15)),f.disabled?(D.elemTemp.addClass(b),D.elemTemp.find("."+T).addClass(b)):D.slide(),f.tips&&(f.tipsAlways?(K(M=D.elemTemp.find("."+T)),x(p(M))):D.elemTemp.find("."+T).on("mouseover",function(){K(t(this));var _=p(t(this));clearTimeout(y),y=setTimeout(function(){x(_)},300)}).on("mouseout",function(){clearTimeout(y),f.tipsAlways||D.elemTemp.find("."+k).css("display","none")}))},r.prototype.slide=function(D,f,y){var Q=this,g=Q.config,w=Q.elemTemp,M=function(){return g.type==="vertical"?g.height:w[0].offsetWidth},z=w.find("."+c),G=w.next(".layui-slider-input"),Y=G.children("."+S).children("input").val(),N=100/((g.max-g.min)/g.step),K=Q.precision(),p=function(R,X,J){R=(R=100<(R=100<Math.ceil(R)*N?Math.ceil(R)*N:Math.round(R)*N)?100:R)<0?0:R,z.eq(X).css(g.type==="vertical"?"bottom":"left",R+"%");var ne,me=x(z[0].offsetLeft),Ae=g.range?x(z[1].offsetLeft):0,le=(g.type==="vertical"?(w.find("."+k).css({bottom:R+"%","margin-bottom":"20px"}),me=x(M()-z[0].offsetTop-z.height()),Ae=g.range?x(M()-z[1].offsetTop-z.height()):0):w.find("."+k).css("left",R+"%"),me=100<me?100:me,Ae=100<Ae?100:Ae,Math.min(me,Ae)),me=Math.abs(me-Ae),Ae=(g.type==="vertical"?w.find("."+C).css({height:me+"%",bottom:le+"%"}):w.find("."+C).css({width:me+"%",left:le+"%"}),g.min+(g.max-g.min)*R/100),Ae=Number(parseFloat(Ae).toFixed(K));Y=Ae,G.children("."+S).children("input").val(Y),z.eq(X).data("value",Ae),w.find("."+k).html(g.setTips?g.setTips(Ae):Ae),g.range&&(ne=[z.eq(0).data("value"),z.eq(1).data("value")])[0]>ne[1]&&ne.reverse(),Q.value=g.range?ne:Ae,g.change&&g.change(Q.value),J==="done"&&g.done&&g.done(Q.value)},x=function(R){var X=R/M()*100/N,J=Math.round(X)*N;return J=R==M()?Math.ceil(X)*N:J},_=t(['<div class="layui-auxiliar-moving" id="LAY-slider-moving"></div'].join(""));if(D==="set")return p((f-g.min)/(g.max-g.min)*100/N,y,"done");w.find("."+T).each(function(R){var X=t(this);X.on("mousedown touchstart",function(J){(J=J||window.event).type==="touchstart"&&(J.clientX=J.originalEvent.touches[0].clientX,J.clientY=J.originalEvent.touches[0].clientY);var ne,le,me,Ae,q=X.parent()[0].offsetLeft,Z=J.clientX;g.type==="vertical"&&(q=M()-X.parent()[0].offsetTop-z.height(),Z=J.clientY),ne=X,le=function(re){(re=re||window.event).type==="touchmove"&&(re.clientX=re.touches[0].clientX,re.clientY=re.touches[0].clientY);var ae=q+(g.type==="vertical"?Z-re.clientY:re.clientX-Z),ae=(ae=(ae=ae<0?0:ae)>M()?M():ae)/M()*100/N;p(ae,R),X.addClass(E),w.find("."+k).show(),re.preventDefault()},me=function(re){X.removeClass(E),g.tipsAlways||setTimeout(function(){w.find("."+k).hide()},re)},Ae=function(){me&&me(s.touchEventsSupported()?1e3:0),_.remove(),g.done&&g.done(Q.value),s.touchEventsSupported()&&(ne[0].removeEventListener("touchmove",le,!!s.passiveSupported&&{passive:!1}),ne[0].removeEventListener("touchend",Ae),ne[0].removeEventListener("touchcancel",Ae))},t("#LAY-slider-moving")[0]||t("body").append(_),_.on("mousemove",le),_.on("mouseup",Ae).on("mouseleave",Ae),s.touchEventsSupported()&&(ne[0].addEventListener("touchmove",le,!!s.passiveSupported&&{passive:!1}),ne[0].addEventListener("touchend",Ae),ne[0].addEventListener("touchcancel",Ae))})}),w.on("click",function(R){var X=t("."+T),J=t(this);!X.is(event.target)&&X.has(event.target).length===0&&X.length&&(J=(X=(X=(X=g.type==="vertical"?M()-R.clientY+J.offset().top-t(window).scrollTop():R.clientX-J.offset().left-t(window).scrollLeft())<0?0:X)>M()?M():X)/M()*100/N,X=g.range?g.type==="vertical"?Math.abs(X-parseInt(t(z[0]).css("bottom")))>Math.abs(X-parseInt(t(z[1]).css("bottom")))?1:0:Math.abs(X-z[0].offsetLeft)>Math.abs(X-z[1].offsetLeft)?1:0:0,p(J,X,"done"),R.preventDefault())}),G.children(".layui-slider-input-btn").children("i").each(function(R){t(this).on("click",function(){Y=G.children("."+S).children("input").val();var X=((Y=R==1?Y-g.step<g.min?g.min:Number(Y)-g.step:Number(Y)+g.step>g.max?g.max:Number(Y)+g.step)-g.min)/(g.max-g.min)*100/N;p(X,0,"done")})});var B=function(){var R=this.value,R=(R=(R=(R=isNaN(R)?0:R)<g.min?g.min:R)>g.max?g.max:R,((this.value=R)-g.min)/(g.max-g.min)*100/N);p(R,0,"done")};G.children("."+S).children("input").on("keydown",function(R){R.keyCode===13&&(R.preventDefault(),B.call(this))}).on("change",B)},r.prototype.events=function(){this.config},u.render=function(D){return D=new r(D),function(){var f=this,y=f.config;return{setValue:function(Q,g){return Q=(Q=Q>y.max?y.max:Q)<y.min?y.min:Q,y.value=Q,f.slide("set",Q,g||0)},config:y}}.call(D)},i(A,u)}),layui.define(["jquery","lay"],function(i){var t=layui.$,s=layui.lay,u=layui.hint(),A=layui.device().mobile?"click":"mousedown",b={config:{},index:layui.colorpicker?layui.colorpicker.index+1e4:0,set:function(_){var B=this;return B.config=t.extend({},B.config,_),B},on:function(_,B){return layui.onevent.call(this,"colorpicker",_,B)}},C=function(){var _=this.config,B=_.id;return C.that[B]=this,{config:_}},c="colorpicker",T="layui-colorpicker",k=".layui-colorpicker-main",S="layui-icon-down",E="layui-icon-close",r="layui-colorpicker-trigger-span",D="layui-colorpicker-trigger-i",f="layui-colorpicker-side-slider",y="layui-colorpicker-basis",Q="layui-colorpicker-alpha-bgcolor",g="layui-colorpicker-alpha-slider",w="layui-colorpicker-basis-cursor",M="layui-colorpicker-main-input",z=function(_){var B={h:0,s:0,b:0},R=Math.min(_.r,_.g,_.b),X=Math.max(_.r,_.g,_.b),J=X-R;return B.b=X,B.s=X!==0?255*J/X:0,B.s!==0?_.r==X?B.h=(_.g-_.b)/J:_.g==X?B.h=2+(_.b-_.r)/J:B.h=4+(_.r-_.g)/J:B.h=-1,X===R&&(B.h=0),B.h*=60,B.h<0&&(B.h+=360),B.s*=100/255,B.b*=100/255,B},G=function(ne){var B,R={},X=ne.h,J=255*ne.s/100,ne=255*ne.b/100;return J==0?R.r=R.g=R.b=ne:(ne=X%60*((B=ne)-(J=(255-J)*ne/255))/60,(X=X===360?0:X)<60?(R.r=B,R.b=J,R.g=J+ne):X<120?(R.g=B,R.b=J,R.r=B-ne):X<180?(R.g=B,R.r=J,R.b=J+ne):X<240?(R.b=B,R.r=J,R.g=B-ne):X<300?(R.b=B,R.g=J,R.r=J+ne):X<360?(R.r=B,R.g=J,R.b=B-ne):(R.r=0,R.g=0,R.b=0)),{r:Math.round(R.r),g:Math.round(R.g),b:Math.round(R.b)}},Y=function(B){var B=G(B),R=[B.r.toString(16),B.g.toString(16),B.b.toString(16)];return t.each(R,function(X,J){J.length===1&&(R[X]="0"+J)}),R.join("")},N=function(_){return _=_.match(/[0-9]{1,3}/g)||[],{r:_[0],g:_[1],b:_[2]}},K=t(window),p=t(document),x=function(_){this.index=++b.index,this.config=t.extend({},this.config,b.config,_),this.render()};x.prototype.config={color:"",size:null,alpha:!1,format:"hex",predefine:!1,colors:["#16baaa","#16b777","#1E9FFF","#FF5722","#FFB800","#01AAED","#999","#c00","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgb(0, 186, 189)","rgb(255, 120, 0)","rgb(250, 212, 0)","#393D49","rgba(0,0,0,.5)","rgba(255, 69, 0, 0.68)","rgba(144, 240, 144, 0.5)","rgba(31, 147, 255, 0.73)"]},x.prototype.render=function(){var _=this,B=_.config;if(1<(X=t(B.elem)).length)return layui.each(X,function(){b.render(t.extend({},B,{elem:this}))}),_;t.extend(B,s.options(X[0]));var R=t(['<div class="layui-unselect layui-colorpicker">',"<span "+(B.format=="rgb"&&B.alpha?'class="layui-colorpicker-trigger-bgcolor"':"")+">",'<span class="layui-colorpicker-trigger-span" ','lay-type="'+(B.format=="rgb"?B.alpha?"rgba":"torgb":"")+'" ','style="'+(R="",B.color?(R=B.color,3<(B.color.match(/[0-9]{1,3}/g)||[]).length&&(B.alpha&&B.format=="rgb"||(R="#"+Y(z(N(B.color))))),"background: "+R):R)+'">','<i class="layui-icon layui-colorpicker-trigger-i '+(B.color?S:E)+'"></i>',"</span>","</span>","</div>"].join("")),X=B.elem=t(B.elem);B.size&&R.addClass("layui-colorpicker-"+B.size),X.addClass("layui-inline").html(_.elemColorBox=R),B.id="id"in B?B.id:X.attr("id")||_.index,_.color=_.elemColorBox.find("."+r)[0].style.background,_.events()},x.prototype.renderPicker=function(){var _,B=this,R=B.config,X=B.elemColorBox[0],J=B.elemPicker=t(['<div id="layui-colorpicker'+B.index+'" data-index="'+B.index+'" class="layui-anim layui-anim-downbit layui-colorpicker-main">','<div class="layui-colorpicker-main-wrapper">','<div class="layui-colorpicker-basis">','<div class="layui-colorpicker-basis-white"></div>','<div class="layui-colorpicker-basis-black"></div>','<div class="layui-colorpicker-basis-cursor"></div>',"</div>",'<div class="layui-colorpicker-side">','<div class="layui-colorpicker-side-slider"></div>',"</div>","</div>",'<div class="layui-colorpicker-main-alpha '+(R.alpha?"layui-show":"")+'">','<div class="layui-colorpicker-alpha-bgcolor">','<div class="layui-colorpicker-alpha-slider"></div>',"</div>","</div>",R.predefine?(_=['<div class="layui-colorpicker-main-pre">'],layui.each(R.colors,function(ne,le){_.push(['<div class="layui-colorpicker-pre'+(3<(le.match(/[0-9]{1,3}/g)||[]).length?" layui-colorpicker-pre-isalpha":"")+'">','<div style="background:'+le+'"></div>',"</div>"].join(""))}),_.push("</div>"),_.join("")):"",'<div class="layui-colorpicker-main-input">','<div class="layui-inline">','<input type="text" class="layui-input">',"</div>",'<div class="layui-btn-container">','<button class="layui-btn layui-btn-primary layui-btn-sm" colorpicker-events="clear">\u6E05\u7A7A</button>','<button class="layui-btn layui-btn-sm" colorpicker-events="confirm">\u786E\u5B9A</button>',"</div","</div>","</div>"].join(""));B.elemColorBox.find("."+r)[0],t(k)[0]&&t(k).data("index")==B.index?B.removePicker(x.thisElemInd):(B.removePicker(x.thisElemInd),t("body").append(J)),b.thisId=R.id,x.thisElemInd=B.index,x.thisColor=X.style.background,B.position(),B.pickerEvents()},x.prototype.removePicker=function(R){var B=this.config,R=t("#layui-colorpicker"+(R||this.index));return R[0]&&(R.remove(),delete b.thisId,typeof B.close=="function")&&B.close(this.color),this},x.prototype.position=function(){var _=this,B=_.config;return s.position(_.bindElem||_.elemColorBox[0],_.elemPicker[0],{position:B.position,align:"center"}),_},x.prototype.val=function(){var _,B=this,R=(B.config,B.elemColorBox.find("."+r)),X=B.elemPicker.find("."+M),J=R[0].style.backgroundColor;J?(_=z(N(J)),R=R.attr("lay-type"),B.select(_.h,_.s,_.b),R==="torgb"?X.find("input").val(J):R==="rgba"?(R=N(J),(J.match(/[0-9]{1,3}/g)||[]).length===3?(X.find("input").val("rgba("+R.r+", "+R.g+", "+R.b+", 1)"),B.elemPicker.find("."+g).css("left",280)):(X.find("input").val(J),J=280*J.slice(J.lastIndexOf(",")+1,J.length-1),B.elemPicker.find("."+g).css("left",J)),B.elemPicker.find("."+Q)[0].style.background="linear-gradient(to right, rgba("+R.r+", "+R.g+", "+R.b+", 0), rgb("+R.r+", "+R.g+", "+R.b+"))"):X.find("input").val("#"+Y(_))):(B.select(0,100,100),X.find("input").val(""),B.elemPicker.find("."+Q)[0].style.background="",B.elemPicker.find("."+g).css("left",280))},x.prototype.side=function(){var _=this,B=_.config,R=_.elemColorBox.find("."+r),X=R.attr("lay-type"),J=_.elemPicker.find(".layui-colorpicker-side"),ne=_.elemPicker.find("."+f),le=_.elemPicker.find("."+y),me=_.elemPicker.find("."+w),Ae=_.elemPicker.find("."+Q),q=_.elemPicker.find("."+g),Z=ne[0].offsetTop/180*360,re=100-(me[0].offsetTop+3)/180*100,ae=(me[0].offsetLeft+3)/260*100,oe=Math.round(q[0].offsetLeft/280*100)/100,ue=_.elemColorBox.find("."+D),Ee=_.elemPicker.find(".layui-colorpicker-pre").children("div"),O=function(Ne,Ye,Se,Te){_.select(Ne,Ye,Se);var Re=G({h:Ne,s:Ye,b:Se}),Ne=Y({h:Ne,s:Ye,b:Se}),Ye=_.elemPicker.find("."+M).find("input");ue.addClass(S).removeClass(E),R[0].style.background="rgb("+Re.r+", "+Re.g+", "+Re.b+")",X==="torgb"?Ye.val("rgb("+Re.r+", "+Re.g+", "+Re.b+")"):X==="rgba"?(q.css("left",280*Te),Ye.val("rgba("+Re.r+", "+Re.g+", "+Re.b+", "+Te+")"),R[0].style.background="rgba("+Re.r+", "+Re.g+", "+Re.b+", "+Te+")",Ae[0].style.background="linear-gradient(to right, rgba("+Re.r+", "+Re.g+", "+Re.b+", 0), rgb("+Re.r+", "+Re.g+", "+Re.b+"))"):Ye.val("#"+Ne),B.change&&B.change(t.trim(_.elemPicker.find("."+M).find("input").val()))},ee=t(['<div class="layui-auxiliar-moving" id="LAY-colorpicker-moving"></div>'].join("")),ie=function(we){t("#LAY-colorpicker-moving")[0]||t("body").append(ee),ee.on("mousemove",we),ee.on("mouseup",function(){ee.remove()}).on("mouseleave",function(){ee.remove()})},ge=!0,_e=!0;ne.on("mousedown",function(we,ke){var Se=this.offsetTop,Te=(we.clientY===void 0?ke:we).clientY;_e&&layui.stope(we),ie(function(Re){var Ne=Se+(Re.clientY-Te),Ye=J[0].offsetHeight,Ye=(Ne=Ye<(Ne=Ne<0?0:Ne)?Ye:Ne)/180*360;O(Z=Ye,ae,re,oe),Re.preventDefault()}),we.preventDefault()}),J.on("mousedown",function(we){var ke=we.clientY-t(this).offset().top+K.scrollTop(),ke=(ke=(ke=ke<0?0:ke)>this.offsetHeight?this.offsetHeight:ke)/180*360;O(Z=ke,ae,re,oe),we.preventDefault(),ge&&ne.trigger("mousedown",we)}),me.on("mousedown",function(we,ke){var Se=this.offsetTop,Te=this.offsetLeft,Re=(we.clientY===void 0?ke:we).clientY,Ne=(we.clientX===void 0?ke:we).clientX;_e&&layui.stope(we),ie(function(Ye){var Je=Se+(Ye.clientY-Re),Ve=Te+(Ye.clientX-Ne),rt=le[0].offsetHeight,We=le[0].offsetWidth,We=(Ve=We<(Ve=Ve<0?0:Ve)?We:Ve)/260*100,Ve=100-(Je=rt<(Je=Je<0?0:Je)?rt:Je)/180*100;O(Z,ae=We,re=Ve,oe),Ye.preventDefault()}),we.preventDefault()}),le.on("mousedown",function(we){var Se=we.clientY-t(this).offset().top+K.scrollTop(),ke=we.clientX-t(this).offset().left+K.scrollLeft(),ke=((Se=Se<0?0:Se)>this.offsetHeight&&(Se=this.offsetHeight),(ke=(ke=ke<0?0:ke)>this.offsetWidth?this.offsetWidth:ke)/260*100),Se=100-Se/180*100;O(Z,ae=ke,re=Se,oe),layui.stope(we),we.preventDefault(),ge&&me.trigger("mousedown",we)}),q.on("mousedown",function(we,ke){var Se=this.offsetLeft,Te=(we.clientX===void 0?ke:we).clientX;_e&&layui.stope(we),ie(function(Re){var Ne=Se+(Re.clientX-Te),Ye=Ae[0].offsetWidth,Ye=(Ye<(Ne=Ne<0?0:Ne)&&(Ne=Ye),Math.round(Ne/280*100)/100);O(Z,ae,re,oe=Ye),Re.preventDefault()}),we.preventDefault()}),Ae.on("mousedown",function(we){var ke=we.clientX-t(this).offset().left,ke=((ke=ke<0?0:ke)>this.offsetWidth&&(ke=this.offsetWidth),Math.round(ke/280*100)/100);O(Z,ae,re,oe=ke),we.preventDefault(),ge&&q.trigger("mousedown",we)}),Ee.each(function(){t(this).on("click",function(){t(this).parent(".layui-colorpicker-pre").addClass("selected").siblings().removeClass("selected");var we=this.style.backgroundColor,ke=z(N(we)),Se=we.slice(we.lastIndexOf(",")+1,we.length-1);Z=ke.h,ae=ke.s,re=ke.b,(we.match(/[0-9]{1,3}/g)||[]).length===3&&(Se=1),oe=Se,O(ke.h,ke.s,ke.b,Se)})}),s.touchEventsSupported()&&layui.each([{elem:J,eventType:"mousedown"},{elem:Ae,eventType:"mousedown"},{elem:le,eventType:"mousedown"}],function(we,ke){s.touchSwipe(ke.elem,{onTouchStart:function(){_e=ge=!1},onTouchMove:function(Se){var Te,Re;Se=Se,Te=ke.eventType,Se=Se.touches[0],(Re=document.createEvent("MouseEvent")).initMouseEvent(Te,!0,!0,window,1,Se.screenX,Se.screenY,Se.clientX,Se.clientY,!1,!1,!1,!1,0,null),Se.target.dispatchEvent(Re)},onTouchEnd:function(){ee.remove(),_e=ge=!0}})})},x.prototype.select=function(ne,me,le,X){this.config;var J=Y({h:ne,s:100,b:100}),ne=(Y({h:ne,s:me,b:le}),ne/360*180),le=180-le/100*180,me=me/100*260,Ae=this.elemPicker.find("."+y)[0];this.elemPicker.find("."+f).css("top",ne),Ae.style.background="#"+J,this.elemPicker.find("."+w).css({top:le/Ae.offsetHeight*100+"%",left:me/Ae.offsetWidth*100+"%"})},x.prototype.pickerEvents=function(){var _=this,B=_.config,R=_.elemColorBox.find("."+r),X=_.elemPicker.find("."+M+" input"),J={clear:function(ne){R[0].style.background="",_.elemColorBox.find("."+D).removeClass(S).addClass(E),_.color="",B.done&&B.done(""),_.removePicker()},confirm:function(ne,le){var me,Ae,q,Z,re=t.trim(X.val());-1<re.indexOf(",")?(Ae=z(N(re)),_.select(Ae.h,Ae.s,Ae.b),R[0].style.background=me="#"+Y(Ae),3<(re.match(/[0-9]{1,3}/g)||[]).length&&R.attr("lay-type")==="rgba"&&(q=280*re.slice(re.lastIndexOf(",")+1,re.length-1),_.elemPicker.find("."+g).css("left",q),me=R[0].style.background=re)):((q=-1<(q=re).indexOf("#")?q.substring(1):q).length===3&&(q=(Z=q.split(""))[0]+Z[0]+Z[1]+Z[1]+Z[2]+Z[2]),Z={r:(q=parseInt(q,16))>>16,g:(65280&q)>>8,b:255&q},Ae=z(Z),R[0].style.background=me="#"+Y(Ae),_.elemColorBox.find("."+D).removeClass(E).addClass(S)),le==="change"?(_.select(Ae.h,Ae.s,Ae.b,le),B.change&&B.change(me)):(_.color=re,B.done&&B.done(re),_.removePicker())}};_.elemPicker.on("click","*[colorpicker-events]",function(){var ne=t(this),le=ne.attr("colorpicker-events");J[le]&&J[le].call(this,ne)}),X.on("keyup",function(ne){var le=t(this);J.confirm.call(this,le,ne.keyCode===13?null:"change")})},x.prototype.events=function(){var _=this;_.config,_.elemColorBox.on("click",function(){_.renderPicker(),t(k)[0]&&(_.val(),_.side())})},p.on(A,function(_){var B,R,X;b.thisId&&(B=C.getThis(b.thisId))&&(R=B.config,X=B.elemColorBox.find("."+r),t(_.target).hasClass(T)||t(_.target).parents("."+T)[0]||t(_.target).hasClass(k.replace(/\./g,""))||t(_.target).parents(k)[0]||B.elemPicker&&(B.color?(_=z(N(B.color)),B.select(_.h,_.s,_.b)):B.elemColorBox.find("."+D).removeClass(S).addClass(E),X[0].style.background=B.color||"",typeof R.cancel=="function"&&R.cancel(B.color),B.removePicker()))}),K.on("resize",function(){if(b.thisId){var _=C.getThis(b.thisId);if(_)return!(!_.elemPicker||!t(k)[0])&&void _.position()}}),C.that={},C.getThis=function(_){var B=C.that[_];return B||u.error(_?c+" instance with ID '"+_+"' not found":"ID argument required"),B},b.render=function(_){return _=new x(_),C.call(_)},i(c,b)}),layui.define("jquery",function(i){var t=layui.$,s=(layui.hint(),layui.device()),u="element",A="layui-this",b="layui-show",C=".layui-tab-title",c=function(){this.config={}},T=(c.prototype.set=function(w){return t.extend(!0,this.config,w),this},c.prototype.on=function(w,M){return layui.onevent.call(this,u,w,M)},c.prototype.tabAdd=function(w,M){var z,N=t(".layui-tab[lay-filter="+w+"]"),G=N.children(C),Y=G.children(".layui-tab-bar"),N=N.children(".layui-tab-content"),K="<li"+(z=[],layui.each(M,function(p,x){/^(title|content)$/.test(p)||z.push("lay-"+p+'="'+x+'"')}),0<z.length&&z.unshift(""),z.join(" "))+">"+(M.title||"unnaming")+"</li>";return Y[0]?Y.before(K):G.append(K),N.append('<div class="layui-tab-item" '+(M.id?'lay-id="'+M.id+'"':"")+">"+(M.content||"")+"</div>"),M.change&&this.tabChange(w,M.id),G.data("LAY_TAB_CHANGE",M.change),y.tabAuto(M.change?"change":null),this},c.prototype.tabDelete=function(w,M){return w=t(".layui-tab[lay-filter="+w+"]").children(C).find('>li[lay-id="'+M+'"]'),y.tabDelete(null,w),this},c.prototype.tabChange=function(w,M,z){return w=t(".layui-tab[lay-filter="+w+"]").children(C).find('>li[lay-id="'+M+'"]'),y.tabClick.call(w[0],{liElem:w,force:z}),this},c.prototype.tab=function(w){w=w||{},g.on("click",w.headerElem,function(M){var z=t(w.headerElem).index(t(this));y.tabClick.call(this,{index:z,options:w})})},c.prototype.progress=function(z,M){var G="layui-progress",z=t("."+G+"[lay-filter="+z+"]").find("."+G+"-bar"),G=z.find("."+G+"-text");return z.css("width",function(){return/^.+\/.+$/.test(M)?100*new Function("return "+M)()+"%":M}).attr("lay-percent",M),G.text(M),this},".layui-nav"),k="layui-nav-item",S="layui-nav-bar",E="layui-nav-tree",r="layui-nav-child",D="layui-nav-more",f="layui-anim layui-anim-upbit",y={tabClick:function(w){var G=(w=w||{}).options||{},M=w.liElem||t(this),z=G.headerElem?M.parent():M.parents(".layui-tab").eq(0),G=G.bodyElem?t(G.bodyElem):z.children(".layui-tab-content").children(".layui-tab-item"),Y=M.find("a"),Y=Y.attr("href")!=="javascript:;"&&Y.attr("target")==="_blank",N=typeof M.attr("lay-unselect")=="string",K=z.attr("lay-filter"),p=M.attr("lay-id"),x="index"in w?w.index:M.parent().children("li").index(M);if(!w.force){var w=M.siblings("."+A);if(layui.event.call(this,u,"tabBeforeChange("+K+")",{elem:z,from:{index:M.parent().children("li").index(w),id:w.attr("lay-id")},to:{index:x,id:p}})===!1)return}Y||N||(M.addClass(A).siblings().removeClass(A),(p?w=(w=G.filter('[lay-id="'+p+'"]')).length?w:G.eq(x):G.eq(x)).addClass(b).siblings().removeClass(b)),layui.event.call(this,u,"tab("+K+")",{elem:z,index:x,id:p})},tabDelete:function(w,z){var z=z||t(this).parent(),G=z.parent().children("li").index(z),Y=z.closest(".layui-tab"),N=Y.children(".layui-tab-content").children(".layui-tab-item"),K=Y.attr("lay-filter"),p=z.attr("lay-id");layui.event.call(z[0],u,"tabBeforeDelete("+K+")",{elem:Y,index:G,id:p})!==!1&&(z.hasClass(A)&&(z.next()[0]&&z.next().is("li")?y.tabClick.call(z.next()[0],{index:G+1}):z.prev()[0]&&z.prev().is("li")&&y.tabClick.call(z.prev()[0],null,G-1)),z.remove(),(p?z=(z=N.filter('[lay-id="'+p+'"]')).length?z:N.eq(G):N.eq(G)).remove(),setTimeout(function(){y.tabAuto()},50),layui.event.call(this,u,"tabDelete("+K+")",{elem:Y,index:G,id:p}))},tabAuto:function(w,M){var z="layui-tab-more",G="layui-tab-bar",Y="layui-tab-close",N=this;(M||t(".layui-tab")).each(function(){var K=t(this),p=K.children(".layui-tab-title"),x=(K.children(".layui-tab-content").children(".layui-tab-item"),'lay-stope="tabmore"'),x=t('<span class="layui-unselect layui-tab-bar" '+x+"><i "+x+' class="layui-icon">&#xe61a;</i></span>'),_=(N===window&&s.ie,K.attr("lay-allowclose"));_&&_!=="false"&&p.find("li").each(function(){var B,R=t(this);R.find("."+Y)[0]||R.attr("lay-allowclose")==="false"||((B=t('<i class="layui-icon layui-icon-close layui-unselect '+Y+'"></i>')).on("click",y.tabDelete),R.append(B))}),typeof K.attr("lay-unauto")!="string"&&(p.prop("scrollWidth")>p.outerWidth()+1||p.find("li").length&&p.height()>(_=p.find("li").eq(0).height())+_/2?(w==="change"&&p.data("LAY_TAB_CHANGE")&&p.addClass(z),p.find("."+G)[0]||(p.append(x),K.attr("overflow",""),x.on("click",function(B){var R=p.hasClass(z);p[R?"removeClass":"addClass"](z)}))):(p.find("."+G).remove(),K.removeAttr("overflow")))})},hideTabMore:function(w){var M=t(".layui-tab-title");w!==!0&&t(w.target).attr("lay-stope")==="tabmore"||(M.removeClass("layui-tab-more"),M.find(".layui-tab-bar").attr("title",""))},clickThis:function(){var w=t(this),M=w.closest(T),z=M.attr("lay-filter"),G=w.parent(),Y=w.siblings("."+r),N=typeof G.attr("lay-unselect")=="string";if(w.attr("href")!=="javascript:;"&&w.attr("target")==="_blank"||N||Y[0]||(M.find("."+A).removeClass(A),G.addClass(A)),M.hasClass(E)){var N=k+"ed",K=!G.hasClass(N),p=function(){t(this).css({display:""}),M.children("."+S).css({opacity:0})};if(Y.is(":animated"))return;Y.removeClass(f),Y[0]&&(K?(Y.slideDown(200,p),G.addClass(N)):(G.removeClass(N),Y.show().slideUp(200,p)),typeof M.attr("lay-accordion")!="string"&&M.attr("lay-shrink")!=="all"||((K=G.siblings("."+N)).removeClass(N),K.children("."+r).show().stop().slideUp(200,p)))}layui.event.call(this,u,"nav("+z+")",w)},collapse:function(){var w=t(this),M=w.find(".layui-colla-icon"),z=w.siblings(".layui-colla-content"),G=w.parents(".layui-collapse").eq(0),Y=G.attr("lay-filter"),N=z.css("display")==="none";typeof G.attr("lay-accordion")=="string"&&((G=G.children(".layui-colla-item").children("."+b)).siblings(".layui-colla-title").children(".layui-colla-icon").html("&#xe602;"),G.removeClass(b)),z[N?"addClass":"removeClass"](b),M.html(N?"&#xe61a;":"&#xe602;"),layui.event.call(this,u,"collapse("+Y+")",{title:w,content:z,show:N})}},Q=(c.prototype.render=c.prototype.init=function(w,M){var z=typeof M=="string"&&M?'[lay-filter="'+M+'"]':"",G={tab:function(Y){y.tabAuto.call({},Y)},nav:function(Y){var N={},K={},p={},x="layui-nav-title";(Y||t(T+z)).each(function(_){var B=t(this),R=t('<span class="'+S+'"></span>'),X=B.find("."+k),J=B.find("."+S)[0];J&&J.remove(),B.append(R),(B.hasClass(E)?X.find("dd,>."+x):X).off("mouseenter.lay_nav").on("mouseenter.lay_nav",function(){(function(ne,le,me){var Ae,q=t(this),Z=q.find("."+r);le.hasClass(E)?Z[0]||(Ae=q.children("."+x),ne.css({top:q.offset().top-le.offset().top,height:(Ae[0]?Ae:q).outerHeight(),opacity:1})):(Z.addClass(f),Z.hasClass("layui-nav-child-c")&&Z.css({left:-(Z.outerWidth()-q.width())/2}),Z[0]?ne.css({left:ne.position().left+ne.width()/2,width:0,opacity:0}):ne.css({left:q.position().left+parseFloat(q.css("marginLeft")),top:q.position().top+q.height()-ne.height()}),N[me]=setTimeout(function(){ne.css({width:Z[0]?0:q.width(),opacity:Z[0]?0:1})},s.ie&&s.ie<10?0:200),clearTimeout(p[me]),Z.css("display")==="block"&&clearTimeout(K[me]),K[me]=setTimeout(function(){Z.addClass(b),q.find("."+D).addClass(D+"d")},300))}).call(this,R,B,_)}).off("mouseleave.lay_nav").on("mouseleave.lay_nav",function(){B.hasClass(E)?R.css({height:0,opacity:0}):(clearTimeout(K[_]),K[_]=setTimeout(function(){B.find("."+r).removeClass(b),B.find("."+D).removeClass(D+"d")},300))}),B.off("mouseleave.lay_nav").on("mouseleave.lay_nav",function(){clearTimeout(N[_]),p[_]=setTimeout(function(){B.hasClass(E)||R.css({width:0,left:R.position().left+R.width()/2,opacity:0})},200)}),X.find("a").each(function(){var ne=t(this);ne.parent(),ne.siblings("."+r)[0]&&!ne.children("."+D)[0]&&ne.append('<i class="layui-icon layui-icon-down '+D+'"></i>'),ne.off("click",y.clickThis).on("click",y.clickThis)})})},breadcrumb:function(Y){(Y||t(".layui-breadcrumb"+z)).each(function(){var N=t(this),K="lay-separator",p=N.attr(K)||"/",x=N.find("a");x.next("span["+K+"]")[0]||(x.each(function(_){_!==x.length-1&&t(this).after("<span "+K+">"+p+"</span>")}),N.css("visibility","visible"))})},progress:function(Y){var N="layui-progress";(Y||t("."+N+z)).each(function(){var K=t(this),p=K.find(".layui-progress-bar"),x=p.attr("lay-percent");p.css("width",function(){return/^.+\/.+$/.test(x)?100*new Function("return "+x)()+"%":x}),K.attr("lay-showpercent")&&setTimeout(function(){p.html('<span class="'+N+'-text">'+x+"</span>")},350)})},collapse:function(Y){(Y||t(".layui-collapse"+z)).each(function(){t(this).find(".layui-colla-item").each(function(){var K=t(this),N=K.find(".layui-colla-title"),K=K.find(".layui-colla-content").css("display")==="none";N.find(".layui-colla-icon").remove(),N.append('<i class="layui-icon layui-colla-icon">'+(K?"&#xe602;":"&#xe61a;")+"</i>"),N.off("click",y.collapse).on("click",y.collapse)})})}};return w&&typeof M=="object"&&M instanceof t?G[w](M):G[w]?G[w]():layui.each(G,function(Y,N){N()})},new c),g=t(document);t(function(){Q.render()}),g.on("click",".layui-tab-title li",y.tabClick),t(window).on("resize",y.tabAuto),i(u,Q)}),layui.define(["lay","layer"],function(i){var t=layui.$,s=layui.lay,u=layui.layer,A=layui.device(),b="upload",C="layui_"+b+"_index",c={config:{},index:layui[b]?layui[b].index+1e4:0,set:function(y){var Q=this;return Q.config=t.extend({},Q.config,y),Q},on:function(y,Q){return layui.onevent.call(this,b,y,Q)}},T=function(){var y=this,Q=y.config.id;return{upload:function(g){y.upload.call(y,g)},reload:function(g){y.reload.call(y,g)},config:(T.that[Q]=y).config}},k="layui-upload-file",S="layui-upload-form",E="layui-upload-iframe",r="layui-upload-choose",D="UPLOADING",f=function(y){var Q=this;Q.index=++c.index,Q.config=t.extend({},Q.config,c.config,y),Q.render()};f.prototype.config={accept:"images",exts:"",auto:!0,bindAction:"",url:"",force:"",field:"file",acceptMime:"",method:"post",data:{},drag:!0,size:0,number:0,multiple:!1,text:{"cross-domain":"Cross-domain requests are not supported","data-format-error":"Please return JSON data format","check-error":"",error:"","limit-number":null,"limit-size":null}},f.prototype.reload=function(y){var Q=this;Q.config=t.extend({},Q.config,y),Q.render(!0)},f.prototype.render=function(y){var Q=this,g=Q.config,w=t(g.elem);return 1<w.length?(layui.each(w,function(){c.render(t.extend({},g,{elem:this}))}),Q):(t.extend(g,s.options(w[0],{attr:w.attr("lay-data")?"lay-data":null})),!y&&w[0]&&w.data(C)?(y=T.getThis(w.data(C)))?y.reload(g):void 0:(g.elem=t(g.elem),g.bindAction=t(g.bindAction),g.id="id"in g?g.id:w.attr("id")||Q.index,Q.file(),void Q.events()))},f.prototype.file=function(){var y=this,Q=y.config,g=y.elemFile=t(['<input class="'+k+'" type="file" accept="'+Q.acceptMime+'" name="'+Q.field+'"',Q.multiple?" multiple":"",">"].join("")),w=Q.elem.next();(w.hasClass(k)||w.hasClass(S))&&w.remove(),A.ie&&A.ie<10&&Q.elem.wrap('<div class="layui-upload-wrap"></div>'),y.isFile()?(y.elemFile=Q.elem,Q.field=Q.elem[0].name):Q.elem.after(g),A.ie&&A.ie<10&&y.initIE()},f.prototype.initIE=function(){var y,Q=this.config,g=t('<iframe id="'+E+'" class="'+E+'" name="'+E+'" frameborder="0"></iframe>'),w=t(['<form target="'+E+'" class="'+S+'" method="post" key="set-mine" enctype="multipart/form-data" action="'+Q.url+'">',"</form>"].join(""));t("#"+E)[0]||t("body").append(g),Q.elem.next().hasClass(S)||(this.elemFile.wrap(w),Q.elem.next("."+S).append((y=[],layui.each(Q.data,function(M,z){z=typeof z=="function"?z():z,y.push('<input type="hidden" name="'+M+'" value="'+z+'">')}),y.join(""))))},f.prototype.msg=function(y){return u.msg(y,{icon:2,shift:6})},f.prototype.isFile=function(){var y=this.config.elem[0];if(y)return y.tagName.toLocaleLowerCase()==="input"&&y.type==="file"},f.prototype.preview=function(y){window.FileReader&&layui.each(this.chooseFiles,function(Q,g){var w=new FileReader;w.readAsDataURL(g),w.onload=function(){y&&y(Q,g,this.result)}})},f.prototype.upload=function(y,Q){var g,w,M,z,G,Y=this,N=Y.config,K=N.text||{},p=Y.elemFile[0],x=function(){return y||Y.files||Y.chooseFiles||p.files},_=function(){var q=0,Z=0,re=x(),ae=function(){N.multiple&&q+Z===Y.fileLength&&typeof N.allDone=="function"&&N.allDone({total:Y.fileLength,successful:q,failed:Z})},oe=function(ue){var Ee=new FormData,O=function(ie){ue.unified?layui.each(re,function(ge,_e){delete _e[D]}):delete ie[D]};if(layui.each(N.data,function(ie,ge){ge=typeof ge=="function"?ue.unified?ge():ge(ue.index,ue.file):ge,Ee.append(ie,ge)}),ue.unified)layui.each(re,function(ie,ge){ge[D]||(ge[D]=!0,Ee.append(N.field,ge))});else{if(ue.file[D])return;Ee.append(N.field,ue.file),ue.file[D]=!0}var ee={url:N.url,type:"post",data:Ee,dataType:N.dataType||"json",contentType:!1,processData:!1,headers:N.headers||{},success:function(ie){N.unified?q+=Y.fileLength:q++,X(ue.index,ie),ae(ue.index),O(ue.file)},error:function(ie){N.unified?Z+=Y.fileLength:Z++,Y.msg(K.error||["Upload failed, please try again.","status: "+(ie.status||"")+" - "+(ie.statusText||"error")].join("<br>")),J(ue.index,ie.responseText,ie),ae(ue.index),O(ue.file)}};typeof N.progress=="function"&&(ee.xhr=function(){var ie=t.ajaxSettings.xhr();return ie.upload.addEventListener("progress",function(ge){var _e;ge.lengthComputable&&(_e=Math.floor(ge.loaded/ge.total*100),N.progress(_e,(N.item||N.elem)[0],ge,ue.index))}),ie}),t.ajax(ee)};N.unified?oe({unified:!0,index:0}):layui.each(re,function(ue,Ee){oe({index:ue,file:Ee})})},B=function(){var q=t("#"+E);Y.elemFile.parent().submit(),clearInterval(f.timer),f.timer=setInterval(function(){var Z,re=q.contents().find("body");try{Z=re.text()}catch(ae){Y.msg(K["cross-domain"]),clearInterval(f.timer),J()}Z&&(clearInterval(f.timer),re.html(""),X(0,Z))},30)},R=function(q){if(N.force==="json"&&typeof q!="object")try{return{status:"CONVERTED",data:JSON.parse(q)}}catch(Z){return Y.msg(K["data-format-error"]),{status:"FORMAT_ERROR",data:{}}}return{status:"DO_NOTHING",data:{}}},X=function(q,Z){Y.elemFile.next("."+r).remove(),p.value="";var re=R(Z);switch(re.status){case"CONVERTED":Z=re.data;break;case"FORMAT_ERROR":return}typeof N.done=="function"&&N.done(Z,q||0,function(ae){Y.upload(ae)})},J=function(q,Z,re){N.auto&&(p.value="");var ae=R(Z);switch(ae.status){case"CONVERTED":Z=ae.data;break;case"FORMAT_ERROR":return}typeof N.error=="function"&&N.error(q||0,function(oe){Y.upload(oe)},Z,re)},ne=N.exts,Ae=(w=[],layui.each(y||Y.chooseFiles,function(q,Z){w.push(Z.name)}),w),le={preview:function(q){Y.preview(q)},upload:function(q,Z){var re={};re[q]=Z,Y.upload(re)},pushFile:function(){return Y.files=Y.files||{},layui.each(Y.chooseFiles,function(q,Z){Y.files[q]=Z}),Y.files},resetFile:function(q,Z,re){Z=new File([Z],re),Y.files=Y.files||{},Y.files[q]=Z},getChooseFiles:function(){return Y.chooseFiles}},me={file:"\u6587\u4EF6",images:"\u56FE\u7247",video:"\u89C6\u9891",audio:"\u97F3\u9891"}[N.accept]||"\u6587\u4EF6",Ae=Ae.length===0?p.value.match(/[^\/\\]+\..+/g)||[]:Ae;if(Ae.length!==0){switch(N.accept){case"file":layui.each(Ae,function(q,Z){if(ne&&!RegExp(".\\.("+ne+")$","i").test(escape(Z)))return g=!0});break;case"video":layui.each(Ae,function(q,Z){if(!RegExp(".\\.("+(ne||"avi|mp4|wma|rmvb|rm|flash|3gp|flv")+")$","i").test(escape(Z)))return g=!0});break;case"audio":layui.each(Ae,function(q,Z){if(!RegExp(".\\.("+(ne||"mp3|wav|mid")+")$","i").test(escape(Z)))return g=!0});break;default:layui.each(Ae,function(q,Z){if(!RegExp(".\\.("+(ne||"jpg|png|gif|bmp|jpeg|svg|webp")+")$","i").test(escape(Z)))return g=!0})}if(g)return Y.msg(K["check-error"]||"\u9009\u62E9\u7684"+me+"\u4E2D\u5305\u542B\u4E0D\u652F\u6301\u7684\u683C\u5F0F"),p.value="";if(Q!=="choose"&&!N.auto||(N.choose&&N.choose(le),Q!=="choose")){if(Y.fileLength=(M=0,me=x(),layui.each(me,function(){M++}),M),N.number&&Y.fileLength>N.number)return Y.msg(typeof K["limit-number"]=="function"?K["limit-number"](N,Y.fileLength):"\u540C\u65F6\u6700\u591A\u53EA\u80FD\u4E0A\u4F20: "+N.number+" \u4E2A\u6587\u4EF6<br>\u60A8\u5F53\u524D\u5DF2\u7ECF\u9009\u62E9\u4E86: "+Y.fileLength+" \u4E2A\u6587\u4EF6");if(0<N.size&&!(A.ie&&A.ie<10)&&(layui.each(x(),function(q,Z){Z.size>1024*N.size&&(Z=1<=(Z=N.size/1024)?Z.toFixed(2)+"MB":N.size+"KB",p.value="",z=Z)}),z))return Y.msg(typeof K["limit-size"]=="function"?K["limit-size"](N,z):"\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7 "+z);G=function(){if(A.ie)return(9<A.ie?_:B)();_()},typeof N.before=="function"?c.util.promiseLikeResolve(N.before(le)).then(function(q){q!==!1?G():N.auto&&(p.value="")},function(q){N.auto&&(p.value=""),q!==void 0&&layui.hint().error(q)}):G()}}},f.prototype.events=function(){var y=this,Q=y.config,g=function(Y){y.chooseFiles={},layui.each(Y,function(N,K){var p=new Date().getTime();y.chooseFiles[p+"-"+N]=K})},w=function(p,N){var K=y.elemFile,p=(Q.item||Q.elem,1<p.length?p.length+"\u4E2A\u6587\u4EF6":(p[0]||{}).name||K[0].value.match(/[^\/\\]+\..+/g)||[]);K.next().hasClass(r)&&K.next().remove(),y.upload(null,"choose"),y.isFile()||Q.choose||K.after('<span class="layui-inline '+r+'">'+p+"</span>")},M=function(Y){var N=!0;return layui.each(y.files,function(K,p){if(!(N=p.name!==Y.name))return!0}),N},z=function(Y){var N=function(K){K.ext=K.name.substr(K.name.lastIndexOf(".")+1).toLowerCase(),K.sizes=c.util.parseSize(K.size)};return Y instanceof FileList?layui.each(Y,function(K,p){N(p)}):N(Y),Y},G=function(Y){var N;return(Y=Y||[]).length?y.files?(N=[],layui.each(Y,function(K,p){M(p)&&N.push(z(p))}),N):z(Y):[]};Q.elem.off("upload.start").on("upload.start",function(){var Y=t(this);y.config.item=Y,y.elemFile[0].click()}),A.ie&&A.ie<10||Q.elem.off("upload.over").on("upload.over",function(){t(this).attr("lay-over","")}).off("upload.leave").on("upload.leave",function(){t(this).removeAttr("lay-over")}).off("upload.drop").on("upload.drop",function(Y,p){var K=t(this),p=G(p.originalEvent.dataTransfer.files);K.removeAttr("lay-over"),g(p),Q.auto?y.upload():w(p)}),y.elemFile.on("change",function(){var Y=G(this.files);Y.length!==0&&(g(Y),Q.auto?y.upload():w(Y))}),Q.bindAction.off("upload.action").on("upload.action",function(){y.upload()}),Q.elem.data(C)||(Q.elem.on("click",function(){y.isFile()||t(this).trigger("upload.start")}),Q.drag&&Q.elem.on("dragover",function(Y){Y.preventDefault(),t(this).trigger("upload.over")}).on("dragleave",function(Y){t(this).trigger("upload.leave")}).on("drop",function(Y){Y.preventDefault(),t(this).trigger("upload.drop",Y)}),Q.bindAction.on("click",function(){t(this).trigger("upload.action")}),Q.elem.data(C,Q.id))},c.util={parseSize:function(y,Q){var g,w;return Q=Q||2,y!=null&&y?(g=typeof y=="string"?parseFloat(y):y,w=Math.floor(Math.log(g)/Math.log(1024)),(y=(y=g/Math.pow(1024,w))%1==0?y:parseFloat(y.toFixed(Q)))+["Bytes","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"][w]):"0"},promiseLikeResolve:function(y){var Q=t.Deferred();return y&&typeof y.then=="function"?y.then(Q.resolve,Q.reject):Q.resolve(y),Q.promise()}},T.that={},T.getThis=function(y){var Q=T.that[y];return Q||hint.error(y?b+" instance with ID '"+y+"' not found":"ID argument required"),Q},c.render=function(y){return y=new f(y),T.call(y)},i(b,c)}),layui.define(["lay","layer","util"],function(i){var t=layui.$,s=layui.layer,u=layui.util,A=layui.hint(),b=(layui.device(),"form"),C=".layui-form",c="layui-this",T="layui-hide",k="layui-disabled",r=function(){this.config={verify:{required:function(f){if(!/[\S]+/.test(f))return"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A"},phone:function(f){if(f&&!/^1\d{10}$/.test(f))return"\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E"},email:function(f){if(f&&!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(f))return"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E"},url:function(f){if(f&&!/^(#|(http(s?)):\/\/|\/\/)[^\s]+\.[^\s]+$/.test(f))return"\u94FE\u63A5\u683C\u5F0F\u4E0D\u6B63\u786E"},number:function(f){if(f&&isNaN(f))return"\u53EA\u80FD\u586B\u5199\u6570\u5B57"},date:function(f){if(f&&!/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/.test(f))return"\u65E5\u671F\u683C\u5F0F\u4E0D\u6B63\u786E"},identity:function(f){if(f&&!/(^\d{15}$)|(^\d{17}(x|X|\d)$)/.test(f))return"\u8EAB\u4EFD\u8BC1\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E"}},autocomplete:null}},S=(r.prototype.set=function(f){return t.extend(!0,this.config,f),this},r.prototype.verify=function(f){return t.extend(!0,this.config.verify,f),this},r.prototype.getFormElem=function(f){return t(C+(f?'[lay-filter="'+f+'"]':""))},r.prototype.on=function(f,y){return layui.onevent.call(this,b,f,y)},r.prototype.val=function(f,y){return this.getFormElem(f).each(function(Q,g){var w=t(this);layui.each(y,function(Y,z){var G,Y=w.find('[name="'+Y+'"]');Y[0]&&((G=Y[0].type)==="checkbox"?Y[0].checked=z:G==="radio"?Y.each(function(){this.checked=this.value==z+""}):Y.val(z))})}),E.render(null,f),this.getValue(f)},r.prototype.getValue=function(w,y){y=y||this.getFormElem(w);var Q={},g={},w=y.find("input,select,textarea");return layui.each(w,function(M,z){var G;t(this),z.name=(z.name||"").replace(/^\s*|\s*&/,""),z.name&&(/^.*\[\]$/.test(z.name)&&(G=z.name.match(/^(.*)\[\]$/g)[0],Q[G]=0|Q[G],G=z.name.replace(/^(.*)\[\]$/,"$1["+Q[G]+++"]")),/^(checkbox|radio)$/.test(z.type)&&!z.checked||(g[G||z.name]=z.value))}),g},r.prototype.render=function(f,z){var Q=this,g=Q.config,w=t(C+(z?'[lay-filter="'+z+'"]':"")),M={input:function(Y){var Y=Y||w.find("input,textarea"),N=(g.autocomplete&&Y.attr("autocomplete",g.autocomplete),function(K,p){var x=K.val(),_=Number(x),B=Number(K.attr("step"))||1,R=Number(K.attr("min")),X=Number(K.attr("max")),J=Number(K.attr("lay-precision")),ne=p!=="click"&&x==="",le=p==="init";isNaN(_)||(p==="click"&&(_=t(this).index()?_-B:_+B),p=function(me){return((me.toString().match(/\.(\d+$)/)||[])[1]||"").length},J=0<=J?J:Math.max(p(B),p(x)),ne||(le||X<=(_=_<=R?R:_)&&(_=X),J===0?_=parseInt(_):0<J&&(_=_.toFixed(J)),K.val(_)),K[(_<R||X<_)&&!ne?"addClass":"removeClass"]("layui-input-number-out-of-range"),le)||((B={increment:K.next().find(".layui-icon-up"),decrement:K.next().find(".layui-icon-down")}).increment[X<=_&&!ne?"addClass":"removeClass"](k),B.decrement[_<=R&&!ne?"addClass":"removeClass"](k))});w.find("input[lay-affix],textarea[lay-affix]").each(function(){var K=t(this),p=K.attr("lay-affix"),x="layui-input-wrap",_="layui-input-suffix",B="layui-input-affix",R=K.is("[disabled]")||K.is("[readonly]"),X=function(le,me){(le=t(le))[0]&&le[t.trim(me)?"removeClass":"addClass"](T)},J=function(le){le=t.extend({},ne[p]||{value:p},le,lay.options(K[0]));var me,Ae=t('<div class="'+B+'">'),q=layui.isArray(le.value)?le.value:[le.value],q=t((me=[],layui.each(q,function(ae,oe){me.push('<i class="layui-icon layui-icon-'+oe+(le.disabled?" "+k:"")+'"></i>')}),me.join(""))),Z=(Ae.append(q),le.split&&Ae.addClass("layui-input-split"),le.className&&Ae.addClass(le.className),K.next("."+B)),re=(Z[0]&&Z.remove(),K.parent().hasClass(x)||K.wrap('<div class="'+x+'"></div>'),K.next("."+_));re[0]?((Z=re.find("."+B))[0]&&Z.remove(),re.prepend(Ae),K.css("padding-right",function(){return(K.closest(".layui-input-group")[0]?0:re.outerWidth())+Ae.outerWidth()})):(Ae.addClass(_),K.after(Ae)),le.show==="auto"&&X(Ae,K.val()),typeof le.init=="function"&&le.init.call(this,K,le),K.on("input propertychange",function(){var ae=this.value;le.show==="auto"&&X(Ae,ae)}),K.on("blur",function(){typeof le.blur=="function"&&le.blur.call(this,K,le)}),q.on("click",function(){var ae=K.attr("lay-filter");t(this).hasClass(k)||(typeof le.click=="function"&&le.click.call(this,K,le),layui.event.call(this,b,"input-affix("+ae+")",{elem:K[0],affix:p,options:le}))})},ne={eye:{value:"eye-invisible",click:function(le,me){var Ae="LAY_FORM_INPUT_AFFIX_SHOW",q=le.data(Ae);le.attr("type",q?"password":"text").data(Ae,!q),J({value:q?"eye-invisible":"eye"})}},clear:{value:"clear",click:function(le){le.val("").focus(),X(t(this).parent(),null)},show:"auto",disabled:R},number:{value:["up","down"],split:!0,className:"layui-input-number",disabled:K.is("[disabled]"),init:function(le){N.call(this,le,"init")},click:function(le){N.call(this,le,"click")},blur:function(le){N.call(this,le,"blur")}}};J()})},select:function(_){var Y="\u8BF7\u9009\u62E9",N="layui-form-select",K="layui-select-none",p="layui-select-create-option",x="layui-select-panel-elem-data",_=_||w.find("select"),B=function(R,X,J,ne,le,me){var Ae,q,Z,re,ae,oe,ue,Ee,O,ee=t(this),ie=X,ge=ie.find("input"),_e=R.find("dl"),we=(_e.children("dd"),_e.children("dt")),ke=this.selectedIndex,Se="";J||(q=ee.attr("lay-search")==="cs"?{caseSensitive:!0}:lay.options(ee,{attr:"lay-search"}),Z=ee.attr("lay-append-to")||"body",re=ee.attr("lay-append-position"),ae=!(!lay.ie||lay.ie!=="10"&&lay.ie!=="11"||!ge.attr("placeholder")),oe=function(){me&&(R.appendTo(Z).css({width:ie.width()+"px"}),(Te=function(){lay.position(ie[0],R[0],{position:re,allowBottomOut:!0,offset:[0,5]})})(),t(window).on("resize.lay_select_resize",Te));var Te=R.offset().top+R.outerHeight()+5-D.scrollTop(),Re=_e.outerHeight(),Ne=_e.children("dd");ke=ee[0].selectedIndex,ie.parent().addClass(N+"ed"),Ne.removeClass(T),we.removeClass(T),Ne.removeClass(c),0<=ke&&Ne.eq(ke).addClass(c),Te+Re>D.height()&&Re<=Te&&R.addClass(N+"up"),Ee(),ae&&_e.off("mousedown.lay_select_ieph").on("mousedown.lay_select_ieph",function(){ge[0].__ieph=!0,setTimeout(function(){ge[0].__ieph=!1},60)}),Ae=lay.onClickOutside((me?R:_e)[0],function(){ue(),Se&&ge.val(Se)},{ignore:ie})},ue=function(Te){ie.parent().removeClass(N+"ed "+N+"up"),ge.blur(),le&&_e.children("."+p).remove(),Ae&&Ae(),me&&(R.detach(),t(window).off("resize.lay_select_resize")),Te||O(ge.val(),function(Re){var Ne=ee[0].selectedIndex;Re&&(Se=t(ee[0].options[Ne]).html(),Ne===0&&Se===ge.attr("placeholder")&&(Se=""),ge.val(Se||""))})},Ee=function(){var Te,Re,Ne=_e.children("dd."+c);Ne[0]&&(Te=Ne.position().top,Re=_e.height(),Ne=Ne.height(),Re<Te&&_e.scrollTop(Te+_e.scrollTop()-Re+Ne-5),Te<0)&&_e.scrollTop(Te+_e.scrollTop()-5)},ie.on("click",function(Te){(ie.parent().hasClass(N+"ed")?ue:oe)(),_e.find("."+K).remove()}),ie.find(".layui-edge").on("click",function(){ge.focus()}),ge.on("keyup",function(Te){Te.keyCode===9&&oe()}).on("keydown",function(Te){var Re=Te.keyCode,Ne=(Re===9&&ue(),function(Ye){Te.preventDefault();var Je,rt,We=_e.children("dd:not(."+T+",."+k+")");We.length&&(Je=We.length-1,rt=-1,layui.each(We,function(Ve,Oe){if(t(Oe).hasClass(c))return rt=Ve,!0}),Ye=Ye==="prev"?rt-1<0?Je:rt-1:Je<rt+1?0:rt+1,We.eq(Ye).addClass(c).siblings().removeClass(c),Ee())});Re===38&&Ne("prev"),Re===40&&Ne("next"),Re===13&&(Te.preventDefault(),_e.children("dd."+c).trigger("click"))}).on("paste",function(){oe()}),O=function(Te,Re,Ne){var Ye,Je=0,Ve=_e.children("dd"),rt=!1,We=Te,Ve=(q.caseSensitive||(Te=Te.toLowerCase()),q.fuzzy&&(Ye=function(Oe,ft){var ht={},qt=["^"];ft||(Oe=Oe.toLowerCase());for(var bn=Oe.trim().split(""),sn=0;sn<bn.length;sn++){var gn=bn[sn];ht[gn]=(ht[gn]||0)+1}for(gn in ht){for(qt.push("(?=.*"),sn=0;sn<ht[gn];sn++)qt.push(gn.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),sn!==ht[gn]-1&&qt.push(".*");qt.push(")")}return qt.push(".*"),new RegExp(qt.join(""),ft?void 0:"i")}(Te,q.caseSensitive)),layui.each(Ve,function(){var Oe=t(this),ft=Oe.text(),ht=le&&Oe.hasClass(p),qt=(le&&!ht&&ft===We&&(rt=!0),q.caseSensitive||(ft=ft.toLowerCase()),q.fuzzy?!Ye.test(ft):ft.indexOf(Te)===-1);(Te===""||Ne==="blur"?Te!==ft:qt)&&Je++,Ne==="keyup"&&Oe[(le?qt&&!ht:qt)?"addClass":"removeClass"](T)}),Ne==="keyup"&&layui.each(we,function(){var Oe=t(this),ft=Oe.nextUntil("dt").filter("dd");Oe[(ft=le?ft.not("."+p):ft).length==ft.filter("."+T).length?"addClass":"removeClass"](T)}),Je===Ve.length);return Re(Ve,rt),Ve},ne&&ge.on("input propertychange",layui.debounce(function(Te){var Re=this.value,Ne=Te.keyCode;return Ne!==9&&Ne!==13&&Ne!==37&&Ne!==38&&Ne!==39&&Ne!==40&&(ae&&Te.target.__ieph?Te.target.__ieph=!1:(O(Re,function(Ye,Je){var rt,We;le?Je?_e.children("."+p).remove():(Je=_e.children("."+p))[0]?Je.attr("lay-value",Re).html(u.escape(Re)):(Je=t("<dd>").addClass(p).attr("lay-value",Re).html(u.escape(Re)),We=(rt=_e.children().eq(0)).hasClass("layui-select-tips"),rt[We?"after":"before"](Je)):Ye?_e.find("."+K)[0]||_e.append('<p class="'+K+'">\u65E0\u5339\u914D\u9879</p>'):_e.find("."+K).remove()},"keyup"),Re===""&&(ee.val(""),_e.find("."+c).removeClass(c),(ee[0].options[0]||{}).value||_e.children("dd:eq(0)").addClass(c),_e.find("."+K).remove(),le)&&_e.children("."+p).remove(),void Ee()))},50)).on("blur",function(Te){var Re=ee[0].selectedIndex;Se=t(ee[0].options[Re]).text(),Re===0&&Se===ge.attr("placeholder")&&(Se=""),setTimeout(function(){O(ge.val(),function(Ne){Se||ge.val("")},"blur")},200)}),_e.on("click","dd",function(){var Te,Re=t(this),Ne=Re.attr("lay-value"),Ye=ee.attr("lay-filter");return Re.hasClass(k)||(Re.hasClass("layui-select-tips")?ge.val(""):(ge.val(Re.text()),Re.addClass(c)),le&&Re.hasClass(p)&&(_e.append(Re.removeClass(p)),Te=t("<option>").attr("value",Ne).text(Re.text()),ee.append(Te)),Re.siblings().removeClass(c),ee.val(Ne).removeClass("layui-form-danger"),layui.event.call(this,b,"select("+Ye+")",{elem:ee[0],value:Ne,othis:R}),ue(!0)),!1}),_e.on("mousedown pointerdown touchstart",function(Te){layui.stope(Te)}),R.find("dl>dt").on("click",function(Te){return!1}),me&&X.on("_lay-select-destroy",function(){R.remove()}))};t.event.special["_lay-select-destroy"]={remove:function(R){R.handler()}},_.each(function(R,ue){var J=t(this),ne=J.next("."+N),le=this.disabled,me=ue.value,Ee=t(ue.options[ue.selectedIndex]),ue=ue.options[0];if(typeof J.attr("lay-ignore")=="string")return J.show();var Ae,q,Z=typeof J.attr("lay-search")=="string",re=typeof J.attr("lay-creatable")=="string"&&Z,ae=typeof J.attr("lay-append-to")=="string",ue=ue&&!ue.value&&ue.innerHTML||Y,oe=t(['<div class="'+(Z?"":"layui-unselect ")+N,(le?" layui-select-disabled":"")+'"></div>'].join("")),ue=t(['<div class="layui-select-title">','<input type="text" placeholder="'+u.escape(t.trim(ue))+'" value="'+u.escape(t.trim(me?Ee.html():""))+'"'+(!le&&Z?"":" readonly")+' class="layui-input'+(Z?"":" layui-unselect")+(le?" "+k:"")+'">','<i class="layui-edge"></i>',"</div>"].join("")),Ee=t(['<dl class="layui-anim layui-anim-upbit'+(J.find("optgroup")[0]?" layui-select-group":"")+'">',(Ee=J.find("*"),Ae=[],layui.each(Ee,function(O,ee){var ie=ee.tagName.toLowerCase();O!==0||ee.value||ie==="optgroup"?Ae.push(ie==="optgroup"?"<dt>"+ee.label+"</dt>":'<dd lay-value="'+u.escape(ee.value)+'" class="'+(me===ee.value?c:"")+(ee.disabled?" "+k:"")+'">'+t.trim(ee.innerHTML)+"</dd>"):Ae.push('<dd lay-value="" class="layui-select-tips">'+t.trim(ee.innerHTML||Y)+"</dd>")}),Ae.length===0&&Ae.push('<dd lay-value="" class="'+k+'">\u6CA1\u6709\u9009\u9879</dd>'),Ae.join("")+"</dl>")].join(""));ne[0]&&(ae&&(q=ne.data(x))&&q.remove(),ne.remove()),ae?(oe.append(ue),J.after(oe),q=t('<div class="'+N+' layui-select-panel-wrap"></div>').append(Ee),oe.data(x,q),B.call(this,q,ue,le,Z,re,ae)):(oe.append(ue).append(Ee),J.after(oe),B.call(this,oe,ue,le,Z,re,ae))})},checkbox:function(N){var Y={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],switch:["layui-form-switch","layui-form-onswitch","switch"],SUBTRA:"layui-icon-indeterminate"},N=N||w.find("input[type=checkbox]");N.each(function(K,p){var x=t(this),_=x.attr("lay-skin")||"primary",B=u.escape(t.trim(p.title||(p.title=x.attr("lay-text")||""))),R=this.disabled,X=Y[_]||Y.checkbox,J=x.next("."+X[0]),ne=(J[0]&&J.remove(),[]);if(x.next("[lay-checkbox]")[0]&&(J=x.next(),B=J.html()||"",1<J[0].attributes.length)&&layui.each(J[0].attributes,function(le,me){me.name!=="lay-checkbox"&&ne.push(me.name+'="'+me.value+'"')}),ne=ne.join(" "),B=_==="switch"?B.split("|"):[B],typeof x.attr("lay-ignore")=="string")return x.show();R=t(['<div class="layui-unselect '+X[0],p.checked?" "+X[1]:"",R?" layui-checkbox-disabled "+k:"",'"',_?' lay-skin="'+_+'"':"",">",(J={checkbox:[B[0]?"<div "+ne+">"+B[0]+"</div>":_==="primary"?"":"<div></div>",'<i class="layui-icon '+(_==="primary"&&!p.checked&&x.get(0).indeterminate?Y.SUBTRA:"layui-icon-ok")+'"></i>'].join(""),switch:"<div>"+(!p.checked&&B[1]||B[0]||"")+"</div><i></i>"})[_]||J.checkbox,"</div>"].join("")),x.after(R),function(le,me){var Ae=t(this),Z=Ae.attr("lay-skin")||"primary",q=Z==="switch",Z=Z==="primary";le.on("click",function(){var re=Ae.attr("lay-filter");Ae[0].disabled||(Ae[0].indeterminate&&(Ae[0].indeterminate=!1),Ae[0].checked=!Ae[0].checked,layui.event.call(Ae[0],b,me[2]+"("+re+")",{elem:Ae[0],value:Ae[0].value,othis:le}))}),Q.syncAppearanceOnPropChanged(this,"checked",function(){var re;q&&(re=(le.next("*[lay-checkbox]")[0]?le.next().html():Ae.attr("title")||"").split("|"),le.children("div").html(!this.checked&&re[1]||re[0])),le.toggleClass(me[1],this.checked)}),Z&&Q.syncAppearanceOnPropChanged(this,"indeterminate",function(){this.indeterminate?le.children(".layui-icon-ok").removeClass("layui-icon-ok").addClass(Y.SUBTRA):le.children("."+Y.SUBTRA).removeClass(Y.SUBTRA).addClass("layui-icon-ok")})}.call(this,R,X)})},radio:function(K){var Y="layui-form-radio",N=["layui-icon-radio","layui-icon-circle"],K=K||w.find("input[type=radio]");K.each(function(p,x){var _=t(this),X=_.next("."+Y),B=this.disabled,R=_.attr("lay-skin");if(typeof _.attr("lay-ignore")=="string")return _.show();X[0]&&X.remove();var X=u.escape(x.title||""),J=[],ne=(_.next("[lay-radio]")[0]&&(X=(ne=_.next()).html()||"",1<ne[0].attributes.length)&&layui.each(ne[0].attributes,function(le,me){me.name!=="lay-radio"&&J.push(me.name+'="'+me.value+'"')}),J=J.join(" "),t(['<div class="layui-unselect '+Y,x.checked?" "+Y+"ed":"",(B?" layui-radio-disabled "+k:"")+'"',R?' lay-skin="'+R+'"':"",">",'<i class="layui-anim layui-icon '+N[x.checked?0:1]+'"></i>',"<div "+J+">"+X+"</div>","</div>"].join("")));_.after(ne),function(le){var me=t(this),Ae="layui-anim-scaleSpring";le.on("click",function(){var q=me.attr("lay-filter");me[0].disabled||(me[0].checked=!0,layui.event.call(me[0],b,"radio("+q+")",{elem:me[0],value:me[0].value,othis:le}))}),Q.syncAppearanceOnPropChanged(this,"checked",function(){var q,Z=this;Z.checked?(le.addClass(Y+"ed"),le.children(".layui-icon").addClass(Ae+" "+N[0]),q=me.parents(C).find("input[name="+Z.name.replace(/(\.|#|\[|\])/g,"\\$1")+"]"),layui.each(q,function(){Z!==this&&(this.checked=!1)})):(le.removeClass(Y+"ed"),le.children(".layui-icon").removeClass(Ae+" "+N[0]).addClass(N[1]))})}.call(this,ne)})}},z=function(){layui.each(M,function(G,Y){Y()})};return layui.type(f)==="object"?t(f).is(C)?(w=t(f),z()):f.each(function(G,Y){var N=t(Y);N.closest(C).length&&(Y.tagName==="SELECT"?M.select(N):Y.tagName==="INPUT"&&((Y=Y.type)==="checkbox"||Y==="radio"?M[Y](N):M.input(N)))}):f?M[f]?M[f]():A.error('\u4E0D\u652F\u6301\u7684 "'+f+'" \u8868\u5355\u6E32\u67D3'):z(),Q},r.prototype.syncAppearanceOnPropChanged=function(f,y,Q){var g=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,y);Object.defineProperty(f,y,lay.extend({},g,{get:function(){return g.get.call(this)},set:function(w){g.set.call(this,w),Q.call(this)}}))},r.prototype.validate=function(f){var y,Q=this.config.verify,g="layui-form-danger";return!(f=t(f))[0]||(f.attr("lay-verify")!==void 0||this.validate(f.find("*[lay-verify]"))!==!1)&&(layui.each(f,function(w,M){var z=t(this),G=(z.attr("lay-verify")||"").split("|"),Y=z.attr("lay-vertype"),N=t.trim(z.val());if(z.removeClass(g),layui.each(G,function(K,p){var x="",_=Q[p];if(_){var B=typeof _=="function"?x=_(N,M):!_[0].test(N),R=M.tagName.toLowerCase()==="select"||/^(checkbox|radio)$/.test(M.type),x=x||_[1];if(p==="required"&&(x=z.attr("lay-reqtext")||x),B)return Y==="tips"?s.tips(x,typeof z.attr("lay-ignore")!="string"&&R?z.next():z,{tips:1}):Y==="alert"?s.alert(x,{title:"\u63D0\u793A",shadeClose:!0}):/\b(string|number)\b/.test(typeof x)&&s.msg(x,{icon:5,shift:6}),setTimeout(function(){(R?z.next().find("input"):M).focus()},7),z.addClass(g),y=!0}}),y)return y}),!y)},r.prototype.submit=function(w,y){var Q={},g=t(this),w=typeof w=="string"?w:g.attr("lay-filter"),M=this.getFormElem?this.getFormElem(w):g.parents(C).eq(0),z=M.find("*[lay-verify]");return!!E.validate(z)&&(Q=E.getValue(null,M),z={elem:this.getFormElem?window.event&&window.event.target:this,form:(this.getFormElem?M:g.parents("form"))[0],field:Q},typeof y=="function"&&y(z),layui.event.call(this,b,"submit("+w+")",z))}),E=new r,r=t(document),D=t(window);t(function(){E.render()}),r.on("reset",C,function(){var f=t(this).attr("lay-filter");setTimeout(function(){E.render(null,f)},50)}),r.on("submit",C,S).on("click","*[lay-submit]",S),i(b,E)}),layui.define(["lay","laytpl","laypage","form","util"],function(i){var t=layui.$,s=layui.lay,u=layui.laytpl,A=layui.laypage,b=layui.layer,C=layui.form,c=layui.util,T=layui.hint(),k=layui.device(),S={config:{checkName:"LAY_CHECKED",indexName:"LAY_INDEX",numbersName:"LAY_NUM",disabledName:"LAY_DISABLED"},cache:{},index:layui.table?layui.table.index+1e4:0,set:function(O){return this.config=t.extend({},this.config,O),this},on:function(O,ee){return layui.onevent.call(this,y,O,ee)}},E=function(){var O=this,ee=O.config,ie=ee.id||ee.index;return{config:ee,reload:function(ge,_e){O.reload.call(O,ge,_e)},reloadData:function(ge,_e){S.reloadData(ie,ge,_e)},setColsWidth:function(){O.setColsWidth.call(O)},resize:function(){O.resize.call(O)}}},r=function(O){var ee=E.that[O];return ee||T.error(O?"The table instance with ID '"+O+"' not found":"ID argument required"),ee||null},D=function(O){var ee=E.config[O];return ee||T.error(O?"The table instance with ID '"+O+"' not found":"ID argument required"),ee||null},f=function(O){var ee=this.config||{},ie=(O=O||{}).item3,ge=O.content;return ie.type==="numbers"&&(ge=O.tplData[S.config.numbersName]),("escape"in ie?ie:ee).escape&&(ge=c.escape(ge)),ee=O.text&&ie.exportTemplet||ie.templet||ie.toolbar,ee&&(ge=typeof ee=="function"?ee.call(ie,O.tplData,O.obj):u(function(_e){try{return s(_e).html()}catch(we){return _e}}(ee)||String(ge)).render(t.extend({LAY_COL:ie},O.tplData))),O.text?t("<div>"+ge+"</div>").text():ge},y="table",Q="lay-"+y+"-id",g=".layui-table",w="layui-hide",M="layui-hide-v",z="layui-none",G="layui-table-view",Y=".layui-table-header",N=".layui-table-body",K=".layui-table-fixed-r",p=".layui-table-pageview",x=".layui-table-sort",_="layui-table-checked",B="layui-table-edit",R="layui-table-hover",X="laytable-cell-group",J="layui-table-col-special",ne="layui-table-tool-panel",le="layui-table-expanded",me="layui-table-disabled-transition",Ae="LAY_TABLE_MOVE_DICT",q=function(O){return['<table cellspacing="0" cellpadding="0" border="0" class="layui-table" ','{{# if(d.data.skin){ }}lay-skin="{{=d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{=d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',"<thead>","{{# layui.each(d.data.cols, function(i1, item1){ }}","<tr>","{{# layui.each(item1, function(i2, item2){ }}",'{{# if(item2.fixed && item2.fixed !== "right"){ left = true; } }}','{{# if(item2.fixed === "right"){ right = true; } }}',(O=O||{}).fixed&&O.fixed!=="right"?'{{# if(item2.fixed && item2.fixed !== "right"){ }}':O.fixed==="right"?'{{# if(item2.fixed === "right"){ }}':"","{{# var isSort = !(item2.colGroup) && item2.sort; }}",`<th data-field="{{= item2.field||i2 }}" data-key="{{=d.index}}-{{=i1}}-{{=i2}}" {{# if( item2.parentKey){ }}data-parentkey="{{= item2.parentKey }}"{{# } }} {{# if(item2.minWidth){ }}data-minwidth="{{=item2.minWidth}}"{{# } }} {{# if(item2.maxWidth){ }}data-maxwidth="{{=item2.maxWidth}}"{{# } }} {{# if(item2.style){ }}style="{{=item2.style}}"{{# } }} {{#var colspan = layui.type(item2.colspan2) === 'number' ? item2.colspan2 : item2.colspan; if(colspan){}} colspan="{{=colspan}}"{{#} if(item2.rowspan){}} rowspan="{{=item2.rowspan}}"{{#}}} {{# if(item2.unresize || item2.colGroup){ }}data-unresize="true"{{# } }} class="{{# if(item2.hide){ }}layui-hide{{# } }}{{# if(isSort){ }} layui-unselect{{# } }}{{# if(!item2.field){ }} layui-table-col-special{{# } }}"{{# if(item2.title){ }} title="{{ layui.$('<div>' + item2.title + '</div>').text() }}"{{# } }}>`,'<div class="layui-table-cell laytable-cell-',"{{# if(item2.colGroup){ }}","group","{{# } else { }}","{{=d.index}}-{{=i1}}-{{=i2}}",'{{# if(item2.type !== "normal"){ }}'," laytable-cell-{{= item2.type }}","{{# } }}","{{# } }}",'" {{#if(item2.align){}}align="{{=item2.align}}"{{#}}}>','{{# if(item2.type === "checkbox"){ }}','<input type="checkbox" name="layTableCheckbox" lay-skin="primary" lay-filter="layTableAllChoose" {{# if(item2[d.data.checkName]){ }}checked{{# }; }}>',"{{# } else { }}",'<span>{{-item2.title||""}}</span>',"{{# if(isSort){ }}",'<span class="layui-table-sort layui-inline"><i class="layui-edge layui-table-sort-asc" title="\u5347\u5E8F"></i><i class="layui-edge layui-table-sort-desc" title="\u964D\u5E8F"></i></span>',"{{# } }}","{{# } }}","</div>","</th>",O.fixed?"{{# }; }}":"","{{# }); }}","</tr>","{{# }); }}","</thead>","</table>"].join("")},Z=['<table cellspacing="0" cellpadding="0" border="0" class="layui-table" ','{{# if(d.data.skin){ }}lay-skin="{{=d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{=d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',"<tbody></tbody>","</table>"].join(""),re=[,"{{# if(d.data.toolbar){ }}",'<div class="layui-table-tool">','<div class="layui-table-tool-temp"></div>','<div class="layui-table-tool-self"></div>',"</div>","{{# } }}",'<div class="layui-table-box">',"{{# if(d.data.loading){ }}",'<div class="layui-table-init">','<div class="layui-table-loading-icon">','{{# if(typeof d.data.loading === "string"){ }}',"{{- d.data.loading}}","{{# } else{ }}",'<i class="layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop"></i>',"{{# } }}","</div>","</div>","{{# } }}","{{# var left, right; }}",'<div class="layui-table-header">',q(),"</div>",'<div class="layui-table-body layui-table-main">',Z,"</div>","{{# if(left){ }}",'<div class="layui-table-fixed layui-table-fixed-l">','<div class="layui-table-header">',q({fixed:!0}),"</div>",'<div class="layui-table-body">',Z,"</div>","</div>","{{# }; }}","{{# if(right){ }}",'<div class="layui-table-fixed layui-table-fixed-r layui-hide">','<div class="layui-table-header">',q({fixed:"right"}),'<div class="layui-table-mend"></div>',"</div>",'<div class="layui-table-body">',Z,"</div>","</div>","{{# }; }}","</div>","{{# if(d.data.totalRow){ }}",'<div class="layui-table-total">','<table cellspacing="0" cellpadding="0" border="0" class="layui-table" ','{{# if(d.data.skin){ }}lay-skin="{{=d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{=d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>','<tbody><tr><td><div class="layui-table-cell" style="visibility: hidden;">Total</div></td></tr></tbody>',"</table>","</div>","{{# } }}",'<div class="layui-table-column layui-table-page layui-hide">','<div class="layui-inline layui-table-pageview" id="layui-table-page{{=d.index}}"></div>',"</div>"].join(""),ae=t(window),oe=t(document),ue=function(O){this.index=++S.index,this.config=t.extend({},this.config,S.config,O),this.render()},Ee=(ue.prototype.config={limit:10,loading:!0,escape:!0,cellMinWidth:60,cellMaxWidth:Number.MAX_VALUE,editTrigger:"click",defaultToolbar:["filter","exports","print"],defaultContextmenu:!0,autoSort:!0,text:{none:"\u65E0\u6570\u636E"},cols:[]},ue.prototype.render=function(_e){var ee=this,ie=ee.config,we=(ie.elem=t(ie.elem),ie.where=ie.where||{},ie.id="id"in ie?ie.id:ie.elem.attr("id")||ee.index);if(E.that[we]=ee,(E.config[we]=ie).request=t.extend({pageName:"page",limitName:"limit"},ie.request),ie.response=t.extend({statusName:"code",statusCode:0,msgName:"msg",dataName:"data",totalRowName:"totalRow",countName:"count"},ie.response),ie.page!==null&&typeof ie.page=="object"&&(ie.limit=ie.page.limit||ie.limit,ie.limits=ie.page.limits||ie.limits,ee.page=ie.page.curr=ie.page.curr||1,delete ie.page.elem,delete ie.page.jump),!ie.elem[0])return ee;if(ie.elem.attr("lay-filter")||ie.elem.attr("lay-filter",ie.id),_e==="reloadData")return ee.pullData(ee.page,{type:"reloadData"});ie.index=ee.index,ee.key=ie.id||ie.index,ee.setInit(),ie.height&&/^full-.+$/.test(ie.height)?(ee.fullHeightGap=ie.height.split("-")[1],ie.height=ae.height()-(parseFloat(ee.fullHeightGap)||0)):ie.height&&/^#\w+\S*-.+$/.test(ie.height)?(we=ie.height.split("-"),ee.parentHeightGap=we.pop(),ee.parentDiv=we.join("-"),ie.height=t(ee.parentDiv).height()-(parseFloat(ee.parentHeightGap)||0)):typeof ie.height=="function"&&(ee.customHeightFunc=ie.height,ie.height=ee.customHeightFunc());var ge,_e=ie.elem,we=_e.next("."+G),ke=ee.elem=t("<div></div>");ke.addClass((ge=[G,G+"-"+ee.index,"layui-form","layui-border-box"],ie.className&&ge.push(ie.className),ge.join(" "))).attr(((ge={"lay-filter":"LAY-TABLE-FORM-DF-"+ee.index,style:(ge=[],ie.width&&ge.push("width:"+ie.width+"px;"),ge.join(""))})[Q]=ie.id,ge)).html(u(re,{open:"{{",close:"}}"}).render({data:ie,index:ee.index})),ee.renderStyle(),we[0]&&we.remove(),_e.after(ke),ee.layTool=ke.find(".layui-table-tool"),ee.layBox=ke.find(".layui-table-box"),ee.layHeader=ke.find(Y),ee.layMain=ke.find(".layui-table-main"),ee.layBody=ke.find(N),ee.layFixed=ke.find(".layui-table-fixed"),ee.layFixLeft=ke.find(".layui-table-fixed-l"),ee.layFixRight=ke.find(K),ee.layTotal=ke.find(".layui-table-total"),ee.layPage=ke.find(".layui-table-page"),ee.renderToolbar(),ee.renderPagebar(),ee.fullSize(),ee.setColsWidth(),ee.pullData(ee.page),ee.events()},ue.prototype.initOpts=function(O){this.config,O.checkbox&&(O.type="checkbox"),O.space&&(O.type="space"),O.type||(O.type="normal"),O.type!=="normal"&&(O.unresize=!0,O.width=O.width||{checkbox:50,radio:50,space:30,numbers:60}[O.type])},ue.prototype.setInit=function(O){var ee,ie,ge=this,_e=ge.config;if(_e.clientWidth=_e.width||(ee=function(ke){var Se,Te;ke=ke||_e.elem.parent(),Te=window.getComputedStyle?(Te=ge.getElementSize(ke[0])).boxSizing!=="border-box"||s.ie?Te.width:Te.width-Te.paddingLeft-Te.paddingRight-Te.borderLeftWidth-Te.borderRightWidth:ke.width();try{Se=ke.css("display")==="none"}catch(Re){}return!ke[0]||s.isTopElem(ke[0])||Te&&!Se?Te:ee(ke.parent())})(),O==="width")return _e.clientWidth;_e.height=_e.maxHeight||_e.height,_e.css&&_e.css.indexOf(G)===-1&&(ie=_e.css.split("}"),layui.each(ie,function(ke,Se){Se&&(ie[ke]="."+G+"-"+ge.index+" "+Se)}),_e.css=ie.join("}"));var we=function(ke,Se,Te,Re){var Ne,Ye;Re?(Re.key=[_e.index,ke,Te].join("-"),Re.colspan=Re.colspan||0,Re.rowspan=Re.rowspan||0,ge.initOpts(Re),(Ne=ke+(parseInt(Re.rowspan)||1))<_e.cols.length?(Re.colGroup=!0,Ye=0,layui.each(_e.cols[Ne],function(Je,rt){rt.HAS_PARENT||1<=Ye&&Ye==(Re.colspan||1)||(rt.HAS_PARENT=!0,rt.parentKey=[_e.index,ke,Te].join("-"),Ye+=parseInt(1<rt.colspan?rt.colspan:1),we(Ne,_e.cols[Ne],Je,rt))})):Re.colGroup=!1,Re.hide=Re.hide&&!Re.colGroup||!1):Se.splice(Te,1)};layui.each(_e.cols,function(ke,Se){layui.each(Se,function(Te,Re){ke?delete Re.HAS_PARENT:we(ke,Se,Te,Re)})})},ue.prototype.renderStyle=function(){var O,ee,ie,ge,_e=this.config,we=this.index,ke=[];layui.each(_e.cols,function(Se,Te){layui.each(Te,function(Re,Ne){Re=[we,Se,Re].join("-"),Ne=["width: ",Ne.width||_e.cellMinWidth,"px"].join(""),ke.push(".laytable-cell-"+Re+"{"+Ne+"}")})}),(O=_e.lineStyle)&&(ee=".layui-table-view-"+we+" .layui-table-body .layui-table tr",ie=O.split(";"),ge="none",layui.each(ie,function(Se,Te){if((Te=Te.split(":"))[0]==="height")return Te=parseFloat(Te[1]),isNaN(Te)||(ge=Te-1+"px"),!0}),layui.each(["{"+O+"}",".layui-table-cell{height: auto; max-height: "+ge+"; white-space: normal; text-overflow: clip;}","> td:hover > .layui-table-cell{overflow: auto;}"].concat(k.ie?[".layui-table-edit{height: "+ge+";}","td[data-edit]:hover:after{height: "+ge+";}"]:[]),function(Se,Te){Te&&ke.push(ee+" "+Te)})),_e.css&&ke.push(_e.css),s.style({target:this.elem[0],text:ke.join(""),id:"DF-table-"+we})},ue.prototype.renderToolbar=function(){var O,ee=this,ie=ee.config,ge=ie.elem.attr("lay-filter"),_e=['<div class="layui-inline" lay-event="add"><i class="layui-icon layui-icon-add-1"></i></div>','<div class="layui-inline" lay-event="update"><i class="layui-icon layui-icon-edit"></i></div>','<div class="layui-inline" lay-event="delete"><i class="layui-icon layui-icon-delete"></i></div>'].join(""),we=ee.layTool.find(".layui-table-tool-temp"),ke=(ie.toolbar==="default"?we.html(_e):typeof ie.toolbar=="string"&&(_e=t(ie.toolbar).html()||"")&&we.html(u(_e).render(ie)),{filter:{title:"\u7B5B\u9009\u5217",layEvent:"LAYTABLE_COLS",icon:"layui-icon-cols",onClick:function(Se){var Te,Re=Se.config;(0,Se.openPanel)({list:(Te=[],ee.eachCols(function(Ne,Ye){Ye.field&&Ye.type=="normal"&&Te.push('<li><input type="checkbox" name="'+Ye.field+'" data-key="'+Ye.key+'" data-parentkey="'+(Ye.parentKey||"")+'" lay-skin="primary" '+(Ye.hide?"":"checked")+' title="'+c.escape(t("<div>"+(Ye.fieldTitle||Ye.title||Ye.field)+"</div>").text())+'" lay-filter="LAY_TABLE_TOOL_COLS"></li>')}),Te.join("")),done:function(){C.on("checkbox(LAY_TABLE_TOOL_COLS)",function(Ve){var Ve=t(Ve.elem),Ye=this.checked,Je=Ve.data("key"),rt=ee.col(Je),We=rt.hide,Ve=Ve.data("parentkey");rt.key&&(rt.hide=!Ye,ee.elem.find('*[data-key="'+Je+'"]')[Ye?"removeClass":"addClass"](w),We!=rt.hide&&ee.setParentCol(!Ye,Ve),ee.resize(),layui.event.call(this,y,"colToggled("+ge+")",{col:rt,config:Re}))})}})}},exports:{title:"\u5BFC\u51FA",layEvent:"LAYTABLE_EXPORT",icon:"layui-icon-export",onClick:function(Ye){var Te=Ye.data,Re=Ye.config,Ne=Ye.openPanel,Ye=Ye.elem;if(!Te.length)return b.tips("\u5F53\u524D\u8868\u683C\u65E0\u6570\u636E",Ye,{tips:3});k.ie?b.tips("\u5BFC\u51FA\u529F\u80FD\u4E0D\u652F\u6301 IE\uFF0C\u8BF7\u7528 Chrome \u7B49\u9AD8\u7EA7\u6D4F\u89C8\u5668\u5BFC\u51FA",Ye,{tips:3}):Ne({list:['<li data-type="csv">\u5BFC\u51FA CSV \u6587\u4EF6</li>'].join(""),done:function(Je,rt){rt.on("click",function(){var We=t(this).data("type");S.exportFile.call(ee,Re.id,null,We)})}})}},print:{title:"\u6253\u5370",layEvent:"LAYTABLE_PRINT",icon:"layui-icon-print",onClick:function(Re){var Te=Re.data,Re=(Re.config,Re.elem);if(!Te.length)return b.tips("\u5F53\u524D\u8868\u683C\u65E0\u6570\u636E",Re,{tips:3});var Te=window.open("about:blank","_blank"),Re=["<style>","body{font-size: 12px; color: #5F5F5F;}","table{width: 100%; border-collapse: collapse; border-spacing: 0;}","th,td{line-height: 20px; padding: 9px 15px; border: 1px solid #ccc; text-align: left; font-size: 12px; color: #5F5F5F;}","a{color: #5F5F5F; text-decoration:none;}","img{max-height: 100%;}","*.layui-hide{display: none}","</style>"].join(""),Ne=t(ee.layHeader.html());Ne.append(ee.layMain.find("table").html()),Ne.append(ee.layTotal.find("table").html()),Ne.find("th.layui-table-patch").remove(),Ne.find("thead>tr>th."+J).filter(function(Ye,Je){return!t(Je).children("."+X).length}).remove(),Ne.find("tbody>tr>td."+J).remove(),Te.document.write(Re+Ne.prop("outerHTML")),Te.document.close(),layui.device("edg").edg?(Te.onafterprint=Te.close,Te.print()):(Te.print(),Te.close())}}});typeof ie.defaultToolbar=="object"&&(O=[],ie.defaultToolbar=t.map(ie.defaultToolbar,function(Se,Te){var Re=typeof Se=="string",Ne=Re?ke[Se]:Se;return Ne&&(!(Ne=Ne.name&&ke[Ne.name]?t.extend({},ke[Ne.name],Ne):Ne).name&&Re&&(Ne.name=Se),O.push('<div class="layui-inline" title="'+Ne.title+'" lay-event="'+Ne.layEvent+'"><i class="layui-icon '+Ne.icon+'"></i></div>')),Ne}),ee.layTool.find(".layui-table-tool-self").html(O.join("")))},ue.prototype.renderPagebar=function(){var O,ee=this.config,ie=this.layPagebar=t('<div class="layui-inline layui-table-pagebar"></div>');ee.pagebar&&((O=t(ee.pagebar).html()||"")&&ie.append(u(O).render(ee)),this.layPage.append(ie))},ue.prototype.setParentCol=function(O,ee){var ie=this.config,ge=this.layHeader.find('th[data-key="'+ee+'"]'),_e=parseInt(ge.attr("colspan"))||0;ge[0]&&(ee=ee.split("-"),ee=ie.cols[ee[1]][ee[2]],O?_e--:_e++,ge.attr("colspan",_e),ge[_e?"removeClass":"addClass"](w),ee.colspan2=_e,ee.hide=_e<1,ie=ge.data("parentkey"))&&this.setParentCol(O,ie)},ue.prototype.setColsPatch=function(){var O=this,ee=O.config;layui.each(ee.cols,function(ie,ge){layui.each(ge,function(_e,we){we.hide&&O.setParentCol(we.hide,we.parentKey)})})},ue.prototype.setGroupWidth=function(O){var ee,ie=this;ie.config.cols.length<=1||((ee=ie.layHeader.find((O?"th[data-key="+O.data("parentkey")+"]>":"")+"."+X)).css("width",0),layui.each(ee.get().reverse(),function(){var ge=t(this),_e=ge.parent().data("key"),we=0;ie.layHeader.eq(0).find("th[data-parentkey="+_e+"]").width(function(ke,Se){t(this).hasClass(w)||0<Se&&(we+=Se)}),we&&ge.css("max-width",we-1),O&&ge.parent().data("parentkey")&&ie.setGroupWidth(ge.parent())}),ee.css("width","auto"))},ue.prototype.setColsWidth=function(){var O,ee=this,ie=ee.config,ge=0,_e=0,we=0,ke=0,Se=ee.setInit("width"),Te=parseFloat(layui.getStyle(ee.elem[0],"border-left-width")),Re=(ee.eachCols(function(Ye,Je){Je.hide||(ge++,Je.width)||Je.type!=="normal"||(O=Je)}),Se=Se-(ie.skin==="line"||ie.skin==="nob"?2:ge+1)*Te-ee.getScrollWidth(ee.layMain[0]),function(Ye){layui.each(ie.cols,function(Je,rt){layui.each(rt,function(We,Ve){var Oe=0,ft=Ve.minWidth||ie.cellMinWidth,ht=Ve.maxWidth||ie.cellMaxWidth;Ve?Ve.colGroup||Ve.hide||(Ye?we&&we<ft?(_e--,Oe=ft):we&&ht<we&&(_e--,Oe=ht):(Oe=Ve.width||0,/\d+%$/.test(Oe)?ht<(Oe=(Oe=parseFloat(Oe)/100*Se)<ft?ft:Oe)&&(Oe=ht):Oe?Ve.type==="normal"&&(Oe<ft&&(Ve.width=Oe=ft),ht<Oe)&&(Ve.width=Oe=ht):(Ve.width=Oe=0,_e++)),Ve.hide&&(Oe=0),ke+=Oe):rt.splice(We,1)})}),ke<Se&&0<_e&&(we=(Se-ke)/_e)}),Ne=(Re(),Re(!0),ee.autoColNums=_e=0<_e?_e:0,ee.layMain.find("tbody").is(":empty")?(Re=ee.layHeader.first().children("table").width(),ee.layMain.find("table").width(Re)):ee.layMain.find("table").width("auto"),Se);ee.eachCols(function(Ye,Je){var rt=Je.minWidth||ie.cellMinWidth,We=Je.maxWidth||ie.cellMaxWidth;Je.colGroup||Je.hide||O&&O.key===Je.key||(Je.width===0?ee.cssRules(Je.key,function(Ve){var Oe=Math.round(we<rt?rt:We<we?We:we);Ve.style.width=Oe+"px",Ne-=Oe}):/\d+%$/.test(Je.width)?ee.cssRules(Je.key,function(Ve){var Oe=Math.round(parseFloat(Je.width)/100*Se);Ve.style.width=(Oe=We<(Oe=Oe<rt?rt:Oe)?We:Oe)+"px",Ne-=Oe}):ee.cssRules(Je.key,function(Ve){Ve.style.width=Je.width+"px",Ne-=Je.width}))}),O&&ee.cssRules(O.key,function(Ye){var Je=O.minWidth||ie.cellMinWidth,rt=O.maxWidth||ie.cellMaxWidth,rt=Math.max(Math.min(Ne,rt),Je);Ye.style.width=rt+"px",ee.layMain.prop("offsetHeight")>ee.layMain.prop("clientHeight")&&(Ye.style.width=parseFloat(Ye.style.width)-Te+"px")}),ee.setGroupWidth()},ue.prototype.resize=function(){this.layMain&&(this.fullSize(),this.setColsWidth(),this.scrollPatch())},ue.prototype.reload=function(O,ee,ie){var ge=this;O=O||{},delete ge.haveInit,layui.each(O,function(_e,we){layui.type(we)==="array"&&delete ge.config[_e]}),ge.config=t.extend(ee,{},ge.config,O),ie!=="reloadData"&&(layui.each(ge.config.cols,function(_e,we){layui.each(we,function(ke,Se){delete Se.colspan2})}),delete ge.config.HAS_SET_COLS_PATCH),ge.render(ie)},ue.prototype.errorView=function(ge){var ee=this,ie=ee.layMain.find("."+z),ge=t('<div class="'+z+'">'+(ge||"Error")+"</div>");ie[0]&&(ee.layNone.remove(),ie.remove()),ee.layFixed.addClass(w),ee.layMain.find("tbody").html(""),ee.layMain.append(ee.layNone=ge),ee.layTotal.addClass(M),ee.layPage.find(p).addClass(M),S.cache[ee.key]=[],ee.syncCheckAll(),ee.renderForm(),ee.setColsWidth(),ee.loading(!1)},ue.prototype.page=1,ue.prototype.pullData=function(O,ee){var ie,ge,_e=this,we=_e.config,ke=(we.HAS_SET_COLS_PATCH||_e.setColsPatch(),we.HAS_SET_COLS_PATCH=!0,we.request),Se=we.response,Te=function(){typeof we.initSort=="object"&&_e.sort({field:we.initSort.field,type:we.initSort.type,reloadType:ee.type})},Re=function(Ne,Ye){_e.setColsWidth(),_e.loading(!1),typeof we.done=="function"&&we.done(Ne,O,Ne[Se.countName],Ye)};ee=ee||{},typeof we.before=="function"&&we.before(we),_e.startTime=new Date().getTime(),ee.renderData?((ie={})[Se.dataName]=S.cache[_e.key],ie[Se.countName]=we.url?layui.type(we.page)==="object"?we.page.count:ie[Se.dataName].length:we.data.length,typeof we.totalRow=="object"&&(ie[Se.totalRowName]=t.extend({},_e.totalRow)),_e.renderData({res:ie,curr:O,count:ie[Se.countName],type:ee.type,sort:!0}),Re(ie,"renderData")):we.url?(ge={},we.page&&(ge[ke.pageName]=O,ge[ke.limitName]=we.limit),ke=t.extend(ge,we.where),we.contentType&&we.contentType.indexOf("application/json")==0&&(ke=JSON.stringify(ke)),_e.loading(!0),t.ajax({type:we.method||"get",url:we.url,contentType:we.contentType,data:ke,dataType:we.dataType||"json",jsonpCallback:we.jsonpCallback,headers:we.headers||{},complete:typeof we.complete=="function"?we.complete:void 0,success:function(Ne){var Ye,Je;(Ne=typeof we.parseData=="function"&&we.parseData(Ne)||Ne)[Se.statusName]!=Se.statusCode?_e.errorView(Ne[Se.msgName]||'\u8FD4\u56DE\u7684\u6570\u636E\u4E0D\u7B26\u5408\u89C4\u8303\uFF0C\u6B63\u786E\u7684\u6210\u529F\u72B6\u6001\u7801\u5E94\u4E3A\uFF1A"'+Se.statusName+'": '+Se.statusCode):(Ye=Ne[Se.countName],(Je=Math.ceil(Ye/we.limit)||1)<O&&(O=Je),_e.totalRow=Ne[Se.totalRowName],_e.renderData({res:Ne,curr:O,count:Ye,type:ee.type}),Te(),we.time=new Date().getTime()-_e.startTime+" ms"),Re(Ne,ee.type)},error:function(Ne,Ye){_e.errorView("\u8BF7\u6C42\u5F02\u5E38\uFF0C\u9519\u8BEF\u63D0\u793A\uFF1A"+Ye),typeof we.error=="function"&&we.error(Ne,Ye)}})):layui.type(we.data)==="array"&&(ie={},ge=O*we.limit-we.limit,ke=we.data.concat(),ie[Se.dataName]=we.page?ke.splice(ge,we.limit):ke,ie[Se.countName]=we.data.length,typeof we.totalRow=="object"&&(ie[Se.totalRowName]=t.extend({},we.totalRow)),_e.totalRow=ie[Se.totalRowName],_e.renderData({res:ie,curr:O,count:ie[Se.countName],type:ee.type}),Te(),Re(ie,ee.type))},ue.prototype.eachCols=function(O){return S.eachCols(null,O,this.config.cols),this},ue.prototype.col=function(O){try{return O=O.split("-"),this.config.cols[O[1]][O[2]]||{}}catch(ee){return T.error(ee),{}}},ue.prototype.getTrHtml=function(O,ee,ie,ge){var _e=this,we=_e.config,ke=ge&&ge.trs||[],Se=ge&&ge.trs_fixed||[],Te=ge&&ge.trs_fixed_r||[];return ie=ie||1,layui.each(O,function(Re,Ne){var Ye=[],Je=[],rt=[],We=Re+we.limit*(ie-1)+1;if(typeof Ne!="object"){O[Re]=Ne={LAY_KEY:Ne};try{S.cache[_e.key][Re]=Ne}catch(Ve){}}layui.type(Ne)==="array"&&Ne.length===0||(Ne[S.config.numbersName]=We,ee||(Ne[S.config.indexName]=Re),_e.eachCols(function(ht,Oe){var ft,ht=Oe.field||ht,qt=Oe.key,bn=Ne[ht];bn!=null||(bn=""),Oe.colGroup||(ht=['<td data-field="'+ht+'" data-key="'+qt+'" '+(ht=[],(ft=typeof Oe.edit=="function"?Oe.edit(Ne):Oe.edit)&&ht.push('data-edit="'+ft+'"'),Oe.templet&&ht.push('data-content="'+c.escape(bn)+'"'),Oe.toolbar&&ht.push('data-off="true"'),Oe.event&&ht.push('lay-event="'+Oe.event+'"'),Oe.minWidth&&ht.push('data-minwidth="'+Oe.minWidth+'"'),Oe.maxWidth&&ht.push('data-maxwidth="'+Oe.maxWidth+'"'),Oe.style&&ht.push('style="'+Oe.style+'"'),ht.join(" "))+' class="'+(ft=[],Oe.hide&&ft.push(w),Oe.field||ft.push(J),ft.join(" "))+'">','<div class="layui-table-cell laytable-cell-'+(Oe.type==="normal"?qt:qt+" laytable-cell-"+Oe.type)+'"'+(Oe.align?' align="'+Oe.align+'"':"")+">"+function(){var sn,gn=t.extend(!0,{LAY_COL:Oe},Ne),kn=S.config.checkName,Yn=S.config.disabledName;switch(Oe.type){case"checkbox":return'<input type="checkbox" name="layTableCheckbox" lay-skin="primary" '+(sn=[],Oe[kn]&&(Ne[kn]=Oe[kn],Oe[kn])&&(sn[0]="checked"),gn[kn]&&(sn[0]="checked"),gn[Yn]&&sn.push("disabled"),sn.join(" "))+' lay-type="layTableCheckbox">';case"radio":return'<input type="radio" name="layTableRadio_'+we.index+'" '+(sn=[],gn[kn]&&(sn[0]="checked"),gn[Yn]&&sn.push("disabled"),sn.join(" "))+' lay-type="layTableRadio">';case"numbers":return We}return Oe.toolbar?u(t(Oe.toolbar).html()||"").render(gn):f.call(_e,{item3:Oe,content:bn,tplData:gn})}(),"</div></td>"].join(""),Ye.push(ht),Oe.fixed&&Oe.fixed!=="right"&&Je.push(ht),Oe.fixed==="right"&&rt.push(ht))}),Re=['data-index="'+Re+'"'],Ne[S.config.checkName]&&Re.push('class="'+_+'"'),Re=Re.join(" "),ke.push("<tr "+Re+">"+Ye.join("")+"</tr>"),Se.push("<tr "+Re+">"+Je.join("")+"</tr>"),Te.push("<tr "+Re+">"+rt.join("")+"</tr>"))}),{trs:ke,trs_fixed:Se,trs_fixed_r:Te}},S.getTrHtml=function(O,ee){return O=r(O),O.getTrHtml(ee,null,O.page)},ue.prototype.renderData=function(O){var ee=this,ie=ee.config,Se=O.res,ge=O.curr,_e=ee.count=O.count,we=O.sort,ke=Se[ie.response.dataName]||[],Se=Se[ie.response.totalRowName],Te=[],Re=[],Ne=[],Ye=function(){if(!we&&ee.sortKey)return ee.sort({field:ee.sortKey.field,type:ee.sortKey.sort,pull:!0,reloadType:O.type});ee.getTrHtml(ke,we,ge,{trs:Te,trs_fixed:Re,trs_fixed_r:Ne}),ie.scrollPos==="fixed"&&O.type==="reloadData"||ee.layBody.scrollTop(0),ie.scrollPos==="reset"&&ee.layBody.scrollLeft(0),ee.layMain.find("."+z).remove(),ee.layMain.find("tbody").html(Te.join("")),ee.layFixLeft.find("tbody").html(Re.join("")),ee.layFixRight.find("tbody").html(Ne.join("")),ee.syncCheckAll(),ee.renderForm(),ee.fullSize(),ee.haveInit?ee.scrollPatch():setTimeout(function(){ee.scrollPatch()},50),ee.haveInit=!0,b.close(ee.tipsIndex)};return S.cache[ee.key]=ke,ee.layTotal[ke.length==0?"addClass":"removeClass"](M),ee.layPage[ie.page||ie.pagebar?"removeClass":"addClass"](w),ee.layPage.find(p)[!ie.page||_e==0||ke.length===0&&ge==1?"addClass":"removeClass"](M),ke.length===0?ee.errorView(ie.text.none):(ee.layFixLeft.removeClass(w),we?Ye():(Ye(),ee.renderTotal(ke,Se),ee.layTotal&&ee.layTotal.removeClass(w),void(ie.page&&(ie.page=t.extend({elem:"layui-table-page"+ie.index,count:_e,limit:ie.limit,limits:ie.limits||[10,20,30,40,50,60,70,80,90],groups:3,layout:["prev","page","next","skip","count","limit"],prev:'<i class="layui-icon">&#xe603;</i>',next:'<i class="layui-icon">&#xe602;</i>',jump:function(Je,rt){rt||(ee.page=Je.curr,ie.limit=Je.limit,ee.pullData(Je.curr))}},ie.page),ie.page.count=_e,A.render(ie.page)))))},S.renderData=function(O){O=r(O),O&&O.pullData(O.page,{renderData:!0,type:"reloadData"})},ue.prototype.renderTotal=function(O,ee){var ie,ge=this,_e=ge.config,we={};_e.totalRow&&(layui.each(O,function(ke,Se){layui.type(Se)==="array"&&Se.length===0||ge.eachCols(function(Ne,Re){var Ne=Re.field||Ne,Ye=Se[Ne];Re.totalRow&&(we[Ne]=(we[Ne]||0)+(parseFloat(Ye)||0))})}),ge.dataTotal=[],ie=[],ge.eachCols(function(Re,Se){var Te,Re=Se.field||Re,Ne=ee&&ee[Se.field],Ye="totalRowDecimals"in Se?Se.totalRowDecimals:2,Ye=we[Re]?parseFloat(we[Re]||0).toFixed(Ye):"",Ye=(Te=Se.totalRowText||"",(Je={LAY_COL:Se})[Re]=Ye,Je=Se.totalRow&&f.call(ge,{item3:Se,content:Ye,tplData:Je})||Te,Ne||Je),Je=(Se.field&&ge.dataTotal.push({field:Se.field,total:t("<div>"+Ye+"</div>").text()}),['<td data-field="'+Re+'" data-key="'+Se.key+'" '+(Te=[],Se.minWidth&&Te.push('data-minwidth="'+Se.minWidth+'"'),Se.maxWidth&&Te.push('data-maxwidth="'+Se.maxWidth+'"'),Se.style&&Te.push('style="'+Se.style+'"'),Te.join(" "))+' class="'+(Je=[],Se.hide&&Je.push(w),Se.field||Je.push(J),Je.join(" "))+'">','<div class="layui-table-cell laytable-cell-'+(Te=Se.key,Se.type==="normal"?Te:Te+" laytable-cell-"+Se.type)+'"'+(Je=[],Se.align&&Je.push('align="'+Se.align+'"'),Je.join(" "))+">"+(typeof(Te=Se.totalRow||_e.totalRow)=="string"?u(Te).render(t.extend({TOTAL_NUMS:Ne||we[Re],TOTAL_ROW:ee||{},LAY_COL:Se},Se)):Ye),"</div></td>"].join(""));ie.push(Je)}),O=ge.layTotal.find(".layui-table-patch"),ge.layTotal.find("tbody").html("<tr>"+ie.join("")+(O.length?O.get(0).outerHTML:"")+"</tr>"))},ue.prototype.getColElem=function(O,ee){return O.eq(0).find(".laytable-cell-"+ee+":eq(0)")},ue.prototype.renderForm=function(O){this.config;var ee=this.elem.attr("lay-filter");C.render(O,ee)},ue.prototype.renderFormByElem=function(O){layui.each(["input","select"],function(ee,ie){C.render(O.find(ie))})},ue.prototype.syncCheckAll=function(){var O,ee=this,ie=ee.config,ge=ee.layHeader.find('input[name="layTableCheckbox"]'),_e=S.checkStatus(ee.key);ge[0]&&(O=_e.isAll,ee.eachCols(function(we,ke){ke.type==="checkbox"&&(ke[ie.checkName]=O)}),ge.prop({checked:_e.isAll,indeterminate:!_e.isAll&&_e.data.length}))},ue.prototype.setRowActive=function(O,ee,ie){if(this.config,O=this.layBody.find('tr[data-index="'+O+'"]'),ee=ee||"layui-table-click",ie)return O.removeClass(ee);O.addClass(ee),O.siblings("tr").removeClass(ee)},ue.prototype.setRowChecked=function(O){var ee,ie,ge,_e,we,ke,Se,Te=this,Re=Te.config,Ne=O.index==="all",Ye=layui.type(O.index)==="array",Je=Ne||Ye;Je&&(Te.layBox.addClass(me),O.type==="radio")||(Ye&&(ee={},layui.each(O.index,function(rt,We){ee[We]=!0}),O.index=ee),ie=Te.layBody.children(".layui-table").children("tbody"),Se=Je?"tr":'tr[data-index="'+O.index+'"]',Se=ie.children(Se),ie=Ne?Se:Se.filter(Ye?function(){var rt=t(this).data("index");return O.index[rt]}:'[data-index="'+O.index+'"]'),O=t.extend({type:"checkbox"},O),ge=S.cache[Te.key],_e="checked"in O,we=function(rt){return O.type==="radio"||(_e?O.checked:!rt)},ie.each(function(){var rt=t(this),We=rt.attr("data-index"),Ve=ge[We];We&&layui.type(Ve)!=="array"&&!Ve[Re.disabledName]&&(Ve=Ve[Re.checkName]=we(rt.hasClass(_)),rt.toggleClass(_,!!Ve),O.type==="radio")&&(ke=We,rt.siblings().removeClass(_))}),ke&&layui.each(ge,function(rt,We){Number(ke)!==Number(rt)&&delete We[Re.checkName]}),Se=(Ye=(Ne=ie.children("td").children(".layui-table-cell").children('input[lay-type="'+({radio:"layTableRadio",checkbox:"layTableCheckbox"}[O.type]||"checkbox")+'"]:not(:disabled)')).last()).closest(K),(O.type==="radio"&&Se.hasClass(w)?Ne.first():Ne).prop("checked",we(Ye.prop("checked"))),Te.syncCheckAll(),Je&&setTimeout(function(){Te.layBox.removeClass(me)},100))},ue.prototype.sort=function(O){var ee,ie=this,ge={},_e=ie.config,we=_e.elem.attr("lay-filter"),ke=S.cache[ie.key];typeof(O=O||{}).field=="string"&&(Se=O.field,ie.layHeader.find("th").each(function(Ne,Ye){var Je=t(this),rt=Je.data("field");if(rt===O.field)return O.field=Je,Se=rt,!1}));try{var Se=Se||O.field.data("field"),Te=O.field.data("key");if(ie.sortKey&&!O.pull&&Se===ie.sortKey.field&&O.type===ie.sortKey.sort)return;var Re=ie.layHeader.find("th .laytable-cell-"+Te).find(x);ie.layHeader.find("th").find(x).removeAttr("lay-sort"),Re.attr("lay-sort",O.type||null),ie.layFixed.find("th")}catch(Ne){T.error("Table modules: sort field '"+Se+"' not matched")}ie.sortKey={field:Se,sort:O.type},_e.autoSort&&(O.type==="asc"?ee=layui.sort(ke,Se,null,!0):O.type==="desc"?ee=layui.sort(ke,Se,!0,!0):(ee=layui.sort(ke,S.config.indexName,null,!0),delete ie.sortKey,delete _e.initSort)),ge[_e.response.dataName]=ee||ke,ie.renderData({res:ge,curr:ie.page,count:ie.count,sort:!0,type:O.reloadType}),O.fromEvent&&(_e.initSort={field:Se,type:O.type},layui.event.call(O.field,y,"sort("+we+")",t.extend({config:_e},_e.initSort)))},ue.prototype.loading=function(O){this.config.loading&&this.layBox.find(".layui-table-init").toggleClass(w,!O)},ue.prototype.cssRules=function(O,ee){var ie=this.elem.children("style")[0];s.getStyleRules(ie,function(ge){if(ge.selectorText===".laytable-cell-"+O)return ee(ge),!0})},ue.prototype.fullSize=function(){var O,ee,ie=this,ge=ie.config,_e=ge.height;ie.fullHeightGap?(_e=ae.height()-ie.fullHeightGap)<135&&(_e=135):ie.parentDiv&&ie.parentHeightGap?(_e=t(ie.parentDiv).height()-ie.parentHeightGap)<135&&(_e=135):ie.customHeightFunc&&(_e=ie.customHeightFunc())<135&&(_e=135),1<ge.cols.length&&(O=ie.layFixed.find(Y).find("th"),ee=ie.layHeader.first(),layui.each(O,function(we,ke){(ke=t(ke)).height(ee.find('th[data-key="'+ke.attr("data-key")+'"]').height()+"px")})),_e&&(O=parseFloat(_e)-(ie.layHeader.outerHeight()||39),ge.toolbar&&(O-=ie.layTool.outerHeight()||51),ge.totalRow&&(O-=ie.layTotal.outerHeight()||40),(ge.page||ge.pagebar)&&(O-=ie.layPage.outerHeight()||43),ge.maxHeight?layui.each({elem:_e,layMain:O},function(we,ke){ie[we].css({height:"auto",maxHeight:ke+"px"})}):ie.layMain.outerHeight(O))},ue.prototype.getScrollWidth=function(O){var ee;return O?ee=O.offsetWidth-O.clientWidth:((O=document.createElement("div")).style.width="100px",O.style.height="100px",O.style.overflowY="scroll",document.body.appendChild(O),ee=O.offsetWidth-O.clientWidth,document.body.removeChild(O)),ee},ue.prototype.scrollPatch=function(){var O=this,ee=O.layMain.children("table"),ie=O.layMain.width()-O.layMain.prop("clientWidth"),ge=O.layMain.height()-O.layMain.prop("clientHeight"),_e=(O.getScrollWidth(O.layMain[0]),ee.outerWidth()-O.layMain.width()),we=function(ke){var Se;ie&&ge?(ke=ke.eq(0)).find(".layui-table-patch")[0]||((Se=t('<th class="layui-table-patch"><div class="layui-table-cell"></div></th>')).find("div").css({width:ie}),ke.find("tr").append(Se)):ke.find(".layui-table-patch").remove()};we(O.layHeader),we(O.layTotal),we=O.layMain.height()-ge,O.layFixed.find(N).css("height",ee.height()>=we?we:"auto").scrollTop(O.layMain.scrollTop()),O.layFixRight[S.cache[O.key]&&S.cache[O.key].length&&0<_e?"removeClass":"addClass"](w),O.layFixRight.css("right",ie-1)},ue.prototype.updateRow=function(_e,ee){var ie=this,ge=".layui-table-cell",_e=layui.type(_e)==="array"?_e:[_e],we=S.cache[ie.key]||[];layui.each(_e,function(ke,Se){var Te,Re,Ne,Ye,Je;Te=Se.index,Re=Se.data,Ne=Se.related,Ye=we[Te]||{},Je=ie.layBody.find('tr[data-index="'+Te+'"]'),layui.each(Re,function(rt,We){Ye[rt]=We,ee&&ee(rt,We)}),ie.eachCols(function(rt,We){var Ve,Oe=String(We.field||rt);(Oe in Re||(typeof Ne=="function"?Ne(Oe,rt):Ne)&&(We.templet||We.toolbar))&&(Oe=(rt=Je.children('td[data-field="'+Oe+'"]')).children(ge),Ve=Ye[We.field],Oe.html(f.call(ie,{item3:We,content:Ve,tplData:t.extend({LAY_COL:We},Ye)})),rt.data("content",Ve),ie.renderFormByElem(Oe))})})},S.updateRow=function(O,ee){return r(O).updateRow(ee)},ue.prototype.events=function(){var O=this,ee=O.config,ie=ee.elem.attr("lay-filter"),ge=O.layHeader.find("th"),_e=".layui-table-cell",we=t("body"),ke={},Se=(O.layTool.on("click","*[lay-event]",function(We){var Ve=t(this),Oe=Ve.attr("lay-event"),ft=S.cache[ee.id],ht=function(qt){var bn=t(qt.list),sn=t('<ul class="'+ne+'"></ul>');sn.html(bn),ee.height&&sn.css("max-height",ee.height-(O.layTool.outerHeight()||50)),Ve.find("."+ne)[0]||Ve.append(sn),O.renderForm(),sn.on("click",function(gn){layui.stope(gn)}),qt.done&&qt.done(sn,bn)};layui.stope(We),oe.trigger("table.tool.panel.remove"),b.close(O.tipsIndex),layui.each(ee.defaultToolbar,function(qt,bn){if(bn.layEvent===Oe)return typeof bn.onClick=="function"&&bn.onClick({data:ft,config:ee,openPanel:ht,elem:Ve}),!0}),layui.event.call(this,y,"toolbar("+ie+")",t.extend({event:Oe,config:ee},{}))}),O.layHeader.on("click","*[lay-event]",function(We){var Oe=t(this),Ve=Oe.attr("lay-event"),Oe=Oe.closest("th").data("key"),Oe=O.col(Oe);layui.event.call(this,y,"colTool("+ie+")",t.extend({event:Ve,config:ee,col:Oe},{}))}),O.layPagebar.on("click","*[lay-event]",function(We){var Ve=t(this).attr("lay-event");layui.event.call(this,y,"pagebar("+ie+")",t.extend({event:Ve,config:ee},{}))}),ge.on("mousemove",function(ft){var Ve=t(this),Oe=Ve.offset().left,ft=ft.clientX-Oe;Ve.data("unresize")||E.eventMoveElem||(ke.allowResize=Ve.width()-ft<=10,we.css("cursor",ke.allowResize?"col-resize":""))}).on("mouseleave",function(){t(this),E.eventMoveElem||(ke.allowResize=!1,we.css("cursor",""))}).on("mousedown",function(We){var Ve,Oe=t(this);ke.allowResize&&(Ve=Oe.data("key"),We.preventDefault(),ke.offset=[We.clientX,We.clientY],O.cssRules(Ve,function(ft){var ht=ft.style.width||Oe.outerWidth();ke.rule=ft,ke.ruleWidth=parseFloat(ht),ke.minWidth=Oe.data("minwidth")||ee.cellMinWidth,ke.maxWidth=Oe.data("maxwidth")||ee.cellMaxWidth}),Oe.data(Ae,ke),E.eventMoveElem=Oe)}),E.docEvent||oe.on("mousemove",function(We){var Ve,Oe;E.eventMoveElem&&(Ve=E.eventMoveElem.data(Ae)||{},E.eventMoveElem.data("resizing",1),We.preventDefault(),Ve.rule)&&(We=Ve.ruleWidth+We.clientX-Ve.offset[0],Oe=E.eventMoveElem.closest("."+G).attr(Q),Oe=r(Oe))&&((We=We<Ve.minWidth?Ve.minWidth:We)>Ve.maxWidth&&(We=Ve.maxWidth),Ve.rule.style.width=We+"px",Oe.setGroupWidth(E.eventMoveElem),b.close(O.tipsIndex))}).on("mouseup",function(We){var Ve,Oe,ft,ht,qt;E.eventMoveElem&&(ft=(Ve=E.eventMoveElem).closest("."+G).attr(Q),Oe=r(ft))&&(ft=Ve.data("key"),ht=Oe.col(ft),qt=Oe.config.elem.attr("lay-filter"),ke={},we.css("cursor",""),Oe.scrollPatch(),Ve.removeData(Ae),delete E.eventMoveElem,Oe.cssRules(ft,function(bn){ht.width=parseFloat(bn.style.width),layui.event.call(Ve[0],y,"colResized("+qt+")",{col:ht,config:Oe.config})}))}),E.docEvent=!0,ge.on("click",function(We){var Ve=t(this),Oe=Ve.find(x),ft=Oe.attr("lay-sort");if(!Oe[0]||Ve.data("resizing")===1)return Ve.removeData("resizing");O.sort({field:Ve,type:ft==="asc"?"desc":ft==="desc"?null:"asc",fromEvent:!0})}).find(x+" .layui-edge ").on("click",function(We){var Oe=t(this),Ve=Oe.index(),Oe=Oe.parents("th").eq(0).data("field");layui.stope(We),Ve===0?O.sort({field:Oe,type:"asc",fromEvent:!0}):O.sort({field:Oe,type:"desc",fromEvent:!0})}),O.commonMember=function(We){var Ve=t(this).parents("tr").eq(0).data("index"),Oe=O.layBody.find('tr[data-index="'+Ve+'"]'),ft=(S.cache[O.key]||[])[Ve]||{},ht={tr:Oe,config:ee,data:S.clearCacheKey(ft),dataCache:ft,index:Ve,del:function(){S.cache[O.key][Ve]=[],Oe.remove(),O.scrollPatch()},update:function(qt,bn){O.updateRow({index:Ve,data:qt=qt||{},related:bn},function(sn,gn){ht.data[sn]=gn})},setRowChecked:function(qt){O.setRowChecked(t.extend({index:Ve},qt))}};return t.extend(ht,We)}),Te=(O.elem.on("click",'input[name="layTableCheckbox"]+',function(We){var Oe=t(this),Ve=Oe.closest("td"),Oe=Oe.prev(),ft=(O.layBody.find('input[name="layTableCheckbox"]'),Oe.parents("tr").eq(0).data("index")),ht=Oe[0].checked,qt=Oe.attr("lay-filter")==="layTableAllChoose";Oe[0].disabled||(qt?O.setRowChecked({index:"all",checked:ht}):O.setRowChecked({index:ft,checked:ht}),layui.stope(We),layui.event.call(Oe[0],y,"checkbox("+ie+")",Se.call(Oe[0],{checked:ht,type:qt?"all":"one",getCol:function(){return O.col(Ve.data("key"))}})))}),O.elem.on("click",'input[lay-type="layTableRadio"]+',function(We){var Oe=t(this),Ve=Oe.closest("td"),Oe=Oe.prev(),ft=Oe[0].checked,ht=Oe.parents("tr").eq(0).data("index");if(layui.stope(We),Oe[0].disabled)return!1;O.setRowChecked({type:"radio",index:ht}),layui.event.call(Oe[0],y,"radio("+ie+")",Se.call(Oe[0],{checked:ft,getCol:function(){return O.col(Ve.data("key"))}}))}),O.layBody.on("mouseenter","tr",function(){var We=t(this),Ve=We.index();We.data("off")||O.layBody.find("tr:eq("+Ve+")").addClass(R)}).on("mouseleave","tr",function(){var We=t(this),Ve=We.index();We.data("off")||O.layBody.find("tr:eq("+Ve+")").removeClass(R)}).on("click","tr",function(We){Te.call(this,"row",We)}).on("dblclick","tr",function(We){Te.call(this,"rowDouble",We)}).on("contextmenu","tr",function(We){ee.defaultContextmenu||We.preventDefault(),Te.call(this,"rowContextmenu",We)}),function(We,Ve){var Oe=t(this);if(!Oe.data("off")){if(We!=="rowContextmenu"){var ft=[".layui-form-checkbox",".layui-form-switch",".layui-form-radio","[lay-unrow]"].join(",");if(t(Ve.target).is(ft)||t(Ve.target).closest(ft)[0])return}layui.event.call(this,y,We+"("+ie+")",Se.call(Oe.children("td")[0],{e:Ve}))}}),Re=function(We,Ve){var Oe,ft,ht;(We=t(We)).data("off")||(ht=We.data("field"),ft=We.data("key"),ft=O.col(ft),Oe=We.closest("tr").data("index"),Oe=S.cache[O.key][Oe],We.children(_e),(ft=typeof ft.edit=="function"?ft.edit(Oe):ft.edit)&&((ft=t(ft==="textarea"?'<textarea class="layui-input '+B+'" lay-unrow></textarea>':'<input class="layui-input '+B+'" lay-unrow>'))[0].value=(ht=We.data("content")||Oe[ht])===void 0||ht===null?"":ht,We.find("."+B)[0]||We.append(ft),ft.focus(),Ve)&&layui.stope(Ve))},Ne=(O.layBody.on("change","."+B,function(){var ht=t(this),We=ht.parent(),Ve=this.value,Oe=ht.parent().data("field"),ht=ht.closest("tr").data("index"),ht=S.cache[O.key][ht],ft=Se.call(We[0],{value:Ve,field:Oe,oldValue:ht[Oe],td:We,reedit:function(){setTimeout(function(){Re(ft.td);var qt={};qt[Oe]=ft.oldValue,ft.update(qt)})},getCol:function(){return O.col(We.data("key"))}}),ht={};ht[Oe]=Ve,ft.update(ht),layui.event.call(We[0],y,"edit("+ie+")",ft)}).on("blur","."+B,function(){t(this).remove()}),O.layBody.on(ee.editTrigger,"td",function(We){Re(this,We)}).on("mouseenter","td",function(){Ye.call(this)}).on("mouseleave","td",function(){Ye.call(this,"hide")}),O.layTotal.on("mouseenter","td",function(){Ye.call(this)}).on("mouseleave","td",function(){Ye.call(this,"hide")}),"layui-table-grid-down"),Ye=function(We){var Ve=t(this),Oe=Ve.children(_e);Ve.data("off")||Ve.parent().hasClass(le)||(We?Ve.find(".layui-table-grid-down").remove():!(Oe.prop("scrollWidth")>Oe.prop("clientWidth")||0<Oe.find("br").length)||ee.lineStyle||Oe.find("."+Ne)[0]||Ve.append('<div class="'+Ne+'"><i class="layui-icon layui-icon-down"></i></div>'))},Je=function(We,Ve){var Oe=t(this),sn=Oe.parent(),ft=sn.data("key"),ht=O.col(ft),qt=sn.parent().data("index"),bn=sn.children(_e),sn="layui-table-cell-c",gn=t('<i class="layui-icon layui-icon-up '+sn+'">');(Ve=Ve||ht.expandedMode||ee.cellExpandedMode)==="tips"?O.tipsIndex=b.tips(['<div class="layui-table-tips-main" style="margin-top: -'+(bn.height()+23)+"px;"+(ee.size==="sm"?"padding: 4px 15px; font-size: 12px;":ee.size==="lg"?"padding: 14px 15px;":"")+'">',bn.html(),"</div>",'<i class="layui-icon layui-table-tips-c layui-icon-close"></i>'].join(""),bn[0],{tips:[3,""],time:-1,anim:-1,maxWidth:k.ios||k.android?300:O.elem.width()/2,isOutAnim:!1,skin:"layui-table-tips",success:function(kn,Yn){kn.find(".layui-table-tips-c").on("click",function(){b.close(Yn)})}}):(O.elem.find("."+sn).trigger("click"),O.cssRules(ft,function(kn){var Yn=kn.style.width,Nn=ht.expandedWidth||ee.cellExpandedWidth;Nn<parseFloat(Yn)&&(Nn=parseFloat(Yn)),gn.data("cell-width",Yn),kn.style.width=Nn+"px",setTimeout(function(){O.scrollPatch()})}),O.setRowActive(qt,le),bn.next("."+sn)[0]||bn.after(gn),gn.on("click",function(){var kn=t(this);O.setRowActive(qt,[le,R].join(" "),!0),O.cssRules(ft,function(Yn){Yn.style.width=kn.data("cell-width"),setTimeout(function(){O.resize()})}),kn.remove(),bn.scrollTop(0),bn.scrollLeft(0)})),Oe.remove(),layui.stope(We)},rt=(O.layBody.on("click","."+Ne,function(We){Je.call(this,We)}),O.layTotal.on("click","."+Ne,function(We){Je.call(this,We,"tips")}),function(We){var Ve=t(this),Oe=Ve.closest("td"),ft=Ve.parents("tr").eq(0).data("index");O.setRowActive(ft),layui.event.call(this,y,(We||"tool")+"("+ie+")",Se.call(this,{event:Ve.attr("lay-event"),getCol:function(){return O.col(Oe.data("key"))}}))});O.layBody.on("click","*[lay-event]",function(We){rt.call(this),layui.stope(We)}).on("dblclick","*[lay-event]",function(We){rt.call(this,"toolDouble"),layui.stope(We)}),O.layMain.on("scroll",function(){var Ve=t(this),We=Ve.scrollLeft(),Ve=Ve.scrollTop();O.layHeader.scrollLeft(We),O.layTotal.scrollLeft(We),O.layFixed.find(N).scrollTop(Ve),b.close(O.tipsIndex)}),O.layFixed.find(N).on("mousewheel DOMMouseScroll",function(We){var Ve=We.originalEvent.wheelDelta||-We.originalEvent.detail,Oe=O.layMain.scrollTop();We.preventDefault(),O.layMain.scrollTop(Oe+(0<Ve?-30:30))})},ue.prototype.getElementSize=function(O){if(window.getComputedStyle)return O=window.getComputedStyle(O,null),{height:parseFloat(O.height||"0"),width:parseFloat(O.width||"0"),borderTopWidth:parseFloat(O.borderTopWidth||"0"),borderRightWidth:parseFloat(O.borderRightWidth||"0"),borderBottomWidth:parseFloat(O.borderBottomWidth||"0"),borderLeftWidth:parseFloat(O.borderLeftWidth||"0"),paddingTop:parseFloat(O.paddingTop||"0"),paddingRight:parseFloat(O.paddingRight||"0"),paddingBottom:parseFloat(O.paddingBottom||"0"),paddingLeft:parseFloat(O.paddingLeft||"0"),marginTop:parseFloat(O.marginTop||"0"),marginRight:parseFloat(O.marginRight||"0"),marginBottom:parseFloat(O.marginBottom||"0"),marginLeft:parseFloat(O.marginLeft||"0"),boxSizing:O.boxSizing}},ae.on("resize",function(){layui.each(E.that,function(){this.resize()})}),oe.on("click",function(){oe.trigger("table.remove.tool.panel")}),oe.on("table.remove.tool.panel",function(){t("."+ne).remove()}),S.init=function(O,ee){ee=ee||{};var ie=typeof O=="object"?O:t(typeof O=="string"?'table[lay-filter="'+O+'"]':g+"[lay-data], "+g+"[lay-options]"),ge="Table element property lay-data configuration item has a syntax error: ";return ie.each(function(){var _e,we=t(this),Te=we.attr("lay-data"),Te=s.options(this,{attr:Te?"lay-data":null,errorText:ge+(Te||we.attr("lay-options"))}),ke=t.extend({elem:this,cols:[],data:[],skin:we.attr("lay-skin"),size:we.attr("lay-size"),even:typeof we.attr("lay-even")=="string"},S.config,ee,Te),Se=(O&&we.hide(),we.find("thead>tr").each(function(Re){ke.cols[Re]=[],t(this).children().each(function(Ne){var Je=t(this),Ye=Je.attr("lay-data"),Ye=s.options(this,{attr:Ye?"lay-data":null,errorText:ge+(Ye||Je.attr("lay-options"))}),Je=t.extend({title:Je.text(),colspan:parseInt(Je.attr("colspan"))||1,rowspan:parseInt(Je.attr("rowspan"))||1},Ye);ke.cols[Re].push(Je)})}),we.find("tbody>tr")),Te=S.render(ke);!Se.length||ee.data||Te.config.url||(_e=0,S.eachCols(Te.config.id,function(Re,Ne){Se.each(function(Ye){ke.data[Ye]=ke.data[Ye]||{};var Je=t(this),rt=Ne.field;ke.data[Ye][rt]=Je.children("td").eq(_e).html()}),_e++}),Te.reloadData({data:ke.data}))}),this},E.that={},E.config={},function(O,ee,ie,ge){var _e,we;ge.colGroup&&(_e=0,O++,ge.CHILD_COLS=[],we=ie+(parseInt(ge.rowspan)||1),layui.each(ee[we],function(ke,Se){Se.parentKey?Se.parentKey===ge.key&&(Se.PARENT_COL_INDEX=O,ge.CHILD_COLS.push(Se),Ee(O,ee,we,Se)):Se.PARENT_COL_INDEX||1<=_e&&_e==(ge.colspan||1)||(Se.PARENT_COL_INDEX=O,ge.CHILD_COLS.push(Se),_e+=parseInt(1<Se.colspan?Se.colspan:1),Ee(O,ee,we,Se))}))});S.eachCols=function(ge,ee,ie){var ge=E.config[ge]||{},_e=[],we=(ie=t.extend(!0,[],ie||ge.cols),layui.each(ie,function(ke,Se){if(ke)return!0;layui.each(Se,function(Te,Re){Ee(0,ie,ke,Re),Re.PARENT_COL_INDEX||_e.push(Re)})}),function(ke){layui.each(ke||_e,function(Se,Te){if(Te.CHILD_COLS)return we(Te.CHILD_COLS);typeof ee=="function"&&ee(Se,Te)})});we()},S.checkStatus=function(_e){var ee=0,ie=[],ge=[],_e=S.cache[_e]||[];return layui.each(_e,function(we,ke){layui.type(ke)==="array"||ke[S.config.disabledName]?ee++:ke[S.config.checkName]&&(ie.push(S.clearCacheKey(ke)),ge.push(ke))}),{data:ie,dataCache:ge,isAll:!(!_e.length||!ie.length)&&ie.length===_e.length-ee}},S.setRowChecked=function(O,ee){O=r(O),O&&O.setRowChecked(ee)},S.getData=function(ie){var ee=[],ie=S.cache[ie]||[];return layui.each(ie,function(ge,_e){layui.type(_e)!=="array"&&ee.push(S.clearCacheKey(_e))}),ee},S.resize=function(O){O?D(O)&&r(O).resize():layui.each(E.that,function(){this.resize()})},S.exportFile=function(O,ee,ie){ee=ee||S.clearCacheKey(S.cache[O]);var ge=(ie=typeof ie=="object"?ie:(ge={},ie&&(ge.type=ie),ge)).type||"csv",_e=E.that[O],we=E.config[O]||{},ke={csv:"text/csv",xls:"application/vnd.ms-excel"}[ge],Se=document.createElement("a");if(k.ie)return T.error("IE_NOT_SUPPORT_EXPORTS");var Te,Re,Ne,Ye,Je=we.tree&&we.tree.view;if(Je)try{ee=t.extend(!0,[],S.cache[O]),ee=function rt(We){return We.reduce(function(Ve,Oe){var ft=Oe.children||[];return delete Oe.children,Ve.concat(Oe,rt(ft))},[])}(Array.from(ee))}catch(rt){}Se.href="data:"+ke+";charset=utf-8,\uFEFF"+encodeURIComponent((Te=[],Re=[],Ne=[],Ye={},layui.each(ee,function(rt,We){var Ve=[];typeof O=="object"?(layui.each(O,function(Oe,ft){rt==0&&Te.push(ft||"")}),layui.each(layui.isArray(We)?t.extend([],We):S.clearCacheKey(We),function(Oe,ft){Ve.push('"'+(ft||"")+'"')})):S.eachCols(O,function(Oe,ft){var ht;ft.ignoreExport===!1||ft.field&&ft.type=="normal"?ft.hide&&ft.ignoreExport!==!1||ft.ignoreExport===!0?rt==0&&(Ye[ft.field]=!0):((ht=We[ft.field])!==void 0&&ht!==null||(ht=""),rt==0&&Te.push(ft.fieldTitle||ft.title||ft.field||""),ht=(ht=f.call(_e,{item3:ft,content:ht,tplData:We,text:"text",obj:{td:function(qt){return Je&&(rt=We.LAY_DATA_INDEX),_e.layBody.find('tr[data-index="'+rt+'"]>td').filter('[data-field="'+qt+'"]')}}})).replace(/"/g,'""'),Ve.push(ht='"'+ht+'"')):ft.field&&ft.type!=="normal"&&rt==0&&(Ye[ft.field]=!0)}),Re.push(Ve.join(","))}),_e&&layui.each(_e.dataTotal,function(rt,We){Ye[We.field]||Ne.push('"'+(We.total||"")+'"')}),Te.join(",")+`\r
`+Re.join(`\r
`)+`\r
`+Ne.join(","))),Se.download=(ie.title||we.title||"table_"+(we.index||""))+"."+ge,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se)},S.getOptions=D,S.hideCol=function(O,ee){var ie=r(O);ie&&(layui.type(ee)==="boolean"?ie.eachCols(function(ge,Se){var we=Se.key,ke=ie.col(we),Se=Se.parentKey;ke.hide!=ee&&(ke=ke.hide=ee,ie.elem.find('*[data-key="'+we+'"]')[ke?"addClass":"removeClass"](w),ie.setParentCol(ke,Se))}):(ee=layui.isArray(ee)?ee:[ee],layui.each(ee,function(ge,_e){ie.eachCols(function(we,ke){var Se,Te;_e.field===ke.field&&(Se=ke.key,Te=ie.col(Se),ke=ke.parentKey,"hide"in _e)&&Te.hide!=_e.hide&&(Te=Te.hide=!!_e.hide,ie.elem.find('*[data-key="'+Se+'"]')[Te?"addClass":"removeClass"](w),ie.setParentCol(Te,ke))})})),t("."+ne).remove(),ie.resize())},S.reload=function(O,ee,ie,ge){if(D(O))return(O=r(O)).reload(ee,ie,ge),E.call(O)},S.reloadData=function(){var O=t.extend([],arguments),ee=(O[3]="reloadData",new RegExp("^("+["elem","id","cols","width","height","maxHeight","toolbar","defaultToolbar","className","css","pagebar"].join("|")+")$"));return layui.each(O[1],function(ie,ge){ee.test(ie)&&delete O[1][ie]}),S.reload.apply(null,O)},S.render=function(O){return O=new ue(O),E.call(O)},S.clearCacheKey=function(O){return delete(O=t.extend({},O))[S.config.checkName],delete O[S.config.indexName],delete O[S.config.numbersName],delete O[S.config.disabledName],O},t(function(){S.init()}),i(y,S)}),layui.define(["table"],function(i){var t=layui.$,s=layui.form,u=layui.table,A=layui.hint(),b={config:{},on:u.on,eachCols:u.eachCols,index:u.index,set:function(q){var Z=this;return Z.config=t.extend({},Z.config,q),Z},resize:u.resize,getOptions:u.getOptions,hideCol:u.hideCol,renderData:u.renderData},C=function(){var q=this,Z=q.config,re=Z.id||Z.index;return{config:Z,reload:function(ae,oe){q.reload.call(q,ae,oe)},reloadData:function(ae,oe){b.reloadData(re,ae,oe)}}},c=function(q){var Z=C.that[q];return Z||A.error(q?"The treeTable instance with ID '"+q+"' not found":"ID argument required"),Z||null},T="lay-table-id",k="layui-hide",S=".layui-table-body",E=".layui-table-main",r=".layui-table-fixed-l",D=".layui-table-fixed-r",f="layui-table-checked",y="layui-table-tree",Q="LAY_DATA_INDEX",g="LAY_DATA_INDEX_HISTORY",w="LAY_PARENT_INDEX",M="LAY_CHECKBOX_HALF",z="LAY_EXPAND",G="LAY_HAS_EXPANDED",Y="LAY_ASYNC_STATUS",N=["all","parent","children","none"],K=/<[^>]+?>/,p=["flexIconClose","flexIconOpen","iconClose","iconOpen","iconLeaf","icon"],x=function(q){var Z=this;Z.index=++b.index,Z.config=t.extend(!0,{},Z.config,b.config,q),Z.init(),Z.render()},_=function(q,Z,re){var ae=u.cache[q];layui.each(re||ae,function(oe,ue){var Ee=ue[Q]||"";Ee.indexOf("-")!==-1&&(ae[Ee]=ue),ue[Z]&&_(q,Z,ue[Z])})},B=function(q,Z,re){var ae=c(q),oe=(re!=="reloadData"&&(ae.status={expand:{}}),t.extend(!0,{},ae.getOptions(),Z)),ue=oe.tree,Ee=ue.customName.children,O=ue.customName.id,ee=(delete Z.hasNumberCol,delete Z.hasChecboxCol,delete Z.hasRadioCol,u.eachCols(null,function(ge,_e){_e.type==="numbers"?Z.hasNumberCol=!0:_e.type==="checkbox"?Z.hasChecboxCol=!0:_e.type==="radio"&&(Z.hasRadioCol=!0)},oe.cols),Z.parseData),ie=Z.done;re==="reloadData"&&oe.scrollPos==="fixed"&&(ae.scrollTopCache=ae.config.elem.next().find(S).scrollTop()),oe.url?re&&(!ee||ee.mod)||(Z.parseData=function(){var ge=this,we=arguments,_e=we[0],we=(layui.type(ee)==="function"&&(_e=ee.apply(ge,we)||we[0]),ge.response.dataName);return ue.data.isSimpleData&&!ue.async.enable&&(_e[we]=ae.flatToTree(_e[we])),le(_e[we],function(ke){ke[z]=z in ke?ke[z]:ke[O]!==void 0&&ae.status.expand[ke[O]]},Ee),ge.autoSort&&ge.initSort&&ge.initSort.type&&layui.sort(_e[we],ge.initSort.field,ge.initSort.type==="desc",!0),ae.initData(_e[we]),_e},Z.parseData.mod=!0):Z.data!==void 0&&(Z.data=Z.data||[],ue.data.isSimpleData&&(Z.data=ae.flatToTree(Z.data)),ae.initData(Z.data)),re&&(!ie||ie.mod)||(Z.done=function(){var ge,_e=arguments,we=_e[3],ke=we==="renderData",Se=(ke||delete ae.isExpandAll,this.elem.next()),Te=(ae.updateStatus(null,{LAY_HAS_EXPANDED:!1}),_(q,Ee),Se.find('[name="layTableCheckbox"][lay-filter="layTableAllChoose"]'));if(Te.length&&(ge=b.checkStatus(q),Te.prop({checked:ge.isAll&&ge.data.length,indeterminate:!ge.isAll&&ge.data.length})),!ke&&oe.autoSort&&oe.initSort&&oe.initSort.type&&b.sort(q),ae.renderTreeTable(Se),we==="reloadData"&&this.scrollPos==="fixed"&&Se.find(S).scrollTop(ae.scrollTopCache),layui.type(ie)==="function")return ie.apply(this,_e)},Z.done.mod=!0),Z&&Z.tree&&Z.tree.view&&layui.each(p,function(ge,_e){Z.tree.view[_e]!==void 0&&(Z.tree.view[_e]=ae.normalizedIcon(Z.tree.view[_e]))})};x.prototype.init=function(){var q=this.config,Z=q.tree.data.cascade,Z=(N.indexOf(Z)===-1&&(q.tree.data.cascade="all"),u.render(t.extend({},q,{data:[],url:"",done:null}))),re=Z.config.id;(C.that[re]=this).tableIns=Z,B(re,q)},x.prototype.config={tree:{customName:{children:"children",isParent:"isParent",name:"name",id:"id",pid:"parentId",icon:"icon"},view:{indent:14,flexIconClose:'<i class="layui-icon layui-icon-triangle-r"></i>',flexIconOpen:'<i class="layui-icon layui-icon-triangle-d"></i>',showIcon:!0,icon:"",iconClose:'<i class="layui-icon layui-icon-folder"></i>',iconOpen:'<i class="layui-icon layui-icon-folder-open"></i>',iconLeaf:'<i class="layui-icon layui-icon-leaf"></i>',showFlexIconIfNotParent:!1,dblClickExpand:!0,expandAllDefault:!1},data:{isSimpleData:!1,rootPid:null,cascade:"all"},async:{enable:!1,url:"",type:null,contentType:null,headers:null,where:null,autoParam:[]},callback:{beforeExpand:null,onExpand:null}}},x.prototype.normalizedIcon=function(q){return q?K.test(q)?q:'<i class="'+q+'"></i>':""},x.prototype.getOptions=function(){return this.tableIns?u.getOptions(this.tableIns.config.id):this.config},x.prototype.flatToTree=function(q){var Z,re,ae,oe,ue,Ee,O,ee,_e=this.getOptions(),ie=_e.tree,ge=ie.customName,_e=_e.id;return q=q||u.cache[_e],_e=q,Z=ge.id,re=ge.pid,ae=ge.children,oe=ie.data.rootPid,Z=Z||"id",re=re||"parentId",ae=ae||"children",O={},ee=[],layui.each(_e,function(we,ke){ue=Z+ke[Z],Ee=Z+ke[re],O[ue]||(O[ue]={},O[ue][ae]=[]);var Se={};Se[ae]=O[ue][ae],O[ue]=t.extend({},ke,Se),((oe?O[ue][re]===oe:!O[ue][re])?ee:(O[Ee]||(O[Ee]={},O[Ee][ae]=[]),O[Ee][ae])).push(O[ue])}),ee},x.prototype.treeToFlat=function(q,Z,re){var ae=this,oe=ae.getOptions().tree.customName,ue=oe.children,Ee=oe.pid,O=[];return layui.each(q,function(ge,ie){var ge=(re?re+"-":"")+ge,_e=t.extend({},ie);_e[Ee]=ie[Ee]||Z,O.push(_e),O=O.concat(ae.treeToFlat(ie[ue],ie[oe.id],ge))}),O},x.prototype.getTreeNode=function(q){var Z,re,ae=this;return q?(re=(Z=ae.getOptions()).tree,Z.id,re.customName,{data:q,dataIndex:q[Q],getParentNode:function(){return ae.getNodeByIndex(q[w])}}):A.error("\u627E\u4E0D\u5230\u8282\u70B9\u6570\u636E")},x.prototype.getNodeByIndex=function(q){var Z,re,ae=this,oe=ae.getNodeDataByIndex(q);return oe?((re=ae.getOptions()).tree.customName.parent,Z=re.id,(re={data:oe,dataIndex:oe[Q],getParentNode:function(){return ae.getNodeByIndex(oe[w])},update:function(ue){return b.updateNode(Z,q,ue)},remove:function(){return b.removeNode(Z,q)},expand:function(ue){return b.expandNode(Z,t.extend({},ue,{index:q}))},setChecked:function(ue){return b.setRowChecked(Z,t.extend({},ue,{index:q}))}}).dataIndex=q,re):A.error("\u627E\u4E0D\u5230\u8282\u70B9\u6570\u636E")},x.prototype.getNodeById=function(q){var ae=this.getOptions(),Z=ae.tree.customName.id,re="",ae=b.getData(ae.id,!0);if(layui.each(ae,function(oe,ue){if(ue[Z]===q)return re=ue[Q],!0}),re)return this.getNodeByIndex(re)},x.prototype.getNodeDataByIndex=function(q,Z,re){var oe=this.getOptions(),ae=oe.tree,oe=oe.id,oe=u.cache[oe],ue=oe[q];if(re!=="delete"&&ue)return t.extend(ue,re),Z?t.extend({},ue):ue;for(var Ee=oe,O=String(q).split("-"),ee=0,ie=ae.customName.children;ee<O.length;ee++){if(re&&ee===O.length-1){if(re==="delete")return(ee?Ee[ie]:Ee).splice(O[ee],1)[0];t.extend((ee?Ee[ie]:Ee)[O[ee]],re)}Ee=(ee?Ee[ie]:Ee)[O[ee]]}return Z?t.extend({},Ee):Ee},b.getNodeDataByIndex=function(q,Z){if(q=c(q),q)return q.getNodeDataByIndex(Z,!0)},x.prototype.initData=function(q,Z){var re=this.getOptions(),ae=re.tree,re=re.id,ae=(q=q||this.getTableData(),ae.customName),oe=ae.isParent,ue=ae.children,Ee=function(O,ee){layui.each(O,function(ie,ge){oe in ge||(ge[oe]=!(!ge[ue]||!ge[ue].length)),ge[g]=ge[Q],ge[w]=ee=ee||"",ie=ge[Q]=(ee?ee+"-":"")+ie,Ee(ge[ue]||[],ie)})};return Ee(q,Z),_(re,ue,q),q},R={};var R,X=function(q,Z,re){return R[q]||(R[q]=layui.debounce(Z,re)),R[q]},J=function(q,Z,re,ae,oe){var ee=q.trElem,ue=q.tableViewElem||ee.closest(".layui-table-view"),Ee=q.tableId||ue.attr(T),O=q.options||u.getOptions(Ee),ee=q.dataIndex||ee.attr("lay-data-index"),ie=c(Ee),ge=O.tree||{},_e=ge.customName||{},we=_e.isParent,ke=ie.getNodeDataByIndex(ee),Se=layui.type(Z)!=="boolean",Te=Se?!ke[z]:Z,Re=ke[we]?Te:null;if(oe&&Te!=ke[z]&&(!ke[Y]||ke[Y]==="local")){var Ne=ge.callback.beforeExpand;if(layui.type(Ne)==="function"&&Ne(Ee,ke,Z)===!1)return Re}var Ne=ke[G],Ye=ue.find('tr[lay-data-index="'+ee+'"]'),Je=Ye.find(".layui-table-tree-flexIcon"),rt=(ie.updateNodeIcon({scopeEl:Ye,isExpand:Te,isParent:ke[we]}),ke[z]=Te,ke[_e.id]);if(rt!==void 0&&(ie.status.expand[rt]=Te),Re!==null){if(rt=ke[_e.children]||[],Te)if(Ne){if(!rt.length)return;Ye.nextAll(rt.map(function(Nn,pi,Ln){return'tr[lay-data-index="'+Nn[Q]+'"]'}).join(",")).removeClass(k),layui.each(rt,function(Nn,pi){pi[we]&&(!re||Se||pi[z]?pi[z]&&J({dataIndex:pi[Q],trElem:ue.find('tr[lay-data-index="'+pi[Q]+'"]').first(),tableViewElem:ue,tableId:Ee,options:O},!0):J({dataIndex:pi[Q],trElem:ue.find('tr[lay-data-index="'+pi[Q]+'"]').first(),tableViewElem:ue,tableId:Ee,options:O},Z,re,ae,oe))})}else{var We,Ve,Oe,ft,ht,qt,bn,sn,gn,kn,Yn,Ne=ge.async||{},Ye=Ne.url||O.url;if(Ne.enable&&ke[we]&&!ke[Y])return ke[Y]="loading",Je.html('<i class="layui-icon layui-icon-loading layui-anim layui-anim-loop layui-anim-rotate"></i>'),We=function(Ln){ke[Y]="success",ke[_e.children]=Ln,ie.initData(ke[_e.children],ke[Q]),J(q,!0,!Se&&re,ae,oe)},Oe=Ne.format,layui.type(Oe)==="function"?Oe(ke,O,We):(Ve=t.extend({},Ne.where||O.where),Oe=Ne.autoParam,layui.each(Oe,function(Ln,si){si=si.split("="),Ve[si[0].trim()]=ke[(si[1]||si[0]).trim()]}),(Oe=Ne.contentType||O.contentType)&&Oe.indexOf("application/json")==0&&(Ve=JSON.stringify(Ve)),gn=Ne.method||O.method,ft=Ne.dataType||O.dataType,ht=Ne.jsonpCallback||O.jsonpCallback,qt=Ne.headers||O.headers,bn=Ne.parseData||O.parseData,sn=Ne.response||O.response,t.ajax({type:gn||"get",url:Ye,contentType:Oe,data:Ve,dataType:ft||"json",jsonpCallback:ht,headers:qt||{},success:function(Ln){(Ln=typeof bn=="function"&&bn.call(O,Ln)||Ln)[sn.statusName]!=sn.statusCode?(ke[Y]="error",Je.html('<i class="layui-icon layui-icon-refresh"></i>')):We(Ln[sn.dataName])},error:function(Ln,si){ke[Y]="error",typeof O.error=="function"&&O.error(Ln,si)}})),Re;ke[G]=!0,rt.length&&(!O.initSort||O.url&&!O.autoSort||((Ne=O.initSort).type?layui.sort(rt,Ne.field,Ne.type==="desc",!0):layui.sort(rt,u.config.indexName,null,!0)),ie.initData(ke[_e.children],ke[Q]),gn=u.getTrHtml(Ee,rt,null,null,ee),kn={trs:t(gn.trs.join("")),trs_fixed:t(gn.trs_fixed.join("")),trs_fixed_r:t(gn.trs_fixed_r.join(""))},Yn=(ee.split("-").length-1||0)+1,layui.each(rt,function(Ln,si){kn.trs.eq(Ln).attr({"data-index":si[Q],"lay-data-index":si[Q],"data-level":Yn}).data("index",si[Q]),kn.trs_fixed.eq(Ln).attr({"data-index":si[Q],"lay-data-index":si[Q],"data-level":Yn}).data("index",si[Q]),kn.trs_fixed_r.eq(Ln).attr({"data-index":si[Q],"lay-data-index":si[Q],"data-level":Yn}).data("index",si[Q])}),ue.find(E).find('tbody tr[lay-data-index="'+ee+'"]').after(kn.trs),ue.find(r).find('tbody tr[lay-data-index="'+ee+'"]').after(kn.trs_fixed),ue.find(D).find('tbody tr[lay-data-index="'+ee+'"]').after(kn.trs_fixed_r),ie.renderTreeTable(kn.trs,Yn),re)&&!Se&&layui.each(rt,function(Ln,si){J({dataIndex:si[Q],trElem:ue.find('tr[lay-data-index="'+si[Q]+'"]').first(),tableViewElem:ue,tableId:Ee,options:O},Z,re,ae,oe)})}else ie.isExpandAll=!1,(re&&!Se?(layui.each(rt,function(Nn,pi){J({dataIndex:pi[Q],trElem:ue.find('tr[lay-data-index="'+pi[Q]+'"]').first(),tableViewElem:ue,tableId:Ee,options:O},Z,re,ae,oe)}),ue.find(rt.map(function(Nn,pi,Ln){return'tr[lay-data-index="'+Nn[Q]+'"]'}).join(","))):(Ye=ie.treeToFlat(rt,ke[_e.id],ee),ue.find(Ye.map(function(Nn,pi,Ln){return'tr[lay-data-index="'+Nn[Q]+'"]'}).join(",")))).addClass(k);X("resize-"+Ee,function(){b.resize(Ee)},0)(),oe&&ke[Y]!=="loading"&&(Oe=ge.callback.onExpand,layui.type(Oe)==="function")&&Oe(Ee,ke,Te)}return Re},ne=(b.expandNode=function(ue,Z){var re,ae,oe,ue=c(ue);if(ue)return re=(Z=Z||{}).index,ae=Z.expandFlag,oe=Z.inherit,Z=Z.callbackFlag,ue=ue.getOptions().elem.next(),J({trElem:ue.find('tr[lay-data-index="'+re+'"]').first()},ae,oe,null,Z)},b.expandAll=function(q,Z){if(layui.type(Z)!=="boolean")return A.error("expandAll \u7684\u5C55\u5F00\u72B6\u6001\u53C2\u6570\u53EA\u63A5\u6536true/false");var re=c(q);if(re){re.isExpandAll=Z;var ae=re.getOptions(),oe=ae.tree,ue=ae.elem.next(),Ee=oe.customName.isParent,O=oe.customName.id,ee=oe.view.showFlexIconIfNotParent;if(Z){if(Z=b.getData(q,!0),oe.async.enable){var ie=!0;if(layui.each(Z,function(ke,Se){if(Se[Ee]&&!Se[Y])return!(ie=!1)}),!ie)return void layui.each(b.getData(q),function(ke,Se){b.expandNode(q,{index:Se[Q],expandFlag:!0,inherit:!0})})}var ge=!0;if(layui.each(Z,function(ke,Se){if(Se[Ee]&&!Se[G])return!(ge=!1)}),ge)re.updateStatus(null,function(ke){(ke[Ee]||ee)&&(ke[z]=!0,ke[O]!==void 0)&&(re.status.expand[ke[O]]=!0)}),ue.find('tbody tr[data-level!="0"]').removeClass(k),ue.find(".layui-table-tree-flexIcon").html(oe.view.flexIconOpen),oe.view.showIcon&&ue.find(".layui-table-tree-nodeIcon:not(.layui-table-tree-iconCustom,.layui-table-tree-iconLeaf)").html(oe.view.iconOpen);else{if(re.updateStatus(null,function(Se){(Se[Ee]||ee)&&(Se[z]=!0,Se[G]=!0,Se[O]!==void 0)&&(re.status.expand[Se[O]]=!0)}),ae.initSort&&ae.initSort.type&&ae.autoSort)return b.sort(q);var _e,ae=u.getTrHtml(q,Z),we={trs:t(ae.trs.join("")),trs_fixed:t(ae.trs_fixed.join("")),trs_fixed_r:t(ae.trs_fixed_r.join(""))};layui.each(Z,function(Se,Te){var Re=Te[Q].split("-").length-1;_e={"data-index":Te[Q],"lay-data-index":Te[Q],"data-level":Re},we.trs.eq(Se).attr(_e).data("index",Te[Q]),we.trs_fixed.eq(Se).attr(_e).data("index",Te[Q]),we.trs_fixed_r.eq(Se).attr(_e).data("index",Te[Q])}),layui.each(["main","fixed-l","fixed-r"],function(Se,Te){ue.find(".layui-table-"+Te+" tbody").html(we[["trs","trs_fixed","trs_fixed_r"][Se]])}),re.renderTreeTable(ue,0,!1)}}else re.updateStatus(null,function(ke){(ke[Ee]||ee)&&(ke[z]=!1,ke[O]!==void 0)&&(re.status.expand[ke[O]]=!1)}),ue.find('.layui-table-box tbody tr[data-level!="0"]').addClass(k),ue.find(".layui-table-tree-flexIcon").html(oe.view.flexIconClose),oe.view.showIcon&&ue.find(".layui-table-tree-nodeIcon:not(.layui-table-tree-iconCustom,.layui-table-tree-iconLeaf)").html(oe.view.iconClose);b.resize(q)}},x.prototype.updateNodeIcon=function(oe){var Z=this.getOptions().tree||{},re=oe.scopeEl,ae=oe.isExpand,oe=oe.isParent;re.find(".layui-table-tree-flexIcon").css("visibility",oe||Z.view.showFlexIconIfNotParent?"visible":"hidden").html(ae?Z.view.flexIconOpen:Z.view.flexIconClose),Z.view.showIcon&&(re=re.find(".layui-table-tree-nodeIcon:not(.layui-table-tree-iconCustom)"),ae=oe?ae?Z.view.iconOpen:Z.view.iconClose:Z.view.iconLeaf,re.toggleClass("layui-table-tree-iconLeaf",!oe).html(ae))},x.prototype.renderTreeTable=function(q,Z,re){var ae=this,oe=ae.getOptions(),ue=oe.elem.next(),Ee=(ue.hasClass(y)||ue.addClass(y),oe.id),O=oe.tree||{},ee=(O.data,O.view||{}),ie=O.customName||{},ge=ie.isParent,_e=(ue.attr("lay-filter"),ae),we=((Z=Z||0)||(ue.find(".layui-table-body tr:not([data-level])").attr("data-level",Z),layui.each(u.cache[Ee],function(Te,Re){ue.find('.layui-table-main tbody tr[data-level="0"]:eq('+Te+")").attr("lay-data-index",Re[Q]),ue.find('.layui-table-fixed-l tbody tr[data-level="0"]:eq('+Te+")").attr("lay-data-index",Re[Q]),ue.find('.layui-table-fixed-r tbody tr[data-level="0"]:eq('+Te+")").attr("lay-data-index",Re[Q])})),null),ke=ie.name,Se=ee.indent||14;if(layui.each(q.find('td[data-field="'+ke+'"]'),function(Te,rt){var Ne,Ye,Je=(rt=t(rt)).closest("tr"),rt=rt.children(".layui-table-cell");rt.hasClass("layui-table-tree-item")||(Ye=Je.attr("lay-data-index"))&&(Je=ue.find('tr[lay-data-index="'+Ye+'"]'),(Ne=_e.getNodeDataByIndex(Ye))[z]&&Ne[ge]&&((we=we||{})[Ye]=!0),Ne[M]&&Je.find('input[type="checkbox"][name="layTableCheckbox"]').prop("indeterminate",!0),Ye=rt.html(),(rt=Je.find('td[data-field="'+ke+'"]>div.layui-table-cell')).addClass("layui-table-tree-item"),rt.html(['<div class="layui-inline layui-table-tree-flexIcon" ','style="',"margin-left: "+Se*Je.attr("data-level")+"px;",Ne[ge]||ee.showFlexIconIfNotParent?"":" visibility: hidden;",'">',Ne[z]?ee.flexIconOpen:ee.flexIconClose,"</div>",ee.showIcon?'<div class="layui-inline layui-table-tree-nodeIcon'+(Ne[ie.icon]||ee.icon?" layui-table-tree-iconCustom":"")+(Ne[ge]?"":" layui-table-tree-iconLeaf")+'">'+(ae.normalizedIcon(Ne[ie.icon])||ee.icon||(Ne[ge]?Ne[z]?ee.iconOpen:ee.iconClose:ee.iconLeaf)||"")+"</div>":"",Ye].join("")).find(".layui-table-tree-flexIcon").on("click",function(We){layui.stope(We),J({trElem:Je},null,null,null,!0)}))}),!Z&&O.view.expandAllDefault&&ae.isExpandAll===void 0)return b.expandAll(Ee,!0);(re!==!1&&we?(layui.each(we,function(Te,Re){Te=ue.find('tr[lay-data-index="'+Te+'"]'),Te.find(".layui-table-tree-flexIcon").html(ee.flexIconOpen),J({trElem:Te.first()},!0)}),X("renderTreeTable2-"+Ee,function(){s.render(t(".layui-table-tree["+T+'="'+Ee+'"]'))},0)):X("renderTreeTable-"+Ee,function(){oe.hasNumberCol&&ne(ae),s.render(t(".layui-table-tree["+T+'="'+Ee+'"]'))},0))()},function(q){var Z=q.getOptions(),re=Z.elem.next(),ae=0,oe=re.find(".layui-table-main tbody tr"),ue=re.find(".layui-table-fixed-l tbody tr"),Ee=re.find(".layui-table-fixed-r tbody tr");layui.each(q.treeToFlat(u.cache[Z.id]),function(O,ee){ee.LAY_HIDE||(q.getNodeDataByIndex(ee[Q]).LAY_NUM=++ae,oe.eq(O).find(".laytable-cell-numbers").html(ae),ue.eq(O).find(".laytable-cell-numbers").html(ae),Ee.eq(O).find(".laytable-cell-numbers").html(ae))})}),le=(x.prototype.render=function(q){var Z=this;Z.tableIns=u[q==="reloadData"?"reloadData":"reload"](Z.tableIns.config.id,t.extend(!0,{},Z.config)),Z.config=Z.tableIns.config},x.prototype.reload=function(q,Z,re){var ae=this;q=q||{},delete ae.haveInit,layui.each(q,function(oe,ue){layui.type(ue)==="array"&&delete ae.config[oe]}),B(ae.getOptions().id,q,re||!0),ae.config=t.extend(Z,{},ae.config,q),ae.render(re)},b.reloadData=function(){var q=t.extend(!0,[],arguments);return q[3]="reloadData",b.reload.apply(null,q)},function(q,Z,re,ae){var oe=[];return layui.each(q,function(ue,Ee){layui.type(Z)==="function"?Z(Ee):t.extend(Ee,Z),oe.push(t.extend({},Ee)),ae||(oe=oe.concat(le(Ee[re],Z,re,ae)))}),oe}),me=(x.prototype.updateStatus=function(q,Z,re){var ae=this.getOptions(),oe=ae.tree;return q=q||u.cache[ae.id],le(q,Z,oe.customName.children,re)},x.prototype.getTableData=function(){var q=this.getOptions();return u.cache[q.id]},b.updateStatus=function(ae,Z,re){var ae=c(ae),oe=ae.getOptions();return re=re||(oe.url?u.cache[oe.id]:oe.data),ae.updateStatus(re,Z)},b.sort=function(q){var Z,re,ae,oe,ue,Ee=c(q);Ee&&(ue=(Z=Ee.getOptions()).tree,re=b.getData(q),ae=ue.customName.children,oe=function(O,ee,ie){layui.sort(O,ee,ie,!0),layui.each(O,function(ge,_e){oe(_e[ae]||[],ee,ie)})},Z.autoSort)&&((ue=Z.initSort).type?oe(re,ue.field,ue.type==="desc"):oe(re,u.config.indexName,null),u.cache[q]=re,Ee.initData(re),b.renderData(q))},function(q){var Z=q.config.id,re=c(Z),ae=q.data=b.getNodeDataByIndex(Z,q.index),oe=ae[Q],ue=(q.dataIndex=oe,q.update);q.update=function(){var Ee=arguments,O=(t.extend(re.getNodeDataByIndex(oe),Ee[0]),ue.apply(this,Ee)),ee=q.config.tree.customName.name;return ee in Ee[0]&&q.tr.find('td[data-field="'+ee+'"]').children("div.layui-table-cell").removeClass("layui-table-tree-item"),re.renderTreeTable(q.tr,q.tr.attr("data-level"),!1),O},q.del=function(){b.removeNode(Z,ae)},q.setRowChecked=function(Ee){b.setRowChecked(Z,{index:ae,checked:Ee})}}),Ae=(b.updateNode=function(q,Z,re){var ae,oe,ue,Ee,O,ee=c(q);ee&&((Ee=ee.getOptions()).tree,Ee=(ae=Ee.elem.next()).find('tr[lay-data-index="'+Z+'"]'),oe=Ee.attr("data-index"),ue=Ee.attr("data-level"),re)&&(Ee=ee.getNodeDataByIndex(Z,!1,re),O=u.getTrHtml(q,[Ee]),layui.each(["main","fixed-l","fixed-r"],function(ie,ge){ae.find(".layui-table-"+ge+' tbody tr[lay-data-index="'+Z+'"]').replaceWith(t(O[["trs","trs_fixed","trs_fixed_r"][ie]].join("")).attr({"data-index":oe,"lay-data-index":Z,"data-level":ue}).data("index",oe))}),ee.renderTreeTable(ae.find('tr[lay-data-index="'+Z+'"]'),ue))},b.removeNode=function(q,Z,re){var ae=c(q);if(ae){var oe,ue=ae.getOptions(),we=ue.tree,Ee=we.customName.isParent,O=we.customName.children,ee=ue.elem.next(),ie=[],ge=u.cache[q],Z=ae.getNodeDataByIndex(layui.type(Z)==="string"?Z:Z[Q],!1,"delete"),_e=ae.getNodeDataByIndex(Z[w]),we=(ae.updateCheckStatus(_e),ae.treeToFlat([Z],Z[we.customName.pid],Z[w])),Z=(layui.each(we,function(Se,Te){Te=Te[Q],ie.push('tr[lay-data-index="'+Te+'"]'),Te.indexOf("-")!==-1&&delete ge[Te]}),ee.find(ie.join(",")).remove(),ae.initData());for(oe in ge)oe.indexOf("-")!==-1&&oe!==ge[oe][Q]&&delete ge[oe];layui.each(ae.treeToFlat(Z),function(Se,Te){Te[g]&&Te[g]!==Te[Q]&&ee.find('tr[lay-data-index="'+Te[g]+'"]').attr({"data-index":Te[Q],"lay-data-index":Te[Q]}).data("index",Te[Q])}),layui.each(ge,function(Se,Te){ee.find('tr[data-level="0"][lay-data-index="'+Te[Q]+'"]').attr("data-index",Se).data("index",Se)}),ue.hasNumberCol&&ne(ae),_e&&(we=ee.find('tr[lay-data-index="'+_e[Q]+'"]'),re||(_e[Ee]=!(!_e[O]||!_e[O].length)),ae.updateNodeIcon({scopeEl:we,isExpand:_e[z],isParent:_e[Ee]})),b.resize(q)}},b.addNodes=function(q,Z){var re=c(q);if(re){var ae=re.getOptions(),oe=ae.tree,ue=ae.elem.next(),Ee=u.config.checkName,O=(Z=Z||{}).parentIndex,ie=Z.index,ge=Z.data,Z=Z.focus,ee=(O=layui.type(O)==="number"?O.toString():O)?re.getNodeDataByIndex(O):null,ie=layui.type(ie)==="number"?ie:-1,ge=t.extend(!0,[],layui.isArray(ge)?ge:[ge]);if(layui.each(ge,function(Ye,Je){Ee in Je||!ee||(Je[Ee]=ee[Ee])}),re.getTableData(),ee){var _e=oe.customName.isParent,ke=oe.customName.children;ee[_e]=!0;var we=(we=ee[ke])?(Se=we.splice(ie===-1?we.length:ie),ee[ke]=we.concat(ge,Se)):ee[ke]=ge,ke=(re.updateStatus(we,function(Ye){(Ye[_e]||oe.view.showFlexIconIfNotParent)&&(Ye[G]=!1)}),re.treeToFlat(we));ue.find(ke.map(function(Ye){return'tr[lay-data-index="'+Ye[Q]+'"]'}).join(",")).remove(),re.initData(),ee[G]=!1,ee[Y]="local",J({trElem:ue.find('tr[lay-data-index="'+O+'"]')},!0)}else{var Se=u.cache[q].splice(ie===-1?u.cache[q].length:ie);if(u.cache[q]=u.cache[q].concat(ge,Se),ae.url||(ae.page?(we=ae.page,ae.data.splice.apply(ae.data,[we.limit*(we.curr-1),we.limit].concat(u.cache[q]))):ae.data=u.cache[q]),re.initData(),ue.find(".layui-none").length)return u.renderData(q),ge;var Te,ke=u.getTrHtml(q,ge),Re={trs:t(ke.trs.join("")),trs_fixed:t(ke.trs_fixed.join("")),trs_fixed_r:t(ke.trs_fixed_r.join(""))},O=(layui.each(ge,function(Ve,Oe){Te={"data-index":Oe[Q],"lay-data-index":Oe[Q],"data-level":"0"},Re.trs.eq(Ve).attr(Te).data("index",Oe[Q]),Re.trs_fixed.eq(Ve).attr(Te).data("index",Oe[Q]),Re.trs_fixed_r.eq(Ve).attr(Te).data("index",Oe[Q])}),parseInt(ge[0][Q])-1),we=ue.find(E),ae=ue.find(r),ke=ue.find(D);O==-1?we.find('tr[data-level="0"][data-index="0"]')[0]?(we.find('tr[data-level="0"][data-index="0"]').before(Re.trs),ae.find('tr[data-level="0"][data-index="0"]').before(Re.trs_fixed),ke.find('tr[data-level="0"][data-index="0"]').before(Re.trs_fixed_r)):(we.find("tbody").prepend(Re.trs),ae.find("tbody").prepend(Re.trs_fixed),ke.find("tbody").prepend(Re.trs_fixed_r)):ie===-1?(we.find("tbody").append(Re.trs),ae.find("tbody").append(Re.trs_fixed),ke.find("tbody").append(Re.trs_fixed_r)):(O=Se[0][g],we.find('tr[data-level="0"][data-index="'+O+'"]').before(Re.trs),ae.find('tr[data-level="0"][data-index="'+O+'"]').before(Re.trs_fixed),ke.find('tr[data-level="0"][data-index="'+O+'"]').before(Re.trs_fixed_r)),layui.each(u.cache[q],function(Ve,Oe){ue.find('tr[data-level="0"][lay-data-index="'+Oe[Q]+'"]').attr("data-index",Ve).data("index",Ve)}),re.renderTreeTable(ue.find(ge.map(function(Ve,Oe,ft){return'tr[lay-data-index="'+Ve[Q]+'"]'}).join(",")))}return re.updateCheckStatus(ee),ee&&(ie=ue.find('tr[lay-data-index="'+ee[Q]+'"]'),re.updateNodeIcon({scopeEl:ie,isExpand:ee[z],isParent:ee[_e]})),b.resize(q),Z&&ue.find(E).find('tr[lay-data-index="'+ge[0][Q]+'"]').get(0).scrollIntoViewIfNeeded(),ge}},b.checkStatus=function(q,Z){var re,ae,oe,ue=c(q);if(ue)return ue=ue.getOptions().tree,re=u.config.checkName,ae=b.getData(q,!0).filter(function(Ee,O,ee){return Ee[re]||Z&&Ee[M]}),oe=!0,layui.each(ue.data.cascade==="all"?u.cache[q]:b.getData(q,!0),function(Ee,O){if(!O[re])return!(oe=!1)}),{data:ae,isAll:oe}},b.on("sort",function(re){var re=re.config,Z=re.elem.next(),re=re.id;Z.hasClass(y)&&b.sort(re)}),b.on("row",function(q){q.config.elem.next().hasClass(y)&&me(q)}),b.on("rowDouble",function(q){var Z=q.config,re=Z.elem.next();Z.id,re.hasClass(y)&&(me(q),(Z.tree||{}).view.dblClickExpand)&&J({trElem:q.tr.first()},null,null,null,!0)}),b.on("rowContextmenu",function(q){var Z=q.config,re=Z.elem.next();Z.id,re.hasClass(y)&&me(q)}),b.on("tool",function(q){var Z=q.config,re=Z.elem.next();Z.id,re.hasClass(y)&&me(q)}),b.on("edit",function(q){var Z=q.config,re=Z.elem.next();Z.id,re.hasClass(y)&&(me(q),q.field===Z.tree.customName.name)&&((re={})[q.field]=q.value,q.update(re))}),b.on("radio",function(q){var re=q.config,Z=re.elem.next(),re=re.id;Z.hasClass(y)&&(Z=c(re),me(q),Ae.call(Z,q.tr,q.checked))}),x.prototype.setRowCheckedClass=function(q,Z){var re=this.getOptions(),ae=(q.data("index"),re.elem.next());q[Z?"addClass":"removeClass"](f),q.each(function(){var oe=t(this).data("index");ae.find('.layui-table-fixed-r tbody tr[data-index="'+oe+'"]')[Z?"addClass":"removeClass"](f)})},x.prototype.updateCheckStatus=function(q,Z){var re,ae,oe,ue,Ee,O,ee,ie=this,ge=ie.getOptions();return!!ge.hasChecboxCol&&(re=ge.tree,ae=ge.id,oe=ge.elem.next(),ue=u.config.checkName,(Ee=re.data.cascade)!=="all"&&Ee!=="parent"||!q||(Ee=ie.updateParentCheckStatus(q,layui.type(Z)==="boolean"?Z:null),layui.each(Ee,function(_e,we){var ke=oe.find('tr[lay-data-index="'+we[Q]+'"]  input[name="layTableCheckbox"]:not(:disabled)'),Se=we[ue];ie.setRowCheckedClass(ke.closest("tr"),Se),s.render(ke.prop({checked:Se,indeterminate:we[M]}))})),ee=!(O=!0),0<(q=(q=re.data.cascade==="all"?u.cache[ae]:b.getData(ae,!0)).filter(function(_e){return!_e[ge.disabledName]})).length?layui.each(q,function(_e,we){if((we[ue]||we[M])&&(ee=!0),we[ue]||(O=!1),ee&&!O)return!0}):O=!1,ee=ee&&!O,s.render(oe.find('input[name="layTableCheckbox"][lay-filter="layTableAllChoose"]').prop({checked:O,indeterminate:ee})),O)},x.prototype.updateParentCheckStatus=function(q,Z){var re,ae=this.getOptions(),ue=ae.tree,ae=ae.id,oe=u.config.checkName,ue=ue.customName.children,Ee=[];return!(q[M]=!1)===Z?q[ue].length?layui.each(q[ue],function(O,ee){if(!ee[oe])return Z=!1,q[M]=!0}):Z=!1:Z===!1?layui.each(q[ue],function(O,ee){if(ee[oe]||ee[M])return q[M]=!0}):(Z=!1,re=0,layui.each(q[ue],function(O,ee){ee[oe]&&re++}),Z=q[ue].length?q[ue].length===re:q[oe],q[M]=!Z&&0<re),q[oe]=Z,Ee.push(t.extend({},q)),Ee=q[w]?Ee.concat(this.updateParentCheckStatus(u.cache[ae][q[w]],Z)):Ee},function(q,Z,re){var ae=this,ee=ae.getOptions(),oe=ee.tree,ue=ee.id,Ee=ee.elem.next(),O=(q.length?q:Ee).find(".laytable-cell-radio, .laytable-cell-checkbox").children("input").last(),ee=O.attr("type")==="radio";if(re)re=function(){var _e=function(we){layui.stope(we)};O.parent().on("click",_e),O.next().click(),O.parent().off("click",_e)},ee?Z&&!O.prop("checked")&&re():layui.type(Z)==="boolean"&&O.prop("checked")===Z||re();else{var ie,re=ae.getNodeDataByIndex(q.attr("data-index")),ge=u.config.checkName;if(!ee)return Z=layui.type(Z)==="boolean"?Z:!re[ge],ee=ae.updateStatus(re?[re]:u.cache[ue],function(we){we[u.config.disabledName]||(we[ge]=Z,we[M]=!1)},re&&["parent","none"].indexOf(oe.data.cascade)!==-1),ue=Ee.find(ee.map(function(we){return'tr[lay-data-index="'+we[Q]+'"] input[name="layTableCheckbox"]:not(:disabled)'}).join(",")),ae.setRowCheckedClass(ue.closest("tr"),Z),s.render(ue.prop({checked:Z,indeterminate:!1})),re&&re[w]&&(ie=ae.getNodeDataByIndex(re[w])),ae.updateCheckStatus(ie,Z);re&&(ae.updateStatus(null,function(we){var ke;we[ge]&&(ke=Ee.find('tr[lay-data-index="'+we[Q]+'"] input[type="radio"][lay-type="layTableRadio"]'),we[ge]=!1,ae.setRowCheckedClass(ke.closest("tr"),!1),s.render(ke.prop("checked",!1)))}),re[ge]=Z,ae.setRowCheckedClass(q,Z),ae.setRowCheckedClass(q.siblings(),!1),s.render(q.find('input[type="radio"][lay-type="layTableRadio"]').prop("checked",Z)))}});b.on("checkbox",function(q){var re=q.config,Z=re.elem.next(),re=re.id;Z.hasClass(y)&&(Z=c(re),re=q.checked,me(q),q.isAll=Ae.call(Z,q.tr,re))}),b.setRowChecked=function(q,Z){var re,ae,oe,ue,Ee,O,ee,ie=c(q);ie&&(re=ie.getOptions().elem.next(),oe=(Z=Z||{}).index,ae=Z.checked,Z=Z.callbackFlag,oe=layui.type(oe)==="string"?oe:oe[Q],O=ie.getNodeDataByIndex(oe))&&(ue=function(ge){ee.push(ge),re.find('tr[lay-data-index="'+ge+'"]').length||(ge=ie.getNodeDataByIndex(ge)[w])&&ue(ge)},(Ee=re.find('tr[lay-data-index="'+oe+'"]')).length||(O=O[w],ee=[],ue(O),layui.each(ee.reverse(),function(ge,_e){b.expandNode(q,{index:_e,expandFlag:!0})}),Ee=re.find('tr[lay-data-index="'+oe+'"]')),Ae.call(ie,Ee,ae,Z))},b.checkAllNodes=function(ae,Z){var re,ae=c(ae);ae&&(re=ae.getOptions().elem.next(),Ae.call(ae,re.find('tr[data-index="NONE"]'),!!Z))},b.getData=function(q,Z){var re,ae=c(q);if(ae)return re=[],layui.each(t.extend(!0,[],u.cache[q]||[]),function(oe,ue){re.push(ue)}),Z?ae.treeToFlat(re):re},b.reloadAsyncNode=function(q,Z){var re,ae,oe=c(q);oe&&(re=oe.getOptions().tree).async&&re.async.enable&&(ae=oe.getNodeDataByIndex(Z))&&(ae[G]=!1,ae[z]=!1,ae[Y]=!1,layui.each(oe.treeToFlat(ae[re.customName.children]).reverse(),function(ue,Ee){b.removeNode(q,Ee[Q],!0)}),b.expandNode(q,{index:Z,expandFlag:!0,callbackFlag:!0}))},b.getNodeById=function(q,Z){if(q=c(q),q)return q.getNodeById(Z)},b.getNodesByFilter=function(q,Z,re){var ae,oe,ue,Ee=c(q);if(Ee)return oe=Ee.getOptions(),ae=(re=re||{}).isSingle,re=(re=re.parentNode)&&re.data,oe=Ee.treeToFlat(re?re[oe.tree.customName.children]||[]:u.cache[q]).filter(Z),ue=[],layui.each(oe,function(O,ee){if(ue.push(Ee.getNodeByIndex(ee[Q])),ae)return!0}),ue},C.that={},b.reload=function(q,Z,re,ae){if(q=c(q),q)return q.reload(Z,re,ae),C.call(q)},b.render=function(q){return q=new x(q),C.call(q)},i("treeTable",b)}),layui.define(["form","util"],function(i){var t=layui.$,s=layui.form,u=layui.layer,A=layui.util,b="tree",C={config:{customName:{id:"id",title:"title",children:"children"}},index:layui[b]?layui[b].index+1e4:0,set:function(N){var K=this;return K.config=t.extend({},K.config,N),K},on:function(N,K){return layui.onevent.call(this,b,N,K)}},c=function(){var N=this,K=N.config,p=K.id||N.index;return c.that[p]=N,{config:c.config[p]=K,reload:function(x){N.reload.call(N,x)},getChecked:function(){return N.getChecked.call(N)},setChecked:function(x){return N.setChecked.call(N,x)}}},T="layui-hide",k="layui-disabled",S="layui-tree-set",E="layui-tree-iconClick",r="layui-icon-addition",D="layui-icon-subtraction",f="layui-tree-entry",y="layui-tree-main",Q="layui-tree-txt",g="layui-tree-pack",w="layui-tree-spread",M="layui-tree-setLineShort",z="layui-tree-showLine",G="layui-tree-lineExtend",Y=function(N){var K=this;K.index=++C.index,K.config=t.extend({},K.config,C.config,N),K.render()};Y.prototype.config={data:[],showCheckbox:!1,showLine:!0,accordion:!1,onlyIconControl:!1,isJump:!1,edit:!1,text:{defaultNodeName:"\u672A\u547D\u540D",none:"\u65E0\u6570\u636E"}},Y.prototype.reload=function(N){var K=this;layui.each(N,function(p,x){layui.type(x)==="array"&&delete K.config[p]}),K.config=t.extend(!0,{},K.config,N),K.render()},Y.prototype.render=function(){var N=this,K=N.config,p=(K.customName=t.extend({},C.config.customName,K.customName),N.checkids=[],t('<div class="layui-tree layui-border-box'+(K.showCheckbox?" layui-form":"")+(K.showLine?" layui-tree-line":"")+'" lay-filter="LAY-tree-'+N.index+'"></div>')),x=(N.tree(p),K.elem=t(K.elem));if(x[0]){if(N.key=K.id||N.index,N.elem=p,N.elemNone=t('<div class="layui-tree-emptyText">'+K.text.none+"</div>"),x.html(N.elem),N.elem.find(".layui-tree-set").length==0)return N.elem.append(N.elemNone);K.showCheckbox&&N.renderForm("checkbox"),N.elem.find(".layui-tree-set").each(function(){var _=t(this);_.parent(".layui-tree-pack")[0]||_.addClass("layui-tree-setHide"),!_.next()[0]&&_.parents(".layui-tree-pack").eq(1).hasClass("layui-tree-lineExtend")&&_.addClass(M),_.next()[0]||_.parents(".layui-tree-set").eq(0).next()[0]||_.addClass(M)}),N.events()}},Y.prototype.renderForm=function(N){s.render(N,"LAY-tree-"+this.index)},Y.prototype.tree=function(N,B){var p=this,x=p.config,_=x.customName,B=B||x.data;layui.each(B,function(R,X){var J,ne,le=X[_.children]&&0<X[_.children].length,me=t('<div class="layui-tree-pack" '+(X.spread?'style="display: block;"':"")+"></div>"),Ae=t(['<div data-id="'+X[_.id]+'" class="layui-tree-set'+(X.spread?" layui-tree-spread":"")+(X.checked?" layui-tree-checkedFirst":"")+'">','<div class="layui-tree-entry">','<div class="layui-tree-main">',x.showLine?le?'<span class="layui-tree-iconClick layui-tree-icon"><i class="layui-icon '+(X.spread?"layui-icon-subtraction":"layui-icon-addition")+'"></i></span>':'<span class="layui-tree-iconClick"><i class="layui-icon layui-icon-file"></i></span>':'<span class="layui-tree-iconClick"><i class="layui-tree-iconArrow '+(le?"":T)+'"></i></span>',x.showCheckbox?'<input type="checkbox" name="'+(X.field||"layuiTreeCheck_"+X[_.id])+'" same="layuiTreeCheck" lay-skin="primary" '+(X.disabled?"disabled":"")+' value="'+X[_.id]+'">':"",x.isJump&&X.href?'<a href="'+X.href+'" target="_blank" class="'+Q+'">'+(X[_.title]||X.label||x.text.defaultNodeName)+"</a>":'<span class="'+Q+(X.disabled?" "+k:"")+'">'+(X[_.title]||X.label||x.text.defaultNodeName)+"</span>","</div>",x.edit?(J={add:'<i class="layui-icon layui-icon-add-1"  data-type="add"></i>',update:'<i class="layui-icon layui-icon-edit" data-type="update"></i>',del:'<i class="layui-icon layui-icon-delete" data-type="del"></i>'},ne=['<div class="layui-btn-group layui-tree-btnGroup">'],x.edit===!0&&(x.edit=["update","del"]),typeof x.edit=="object"?(layui.each(x.edit,function(q,Z){ne.push(J[Z]||"")}),ne.join("")+"</div>"):void 0):"","</div></div>"].join(""));le&&(Ae.append(me),p.tree(me,X[_.children])),N.append(Ae),Ae.prev("."+S)[0]&&Ae.prev().children(".layui-tree-pack").addClass("layui-tree-showLine"),le||Ae.parent(".layui-tree-pack").addClass("layui-tree-lineExtend"),p.spread(Ae,X),x.showCheckbox&&(X.checked&&p.checkids.push(X[_.id]),p.checkClick(Ae,X)),x.edit&&p.operate(Ae,X)})},Y.prototype.spread=function(N,K){var p=this,x=p.config,X=N.children("."+f),_=X.children("."+y),B=_.find('input[same="layuiTreeCheck"]'),R=X.find("."+E),X=X.find("."+Q),J=x.onlyIconControl?R:_,ne="";J.on("click",function(le){var me=N.children("."+g),Ae=(J.children(".layui-icon")[0]?J:J.find(".layui-tree-icon")).children(".layui-icon");me[0]?N.hasClass(w)?(N.removeClass(w),me.slideUp(200),Ae.removeClass(D).addClass(r),p.updateFieldValue(K,"spread",!1)):(N.addClass(w),me.slideDown(200),Ae.addClass(D).removeClass(r),p.updateFieldValue(K,"spread",!0),x.accordion&&((me=N.siblings("."+S)).removeClass(w),me.children("."+g).slideUp(200),me.find(".layui-tree-icon").children(".layui-icon").removeClass(D).addClass(r))):ne="normal"}),X.on("click",function(){t(this).hasClass(k)||(ne=N.hasClass(w)?x.onlyIconControl?"open":"close":x.onlyIconControl?"close":"open",B[0]&&p.updateFieldValue(K,"checked",B.prop("checked")),x.click&&x.click({elem:N,state:ne,data:K}))})},Y.prototype.updateFieldValue=function(N,K,p){K in N&&(N[K]=p)},Y.prototype.setCheckbox=function(N,K,p){var x,_=this,B=_.config.customName,R=p.prop("checked");p.prop("disabled")||(typeof K[B.children]!="object"&&!N.find("."+g)[0]||N.find("."+g).find('input[same="layuiTreeCheck"]').each(function(X){this.disabled||((X=K[B.children][X])&&_.updateFieldValue(X,"checked",R),_.updateFieldValue(this,"checked",R))}),(x=function(X){var J,ne,le;X.parents("."+S)[0]&&(ne=(X=X.parent("."+g)).parent(),le=X.prev().find('input[same="layuiTreeCheck"]'),R?le.prop("checked",R):(X.find('input[same="layuiTreeCheck"]').each(function(){this.checked&&(J=!0)}),J||le.prop("checked",!1)),x(ne))})(N),_.renderForm("checkbox"))},Y.prototype.checkClick=function(N,K){var p=this,x=p.config;N.children("."+f).children("."+y).on("click",'input[same="layuiTreeCheck"]+',function(B){layui.stope(B);var B=t(this).prev(),R=B.prop("checked");B.prop("disabled")||(p.setCheckbox(N,K,B),p.updateFieldValue(K,"checked",R),x.oncheck&&x.oncheck({elem:N,checked:R,data:K}))})},Y.prototype.operate=function(N,K){var p=this,x=p.config,_=x.customName,B=N.children("."+f),R=B.children("."+y);B.children(".layui-tree-btnGroup").on("click",".layui-icon",function(ne){layui.stope(ne);var J,ne=t(this).data("type"),le=N.children("."+g),me={data:K,type:ne,elem:N};if(ne=="add"){le[0]||(x.showLine?(R.find("."+E).addClass("layui-tree-icon"),R.find("."+E).children(".layui-icon").addClass(r).removeClass("layui-icon-file")):R.find(".layui-tree-iconArrow").removeClass(T),N.append('<div class="layui-tree-pack"></div>'));var Ae,q=x.operate&&x.operate(me),Z={};if(Z[_.title]=x.text.defaultNodeName,Z[_.id]=q,p.tree(N.children("."+g),[Z]),x.showLine&&(le[0]?(le.hasClass(G)||le.addClass(G),N.find("."+g).each(function(){t(this).children("."+S).last().addClass(M)}),(le.children("."+S).last().prev().hasClass(M)?le.children("."+S).last().prev():le.children("."+S).last()).removeClass(M),!N.parent("."+g)[0]&&N.next()[0]&&le.children("."+S).last().removeClass(M)):(q=N.siblings("."+S),Ae=1,Z=N.parent("."+g),layui.each(q,function(re,ae){t(ae).children("."+g)[0]||(Ae=0)}),(Ae==1?(q.children("."+g).addClass(z),q.children("."+g).children("."+S).removeClass(M),N.children("."+g).addClass(z),Z.removeClass(G),Z.children("."+S).last().children("."+g).children("."+S).last()):N.children("."+g).children("."+S)).addClass(M))),!x.showCheckbox)return;R.find('input[same="layuiTreeCheck"]')[0].checked&&(N.children("."+g).children("."+S).last().find('input[same="layuiTreeCheck"]')[0].checked=!0),p.renderForm("checkbox")}else ne=="update"?(q=R.children("."+Q).html(),R.children("."+Q).html(""),R.append('<input type="text" class="layui-tree-editInput">'),R.children(".layui-tree-editInput").val(A.unescape(q)).focus(),J=function(re){var ae=A.escape(re.val().trim())||x.text.defaultNodeName;re.remove(),R.children("."+Q).html(ae),me.data[_.title]=ae,x.operate&&x.operate(me)},R.children(".layui-tree-editInput").blur(function(){J(t(this))}),R.children(".layui-tree-editInput").on("keydown",function(re){re.keyCode===13&&(re.preventDefault(),J(t(this)))})):u.confirm('\u786E\u8BA4\u5220\u9664\u8BE5\u8282\u70B9 "<span style="color: #999;">'+(K[_.title]||"")+'</span>" \u5417\uFF1F',function(re){var ae,oe,ue;x.operate&&x.operate(me),me.status="remove",u.close(re),N.prev("."+S)[0]||N.next("."+S)[0]||N.parent("."+g)[0]?(N.siblings("."+S).children("."+f)[0]?(x.showCheckbox&&(ae=function(Ee){var O,ee,ie,ge;Ee.parents("."+S)[0]&&(O=Ee.siblings("."+S).children("."+f),ee=(Ee=Ee.parent("."+g).prev()).find('input[same="layuiTreeCheck"]')[0],ie=1,(ge=0)==ee.checked)&&(O.each(function(_e,we){we=t(we).find('input[same="layuiTreeCheck"]')[0],we.checked!=0||we.disabled||(ie=0),we.disabled||(ge=1)}),ie==1)&&ge==1&&(ee.checked=!0,p.renderForm("checkbox"),ae(Ee.parent("."+S)))})(N),x.showLine&&(re=N.siblings("."+S),oe=1,ue=N.parent("."+g),layui.each(re,function(Ee,O){t(O).children("."+g)[0]||(oe=0)}),oe==1?(le[0]||(ue.removeClass(G),re.children("."+g).addClass(z),re.children("."+g).children("."+S).removeClass(M)),(N.next()[0]?ue.children("."+S).last():N.prev()).children("."+g).children("."+S).last().addClass(M),N.next()[0]||N.parents("."+S)[1]||N.parents("."+S).eq(0).next()[0]||N.prev("."+S).addClass(M)):!N.next()[0]&&N.hasClass(M)&&N.prev().addClass(M))):(re=N.parent("."+g).prev(),x.showLine?(re.find("."+E).removeClass("layui-tree-icon"),re.find("."+E).children(".layui-icon").removeClass(D).addClass("layui-icon-file"),(ue=re.parents("."+g).eq(0)).addClass(G),ue.children("."+S).each(function(){t(this).children("."+g).children("."+S).last().addClass(M)})):re.find(".layui-tree-iconArrow").addClass(T),N.parents("."+S).eq(0).removeClass(w),N.parent("."+g).remove()),N.remove()):(N.remove(),p.elem.append(p.elemNone))})})},Y.prototype.events=function(){var N=this,K=N.config;N.elem.find(".layui-tree-checkedFirst"),N.setChecked(N.checkids),N.elem.find(".layui-tree-search").on("keyup",function(){var x=t(this),p=x.val(),x=x.nextAll(),_=[];x.find("."+Q).each(function(){var B,R=t(this).parents("."+f);t(this).html().indexOf(p)!=-1&&(_.push(t(this).parent()),(B=function(X){X.addClass("layui-tree-searchShow"),X.parent("."+g)[0]&&B(X.parent("."+g).parent("."+S))})(R.parent("."+S)))}),x.find("."+f).each(function(){var B=t(this).parent("."+S);B.hasClass("layui-tree-searchShow")||B.addClass(T)}),x.find(".layui-tree-searchShow").length==0&&N.elem.append(N.elemNone),K.onsearch&&K.onsearch({elem:_})}),N.elem.find(".layui-tree-search").on("keydown",function(){t(this).nextAll().find("."+f).each(function(){t(this).parent("."+S).removeClass("layui-tree-searchShow "+T)}),t(".layui-tree-emptyText")[0]&&t(".layui-tree-emptyText").remove()})},Y.prototype.getChecked=function(){var N=this,K=N.config,p=K.customName,x=[],_=[],B=(N.elem.find(".layui-form-checked").each(function(){x.push(t(this).prev()[0].value)}),function(R,X){layui.each(R,function(J,ne){layui.each(x,function(le,me){if(ne[p.id]==me)return N.updateFieldValue(ne,"checked",!0),delete(me=t.extend({},ne))[p.children],X.push(me),ne[p.children]&&(me[p.children]=[],B(ne[p.children],me[p.children])),!0})})});return B(t.extend({},K.data),_),_},Y.prototype.setChecked=function(N){this.config,this.elem.find("."+S).each(function(K,p){var x=t(this).data("id"),_=t(p).children("."+f).find('input[same="layuiTreeCheck"]'),B=_.next();if(typeof N=="number"){if(x.toString()==N.toString())return _[0].checked||B.click(),!1}else typeof N=="object"&&layui.each(N,function(R,X){if(X.toString()==x.toString()&&!_[0].checked)return B.click(),!0})})},c.that={},c.config={},C.reload=function(N,K){return N=c.that[N],N.reload(K),c.call(N)},C.getChecked=function(N){return c.that[N].getChecked()},C.setChecked=function(N,K){return c.that[N].setChecked(K)},C.render=function(N){return N=new Y(N),c.call(N)},i(b,C)}),layui.define(["laytpl","form"],function(i){var t=layui.$,s=layui.laytpl,u=layui.form,A="transfer",b={config:{},index:layui[A]?layui[A].index+1e4:0,set:function(g){var w=this;return w.config=t.extend({},w.config,g),w},on:function(g,w){return layui.onevent.call(this,A,g,w)}},C=function(){var g=this,w=g.config,M=w.id||g.index;return C.that[M]=g,{config:C.config[M]=w,reload:function(z){g.reload.call(g,z)},getData:function(){return g.getData.call(g)}}},c="layui-hide",T="layui-btn-disabled",k="layui-none",S="layui-transfer-box",E="layui-transfer-header",r="layui-transfer-search",D="layui-transfer-data",f=function(g){return['<div class="layui-transfer-box" data-index="'+(g=g||{}).index+'">','<div class="layui-transfer-header">','<input type="checkbox" name="'+g.checkAllName+'" lay-filter="layTransferCheckbox" lay-type="all" lay-skin="primary" title="{{= d.data.title['+g.index+"] || 'list"+(g.index+1)+`' }}">`,"</div>","{{# if(d.data.showSearch){ }}",'<div class="layui-transfer-search">','<i class="layui-icon layui-icon-search"></i>','<input type="text" class="layui-input" placeholder="\u5173\u952E\u8BCD\u641C\u7D22">',"</div>","{{# } }}",'<ul class="layui-transfer-data"></ul>',"</div>"].join("")},y=['<div class="layui-transfer layui-form layui-border-box" lay-filter="LAY-transfer-{{= d.index }}">',f({index:0,checkAllName:"layTransferLeftCheckAll"}),'<div class="layui-transfer-active">','<button type="button" class="layui-btn layui-btn-sm layui-btn-primary layui-btn-disabled" data-index="0">','<i class="layui-icon layui-icon-next"></i>',"</button>",'<button type="button" class="layui-btn layui-btn-sm layui-btn-primary layui-btn-disabled" data-index="1">','<i class="layui-icon layui-icon-prev"></i>',"</button>","</div>",f({index:1,checkAllName:"layTransferRightCheckAll"}),"</div>"].join(""),Q=function(g){var w=this;w.index=++b.index,w.config=t.extend({},w.config,b.config,g),w.render()};Q.prototype.config={title:["\u5217\u8868\u4E00","\u5217\u8868\u4E8C"],width:200,height:360,data:[],value:[],showSearch:!1,id:"",text:{none:"\u65E0\u6570\u636E",searchNone:"\u65E0\u5339\u914D\u6570\u636E"}},Q.prototype.reload=function(g){var w=this;w.config=t.extend({},w.config,g),w.render()},Q.prototype.render=function(){var g=this,w=g.config,M=g.elem=t(s(y,{open:"{{",close:"}}"}).render({data:w,index:g.index})),z=w.elem=t(w.elem);z[0]&&(w.data=w.data||[],w.value=w.value||[],w.id="id"in w?w.id:elem.attr("id")||g.index,g.key=w.id,z.html(g.elem),g.layBox=g.elem.find("."+S),g.layHeader=g.elem.find("."+E),g.laySearch=g.elem.find("."+r),g.layData=M.find("."+D),g.layBtn=M.find(".layui-transfer-active .layui-btn"),g.layBox.css({width:w.width,height:w.height}),g.layData.css({height:(z=w.height-g.layHeader.outerHeight(),w.showSearch&&(z-=g.laySearch.outerHeight()),z-2)}),g.renderData(),g.events())},Q.prototype.renderData=function(){var g=this,w=g.config,M=[{checkName:"layTransferLeftCheck",views:[]},{checkName:"layTransferRightCheck",views:[]}];g.parseData(function(z){var G=z.selected?1:0,Y=["<li>",'<input type="checkbox" name="'+M[G].checkName+'" lay-skin="primary" lay-filter="layTransferCheckbox" title="'+z.title+'"'+(z.disabled?" disabled":"")+(z.checked?" checked":"")+' value="'+z.value+'">',"</li>"].join("");G?layui.each(w.value,function(N,K){K==z.value&&z.selected&&(M[G].views[N]=Y)}):M[G].views.push(Y),delete z.selected}),g.layData.eq(0).html(M[0].views.join("")),g.layData.eq(1).html(M[1].views.join("")),g.renderCheckBtn()},Q.prototype.renderForm=function(g){u.render(g,"LAY-transfer-"+this.index)},Q.prototype.renderCheckBtn=function(g){var w=this,M=w.config;g=g||{},w.layBox.each(function(z){var Y=t(this),G=Y.find("."+D),Y=Y.find("."+E).find('input[type="checkbox"]'),N=G.find('input[type="checkbox"]'),K=0,p=!1;N.each(function(){var x=t(this).data("hide");(this.checked||this.disabled||x)&&K++,this.checked&&!x&&(p=!0)}),Y.prop("checked",p&&K===N.length),w.layBtn.eq(z)[p?"removeClass":"addClass"](T),g.stopNone||(N=G.children("li:not(."+c+")").length,w.noneView(G,N?"":M.text.none))}),w.renderForm("checkbox")},Q.prototype.noneView=function(g,w){var M=t('<p class="layui-none">'+(w||"")+"</p>");g.find("."+k)[0]&&g.find("."+k).remove(),w.replace(/\s/g,"")&&g.append(M)},Q.prototype.setValue=function(){var g=this.config,w=[];return this.layBox.eq(1).find("."+D+' input[type="checkbox"]').each(function(){t(this).data("hide")||w.push(this.value)}),g.value=w,this},Q.prototype.parseData=function(g){var w=this.config,M=[];return layui.each(w.data,function(z,G){G=(typeof w.parseData=="function"?w.parseData(G):G)||G,M.push(G=t.extend({},G)),layui.each(w.value,function(Y,N){N==G.value&&(G.selected=!0)}),g&&g(G)}),w.data=M,this},Q.prototype.getData=function(g){var w=this.config,M=[];return this.setValue(),layui.each(g||w.value,function(z,G){layui.each(w.data,function(Y,N){delete N.selected,G==N.value&&M.push(N)})}),M},Q.prototype.transfer=function(g,K){var M,z=this,G=z.config,Y=z.layBox.eq(g),N=[],K=(K?((M=(K=K).find('input[type="checkbox"]'))[0].checked=!1,Y.siblings("."+S).find("."+D).append(K.clone()),K.remove(),N.push(M[0].value),z.setValue()):Y.each(function(p){t(this).find("."+D).children("li").each(function(){var x=t(this),_=x.find('input[type="checkbox"]'),B=_.data("hide");_[0].checked&&!B&&(_[0].checked=!1,Y.siblings("."+S).find("."+D).append(x.clone()),x.remove(),N.push(_[0].value)),z.setValue()})}),z.renderCheckBtn(),Y.siblings("."+S).find("."+r+" input"));K.val()!==""&&K.trigger("keyup"),G.onchange&&G.onchange(z.getData(N),g)},Q.prototype.events=function(){var g=this,w=g.config;g.elem.on("click",'input[lay-filter="layTransferCheckbox"]+',function(){var M=t(this).prev(),z=M[0].checked,G=M.parents("."+S).eq(0).find("."+D);M[0].disabled||(M.attr("lay-type")==="all"&&G.find('input[type="checkbox"]').each(function(){this.disabled||(this.checked=z)}),setTimeout(function(){g.renderCheckBtn({stopNone:!0})},0))}),g.elem.on("dblclick","."+D+">li",function(M){var z=t(this),G=z.children('input[type="checkbox"]'),Y=z.parent().parent().data("index");G[0].disabled||(typeof w.dblclick=="function"?w.dblclick({elem:z,data:g.getData([G[0].value])[0],index:Y}):null)!==!1&&g.transfer(Y,z)}),g.layBtn.on("click",function(){var M=t(this),z=M.data("index");M.hasClass(T)||g.transfer(z)}),g.laySearch.find("input").on("keyup",function(){var M=this.value,z=t(this).parents("."+r).eq(0).siblings("."+D),G=z.children("li"),G=(G.each(function(){var Y=t(this),N=Y.find('input[type="checkbox"]'),K=N[0].title,K=(w.showSearch!=="cs"&&(K=K.toLowerCase(),M=M.toLowerCase()),K.indexOf(M)!==-1);Y[K?"removeClass":"addClass"](c),N.data("hide",!K)}),g.renderCheckBtn(),G.length===z.children("li."+c).length);g.noneView(z,G?w.text.searchNone:"")})},C.that={},C.config={},b.reload=function(g,w){return g=C.that[g],g.reload(w),C.call(g)},b.getData=function(g){return C.that[g].getData()},b.render=function(g){return g=new Q(g),C.call(g)},i(A,b)}),layui.define(["jquery","lay"],function(i){var t=layui.$,s=layui.lay,u=(layui.hint(),layui.device(),{config:{},set:function(D){var f=this;return f.config=t.extend({},f.config,D),f},on:function(D,f){return layui.onevent.call(this,A,D,f)}}),A="carousel",b="layui-this",C="layui-carousel-left",c="layui-carousel-right",T="layui-carousel-prev",k="layui-carousel-next",S="layui-carousel-arrow",E="layui-carousel-ind",r=function(D){var f=this;f.config=t.extend({},f.config,u.config,D),f.render()};r.prototype.config={width:"600px",height:"280px",full:!1,arrow:"hover",indicator:"inside",autoplay:!0,interval:3e3,anim:"",trigger:"click",index:0},r.prototype.render=function(){var D=this,f=D.config,y=t(f.elem);if(1<y.length)return layui.each(y,function(){u.render(t.extend({},f,{elem:this}))}),D;t.extend(f,s.options(y[0])),f.elem=t(f.elem),f.elem[0]&&(D.elemItem=f.elem.find(">*[carousel-item]>*"),f.index<0&&(f.index=0),f.index>=D.elemItem.length&&(f.index=D.elemItem.length-1),f.interval<800&&(f.interval=800),f.full?f.elem.css({position:"fixed",width:"100%",height:"100%",zIndex:9999}):f.elem.css({width:f.width,height:f.height}),f.elem.attr("lay-anim",f.anim),D.elemItem.eq(f.index).addClass(b),D.indicator(),D.arrow(),D.autoplay(),1<D.elemItem.length)&&D.events()},r.prototype.reload=function(D){var f=this;clearInterval(f.timer),f.config=t.extend({},f.config,D),f.render()},r.prototype.prevIndex=function(){var D=this.config.index-1;return D=D<0?this.elemItem.length-1:D},r.prototype.nextIndex=function(){var D=this.config.index+1;return D=D>=this.elemItem.length?0:D},r.prototype.addIndex=function(D){var f=this.config;f.index=f.index+(D=D||1),f.index>=this.elemItem.length&&(f.index=0)},r.prototype.subIndex=function(D){var f=this.config;f.index=f.index-(D=D||1),f.index<0&&(f.index=this.elemItem.length-1)},r.prototype.autoplay=function(){var D=this,f=D.config,y=D.elemItem.length;f.autoplay&&(clearInterval(D.timer),1<y)&&(D.timer=setInterval(function(){D.slide()},f.interval))},r.prototype.arrow=function(){var D=this,f=D.config,y=D.elemItem.length,Q=t(['<button type="button" class="layui-icon '+(f.anim==="updown"?"layui-icon-up":"layui-icon-left")+" "+S+'" lay-type="sub"></button>','<button type="button" class="layui-icon '+(f.anim==="updown"?"layui-icon-down":"layui-icon-right")+" "+S+'" lay-type="add"></button>'].join(""));f.elem.attr("lay-arrow",f.arrow),f.elem.find("."+S)[0]&&f.elem.find("."+S).remove(),1<y?f.elem.append(Q):Q.remove(),Q.on("click",function(){var g=t(this).attr("lay-type");D.slide(g)})},r.prototype.goto=function(D){var f=this,y=f.config;D>y.index?f.slide("add",D-y.index):D<y.index&&f.slide("sub",y.index-D)},r.prototype.indicator=function(){var D,f=this,y=f.config,Q=f.elemItem.length,g=f.elemInd=t(['<div class="'+E+'"><ul>',(D=[],layui.each(f.elemItem,function(w){D.push("<li"+(y.index===w?' class="layui-this"':"")+"></li>")}),D.join("")),"</ul></div>"].join(""));y.elem.attr("lay-indicator",y.indicator),y.elem.find("."+E)[0]&&y.elem.find("."+E).remove(),1<Q?y.elem.append(g):g.remove(),y.anim==="updown"&&g.css("margin-top",-g.height()/2),g.find("li").on(y.trigger==="hover"?"mouseover":y.trigger,function(){f.goto(t(this).index())})},r.prototype.slide=function(D,f){var y=this,Q=y.elemItem,g=Q.length,w=y.config,M=w.index,z=w.elem.attr("lay-filter");y.haveSlide||g<=1||(D==="sub"?(y.subIndex(f),Q.eq(w.index).addClass(T),setTimeout(function(){Q.eq(M).addClass(c),Q.eq(w.index).addClass(c)},50)):(y.addIndex(f),Q.eq(w.index).addClass(k),setTimeout(function(){Q.eq(M).addClass(C),Q.eq(w.index).addClass(C)},50)),setTimeout(function(){Q.removeClass(b+" "+T+" "+k+" "+C+" "+c),Q.eq(w.index).addClass(b),y.haveSlide=!1},350),y.elemInd.find("li").eq(w.index).addClass(b).siblings().removeClass(b),y.haveSlide=!0,g={index:w.index,prevIndex:M,item:Q.eq(w.index)},typeof w.change=="function"&&w.change(g),layui.event.call(this,A,"change("+z+")",g))},r.prototype.events=function(){var D,f,y=this,Q=y.config;Q.elem.data("haveEvents")||(Q.elem.on("mouseenter touchstart",function(){y.config.autoplay!=="always"&&clearInterval(y.timer)}).on("mouseleave touchend",function(){y.config.autoplay!=="always"&&y.autoplay()}),D=Q.elem,f=Q.anim==="updown",s.touchSwipe(D,{onTouchEnd:function(g,z){var M=Date.now()-z.timeStart,z=f?z.distanceY:z.distanceX;(.25<Math.abs(z/M)||Math.abs(z)>D[f?"height":"width"]()/3)&&y.slide(0<z?"":"sub")}}),Q.elem.data("haveEvents",!0))},u.render=function(D){return new r(D)},i(A,u)}),layui.define(["jquery","lay"],function(i){var t=layui.jquery,s=layui.lay,u={config:{},index:layui.rate?layui.rate.index+1e4:0,set:function(E){var r=this;return r.config=t.extend({},r.config,E),r},on:function(E,r){return layui.onevent.call(this,A,E,r)}},A="rate",b="layui-icon-rate",C="layui-icon-rate-solid",c="layui-icon-rate-half",T="layui-icon-rate-solid layui-icon-rate-half",k="layui-icon-rate layui-icon-rate-half",S=function(E){var r=this;r.index=++u.index,r.config=t.extend({},r.config,u.config,E),r.render()};S.prototype.config={length:5,text:!1,readonly:!1,half:!1,value:0,theme:""},S.prototype.render=function(){var E=this,r=E.config,g=t(r.elem);if(1<g.length)return layui.each(g,function(){u.render(t.extend({},r,{elem:this}))}),E;t.extend(r,s.options(g[0]));for(var D=r.theme?'style="color: '+r.theme+';"':"",f=(r.elem=t(r.elem),r.value>r.length&&(r.value=r.length),parseInt(r.value)===r.value||r.half||(r.value=Math.ceil(r.value)-r.value<.5?Math.ceil(r.value):Math.floor(r.value)),'<ul class="layui-rate" '+(r.readonly?"readonly":"")+">"),y=1;y<=r.length;y++){var Q='<li class="layui-inline"><i class="layui-icon '+(y>Math.floor(r.value)?b:C)+'" '+D+"></i></li>";r.half&&parseInt(r.value)!==r.value&&y==Math.ceil(r.value)?f=f+'<li><i class="layui-icon layui-icon-rate-half" '+D+"></i></li>":f+=Q}f+="</ul>"+(r.text?'<span class="layui-inline">'+r.value+"\u661F":"")+"</span>";var g=r.elem,w=g.next(".layui-rate");w[0]&&w.remove(),E.elemTemp=t(f),r.span=E.elemTemp.next("span"),r.setText&&r.setText(r.value),g.html(E.elemTemp),g.addClass("layui-inline"),r.readonly||E.action()},S.prototype.setvalue=function(E){this.config.value=E,this.render()},S.prototype.action=function(){var E=this.config,r=this.elemTemp,D=r.find("i").width(),f=r.children("li");f.each(function(y){var Q=y+1,g=t(this);g.on("click",function(w){E.value=Q,E.half&&w.pageX-t(this).offset().left<=D/2&&(E.value=E.value-.5),E.text&&r.next("span").text(E.value+"\u661F"),E.choose&&E.choose(E.value),E.setText&&E.setText(E.value)}),g.on("mousemove",function(w){r.find("i").each(function(){t(this).addClass(b).removeClass(T)}),r.find("i:lt("+Q+")").each(function(){t(this).addClass(C).removeClass(k)}),E.half&&w.pageX-t(this).offset().left<=D/2&&g.children("i").addClass(c).removeClass(C)}),g.on("mouseleave",function(){r.find("i").each(function(){t(this).addClass(b).removeClass(T)}),r.find("i:lt("+Math.floor(E.value)+")").each(function(){t(this).addClass(C).removeClass(k)}),E.half&&parseInt(E.value)!==E.value&&r.children("li:eq("+Math.floor(E.value)+")").children("i").addClass(c).removeClass("layui-icon-rate-solid layui-icon-rate")})}),s.touchSwipe(r,{onTouchMove:function(y,Q){var g;Date.now()-Q.timeStart<=200||(Q=y.touches[0].pageX,y=r.width()/E.length,Q=(Q-r.offset().left)/y,(g=(g=(y=Q%1)<=.5&&E.half?.5+(Q-y):Math.ceil(Q))>E.length?E.length:g)<0&&(g=0),f.each(function(Y){var M=t(this).children("i"),z=Math.ceil(g)-Y==1,G=Math.ceil(g)>Y,Y=g-Y==.5;G?(M.addClass(C).removeClass(k),E.half&&Y&&M.addClass(c).removeClass(C)):M.addClass(b).removeClass(T),M.toggleClass("layui-rate-hover",z)}),E.value=g,E.text&&r.next("span").text(E.value+"\u661F"),E.setText&&E.setText(E.value))},onTouchEnd:function(y,Q){Date.now()-Q.timeStart<=200||(r.find("i").removeClass("layui-rate-hover"),E.choose&&E.choose(E.value),E.setText&&E.setText(E.value))}})},S.prototype.events=function(){},u.render=function(E){return E=new S(E),function(){var r=this;return{setvalue:function(D){r.setvalue.call(r,D)},config:r.config}}.call(E)},i(A,u)}),layui.define("jquery",function(i){var t=layui.$,s=function(u){};s.prototype.load=function(u){var A,b,C,c,T,k,S,E,r,D,f,y,Q,g,w,M=this,z=0,G=t((u=u||{}).elem);if(G[0])return T=t(u.scrollElem||document),k="mb"in u?u.mb:50,S=!("isAuto"in u)||u.isAuto,E=u.moreText||"\u52A0\u8F7D\u66F4\u591A",r=u.end||"\u6CA1\u6709\u66F4\u591A\u4E86",D=(u.direction||"bottom")==="top",M._cleanup(G,T),f=u.scrollElem&&u.scrollElem!==document,Q=t('<div class="layui-flow-more"><a href="javascript:;">'+(y="<cite>"+E+"</cite>")+"</a></div>"),G.find(".layui-flow-more")[0]||G[D?"prepend":"append"](Q),g=function(Y,N){var K=f?T.prop("scrollHeight"):document.documentElement.scrollHeight,p=T.scrollTop();Y=t(Y),Q[D?"after":"before"](Y),(N=N==0||null)?Q.html(r):Q.find("a").html(y),b=N,A=null,C&&C(),D&&(Y=f?T.prop("scrollHeight"):document.documentElement.scrollHeight,z===1?T.scrollTop(Y):1<z&&T.scrollTop(p+(Y-K)))},(w=function(){A=!0,Q.find("a").html('<i class="layui-anim layui-anim-rotate layui-anim-loop layui-icon ">&#xe63e;</i>'),typeof u.done=="function"&&u.done(++z,g)})(),Q.find("a").on("click.flow",function(){t(this),b||A||w()}),u.isLazyimg&&(C=M.lazyimg({elem:u.elem+" img",scrollElem:u.scrollElem,direction:u.direction})),S&&T.on("scroll.flow",function(){var Y=t(this),N=Y.scrollTop();c&&clearTimeout(c),!b&&G.width()&&(c=setTimeout(function(){var K=(f?Y:t(window)).height(),p=f?Y.prop("scrollHeight"):document.documentElement.scrollHeight;(D?N<=k:p-N-K<=k)&&!A&&w()},100))}),M},s.prototype.lazyimg=function(u){var A,b=this,C=0,c=t((u=u||{}).scrollElem||document),T=u.elem||"img",k=(u.direction||"bottom")==="top",S=u.scrollElem&&u.scrollElem!==document,E=function(D,g){var y,Q=c.scrollTop(),g=Q+g,w=S?D.offset().top-c.offset().top+Q:D.offset().top;(k?w+D.height():w)>=Q&&w<=g&&D.attr("lay-src")&&(y=D.attr("lay-src"),layui.img(y,function(){var M=b.lazyimg.elem.eq(C);D.attr("src",y).removeAttr("lay-src"),M[0]&&r(M),C++},function(){b.lazyimg.elem.eq(C),D.removeAttr("lay-src")}))},r=function(D,f){var y=(S?f||c:t(window)).height(),Q=c.scrollTop(),g=Q+y;if(b.lazyimg.elem=t(T),D)E(D,y);else for(var w=0;w<b.lazyimg.elem.length;w++){var M=b.lazyimg.elem.eq(w),z=S?M.offset().top-c.offset().top+Q:M.offset().top;if(E(M,y),C=w,g<z)break}};return r(),c.on("scroll.lazyimg",function(){var D=t(this);A&&clearTimeout(A),A=setTimeout(function(){r(null,D)},50)}),r},s.prototype._cleanup=function(u,A){A.off("scroll.flow").off("scroll.lazyimg"),u.find(".layui-flow-more").find("a").off("click.flow")},i("flow",new s)}),layui.define(["lay","util","element","form"],function(i){var t=layui.$,s=layui.util,u=layui.element,A=layui.form,b=layui.layer,C=(layui.hint(),{ELEM_VIEW:"layui-code-view",ELEM_TAB:"layui-tab",ELEM_HEADER:"layui-code-header",ELEM_FULL:"layui-code-full",ELEM_PREVIEW:"layui-code-preview",ELEM_ITEM:"layui-code-item",ELEM_SHOW:"layui-show",ELEM_LINE:"layui-code-line",ELEM_LINE_NUM:"layui-code-line-number",ELEM_LN_MODE:"layui-code-ln-mode",CDDE_DATA_CLASS:"LayuiCodeDataClass",LINE_RAW_WIDTH:45}),c={elem:"",about:"",ln:!0,header:!1,encode:!0,copy:!0,text:{code:s.escape("</>"),preview:"Preview"},wordWrap:!0,lang:"text",highlighter:!1,langMarker:!1},T=layui.code?layui.code.index+1e4:0,k=function(S){return String(S).replace(/\s+$/,"").replace(/^\n|\n$/,"")};i("code",function(S,E){var r,D,f,y,Q,g,w,M,z,G,Y,N,K,p,x,_,B,R,X,J,ne,le={config:S=t.extend(!0,{},c,S),reload:function(Ae){layui.code(this.updateOptions(Ae))},updateOptions:function(Ae){return delete(Ae=Ae||{}).elem,t.extend(!0,S,Ae)},reloadCode:function(Ae){layui.code(this.updateOptions(Ae),"reloadCode")}},me=t(S.elem);return 1<me.length?layui.each(S.obverse?me:me.get().reverse(),function(){layui.code(t.extend({},S,{elem:this}),E)}):(r=S.elem=t(S.elem))[0]&&(t.extend(!0,S,lay.options(r[0]),(D={},layui.each(["title","height","encode","skin","about"],function(Ae,q){var Z=r.attr("lay-"+q);typeof Z=="string"&&(D[q]=Z)}),D)),S.encode=(S.encode||S.preview)&&!S.codeRender,S.code=S.code||(f=[],r.children("textarea").each(function(){f.push(k(this.value))}),f.length===0&&f.push(k(r.html())),f.join("")),me=function(Ae){typeof S.codeRender=="function"&&(Ae=S.codeRender(String(Ae),S));var q=String(Ae).split(/\r?\n/g);return{lines:q,html:Ae=t.map(q,function(Z,re){return['<div class="'+C.ELEM_LINE+'">',S.ln?['<div class="'+C.ELEM_LINE_NUM+'">',s.digit(re+1)+".","</div>"].join(""):"",'<div class="layui-code-line-content">',Z||" ","</div>","</div>"].join("")})}},y=S.code,Q=function(Ae){return typeof S.codeParse=="function"?S.codeParse(Ae,S):Ae},E==="reloadCode"?r.children(".layui-code-wrap").html(me(Q(y)).html):(g=layui.code.index=++T,r.attr("lay-code-index",g),(J=C.CDDE_DATA_CLASS in r.data())&&r.attr("class",r.data(C.CDDE_DATA_CLASS)||""),J||r.data(C.CDDE_DATA_CLASS,r.attr("class")),w={copy:{className:"file-b",title:["\u590D\u5236\u4EE3\u7801"],event:function(Ae){var q=s.unescape(Q(S.code));lay.clipboard.writeText({text:q,done:function(){b.msg("\u5DF2\u590D\u5236",{icon:1})},error:function(){b.msg("\u590D\u5236\u5931\u8D25",{icon:2})}}),typeof S.onCopy=="function"&&S.onCopy(q)}}},function Ae(){var q=r.parent("."+C.ELEM_PREVIEW),Z=q.children("."+C.ELEM_TAB),re=q.children("."+C.ELEM_ITEM+"-preview");return Z.remove(),re.remove(),q[0]&&r.unwrap(),Ae}(),S.preview&&(J="LAY-CODE-DF-"+g,p=S.layout||["code","preview"],M=S.preview==="iframe",K=t('<div class="'+C.ELEM_PREVIEW+'">'),ne=t('<div class="layui-tab layui-tab-brief">'),z=t('<div class="layui-tab-title">'),X=t('<div class="'+[C.ELEM_ITEM,C.ELEM_ITEM+"-preview","layui-border"].join(" ")+'">'),G=t('<div class="layui-code-tools"></div>'),S.id&&K.attr("id",S.id),K.addClass(S.className),ne.attr("lay-filter",J),layui.each(p,function(Ae,q){var Z=t('<li lay-id="'+q+'">');Ae===0&&Z.addClass("layui-this"),Z.html(S.text[q]),z.append(Z)}),t.extend(w,{full:{className:"screen-full",title:["\u6700\u5927\u5316\u663E\u793A","\u8FD8\u539F\u663E\u793A"],event:function(q){var q=q.elem,Z=q.closest("."+C.ELEM_PREVIEW),re="layui-icon-"+this.className,ae="layui-icon-screen-restore",oe=this.title,ue=t("html,body"),Ee="layui-scrollbar-hide";q.hasClass(re)?(Z.addClass(C.ELEM_FULL),q.removeClass(re).addClass(ae),q.attr("title",oe[1]),ue.addClass(Ee)):(Z.removeClass(C.ELEM_FULL),q.removeClass(ae).addClass(re),q.attr("title",oe[0]),ue.removeClass(Ee))}},window:{className:"release",title:["\u5728\u65B0\u7A97\u53E3\u9884\u89C8"],event:function(Ae){s.openWin({content:Q(S.code)})}}}),S.copy&&(layui.type(S.tools)==="array"?S.tools.indexOf("copy")===-1&&S.tools.unshift("copy"):S.tools=["copy"]),G.on("click",">i",function(){var q=t(this),Ae=q.data("type"),q={elem:q,type:Ae,options:S,rawCode:S.code,finalCode:s.unescape(Q(S.code))};w[Ae]&&typeof w[Ae].event=="function"&&w[Ae].event(q),typeof S.toolsEvent=="function"&&S.toolsEvent(q)}),S.addTools&&S.tools&&(S.tools=[].concat(S.tools,S.addTools)),layui.each(S.tools,function(Ae,q){var oe=typeof q=="object",Z=oe?q:w[q]||{className:q,title:[q]},re=Z.className||Z.type,ae=Z.title||[""],oe=oe?Z.type||re:q;oe&&(w[oe]||((q={})[oe]=Z,t.extend(w,q)),G.append('<i class="layui-icon layui-icon-'+re+'" data-type="'+oe+'" title="'+ae[0]+'"></i>'))}),r.addClass(C.ELEM_ITEM).wrap(K),ne.append(z),S.tools&&ne.append(G),r.before(ne),M&&X.html('<iframe allowtransparency="true" frameborder="0"></iframe>'),Y=function(Ae){var q=Ae.children("iframe")[0];M&&q?q.srcdoc=Q(S.code):Ae.html(S.code),setTimeout(function(){typeof S.done=="function"&&S.done({container:Ae,options:S,render:function(){A.render(Ae.find(".layui-form")),u.render()}})},3)},p[0]==="preview"?(X.addClass(C.ELEM_SHOW),r.before(X),Y(X)):r.addClass(C.ELEM_SHOW).after(X),S.previewStyle=[S.style,S.previewStyle].join(""),X.attr("style",S.previewStyle),u.on("tab("+J+")",function(re){var q=t(this),Z=t(re.elem).closest("."+C.ELEM_PREVIEW).find("."+C.ELEM_ITEM),re=Z.eq(re.index);Z.removeClass(C.ELEM_SHOW),re.addClass(C.ELEM_SHOW),q.attr("lay-id")==="preview"&&Y(re),R()})),N=t('<code class="layui-code-wrap"></code>'),r.addClass((K=["layui-code-view layui-border-box"],S.wordWrap||K.push("layui-code-nowrap"),K.join(" "))),(ne=S.theme||S.skin)&&(r.removeClass("layui-code-theme-dark layui-code-theme-light"),r.addClass("layui-code-theme-"+ne)),S.highlighter&&r.addClass([S.highlighter,"language-"+S.lang,"layui-code-hl"].join(" ")),p=me(S.encode?s.escape(Q(y)):y),x=p.lines,r.html(N.html(p.html)),S.ln&&r.append('<div class="layui-code-ln-side"></div>'),S.height&&N.css("max-height",S.height),S.codeStyle=[S.style,S.codeStyle].join(""),S.codeStyle&&N.attr("style",function(Ae,q){return(q||"")+S.codeStyle}),_=[{selector:">.layui-code-wrap>.layui-code-line{}",setValue:function(Ae,q){Ae.style["padding-left"]=q+"px"}},{selector:">.layui-code-wrap>.layui-code-line>.layui-code-line-number{}",setValue:function(Ae,q){Ae.style.width=q+"px"}},{selector:">.layui-code-ln-side{}",setValue:function(Ae,q){Ae.style.width=q+"px"}}],B=lay.style({target:r[0],id:"DF-code-"+g,text:t.map(t.map(_,function(Ae){return Ae.selector}),function(Ae,q){return['.layui-code-view[lay-code-index="'+g+'"]',Ae].join(" ")}).join("")}),R=function Ae(){var q,Z;return S.ln&&(q=Math.floor(x.length/100),Z=N.children("."+C.ELEM_LINE).last().children("."+C.ELEM_LINE_NUM).outerWidth(),r.addClass(C.ELEM_LN_MODE),q)&&C.LINE_RAW_WIDTH<Z&&lay.getStyleRules(B,function(re,ae){try{_[ae].setValue(re,Z)}catch(oe){}}),Ae}(),S.header&&((X=t('<div class="'+C.ELEM_HEADER+'"></div>')).html(S.title||S.text.code),r.prepend(X)),J=t('<div class="layui-code-fixbar"></div>'),S.copy&&!S.preview&&((ne=t(['<span class="layui-code-copy">','<i class="layui-icon layui-icon-file-b" title="\u590D\u5236"></i>',"</span>"].join(""))).on("click",function(){w.copy.event()}),J.append(ne)),S.langMarker&&J.append('<span class="layui-code-lang-marker">'+S.lang+"</span>"),S.about&&J.append(S.about),r.append(J),S.preview||setTimeout(function(){typeof S.done=="function"&&S.done({})},3),S.elem.length===1+g&&typeof S.allDone=="function"&&S.allDone())),le})}),layui["layui.all"]||layui.addcss("modules/code.css?v=6","skincodecss")}(du),du.exports;var x1="";function po(d,i=!0){try{const t=document.getElementById(`imou_player_icon_root_${d}`),s=document.getElementById(`imou_player_timeLine-web_${d}`),u=document.getElementById(`imou_player_timeLine-celeContainer_${d}`);if(!t){console.warn(`Control elements not found for player ${d}, retrying...`),setTimeout(()=>{po(d,i)},50);return}i?(t.style.visibility="hidden",s&&(s.style.visibility="hidden",u&&(u.style.visibility="hidden"))):(t.style.visibility="",s&&(s.style.visibility="",u&&(u.style.visibility="")))}catch(t){console.error("Error in buttonShowOrHidden:",t)}}function Im(d,i){const t=document.getElementById(`imou_player_message_root_${d}`),s=document.getElementById(`imou_player_icon_root_${d}`),u=document.getElementById(`imou_player_timeLine-web_${d}`),A=document.getElementById(`imou_player_timeLine-celeContainer_${d}`);i?(t.innerText=i,t.style.display="",i===vt.t("errMsg.codeError")||u&&(u.style.display="",A&&(A.style.display=""))):(t.style.display="none",s.style.display="",u&&(u.style.display="",A&&(A.style.display="")))}function fu({msg:d,icon:i="",type:t="active",landscape:s=!1}){let u="";i?u=`<div class="imouPlayer-iconfont ${t}  ${i}"></div> ${d}`:u=d,layer.msg(u,{time:2e3,skin:s?"imou-toast-landscape":""})}function $r(d,i="pc"){return{play:"icon-imou_icon_live_stop_n",volume:"icon-imou_icon_live_voice_on_n",talk:"icon-imou_icon_live_mic_n",capture:"icon-imou_icon_live_screenshot_n",resolution:"resolution",videoRecord:"icon-imou_icon_live_record_n",ptz:"icon-imou_icon_live_ptz_n",digitalZoom:"icon-imou_icon_live_fullscreen_btn_zoom_n",fullPageScreen:"icon-imou_icon_live_wangyequanping_n",fullScreen:i==="pc"?"icon-imou_icon_live_quanping_n":"icon-imou_icon_video_verical_btn_fullscreen_n",speed:"speed",recordChange:"recordChange",recordTimeLine:"recordTimeLine"}[d]||""}function ul(d,i="pc"){return{videoCapture:"icon-imou_call_btn_camera_on",audioCapture:"icon-imou_call_btn_mic_on",videoRecordTalk:"icon-imou_call_btn_video_on",ptzTalk:"icon-imou_icon_live_ptz_n",answerCall:"icon-imou_call_btn_answer_n",hangUpCall:"icon-imou_call_btn_refuse_n"}[d]||""}const ys=(d,i,t,s={})=>{let u;switch(i){case"videoRecord":u=document.getElementById(`imou_player_icon_videoRecordTalk_${d}`);var A=u==null?void 0:u.firstElementChild,b=u==null?void 0:u.nextElementSibling;t?(u==null||u.classList.remove("imou-icon-videotalk-controls-opacity"),A==null||A.classList.add("imou-icon-controls-black"),b&&(b.innerText=vt.t("videoTalk_videoRecordTalk")+vt.t("open"))):(u==null||u.classList.add("imou-icon-videotalk-controls-opacity"),A==null||A.classList.remove("imou-icon-controls-black"),b&&(b.innerText=vt.t("videoTalk_videoRecordTalk")+vt.t("close")));break;case"ptz":u=document.getElementById(`imou_player_icon_ptzTalk_${d}`);var A=u==null?void 0:u.firstElementChild,b=u.nextElementSibling;t?(u==null||u.classList.remove("imou-icon-videotalk-controls-opacity"),A==null||A.classList.add("imou-icon-controls-black"),b&&(b.innerText=vt.t("videoTalk_ptzTalk")+vt.t("open"))):(u==null||u.classList.add("imou-icon-videotalk-controls-opacity"),A==null||A.classList.remove("imou-icon-controls-black"),b&&(b.innerText=vt.t("videoTalk_ptzTalk")+vt.t("close")));break;case"callVideoTalk":case"answerVideoTalk":u=document.getElementById(`imou-controls-videotalk_${d}`);const C=document.getElementById(`imou-controls-left_${d}`),c=document.getElementById(`imou_player_icon_videoTalkStatus_${d}`);if(t){const T=document.getElementById(`imou_player_icon_root_${d}`);u.style.display="block",u.style.visibility="",C&&(C.style.visibility="hidden"),c&&i==="callVideoTalk"&&(c.style.visibility="",c.innerText=vt.t("videoTalk_answered"),c.classList.remove("calling"),c.classList.add("answered")),c&&i==="answerVideoTalk"&&(T.style.display="",c.style.visibility="",c.innerText=vt.t("videoTalk_calling"),c.classList.remove("answered"),c.classList.add("calling")),s.status.videoRecord&&ys(d,"videoRecord",s.status.videoRecord)}else u.style.display="none",C&&(C.style.visibility=""),c&&(c.style.visibility="hidden");break}};function wm(d){const i={},t=u=>(i[u]||(i[u]=document.getElementById(u)),i[u]),s=(u,A)=>{u&&typeof u.textContent!="undefined"&&(u.textContent=A)};return new Proxy(d,{set(u,A,b){var S;const C=(S=d.obj)==null?void 0:S.playerId;if(!C)return u[A]=b,!0;let c,T,k;try{switch(A){case"playing":const E=b?"icon-imou_icon_live_play_n":"icon-imou_icon_live_stop_n",r="imouPlayer-iconfont imou-icon-controls";if(c=t(`imou_player_icon_play_${C}`),c&&(c.className=`${r} ${E}`,b)){const O=t(`imou_player_icon_answerCall_${C}`);O==null||O.classList.remove("disabled")}k=t(`imou_player_icon_play_landscape_${C}`),k&&(k.className=`${r} ${E}`);break;case"volume":const D="icon-imou_icon_live_voice_on_n",f="icon-imou_icon_live_voice_off_n";c=t(`imou_player_icon_volume_${C}`),c&&(c.classList.toggle(D,b),c.classList.toggle(f,!b)),k=t(`imou_player_icon_volume_landscape_${C}`),k&&(k.classList.toggle(D,b),k.classList.toggle(f,!b));break;case"talk":const y="icon-imou_icon_live_mic_n",Q="icon-imou_icon_live_fullscreen_btn_mic_h";c=t(`imou_player_icon_talk_select-selected_${C}`),c&&(c.classList.toggle(y,!b),c.classList.toggle(Q,b),c.classList.toggle("active",b)),k=t(`imou_player_icon_talk_select-selected_landscape_${C}`),k&&(k.classList.toggle(y,!b),k.classList.toggle(Q,b),k.classList.toggle("active",b));break;case"talkProcessing":const g=t(`imou_player_icon_talk_${C}`);g&&g.classList.toggle("processing",b),k=t(`imou_player_icon_talk_landscape_${C}`),k&&k.classList.toggle("processing",b);break;case"resolution":const w="icon-imou_icon_live_hd_n",M="icon-imou_icon_live_sd_n";c=t(`imou_player_icon_resolution_${C}`),c&&(c.classList.toggle(w,!b),c.classList.toggle(M,b)),k=t(`imou_player_icon_resolution_landscape_${C}`),k&&(k.classList.toggle(w,!b),k.classList.toggle(M,b));break;case"videoRecord":ys(C,"videoRecord",b),c=t(`imou_player_icon_videoRecord_${C}`),c==null||c.classList.toggle("active",b),k=t(`imou_player_icon_videoRecord_landscape_${C}`),k&&(k==null||k.classList.toggle("active",b));break;case"message":Im(d.obj.playerId,b);break;case"ptz":if((d.obj.status.answerVideoTalk||d.obj.status.callVideoTalk)&&ys(C,"ptz",b),!d.obj.status.playing)break;d.obj.status.digitalZoom&&(d.obj.status.digitalZoom=!1),c=t(`imou_player_PTZArea_${C}`),c&&(c.style.display=b?"":"none");const z=document.getElementById(`imou_player_icon_ptz_${C}`);z==null||z.classList.toggle("active",b),k=t(`imou_player_icon_ptz_landscape_${C}`),k&&(k==null||k.classList.toggle("active",b));const G=document.getElementById(`imou_player_PTZArea_landscape_${C}`);b?G&&d.obj.status.landscape&&(G.style.display=""):G&&(G.style.display="none");break;case"recordType":const Y=t(`imou_player_icon_cloud_${C}`),N=t(`imou_player_icon_localRecord_${C}`);b==="cloud"?(Y==null||Y.classList.add("active"),N==null||N.classList.remove("active")):(Y==null||Y.classList.remove("active"),N==null||N.classList.add("active"));break;case"fullScreen":const K="icon-imou_icon_live_quanping_n",p="icon-imou_icon_live_tuichu_quanping_n";c=t(`imou_player_icon_fullScreen_${C}`),c&&(c.classList.toggle(K,!b),c.classList.toggle(p,b),b&&d.obj.fullScreen?d.obj.fullScreen():!b&&d.obj.exitFullScreen&&d.obj.exitFullScreen());break;case"fullPageScreen":if(d.fullScreen)return u[A]=b,!0;const x="icon-imou_icon_live_wangyequanping_n",_="icon-imou_icon_live_tuichu_wangyequanping_n";c=t(`imou_player_icon_fullPageScreen_${C}`),c&&(c.classList.toggle(x,!b),c.classList.toggle(_,b),b&&d.obj.fullPageScreen?d.obj.fullPageScreen():!b&&d.obj.exitFullPageScreen&&d.obj.exitFullPageScreen());break;case"recordSpeed":const B=t(`imou_player_icon_volume_${C}`),R=t(`imou_player_icon_videoRecord_${C}`),X=document.getElementById(`imou_player_icon_speed_select-selected_${C}`),J=document.getElementById(`imou_player_icon_speed_select-selected_landscape_${C}`);b==1?(B&&B.classList.remove("icon-gray"),R&&R.classList.remove("icon-gray")):(B&&B.classList.add("icon-gray"),R&&R.classList.add("icon-gray")),X&&(b===.5?X.setAttribute("class","imouPlayer-iconfont select-selected icon-a-imou_icon_video_video_windows_btn_05x"):X.setAttribute("class",`imouPlayer-iconfont select-selected icon-imou_icon_video_video_windows_btn_${b}x`)),J&&(b===.5?J.setAttribute("class","imouPlayer-iconfont select-selected icon-a-imou_icon_video_video_windows_btn_05x"):J.setAttribute("class",`imouPlayer-iconfont select-selected icon-imou_icon_video_video_windows_btn_${b}x`));break;case"videoCapture":const ne=t(`imou_player_icon_videoCapture_${C}`),le=ne==null?void 0:ne.firstElementChild,me=ne==null?void 0:ne.nextElementSibling;if(T=t(`imou_player_video_capture_${C}`),b){if(ne&&ne.classList.remove("imou-icon-videotalk-controls-opacity"),le&&(le.classList.remove("icon-imou_call_btn_camera_off"),le.classList.add("imou-icon-controls-black","icon-imou_call_btn_camera_on")),s(me,vt.t("videoTalk_videoCapture")+vt.t("open")),T){T.style.visibility="";const O=T.offsetWidth;O&&(T.style.height=`${O*(4/3)}px`)}}else ne&&ne.classList.add("imou-icon-videotalk-controls-opacity"),le&&(le.classList.remove("imou-icon-controls-black","icon-imou_call_btn_camera_on"),le.classList.add("icon-imou_call_btn_camera_off")),s(me,vt.t("videoTalk_videoCapture")+vt.t("close")),T&&(T.style.visibility="hidden");break;case"audioCapture":const Ae=t(`imou_player_icon_audioCapture_${C}`),q=Ae==null?void 0:Ae.firstElementChild,Z=Ae==null?void 0:Ae.nextElementSibling;b?(Ae&&Ae.classList.remove("imou-icon-videotalk-controls-opacity"),q&&(q.classList.remove("icon-imou_call_btn_mic_off"),q.classList.add("imou-icon-controls-black","icon-imou_call_btn_mic_on")),s(Z,vt.t("videoTalk_audioCapture")+vt.t("open"))):(Ae&&Ae.classList.add("imou-icon-videotalk-controls-opacity"),q&&(q.classList.remove("imou-icon-controls-black","icon-imou_call_btn_mic_on"),q.classList.add("icon-imou_call_btn_mic_off")),s(Z,vt.t("videoTalk_audioCapture")+vt.t("close")));break;case"answerVideoTalk":ys(C,"answerVideoTalk",b,d.obj);break;case"callVideoTalk":ys(C,"callVideoTalk",b,d.obj);break;case"videoTalking":if(T=t(`imou_player_video_capture_${C}`),c=t(`imou_player_icon_answerCall_${C}`),c&&(c.style.display="none"),b){if(T){T.style.visibility="";const ee=T.offsetWidth;ee&&(T.style.height=`${ee*(4/3)}px`)}c&&c.classList.remove("disabled");const O=document.getElementById(`imou_player_icon_videoTalkStatus_${C}`);O&&(O.style.visibility="",O.textContent=vt.t("videoTalk_answered"),O.classList.remove("calling"),O.classList.add("answered"))}else T&&(T.style.visibility="hidden"),c&&(c.style.display="flex");break;case"digitalZoom":c=t(`imou_player_digitalZoomArea_${C}`);const re=document.getElementById(`imou_player_icon_digitalZoom_${C}`);if(!d.obj.status.playing)return u[A]=b,!0;b?(d.obj.status.ptz&&(d.obj.status.ptz=!1),re&&re.classList.add("active"),c&&(c.style.display="")):(re&&re.classList.remove("active"),c&&(c.style.display="none")),k=t(`imou_player_icon_digitalZoom_landscape_${C}`),k&&(k==null||k.classList.toggle("active",b));const ae=document.getElementById(`imou_player_digitalZoomArea_landscape_${C}`);b?ae&&d.obj.status.landscape&&(ae.style.display=""):ae&&(ae.style.display="none");break;case"landscape":c=t(`imou-controls-landscape_${C}`);const oe=t(`imou-controls-container_${C}`),ue=t(`imou-title-back_${C}`);b?(c&&(c.style.display="block"),oe&&(oe.style.display="none"),ue&&(ue.style.display="block")):(c&&(c.style.display="none"),oe&&(oe.style.display="block"),ue&&(ue.style.display="none")),d.obj.status.digitalZoom=!1;const Ee=document.getElementById(`imou_player_PTZArea_landscape_${C}`);b?Ee&&d.obj.status.ptz&&(Ee.style.display=""):Ee&&(Ee.style.display="none");break;default:break}}catch(E){}return u[A]=b,!0}})}class kf{constructor({parentDomId:i="",active:t="",options:s=[],Obj:u,onConfirm:A=()=>{}}){this.parentDomId=i,this.active=t,this.options=s,this.Obj=u,this.onConfirm=A;const b=document.getElementById("imou-select");b?b.remove():this.init()}init(){const i=new DocumentFragment,t=document.createElement("div");if(t.setAttribute("class","select-options"),t.setAttribute("id","imou-select"),this.options.forEach((s,u)=>{const A=document.createElement("div");s.icon?A.innerHTML=`<i class="imouPlayer-iconfont ${s.icon}"></i>${s.label}`:A.innerHTML=`${s.label}`,A.setAttribute("class","select-options-item"),A.setAttribute("id",`select-options-item-${s.value}`),this.active==s.value&&A.classList.add("select-options-selected"),A.addEventListener("click",()=>{this.onConfirm(s.value),t.remove()}),t.appendChild(A)}),i.appendChild(t),this.parentDomId){const s=document.getElementById(this.parentDomId);s&&s.appendChild(t)}this.speedOptions=t,setTimeout(()=>{this.remove()})}remove(){window.addEventListener("click",i=>{const t=i.target;t instanceof HTMLElement&&t.id!==this.parentDomId&&this.speedOptions&&this.speedOptions.remove()})}}function km(d,i={}){if(!d){console.error("Draggable: Element is required");return}const{containment:t=!0,onDragStart:s,onDrag:u,onDragEnd:A}=i;let b=!1,C=0,c=0,T=0,k=0;d.style.position="absolute",d.style.cursor="move",d.addEventListener("mousedown",S);function S(D){b=!0,C=D.clientX,c=D.clientY,T=d.offsetLeft,k=d.offsetTop,typeof s=="function"&&s({element:d,startX:C,startY:c,initialLeft:T,initialTop:k}),document.addEventListener("mousemove",E),document.addEventListener("mouseup",r)}function E(D){var w;if(!b)return;const f=D.clientX-C,y=D.clientY-c;let Q=T+f,g=k+y;if(t){const M=(w=d.parentElement)==null?void 0:w.getBoundingClientRect(),z=d.getBoundingClientRect();M&&(Q=Math.max(0,Math.min(Q,M.width-z.width)),g=Math.max(0,Math.min(g,M.height-z.height)))}d.style.left=`${Q}px`,d.style.top=`${g}px`,typeof u=="function"&&u({element:d,currentX:D.clientX,currentY:D.clientY,deltaX:f,deltaY:y,newLeft:Q,newTop:g})}function r(){b=!1,document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",r),typeof A=="function"&&A({element:d,finalLeft:d.offsetLeft,finalTop:d.offsetTop})}return function(){d.removeEventListener("mousedown",S),document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",r)}}function Sm(d){const i=new DocumentFragment,t=document.createElement("div");t.setAttribute("id",`imou_player_icon_root_${d.playerId}`),t.style.display="none",t.style.position="absolute",t.style.top="0",t.style.width="100%",t.style.height="100%",t.style.zIndex="99999";const s=[],u=["play","volume","talk","capture","videoRecord","ptz","digitalZoom","resolution"],A=[],b=["fullPageScreen","fullScreen"];d.status.controlsConfig.forEach((B,R)=>{u.includes(B)&&s.push({type:B,icon:$r(B)}),b.includes(B)&&A.push({type:B,icon:$r(B)})});const C=new DocumentFragment,c=document.createElement("div");c.setAttribute("class","imou-controls-container-header");const T=document.createElement("div");T.setAttribute("class","imou-controls-container-header-left"),c.appendChild(T),C.appendChild(c);const k=document.createElement("div");k.setAttribute("class","imou-title"),d.options.title||d.options.title===""?k.innerHTML=d.status.title:k.innerHTML=`${d.status.deviceId} ${vt.t("channelId")} ${d.status.channelId}`,T.appendChild(k);const S=document.createElement("div");S.setAttribute("id",`imou_player_icon_videoTalkStatus_${d.playerId}`),S.setAttribute("class","imou-video-talk-status"),S.innerText=vt.t("videoTalk_calling"),S.style.visibility="hidden",T.appendChild(S),c.appendChild(T),t.appendChild(C);const E=new DocumentFragment,r=document.createElement("div");r.setAttribute("class","imou-controls-container"),(()=>{E.appendChild(r);const B=document.createElement("div");B.setAttribute("id",`imou-controls-left_${d.playerId}`),B.setAttribute("class","imou-controls-left"),r.appendChild(B),s.forEach((X,J)=>{const ne=document.createElement("div");if(ne.setAttribute("id",`imou_player_icon_${X.type}_${d.playerId}`),X.type==="talk"){ne.setAttribute("class","imou-icon-controls-select");const le=document.createElement("div");le.setAttribute("id",`imou_player_icon_talk_select-selected_${d.playerId}`),le.setAttribute("class",`imouPlayer-iconfont select-selected ${X.icon}`),ne.appendChild(le)}else if(X.icon==="resolution"){const le=d.status.resolution=="0"?"icon-imou_icon_live_hd_n":"icon-imou_icon_live_sd_n";ne.setAttribute("class",`imouPlayer-iconfont ${le} imou-icon-controls`)}else ne.setAttribute("class",`imouPlayer-iconfont imou-icon-controls ${X.icon}`);B.appendChild(ne)});const R=document.createElement("div");R.setAttribute("class","imou-controls-right"),r.appendChild(R),A.forEach((X,J)=>{const ne=document.createElement("div");ne.setAttribute("id",`imou_player_icon_${X.type}_${d.playerId}`),ne.setAttribute("class",`imouPlayer-iconfont ${X.icon} imou-icon-controls`),R.appendChild(ne)})})(),t.appendChild(E),i.appendChild(t);const f=new DocumentFragment,y=document.createElement("div");y.setAttribute("id",`imou-controls-videotalk_${d.playerId}`),y.style.visibility="hidden";const Q=document.createElement("div");Q.setAttribute("class","imou-controls-videotalk"),(()=>{y.appendChild(Q);const B=document.createElement("div");B.setAttribute("class","imou-icon-videotalk-top"),["videoCapture","audioCapture","videoRecordTalk","ptzTalk"].forEach((Ae,q)=>{const Z=document.createElement("div");Z.setAttribute("class",`imou-icon-videotalk-controls-container imou-icon-videotalk-controls-${Ae}`);const re=document.createElement("div");re.setAttribute("id",`imou_player_icon_${Ae}_${d.playerId}`),re.setAttribute("class","imou-icon-videotalk-controls");const ae=document.createElement("div");ae.setAttribute("class",`imouPlayer-iconfont ${ul(Ae)} imou-icon-controls`);const oe=document.createElement("span");Ae==="videoCapture"||Ae==="audioCapture"?(ae.classList.add("imou-icon-controls-black"),oe.innerText=vt.t(`videoTalk_${Ae}`)+vt.t("open")):(ae.setAttribute("class",`imouPlayer-iconfont ${ul(Ae)} imou-icon-controls`),re.classList.add("imou-icon-videotalk-controls-opacity"),oe.innerText=vt.t(`videoTalk_${Ae}`)+vt.t("close")),re.appendChild(ae),Z.appendChild(re),Z.appendChild(oe),re.addEventListener("click",ue=>{switch(Ae){case"videoCapture":d.status.videoCapture?d.stopVideoCapture():d.startVideoCapture();break;case"audioCapture":d.status.audioCapture?d.stopAudioCapture():d.startAudioCapture();break;case"videoRecordTalk":d.status.videoRecord?d.stopRecord():(d.startRecord(),d.trackingLogs("record"));break;case"ptzTalk":d.status.ptz=!d.status.ptz,d.status.ptz||d.trackingLogs("ptz");break}}),B.appendChild(Z)}),Q.appendChild(B);const X=document.createElement("div");X.setAttribute("class","imou-icon-videotalk-bottom");const J=document.createElement("div");J.setAttribute("id",`imou_player_icon_answerCall_${d.playerId}`),J.setAttribute("class","imou-icon-videotalk-controls imou-icon-videotalk-controls-answer disabled");const ne=document.createElement("div");ne.setAttribute("class",`imouPlayer-iconfont ${ul("answerCall")} imou-icon-controls`),J.appendChild(ne),J.addEventListener("click",Ae=>{d.startTalk("video","answer")});const le=document.createElement("div");le.setAttribute("id",`imou_player_icon_answerCall_${d.playerId}`),le.setAttribute("class","imou-icon-videotalk-controls imou-icon-videotalk-controls-hangup");const me=document.createElement("div");me.setAttribute("class",`imouPlayer-iconfont ${ul("hangUpCall")} imou-icon-controls`),le.appendChild(me),le.addEventListener("click",Ae=>{d.stopTalk()}),X.appendChild(J),X.appendChild(le),Q.appendChild(X)})(),f.append(y),t.appendChild(f),r.addEventListener("click",B=>{const{target:R}=B;switch(R.id){case`imou_player_icon_play_${d.playerId}`:d.status.playing?(d.pause(),d.trackingLogs("pause")):d.start();break;case`imou_player_icon_capture_${d.playerId}`:d.capture(),d.trackingLogs("capture");break;case`imou_player_icon_talk_select-selected_${d.playerId}`:if(d.status.talkProcessing)return;d.status.talk?d.stopTalk():d.status.videoTalk?new kf({Obj:d,parentDomId:`imou_player_icon_talk_${d.playerId}`,active:d.status.talk,options:[{value:"video",icon:"icon-live_fullscreen_btn_voice_n",label:vt.t("videoTalk")},{value:"audio",icon:"icon-imou_icon_live_mic_n",label:vt.t("audioTalk")}],onConfirm:X=>{X==="audio"?d.talk(!d.status.talk):d.startTalk("video")}}):d.talk(!d.status.talk);break;case`imou_player_icon_volume_${d.playerId}`:d.volume(d.status.volume?0:1),d.trackingLogs("volume");break;case`imou_player_icon_videoRecord_${d.playerId}`:d.status.videoRecord?d.stopRecord():(d.startRecord(),d.trackingLogs("record"));break;case`imou_player_icon_fullScreen_${d.playerId}`:d.status.fullScreen=!d.status.fullScreen,d.trackingLogs("fullScree");break;case`imou_player_icon_fullPageScreen_${d.playerId}`:d.status.fullPageScreen=!d.status.fullPageScreen,d.trackingLogs("fullPageScreen");break;case`imou_player_icon_resolution_${d.playerId}`:d.stopRecord(),d.status.message=vt.t("changeStream"),setTimeout(()=>{d.changeImouUrl("resolution",d.status.resolution=="0"?1:0),d.trackingLogs("resolution")},0);break;case`imou_player_icon_ptz_${d.playerId}`:d.status.ptz=!d.status.ptz,d.status.ptz||d.trackingLogs("ptz");break;case`imou_player_icon_digitalZoom_${d.playerId}`:d.status.digitalZoom=!d.status.digitalZoom,d.trackingLogs("digitalZoom");break}});const w=document.createElement("div");w.setAttribute("id",`imou_player_message_root_${d.playerId}`),w.setAttribute("style","position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:16px;color:white;z-index:99999;"),w.style.display="none",i.appendChild(w);const M=document.createElement("div");M.style.display="none",M.setAttribute("id",`imou_player_PTZArea_${d.playerId}`),M.setAttribute("class","imou-player-ptzarea"),M.style.zIndex="99999";const z=document.createElement("div");z.setAttribute("class","imou-player-ptz"),["up","down","left","right"].forEach(B=>{const R=document.createElement("div"),X=document.createElement("div");R.setAttribute("class",`imou-player-ptz-quarter imou-player-ptz-quarter-${B}`),X.setAttribute("class","imou-player-ptz-arrow"),R.appendChild(X),z.appendChild(R)});const Y=document.createElement("div");Y.setAttribute("class","imou-player-ptz-center"),z.appendChild(Y),z.addEventListener("mousedown",B=>{var J;const R=(J=B==null?void 0:B.target)==null?void 0:J.className;let X="";R.includes("imou-player-ptz-quarter-right")?X="right":R.includes("imou-player-ptz-quarter-left")?X="left":R.includes("imou-player-ptz-quarter-up")?X="up":R.includes("imou-player-ptz-quarter-down")&&(X="down"),X&&d.ptzControl(X)}),z.addEventListener("mouseup",B=>{var X;((X=B==null?void 0:B.target)==null?void 0:X.className).includes("imou-player-ptz-center")||d.ptzControl("stop")}),M.appendChild(z),i.appendChild(M);const N=document.createElement("div");N.style.display="none",N.setAttribute("id",`imou_player_digitalZoomArea_${d.playerId}`),N.setAttribute("class","imou-player-digitalZoomarea"),N.style.zIndex="99999";const K=document.createElement("div");K.setAttribute("class","imou-player-zoom");const p=document.createElement("div");p.setAttribute("class","imouPlayer-iconfont icon-imou_icon_jiahao imou-player-zoom-in");const x=document.createElement("div");x.setAttribute("class","imouPlayer-iconfont icon-imou_icon_jianhao imou-player-zoom-out"),K.appendChild(p),K.appendChild(x),p.addEventListener("click",()=>{d.zoomIn()}),x.addEventListener("click",()=>{d.zoomOut()}),N.appendChild(K),i.appendChild(N);const _=document.createElement("video");return _.setAttribute("id",`imou_player_video_capture_${d.playerId}`),_.setAttribute("class","imou_player_video_capture"),_.setAttribute("autoplay",!0),_.style.width="12%",_.style.objectFit="cover",_.style.visibility="hidden",km(_,{containment:!0,onDragStart:()=>{},onDrag:B=>{},onDragEnd:B=>{}}),i.appendChild(_),i}function oi(d){return Math.round(d)+.5}function Jr(d,i,t,s,u,A,b){d.save(),d.beginPath(),d.moveTo(oi(i),oi(t)),d.lineTo(oi(s),oi(u)),d.strokeStyle=A,d.lineWidth=b,d.lineCap="round",d.closePath(),d.stroke(),d.restore()}function qa(d,i,t,s,u,A){d.save(),d.fillStyle=A,d.fillRect(oi(i),oi(t),s,u),d.restore()}function Sf(d,i,t,s,u,A,b,C,c="#000"){d.save(),d.imageSmoothingEnabled=!0,d.imageSmoothingQuality="high",d.beginPath(),d.moveTo(oi(i+A),oi(t)),d.lineTo(oi(i+s-A),oi(t)),d.quadraticCurveTo(oi(i+s),oi(t),oi(i+s),oi(t+A)),d.lineTo(oi(i+s),oi(t+u-A)),d.quadraticCurveTo(oi(i+s),oi(t+u),oi(i+s-A),oi(t+u)),d.lineTo(oi(i+A),oi(t+u)),d.quadraticCurveTo(oi(i),oi(t+u),oi(i),oi(t+u-A)),d.lineTo(oi(i),oi(t+A)),d.quadraticCurveTo(oi(i),oi(t),oi(i+A),oi(t)),d.closePath(),d.fillStyle=b,d.fill(),C&&(d.fillStyle=c,d.font="11px PingFang SC",d.textAlign="center",d.textBaseline="middle",d.fillText(C,i+s/2,t+u/2)),d.restore()}function hu(d){const i=Math.floor(d/3600),t=Math.floor((d-i*3600)/60),s=d-i*3600-t*60;return`${i>9?i:`0${i}`}:${t>9?t:`0${t}`}:${s>9?s:`0${s}`}`}function Bf(d){const i=Math.floor(d/3600),t=Math.floor((d-i*3600)/60);return`${i>9?i:`0${i}`}:${t>9?t:`0${t}`}`}class Df{constructor({elem:i,width:t,beginTime:s,height:u,Obj:A}){this.elem=i,this.ctx=i.getContext("2d"),this.dpr=window.devicePixelRatio||1,this.width=t,this.height=u,i.width=t*this.dpr,i.height=u*this.dpr,i.style.width=t+"px",i.style.height=u+"px",this.ctx.scale(this.dpr,this.dpr),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high",this.record=[],this.beginTime=s,this.timestamp=s||0,this.elem.onmousedown=b=>{this.onmousedown(b)},this.elem.ondragstart=()=>!1,this.elem.ontouchstart=b=>{this.ontouchstart(b)},this.Obj=A,this.step=A.status.templateMode==="pc"?10:.1,this.isMoving=!1,this.throttleTimer=null,this.throttleDelay=1e3,this.pendingThrottleAction=!1}onmousedown(i){this.isMoving=!0,this.Obj.stopRecord(),this.stop(!1),this.startMoveX=i.offsetX,document.onmousemove=t=>{this.onmouseMove(t)},document.onmouseup=t=>{this.onmouseUp(t)},document.onmouseleave=t=>{this.onmouseUp(t)}}ontouchstart(i){i.preventDefault(),this.isMoving=!0,this.Obj.stopRecord(),this.stop(!1),document.ontouchmove=null,document.ontouchend=null,document.ontouchcancel=null;const t=i.touches[0],s=this.elem.getBoundingClientRect();this.startMoveX=t.clientX-s.left,this.Obj.status.landscape&&(this.startMoveX=t.clientY-s.top),this.dragSpeedMultiplier=5,document.ontouchmove=u=>{this.ontouchmove(u)},document.ontouchend=u=>{this.ontouchend(u)},document.ontouchcancel=u=>{this.ontouchend(u)}}ontouchmove(i){if(i.preventDefault(),this.startMoveX===null||this.startMoveX===void 0){console.log("Touch move - startMoveX is null/undefined, returning");return}if(this.dragSpeedMultiplier===null||this.dragSpeedMultiplier===void 0){console.log("Touch move - dragSpeedMultiplier is null/undefined, returning");return}if(!this.isMoving){console.log("Touch move - isMoving is false, returning");return}const t=i.touches[0],s=this.elem.getBoundingClientRect();let u=t.clientX-s.left;this.Obj.status.landscape&&(u=t.clientY-s.top);const A=this.startMoveX-u;this.moveTimestamp=Math.floor(this.timestamp+A*this.dragSpeedMultiplier),this.moveTimestamp<0&&(this.moveTimestamp=0),this.moveTimestamp>86399&&(this.moveTimestamp=86399),this.reDrawLine(this.width/2-this.moveTimestamp*this.step,this.record)}ontouchend(i){i.preventDefault(),document.ontouchmove=null,document.ontouchend=null,document.ontouchcancel=null,this.timestamp=this.moveTimestamp===0?0:this.moveTimestamp||this.timestamp,this.startMoveX=null,this.moveTimestamp=null,this.dragSpeedMultiplier=null,this.executeThrottledAction(),this.isMoving=!1}executeThrottledAction(){this.throttleTimer&&clearTimeout(this.throttleTimer),this.pendingThrottleAction=!0,this.throttleTimer=setTimeout(()=>{this.pendingThrottleAction&&(this.Obj.changeImouUrl("beginTime",this.timestamp),this.Obj.trackingLogs("timeLine"),this.pendingThrottleAction=!1,this.throttleTimer=null)},this.throttleDelay)}onmouseMove(i){if(this.startMoveX===null||this.startMoveX===void 0)return;let t=this.startMoveX-i.offsetX;this.Obj.status.landscape&&(t=this.startMoveX-i.offsetY),this.moveTimestamp=Math.floor(this.timestamp+t),this.moveTimestamp<0&&(this.moveTimestamp=0),this.moveTimestamp>86399&&(this.moveTimestamp=86399),this.reDrawLine(this.width/2-this.moveTimestamp*this.step,this.record)}onmouseUp(i){document.onmousemove=null,document.onmouseup=null,document.onmouseleave=null,this.timestamp=this.moveTimestamp===0?0:this.moveTimestamp||this.timestamp,this.startMoveX=null,this.moveTimestamp=null,this.executeThrottledAction(),this.isMoving=!1}start(){this.isMoving||(this.timestampTimer=setInterval(()=>{this.Obj.status.encryptMode&&this.Obj.getTimestamp()},500),this.loopLine())}loopLine(){this.reDrawLine(this.width/2-this.timestamp*this.step,this.record),this.AnimationFrameId=setTimeout(()=>{this.loopLine()},200)}stop(i=!1){if(this.AnimationFrameId){try{clearTimeout(this.AnimationFrameId)}catch(t){}this.AnimationFrameId=null}if(this.timestampTimer){try{clearInterval(this.timestampTimer)}catch(t){}this.timestampTimer=null}i&&(this.timestamp=0,this.record=[],this.reDrawLine(this.width/2,[])),this.throttleTimer&&(clearTimeout(this.throttleTimer),this.throttleTimer=null),this.pendingThrottleAction=!1}changeProp(i,t){if(i==="timestamp"){const{record:s,timestamp:u,step:A}=this;if(t<0){this.timestamp=0;return}if(!this.AnimationFrameId)return;const b=()=>{this.Obj.status.message=vt.t("playEnd"),this.Obj.stopRecord(),this.Obj.stop(!1),this.stop(),this.reDrawLine(this.width/2-s[s.length-1].endTime*A,s)};s.length>0&&u>=this.record[this.record.length-1].endTime&&b(),s.length>0&&u+2>=this.record[this.record.length-1].endTime&&setTimeout(()=>{s.length>0&&u+2>=this.record[this.record.length-1].endTime&&this.Obj.status.message!==vt.t("playEnd")&&b()},3e3)}this[i]=t,i==="width"&&(this.elem.width=t*this.dpr,this.elem.style.width=t+"px",this.ctx.scale(this.dpr,this.dpr),this.AnimationFrameId||this.reDrawLine(this.width/2-this.timestamp*this.step,this.record))}reDrawLine(i,t=[]){const{ctx:s,step:u}=this;s.clearRect(0,0,this.width,this.height),this.Obj.status.templateMode==="mobile"&&(this.Obj.status.landscape?(qa(s,0,40,this.width,60,"rgba(0,0,0,0)"),qa(s,0,62,this.width,30,"rgba(0,0,0,0.3)")):(qa(s,0,40,this.width,60,"#F6F6F6"),qa(s,0,62,this.width,30,"#ECECEC")));for(let b=0;b<t.length;b++){const C=t[b],c=i+C.beginTime*u,T=i+C.endTime*u;if(!(T<0)){if(c>this.width)break;(c>0||T>0||c<this.width||T<this.width)&&(this.Obj.status.templateMode==="mobile"?this.Obj.status.landscape?qa(s,i+C.beginTime*u,62,(C.endTime-C.beginTime)*u,30,"rgba(241, 141, 0, 1)"):qa(s,i+C.beginTime*u,62,(C.endTime-C.beginTime)*u,30,"rgba(241,141,0,0.5)"):qa(s,i+C.beginTime*u,0,(C.endTime-C.beginTime)*u,50,"#474F86"))}}const A=60*60*24;for(let b=0;b<A;b+=1){const C=i+b*u;if(!(C<0)){if(C>this.width)break;this.Obj.status.templateMode==="mobile"?b%600===0?(Jr(s,C,62,C,72,"#B8B8B8",1),Jr(s,C,82,C,92,"#B8B8B8",1),this.Obj.status.landscape?(s.font="11px PingFang SC",s.fillStyle="rgba(255,255,255,0.6)",s.textBaseline="top",s.fillText(Bf(b),C-15,45)):(s.font="11px PingFang SC",s.fillStyle="#8F8F8F",s.textBaseline="top",s.fillText(Bf(b),C-15,45))):b%60===0&&(Jr(s,C,62,C,67,"#B8B8B8",1),Jr(s,C,88,C,92,"#B8B8B8",1)):b%10===0?(Jr(s,C,0,C,10,"#808080",2),Jr(s,C,40,C,50,"#808080",2),s.font="15px PingFang SC",s.fillStyle="#D8D8D8",s.fillText(hu(b),C+12,20)):(Jr(s,C,45,C,50,"#808080",2),Jr(s,C,0,C,5,"#808080",2))}}this.Obj.status.templateMode==="mobile"?this.Obj.status.landscape?(Sf(s,this.width/2-40,0,80,30,15,"rgba(0,0,0,0.6)",hu(this.isMoving?this.moveTimestamp:this.timestamp),"#ffffff"),Jr(s,this.width/2,40,this.width/2,100,"#ffffff",1)):(Sf(s,this.width/2-35,0,70,28,15,"#F6F6F6",hu(this.isMoving?this.moveTimestamp:this.timestamp),"#8F8F8F"),Jr(s,this.width/2,40,this.width/2,100,this.Obj.status.controlsActiveColor,1)):Jr(s,this.width/2,0,this.width/2,50,this.Obj.status.controlsActiveColor,2)}}const Bm="zh";let Tf=null;function Dm(d){const i=new DocumentFragment,t=d.playerId,s=document.createElement("div");s.setAttribute("id",`imou_player_icon_root_${t}`),s.style.display="block",s.style.position="absolute",s.style.top="0",s.style.width="100%",s.style.height="100%",s.style.zIndex="99999";const u=[],A=["play","volume","capture","videoRecord"],b=[],C=["fullPageScreen","fullScreen"],c=d.status.controlsConfig.includes("recordTimeLine")||d.status.controlsConfig.includes("calendar");let T=[];d.status.controlsConfig.forEach((N,K)=>{A.includes(N)&&u.push({type:N,icon:$r(N)}),C.includes(N)&&b.push({type:N,icon:$r(N)}),N==="recordChange"&&(T=[{type:"cloud",icon:"icon-imou_icon_pro_fullscreen_tab_cloud_h"},{type:"localRecord",icon:"icon-imou_icon_live_video_tab_cloud_h"}])});const k=new DocumentFragment,S=document.createElement("div");S.setAttribute("class","imou-controls-container-header");const E=document.createElement("div");E.setAttribute("class","imou-controls-container-header-left"),S.appendChild(E),k.appendChild(S);const r=document.createElement("div");r.setAttribute("class","imou-title"),d.options.title||d.options.title===""?r.innerHTML=d.status.title:r.innerHTML=`${d.status.deviceId} ${vt.t("channelId")} ${d.status.channelId}`,E.appendChild(r);const D=document.createElement("div");D.setAttribute("class","imou-icon-controls-record-change"),T.forEach((N,K)=>{const p=document.createElement("div");p.setAttribute("id",`imou_player_icon_${N.type}_${t}`),p.setAttribute("class",`imouPlayer-iconfont ${N.icon} `),d.status.recordType==="localRecord"&&N.type==="localRecord"&&p.classList.add("active"),d.status.recordType!=="localRecord"&&N.type==="cloud"&&p.classList.add("active"),D.appendChild(p)}),S.appendChild(D),s.appendChild(k);const f=new DocumentFragment,y=document.createElement("div");y.setAttribute("class","imou-controls-container"),c&&y.classList.add("record-icon");const Q=document.createElement("div");if((()=>{f.appendChild(y),Q.setAttribute("class","imou-controls-left"),y.appendChild(Q),u.forEach((K,p)=>{const x=document.createElement("div");x.setAttribute("id",`imou_player_icon_${K.type}_${t}`),x.setAttribute("class",`imouPlayer-iconfont ${K.icon} imou-icon-controls`),Q.appendChild(x)});const N=document.createElement("div");N.setAttribute("class","imou-controls-right"),y.appendChild(N),b.forEach((K,p)=>{const x=document.createElement("div");x.setAttribute("id",`imou_player_icon_${K.type}_${t}`),x.setAttribute("class",`imouPlayer-iconfont ${K.icon} imou-icon-controls`),N.appendChild(x)})})(),s.appendChild(f),i.appendChild(s),d.status.controlsConfig.includes("speed")){const N=document.createElement("div");N.setAttribute("id",`imou_player_icon_speed_${t}`),N.setAttribute("class","imou-icon-controls-select");const K=document.createElement("div");K.setAttribute("id",`imou_player_icon_speed_select-selected_${t}`),K.setAttribute("class",`imouPlayer-iconfont select-selected icon-imou_icon_video_video_windows_btn_${d.status.recordSpeed}x`),N.appendChild(K),Q.appendChild(N)}i.appendChild(s),s.addEventListener("click",N=>{const{target:K}=N;switch(K.id){case`imou_player_icon_play_${t}`:d.status.playing?(d.pause(),d.trackingLogs("pause")):d.start();break;case`imou_player_icon_capture_${t}`:d.capture(),d.trackingLogs("capture");break;case`imou_player_icon_volume_${d.playerId}`:d.volume(d.status.volume?0:1),d.trackingLogs("volume");break;case`imou_player_icon_fullScreen_${t}`:d.status.fullScreen=!d.status.fullScreen,d.trackingLogs("fullScreen");break;case`imou_player_icon_fullPageScreen_${t}`:d.status.fullPageScreen=!d.status.fullPageScreen,d.trackingLogs("fullPageScreen");break;case`imou_player_icon_localRecord_${t}`:if(d.status.recordType==="localRecord")return;d.status.message=vt.t("changeLocal"),d.changeImouUrl("recordType","localRecord"),Y();break;case`imou_player_icon_cloud_${t}`:if(d.status.recordType!=="localRecord")return;d.status.message=vt.t("changeCloud"),d.changeImouUrl("recordType","cloud"),Y();break;case`imou_player_icon_videoRecord_${d.playerId}`:d.status.videoRecord?d.stopRecord():(d.startRecord(),d.trackingLogs("record"));break;case`imou_player_icon_speed_select-selected_${d.playerId}`:const p=[{label:"16x",value:16,icon:""},{label:"8x",value:8,icon:""},{label:"4x",value:4,icon:""},{label:"2x",value:2,icon:""},{label:"1x",value:1,icon:""},{label:"0.5x",value:.5,icon:""}];d.status.recordType!=="localRecord"&&p.unshift({label:"32x",value:32,icon:""}),new kf({Obj:d,parentDomId:`imou_player_icon_speed_${t}`,active:d.status.recordSpeed,options:p,onConfirm:x=>{d.setSpeed(x),d.trackingLogs("speed")}});break}});const w=document.createElement("div");w.setAttribute("id",`imou_player_message_root_${t}`),w.setAttribute("style","position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:1.2em;color:white;z-index:99999;"),w.style.display="none",i.appendChild(w);let M=null;if(M=document.createElement("canvas"),M.setAttribute("id",`imou_player_timeLine-web_${t}`),c?M.setAttribute("style","display:none;position:absolute;bottom:1px;z-index:99999;background-color:rgba(0, 0, 0, 1); height: 50px;width:100%;"):M.setAttribute("style","height:0"),i.appendChild(M),d.status.controlsConfig.includes("recordTimeLine")){const N=new Df({elem:M,width:d.status.width,height:50,Obj:d,beginTime:An(d.status.beginTime).unix()-An(d.status.beginTime).startOf("day").unix()});d.timeLine=N}let z=null,G=null;d.status.controlsConfig.includes("calendar")&&(z=document.createElement("div"),z.setAttribute("id",`imou_player_timeLine-celeContainer_${t}`),z.setAttribute("style","display:none;position:absolute;bottom:1px;padding-right:10px;right:0px;z-index:99999;width:35px;height:50px;background-color:rgba(0, 0, 0,0.7);"),G=document.createElement("div"),G.setAttribute("class","imouPlayer-iconfont icon-imou_icon_live_calendar_n record-icon-normal"),G.setAttribute("style","bottom:6px;left:5px;"),z.appendChild(G),Y(),i.appendChild(z));function Y(){if(!d.status.controlsConfig.includes("calendar"))return;const N=document.getElementById(`player_timeLine-cele_${t}`);N&&z.removeChild(N),G&&G.addEventListener("click",()=>{K.style.display==="block"?K.style.display="none":K.style.display="block"});const K=document.createElement("div");K.setAttribute("id",`player_timeLine-cele_${t}`),K.setAttribute("style","display:none;position:absolute;top:-332px;left:-274px;width:274px;height:322px;"),z.appendChild(K);const p=new Map,x=(B,R)=>Ar(this,null,function*(){const X=`${B}-${R}`;if(p.has(X))return p.get(X);const J=[],ne=yield ll($i(on({},d.status),{year:B,month:R}));J.push({year:B,month:R,bitmap:ne==null?void 0:ne.bitmap});let le=B,me=R,Ae=B,q=R;R===1?(le=B-1,me=12,q=R+1):R===12?(Ae=B+1,q=1,me=R-1):(me=R-1,q=R+1);const[Z,re]=yield Promise.all([ll($i(on({},d.status),{year:le,month:me})),ll($i(on({},d.status),{year:Ae,month:q}))]);J.push({year:le,month:me,bitmap:Z==null?void 0:Z.bitmap}),J.push({year:Ae,month:q,bitmap:re==null?void 0:re.bitmap});const ae={};return J.forEach(oe=>{const{year:ue,month:Ee,bitmap:O}=oe;O&&O.split("").forEach((ee,ie)=>{ee==="1"&&(ae[`${ue}-${Ee}-${ie+1}`]="")})}),p.set(X,ae),ae});(()=>Ar(this,null,function*(){const B=d.status.beginTime.split(" ")[0],R=An().format("YYYY-MM-DD"),X=An(d.status.beginTime).get("year"),J=An(d.status.beginTime).get("month")+1,ne=yield x(X,J);layui.use(function(){Tf=layui.laydate;const le=Tf.render({elem:`#player_timeLine-cele_${t}`,id:`player_timeLine-cele_${t}`,type:"date",position:"static",value:B,max:R,btns:[],lang:Bm,mark:ne,calendar:!0,done:function(me,Ae,q){setTimeout(()=>{K.style.display="none",d.changeImouUrl("beginTime x",me)},100)},change:(me,Ae,q)=>Ar(this,null,function*(){const Z=yield x(Ae.year,Ae.month);le.config.mark=Z})})})}))()}return i}function Tm(d){const i=new DocumentFragment,t=document.createElement("div");t.setAttribute("id",`imou_player_controls_root_${d.playerId}`),t.setAttribute("class","imou_player_controls_root_mobile");const s=[],u=["play","volume","resolution"],A=[],b=["fullScreen"],C=[],c=["capture","videoRecord","talk","ptz","digitalZoom"],T=[],k=["play","volume","resolution","capture","videoRecord","talk","ptz","digitalZoom"];d.status.controlsConfig.forEach((q,Z)=>{(Gt.detectHostEnvironment().isMiniProgramWebView||Gt.isAndroidWeChatBrowser())&&["capture","videoRecord"].includes(q)||(u.includes(q)&&s.push({type:q,icon:$r(q,d.status.templateMode)}),b.includes(q)&&A.push({type:q,icon:$r(q,d.status.templateMode)}),c.includes(q)&&C.push({type:q,icon:$r(q,d.status.templateMode)}),k.includes(q)&&T.push({type:q,icon:$r(q,d.status.templateMode)}))}),C.length?t.style.height=window.innerHeight+"px":t.style.height="100%";const S=document.createElement("div");S.setAttribute("id",`imou_player_icon_root_${d.playerId}`),S.setAttribute("class","imou_player_icon_root_mobile");const E=q=>{if(!q)return"100%";const Z=window.getComputedStyle(q).height;if(Z&&Z!=="0px"&&Z!=="auto")return Z;const re=q.clientHeight||q.offsetHeight;return re>0?`${re}px`:q.style.height||"100%"},r=()=>{S.style.height=E(d.root)};if(r(),d.root&&(!d.root.style.height||d.root.style.height==="0px")){const q=new MutationObserver(()=>{r(),q.disconnect()});q.observe(d.root,{attributes:!0,attributeFilter:["style"]}),setTimeout(()=>{q.disconnect(),r()},2e3)}const D=new DocumentFragment,f=document.createElement("div");f.setAttribute("class","imou-controls-container-header");const y=document.createElement("div");y.setAttribute("class","imou-controls-container-header-left"),f.appendChild(y),D.appendChild(f);const Q=document.createElement("div");Q.setAttribute("class","imou-title-back imouPlayer-iconfont icon-common_nav_back"),Q.setAttribute("id",`imou-title-back_${d.playerId}`),Q.style.display="none",y.appendChild(Q);const g=document.createElement("div");g.setAttribute("class","imou-title"),d.options.title||d.options.title===""?g.innerHTML=d.status.title:g.innerHTML=`${d.status.deviceId} ${vt.t("channelId")} ${d.status.channelId}`,y.appendChild(g),f.appendChild(y),S.appendChild(D);const w=new DocumentFragment,M=document.createElement("div");M.setAttribute("class","imou-controls-container"),M.setAttribute("id",`imou-controls-container_${d.playerId}`),(()=>{w.appendChild(M);const q=document.createElement("div");q.setAttribute("id",`imou-controls-left_${d.playerId}`),q.setAttribute("class","imou-controls-left"),M.appendChild(q),s.forEach((re,ae)=>{const oe=document.createElement("div");if(oe.setAttribute("id",`imou_player_icon_${re.type}_${d.playerId}`),re.icon==="resolution"){const ue=d.status.resolution=="0"?"icon-imou_icon_live_hd_n":"icon-imou_icon_live_sd_n";oe.setAttribute("class",`imouPlayer-iconfont ${ue} imou-icon-controls`)}else oe.setAttribute("class",`imouPlayer-iconfont imou-icon-controls ${re.icon}`);q.appendChild(oe)});const Z=document.createElement("div");Z.setAttribute("class","imou-controls-right"),M.appendChild(Z),A.forEach((re,ae)=>{const oe=document.createElement("div");oe.setAttribute("id",`imou_player_icon_${re.type}_${d.playerId}`),oe.setAttribute("class",`imouPlayer-iconfont ${re.icon} imou-icon-controls`),Z.appendChild(oe)})})(),S.appendChild(w),t.appendChild(S),i.appendChild(t);const G=document.createElement("div");if(C.length){G.setAttribute("class","imou-controls-bottom"),G.setAttribute("id",`imou-controls-bottom${d.playerId}`);const q=document.createElement("div");q.setAttribute("class","imou-controls-bottom-container"),G.appendChild(q),t.appendChild(G),C.forEach((Z,re)=>{const ae=document.createElement("div");if(ae.setAttribute("id",`imou_player_icon_${Z.type}_${d.playerId}`),Z.type==="talk"){ae.setAttribute("class","imou-icon-controls-select");const oe=document.createElement("div");oe.setAttribute("id",`imou_player_icon_talk_select-selected_${d.playerId}`),oe.setAttribute("class",`imouPlayer-iconfont select-selected ${Z.icon}`),ae.appendChild(oe)}else if(Z.icon==="resolution"){const oe=d.status.resolution=="0"?"icon-imou_icon_live_hd_n":"icon-imou_icon_live_sd_n";ae.setAttribute("class",`imouPlayer-iconfont ${oe} imou-icon-controls`)}else ae.setAttribute("class",`imouPlayer-iconfont ${Z.icon} imou-icon-controls`);q.appendChild(ae)}),t.appendChild(G)}const Y=document.createElement("div");Y.setAttribute("class","imou-controls-landscape"),Y.setAttribute("id",`imou-controls-landscape_${d.playerId}`);const N=document.createElement("div");N.setAttribute("class","imou-controls-landscape-container"),Y.appendChild(N),T.forEach((q,Z)=>{const re=document.createElement("div");if(re.setAttribute("id",`imou_player_icon_${q.type}_landscape_${d.playerId}`),q.type==="talk"){re.setAttribute("class","imou-icon-controls-select");const ae=document.createElement("div");ae.setAttribute("id",`imou_player_icon_talk_select-selected_landscape_${d.playerId}`),ae.setAttribute("class",`imouPlayer-iconfont select-selected ${q.icon}`),re.appendChild(ae)}else if(q.icon==="resolution"){const ae=d.status.resolution=="0"?"icon-imou_icon_live_hd_n":"icon-imou_icon_live_sd_n";re.setAttribute("class",`imouPlayer-iconfont ${ae} imou-icon-controls`)}else re.setAttribute("class",`imouPlayer-iconfont ${q.icon} imou-icon-controls`);N.appendChild(re)}),S.appendChild(Y);const K=q=>{q.addEventListener("click",Z=>{const re=Z==null?void 0:Z.target;re&&re instanceof HTMLElement&&re.id&&p(re.id)})};[M,Q,G,Y].forEach(K);const p=q=>{switch(q){case`imou_player_icon_play_${d.playerId}`:case`imou_player_icon_play_landscape_${d.playerId}`:d.status.playing?(d.pause(),d.trackingLogs("pause")):d.start();break;case`imou_player_icon_volume_${d.playerId}`:case`imou_player_icon_volume_landscape_${d.playerId}`:d.volume(d.status.volume?0:1),d.trackingLogs("volume");break;case`imou_player_icon_fullScreen_${d.playerId}`:d.status.landscape||d.enterLandscapeMode(),d.trackingLogs("fullScreen");break;case`imou-title-back_${d.playerId}`:d.exitLandscapeMode();break;case`imou_player_icon_resolution_${d.playerId}`:case`imou_player_icon_resolution_landscape_${d.playerId}`:d.stopRecord(),d.status.message=vt.t("changeStream"),setTimeout(()=>{d.changeImouUrl("resolution",d.status.resolution=="0"?1:0),d.trackingLogs("resolution")},0);break;case`imou_player_icon_capture_${d.playerId}`:case`imou_player_icon_capture_landscape_${d.playerId}`:d.capture(),d.trackingLogs("capture");break;case`imou_player_icon_talk_select-selected_${d.playerId}`:case`imou_player_icon_talk_select-selected_landscape_${d.playerId}`:if(d.status.talkProcessing)return;d.talk(!d.status.talk);break;case`imou_player_icon_videoRecord_${d.playerId}`:case`imou_player_icon_videoRecord_landscape_${d.playerId}`:d.status.videoRecord?d.stopRecord():(d.startRecord(),d.trackingLogs("record"));break;case`imou_player_icon_ptz_${d.playerId}`:case`imou_player_icon_ptz_landscape_${d.playerId}`:d.status.ptz=!d.status.ptz,d.status.ptz||d.trackingLogs("ptz");break;case`imou_player_icon_digitalZoom_${d.playerId}`:case`imou_player_icon_digitalZoom_landscape_${d.playerId}`:d.status.digitalZoom=!d.status.digitalZoom,d.trackingLogs("digitalZoom");break}},x=document.createElement("div");x.setAttribute("id",`imou_player_message_root_${d.playerId}`),x.setAttribute("style","position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:16px;color:white;z-index:99999;"),x.style.display="none",i.appendChild(x);const _=(q,Z,re)=>{const ae=document.createElement("div");if(ae.style.display="none",ae.setAttribute("id",q),ae.setAttribute("class",Z),ae.style.zIndex="99999",re){const oe=document.createElement("div");oe.setAttribute("class",`${Z}-title`),oe.innerHTML=re,ae.appendChild(oe)}return ae};if(d.status.controlsConfig.includes("ptz")){const q=_(`imou_player_PTZArea_${d.playerId}`,"imou-player-ptzarea-mobile",vt.t("ptz")),Z=document.createElement("div");Z.setAttribute("class","imou-player-ptz"),["up","down","left","right"].forEach(ue=>{const Ee=document.createElement("div"),O=document.createElement("div");Ee.setAttribute("class",`imou-player-ptz-quarter imou-player-ptz-quarter-${ue}`),O.setAttribute("class","imou-player-ptz-arrow"),Ee.appendChild(O),Z.appendChild(Ee)});const ae=document.createElement("div");ae.setAttribute("class","imou-player-ptz-center"),Z.appendChild(ae);const oe=(ue,Ee)=>{var _e;const O=ue==null?void 0:ue.target;if(!O||!(O instanceof HTMLElement))return;const ee=O.className,ge=(_e=Object.entries({"imou-player-ptz-quarter-right":"right","imou-player-ptz-quarter-left":"left","imou-player-ptz-quarter-up":"up","imou-player-ptz-quarter-down":"down"}).find(([we])=>ee.includes(we)))==null?void 0:_e[1];ge&&d.ptzControl(Ee==="mousedown"?ge:"stop")};Z.addEventListener("mousedown",ue=>oe(ue,"mousedown")),Z.addEventListener("mouseup",ue=>oe(ue,"mouseup")),q.appendChild(Z),t.appendChild(q)}if(d.status.controlsConfig.includes("digitalZoom")){const q=_(`imou_player_digitalZoomArea_${d.playerId}`,"imou-player-digitalZoomarea-mobile",vt.t("digitalZoom")),Z=document.createElement("div");Z.setAttribute("class","imou-player-zoom-mobile");const re=(ue,Ee)=>{const O=document.createElement("div");return O.setAttribute("class",`imouPlayer-iconfont ${ue}`),O.addEventListener("click",Ee),O},ae=re("icon-imou_icon_jiahao imou-player-zoom-in",()=>d.zoomIn()),oe=re("icon-imou_icon_jianhao imou-player-zoom-out",()=>d.zoomOut());Z.appendChild(oe),Z.appendChild(ae),q.appendChild(Z),t.appendChild(q)}const B=document.createElement("div");B.style.display="none",B.setAttribute("id",`imou_player_PTZArea_landscape_${d.playerId}`),B.setAttribute("class","imou-player-ptzarea"),B.style.zIndex="99999";const R=document.createElement("div");R.setAttribute("class","imou-player-ptz"),["up","down","left","right"].forEach(q=>{const Z=document.createElement("div"),re=document.createElement("div");Z.setAttribute("class",`imou-player-ptz-quarter imou-player-ptz-quarter-${q}`),re.setAttribute("class","imou-player-ptz-arrow"),Z.appendChild(re),R.appendChild(Z)});const J=document.createElement("div");J.setAttribute("class","imou-player-ptz-center"),R.appendChild(J),R.addEventListener("mousedown",q=>{var ae;const Z=(ae=q==null?void 0:q.target)==null?void 0:ae.className;let re="";Z.includes("imou-player-ptz-quarter-right")?re="right":Z.includes("imou-player-ptz-quarter-left")?re="left":Z.includes("imou-player-ptz-quarter-up")?re="up":Z.includes("imou-player-ptz-quarter-down")&&(re="down"),re&&d.ptzControl(re)}),R.addEventListener("mouseup",q=>{var re;((re=q==null?void 0:q.target)==null?void 0:re.className).includes("imou-player-ptz-center")||d.ptzControl("stop")}),B.appendChild(R),i.appendChild(B);const ne=document.createElement("div");ne.style.display="none",ne.setAttribute("id",`imou_player_digitalZoomArea_landscape_${d.playerId}`),ne.setAttribute("class","imou-player-digitalZoomarea"),ne.style.zIndex="99999";const le=document.createElement("div");le.setAttribute("class","imou-player-zoom");const me=document.createElement("div");me.setAttribute("class","imouPlayer-iconfont icon-imou_icon_jiahao imou-player-zoom-in");const Ae=document.createElement("div");return Ae.setAttribute("class","imouPlayer-iconfont icon-imou_icon_jianhao imou-player-zoom-out"),le.appendChild(me),le.appendChild(Ae),me.addEventListener("click",()=>{d.zoomIn()}),Ae.addEventListener("click",()=>{d.zoomOut()}),ne.appendChild(le),i.appendChild(ne),i}var C1="";class Lf{constructor(i={}){this.root=i.container||document.body,this.selectedDate=i.selectedDate||new Date,this.currentDate=new Date(this.selectedDate),this.eventsData=i.eventsData||{},this.onDateSelect=i.onDateSelect||this.defaultDateSelect,this.onMonthChange=i.onMonthChange||this.defaultMonthChange,this.onClose=i.onClose||this.closeCalendar,this.container=null,this.init()}init(){this.createCalendarDOM(),this.renderCalendar(),this.bindEvents()}createCalendarDOM(){this.container=this.createElement("div","imou-calendar-container");const i=this.createElement("div","imou-calendar-close-button imouPlayer-iconfont icon-imou_common_popover_cancel");i.addEventListener("click",()=>{this.yearMonthSelector?this.hideYearMonthSelector():this.closeCalendar()}),this.container.appendChild(i);const t=this.createElement("div","imou-calendar-header"),s=this.createElement("div","imou-calendar-month-year","month-year");this.monthYearSpan=this.createElement("span","","currentMonthYear"),this.monthYearSpan.textContent="2025-01";const u=this.createElement("span","imouPlayer-iconfont icon-imou_icon_message_icon_calendar_back-1","year-selector");s.addEventListener("click",()=>this.toggleYearSelector()),s.appendChild(this.monthYearSpan),s.appendChild(u);const A=this.createElement("div","imou-calendar-navigation");this.prevButton=this.createElement("div","imou-calendar-nav-button imouPlayer-iconfont icon-imou_icon_message_icon_calendar_back"),this.prevButton.addEventListener("click",()=>this.previousMonth()),this.nextButton=this.createElement("div","imou-calendar-nav-button imouPlayer-iconfont icon-imou_icon_message_icon_calendar_back-1"),this.nextButton.addEventListener("click",()=>this.nextMonth()),A.appendChild(this.prevButton),A.appendChild(this.nextButton),t.appendChild(s),t.appendChild(A),this.container.appendChild(t);const b=this.createElement("div","imou-calendar-body"),C=this.createElement("div","imou-calendar-weekdays");["S","M","T","W","T","F","S"].forEach(T=>{const k=this.createElement("div","imou-calendar-weekday");k.textContent=T,C.appendChild(k)}),b.appendChild(C),this.calendarGrid=this.createElement("div","imou-calendar-grid"),b.appendChild(this.calendarGrid),this.container.appendChild(b),this.root.appendChild(this.container)}createElement(i,t="",s=""){const u=document.createElement(i);return t&&(u.className=t),s&&(u.id=s),u}getEventsForMonth(i,t){const s=`${i}-${String(t+1).padStart(2,"0")}`;return this.eventsData[s]||[]}hasEvent(i){const t=i.getFullYear(),s=i.getMonth(),u=i.getDate();return this.getEventsForMonth(t,s).includes(u)}renderCalendar(){const i=this.currentDate.getFullYear(),t=this.currentDate.getMonth();this.monthYearSpan.textContent=this.formatMonthYear(i,t);const s=new Date(i,t,1),u=new Date(s);u.setDate(u.getDate()-s.getDay()),this.calendarGrid.innerHTML="";for(let A=0;A<6;A++)for(let b=0;b<7;b++){const C=new Date(u);C.setDate(u.getDate()+A*7+b);const c=this.createDayElement(C,t);this.calendarGrid.appendChild(c)}this.onMonthChange(i,t)}formatMonthYear(i,t){return`${i}-${String(t+1).padStart(2,"0")}`}createDayElement(i,t){const s=this.createElement("div","imou-calendar-day"),u=i.getDate(),A=i.getMonth()===t,b=this.isSameDate(i,this.selectedDate),C=this.hasEvent(i)&&A,c=this.isFutureDate(i);A||s.classList.add("imou-calendar-inactive"),b&&s.classList.add("imou-calendar-selected"),C&&s.classList.add("imou-calendar-has-event"),c&&s.classList.add("imou-calendar-future");const T=this.createElement("span");if(T.textContent=u,s.appendChild(T),C){const k=this.createElement("div","imou-calendar-event-dot");s.appendChild(k)}return A&&!c&&s.addEventListener("click",()=>{this.selectDate(i)}),s}isSameDate(i,t){return i.getFullYear()===t.getFullYear()&&i.getMonth()===t.getMonth()&&i.getDate()===t.getDate()}isFutureDate(i){const t=new Date;return t.setHours(0,0,0,0),i>t}selectDate(i){this.selectedDate=new Date(i),this.renderCalendar(),this.onDateSelect(i)}previousMonth(){const i=this.selectedDate.getDate();this.currentDate.setMonth(this.currentDate.getMonth()-1);const t=this.currentDate.getMonth(),s=this.currentDate.getFullYear(),u=new Date(s,t+1,0).getDate(),A=Math.min(i,u);this.selectedDate=new Date(s,t,A),this.renderCalendar()}nextMonth(){const i=this.selectedDate.getDate(),t=new Date(this.currentDate);t.setMonth(t.getMonth()+1);const s=new Date;if(s.setHours(0,0,0,0),new Date(t.getFullYear(),t.getMonth(),1)>s)return;this.currentDate.setMonth(this.currentDate.getMonth()+1);const A=this.currentDate.getMonth(),b=this.currentDate.getFullYear(),C=new Date(b,A+1,0).getDate(),c=Math.min(i,C),T=new Date(b,A,c);T>s?this.selectedDate=s:this.selectedDate=T,this.renderCalendar()}defaultDateSelect(i){}defaultMonthChange(i,t){}formatDate(i){return i.toLocaleDateString("zh-CN")}bindEvents(){document.addEventListener("keydown",i=>{this.handleKeydown(i)})}handleKeydown(i){switch(i.key){case"ArrowLeft":this.previousMonth();break;case"ArrowRight":this.nextMonth();break;case"Escape":this.yearMonthSelector?this.hideYearMonthSelector():this.closeCalendar();break}}closeCalendar(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.onClose()}toggleYearSelector(){this.yearMonthSelector?this.hideYearMonthSelector():this.showYearMonthSelector()}rotateYearSelector(i){const t=document.getElementById("year-selector");t&&(t.style.transform=i?"rotate(90deg)":"rotate(0deg)")}showYearMonthSelector(){const i=this.currentDate.getFullYear(),t=this.currentDate.getMonth(),s=new Date;let u=this.container.querySelector(".imou-calendar-year-month-selector");if(u)this.updateYearMonthSelection(u,i,t);else{u=this.createElement("div","imou-calendar-year-month-selector");const b=this.createElement("div","imou-calendar-year-month-content"),C=this.createElement("div","imou-calendar-year-picker"),c=i;for(let r=0;r<3;r++){const D=this.createElement("div","imou-calendar-year-item imou-calendar-spacer");D.style.height="40px",D.style.pointerEvents="none",C.appendChild(D)}for(let r=1970;r<=s.getFullYear();r++){const D=this.createElement("div","imou-calendar-year-item");D.textContent=r,r===c&&D.classList.add("imou-calendar-selected"),D.addEventListener("click",()=>{C.querySelectorAll(".imou-calendar-year-item:not(.imou-calendar-spacer)").forEach(f=>{f.classList.remove("imou-calendar-selected")}),D.classList.add("imou-calendar-selected"),this.tempSelectedYear=r,this.updateMonthPickerForYear(T,r,s),this.updateCurrentMonthYearDisplay(r,this.tempSelectedMonth!==void 0?this.tempSelectedMonth:t),D.scrollIntoView({behavior:"smooth",block:"center"})}),C.appendChild(D)}this.applyPickerSpacers(C,"imou-calendar-year-item");const T=this.createElement("div","imou-calendar-month-picker"),k=this.tempSelectedMonth!==void 0?this.tempSelectedMonth:t;this.createMonthPicker(T,c,k,s),b.appendChild(C),b.appendChild(T),u.appendChild(b);const S=this.createElement("div","imou-calendar-year-month-footer"),E=this.createElement("button","imou-calendar-year-month-ok");E.textContent=vt.t("confirm"),E.addEventListener("click",()=>{this.confirmYearMonthSelection()}),S.appendChild(E),u.appendChild(S),this.container.appendChild(u),C.addEventListener("scroll",()=>this.handlePickerScroll(C,"year")),T.addEventListener("scroll",()=>this.handlePickerScroll(T,"month")),this.ensureProperScrollPosition(C,T,c,k)}this.yearMonthSelector=u,this.tempSelectedYear=i,this.tempSelectedMonth=t,this.container.classList.add("imou-calendar-show-year-month"),this.rotateYearSelector(!0);const A=document.getElementById("currentMonthYear");A&&A.classList.add("imou-calendar-year-month-selecting")}handlePickerScroll(i,t){i.classList.add("imou-calendar-scrolling"),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{var c;const s=i.querySelectorAll(t==="year"?".imou-calendar-year-item:not(.imou-calendar-spacer)":".imou-calendar-month-item:not(.imou-calendar-spacer)"),u=i.getBoundingClientRect(),A=u.top+u.height/2;let b=null,C=1/0;if(s.forEach(T=>{const k=T.getBoundingClientRect(),S=k.top+k.height/2,E=Math.abs(S-A);E<C&&(C=E,b=T)}),b)if(s.forEach(T=>{T.classList.remove("imou-calendar-selected"),T.classList.remove("imou-calendar-scrolling")}),b.classList.add("imou-calendar-selected"),b.classList.add("imou-calendar-scrolling"),t==="year"){this.tempSelectedYear=parseInt(b.textContent||"0");const T=(c=i.parentElement)==null?void 0:c.querySelector(".imou-calendar-month-picker");if(T){const k=new Date;this.updateMonthPickerForYear(T,this.tempSelectedYear,k)}this.updateCurrentMonthYearDisplay(this.tempSelectedYear,this.tempSelectedMonth!==void 0?this.tempSelectedMonth:0)}else this.tempSelectedMonth=parseInt(b.textContent||"0")-1,this.updateCurrentMonthYearDisplay(this.tempSelectedYear||this.currentDate.getFullYear(),this.tempSelectedMonth);setTimeout(()=>{i.classList.remove("imou-calendar-scrolling"),s.forEach(T=>T.classList.remove("imou-calendar-scrolling"))},300)},100)}hideYearMonthSelector(){this.container.classList.remove("imou-calendar-show-year-month"),this.rotateYearSelector(!1);const i=document.getElementById("currentMonthYear");i&&i.classList.remove("imou-calendar-year-month-selecting"),this.updateCurrentMonthYearDisplay(this.currentDate.getFullYear(),this.currentDate.getMonth()),this.yearMonthSelector=null,this.tempSelectedYear=void 0,this.tempSelectedMonth=void 0}confirmYearMonthSelection(){if(this.tempSelectedYear!==void 0&&this.tempSelectedMonth!==void 0){const i=new Date,t=new Date(this.tempSelectedYear,this.tempSelectedMonth,1);if(t.getFullYear()>i.getFullYear()||t.getFullYear()===i.getFullYear()&&t.getMonth()>i.getMonth())return;this.goToMonth(this.tempSelectedYear,this.tempSelectedMonth),this.hideYearMonthSelector()}}setEventsData(i){this.eventsData=i,this.renderCalendar()}addEventsToMonths(i){if(!i||typeof i!="object")return;let t=!1;Object.keys(i).forEach(s=>{const u=i[s];if(Array.isArray(u)&&u.length>0){const[A,b]=s.split("-").map(Number);A&&b>=1&&b<=12&&(this.eventsData[s]||(this.eventsData[s]=[]),u.forEach(C=>{typeof C=="number"&&C>=1&&C<=31&&!this.eventsData[s].includes(C)&&(this.eventsData[s].push(C),t=!0)}))}}),t&&this.renderCalendar()}removeEventsFromMonths(i){if(!i||typeof i!="object")return;let t=!1;Object.keys(i).forEach(s=>{const u=i[s];Array.isArray(u)&&u.length>0&&this.eventsData[s]&&u.forEach(A=>{const b=this.eventsData[s].indexOf(A);b>-1&&(this.eventsData[s].splice(b,1),t=!0)})}),t&&this.renderCalendar()}setSelectedDate(i){this.selectedDate=new Date(i),this.renderCalendar()}getSelectedDate(){return new Date(this.selectedDate)}goToMonth(i,t){const s=this.selectedDate.getDate();this.currentDate=new Date(i,t,1);const u=new Date(i,t+1,0).getDate(),A=Math.min(s,u);this.selectedDate=new Date(i,t,A),this.renderCalendar()}goToToday(){this.currentDate=new Date,this.selectedDate=new Date,this.renderCalendar()}destroy(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),document.removeEventListener("keydown",this.handleKeydown)}ensureProperScrollPosition(i,t,s,u){requestAnimationFrame(()=>{requestAnimationFrame(()=>{const A=i.querySelector(".imou-calendar-year-item.imou-calendar-selected"),b=t.querySelector(".imou-calendar-month-item.imou-calendar-selected");if(A){const C=A.getBoundingClientRect(),c=i.getBoundingClientRect(),T=A.offsetTop-(c.height/2-C.height/2),k=i.scrollHeight-c.height;i.scrollTop=Math.max(0,Math.min(T,k))}if(b){const C=b.getBoundingClientRect(),c=t.getBoundingClientRect(),T=b.offsetTop-(c.height/2-C.height/2),k=t.scrollHeight-c.height;t.scrollTop=Math.max(0,Math.min(T,k))}})})}updateMonthPickerState(i,t,s,u){const A=new Date,b=this.tempSelectedMonth!==void 0?this.tempSelectedMonth:u;this.createMonthPicker(i,t,b,A)}updateYearMonthSelection(i,t,s){const u=i.querySelector(".imou-calendar-year-picker"),A=i.querySelector(".imou-calendar-month-picker");u&&u.querySelectorAll(".imou-calendar-year-item:not(.imou-calendar-spacer)").forEach(b=>{b.classList.remove("imou-calendar-selected"),parseInt(b.textContent)===t&&b.classList.add("imou-calendar-selected")}),A&&A.querySelectorAll(".imou-calendar-month-item:not(.imou-calendar-spacer)").forEach(b=>{b.classList.remove("imou-calendar-selected"),parseInt(b.textContent)-1===s&&b.classList.add("imou-calendar-selected")}),this.ensureProperScrollPosition(u,A,t,s)}createMonthPicker(i,t,s,u){i.innerHTML="";let A=11;t===u.getFullYear()&&(A=u.getMonth());for(let b=0;b<=A;b++){const C=this.createElement("div","imou-calendar-month-item");C.textContent=String(b+1).padStart(2,"0"),b===s&&C.classList.add("imou-calendar-selected"),C.addEventListener("click",()=>{i.querySelectorAll(".imou-calendar-month-item:not(.imou-calendar-spacer)").forEach(c=>{c.classList.remove("imou-calendar-selected")}),C.classList.add("imou-calendar-selected"),this.tempSelectedMonth=b,this.updateCurrentMonthYearDisplay(this.tempSelectedYear||t,b),C.scrollIntoView({behavior:"smooth",block:"center"})}),i.appendChild(C)}this.applyPickerSpacers(i,"imou-calendar-month-item")}updateMonthPickerForYear(i,t,s){const u=this.tempSelectedMonth!==void 0?this.tempSelectedMonth:0;this.createMonthPicker(i,t,u,s),this.applyPickerSpacers(i,"imou-calendar-month-item"),setTimeout(()=>{const A=i.querySelector(".imou-calendar-month-item.imou-calendar-selected");A&&A.scrollIntoView({behavior:"smooth",block:"center"})},100)}updateCurrentMonthYearDisplay(i,t){this.monthYearSpan.textContent=`${i}-${String(t+1).padStart(2,"0")}`}applyPickerSpacers(i,t,s=3){i.querySelectorAll(".imou-calendar-spacer").forEach(u=>u.remove());for(let u=0;u<s;u++){const A=this.createElement("div",`${t} imou-calendar-spacer`);A.style.height="40px",A.style.pointerEvents="none",i.insertBefore(A,i.firstChild)}for(let u=0;u<s;u++){const A=this.createElement("div",`${t} imou-calendar-spacer`);A.style.height="40px",A.style.pointerEvents="none",i.appendChild(A)}}}typeof window!="undefined"&&(window.ImouCalendar=Lf);class pu{constructor(i={}){this.options=on({title:"",content:"",showClose:!0,showMask:!0,maskClosable:!0,onClose:null,onConfirm:null},i),this.isOpen=!1,this.createElements()}createElements(){if(this.overlay=document.createElement("div"),this.overlay.className="popup-overlay",this.overlay.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.3);
      z-index: 9999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    `,this.container=document.createElement("div"),this.container.className="popup-container",this.container.style.cssText=`
      position: fixed;
      bottom: 0;
      left: 0;
      width: calc(100% - 24px);
      border-radius: 15px;
      z-index: 10000;
      transform: translateY(100%);
      transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      max-height: 80vh;
      overflow: hidden;
      margin: 0 12px 15px;
      background: #fff;
    `,this.header=document.createElement("div"),this.options.title){this.header.style.cssText="padding: 24px 20px 0;";const i=document.createElement("div");i.textContent=this.options.title,i.style.cssText=`
        font-weight: bold;
        font-size: 20px;
        color: #2C2C2C;
        text-align: left;
      `,this.header.appendChild(i)}this.content=document.createElement("div"),this.content.style.cssText=`
      overflow-y: auto;
    `,this.container.appendChild(this.header),this.container.appendChild(this.content),document.body.appendChild(this.overlay),document.body.appendChild(this.container)}preventBodyScroll(){document.body.style.overflow="hidden"}restoreBodyScroll(){document.body.style.overflow=""}setContent(i){!this.content||(typeof i=="string"?this.content.innerHTML=i:i instanceof HTMLElement&&(this.content.innerHTML="",this.content.appendChild(i)))}open(i){this.isOpen||(i?this.setContent(i):this.options.content&&this.setContent(this.options.content),this.isOpen=!0,this.overlay&&(this.overlay.style.opacity="1",this.overlay.style.visibility="visible"),this.container&&(this.container.style.transform="translateY(0)"),this.preventBodyScroll())}close(){!this.isOpen||(this.isOpen=!1,this.overlay&&(this.overlay.style.opacity="0",this.overlay.style.visibility="hidden"),this.container&&(this.container.style.transform="translateY(100%)"),this.restoreBodyScroll(),this.options.onClose&&typeof this.options.onClose=="function"&&this.options.onClose())}destroy(){this.close(),this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay),this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}typeof window!="undefined"&&(window.ImouPopup=pu);class Ff{constructor(i={}){this.options=on({value:null,actions:[],onSelect:null,onClose:null,title:"\u9009\u62E9"},i),this.popup=null}createSelectorUI(){const i=document.createElement("div");i.style.cssText=`
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    `;const t=document.createElement("div");t.style.cssText=`
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 20px;
    `,this.options.actions.forEach((u,A)=>{const b=document.createElement("div");b.style.cssText=`
        display: flex;
        align-items: center;
        justify-content: center;
      `;const C=document.createElement("div");C.textContent=u.label,C.style.cssText=`
        width:50px;
        height:50px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        border-radius: 10px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
        background-color: ${u.value===this.options.value?"var(--imou-icon-color-active)":"#F6F6F6"};
        color: ${u.value===this.options.value?"#FFFFFF":"#2C2C2C"};
      `,b.appendChild(C),C.addEventListener("click",()=>{this.selectOption(u.value)}),C.addEventListener("mouseenter",()=>{u.value!==this.options.value&&(C.style.backgroundColor="#E8E8E8")}),C.addEventListener("mouseleave",()=>{u.value!==this.options.value&&(C.style.backgroundColor="#F5F5F5")}),t.appendChild(b)});const s=document.createElement("button");return s.textContent="\u53D6\u6D88",s.style.cssText=`
      width: 100%;
      padding: 10px;
      line-height: 24px;
      border: none;
      border-radius: 24px;
      font-weight: bold;
      font-size: 16px;
      color: #2C2C2C;
      cursor: pointer;
      background: #F6F6F6;
    `,s.addEventListener("click",()=>{this.destroy()}),s.addEventListener("mouseenter",()=>{s.style.backgroundColor="#E8E8E8"}),s.addEventListener("mouseleave",()=>{s.style.backgroundColor="#F5F5F5"}),i.appendChild(t),i.appendChild(s),i}selectOption(i){this.options.onSelect&&typeof this.options.onSelect=="function"&&this.options.onSelect(i),this.destroy()}open(){this.popup&&this.popup.destroy(),this.popup=new pu({title:this.options.title,maskClosable:!0,onClose:()=>{this.options.onClose&&typeof this.options.onClose=="function"&&this.options.onClose()}}),this.container=this.createSelectorUI(),this.popup.open(this.container)}close(){this.popup&&this.popup.close()}destroy(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.popup&&(this.popup.destroy(),this.popup=null)}updateValue(i){this.options.value=i}}typeof window!="undefined"&&(window.ImouMobileSelector=Ff);class Mf{constructor(i={}){const{id:t="slide-panel",width:s="332px",height:u="100vh",backgroundColor:A="#ffffff",zIndex:b="10000",duration:C="0.3s",onShow:c=()=>{},onHide:T=()=>{},content:k="",mask:S=!0,maskColor:E="rgba(0, 0, 0, 0.5)",closeOnMaskClick:r=!0,actions:D=[],value:f="",onSelect:y=()=>{}}=i;this.options={id:t,width:s,height:u,backgroundColor:A,zIndex:b,duration:C,onShow:c,onHide:T,content:k,mask:S,maskColor:E,closeOnMaskClick:r,actions:D,value:f,onSelect:y},this.isVisible=!1,this.originalStyles=null,this.panel=null,this.maskElement=null,this.handleKeydown=null,this.init()}init(){this.createMask(),this.bindEvents()}createMask(){!this.options.mask||(this.maskElement=document.createElement("div"),this.maskElement.className="slide-panel-mask",this.maskElement.id=`${this.options.id}-mask`,Object.assign(this.maskElement.style,{position:"fixed",top:"50%",left:"50%",width:`${window.innerHeight}px`,height:"100vw",backgroundColor:this.options.maskColor,zIndex:parseInt(this.options.zIndex)-1,opacity:"0",visibility:"hidden",transform:"translate(-50%, -50%) rotate(90deg)",transformOrigin:"center center",transition:"all 0.3s"}),document.body.appendChild(this.maskElement),this.createPanel())}createPanel(){this.panel=document.createElement("div"),this.panel.id=this.options.id,this.panel.className="slide-panel",Object.assign(this.panel.style,{width:"332px",height:"100%",background:"rgba(17,17,17,0.95)",position:"absolute",right:"0",top:"0",borderRadius:"20px 0 0 20px"});const i=document.createElement("div");i.className="slide-panel-content",Object.assign(i.style,{width:"100%",height:"100%",boxSizing:"border-box",display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center",justifyContent:"center",alignContent:"center"}),this.options.actions.forEach((t,s)=>{const u=document.createElement("div");u.style.cssText=`
        display: flex;
        align-items: center;
        justify-content: center;
      `;const A=document.createElement("div");A.textContent=t.label,A.style.cssText=`
        width: 143px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
        border: 1px solid ${t.value===this.options.value?"var(--imou-icon-color-active)":"#202020"};
        background-color: #202020;
        color: ${t.value===this.options.value?"var(--imou-icon-color-active)":"#FFFFFF"};
        position: relative;
      `,u.appendChild(A);const b=document.createElement("div");b.style.cssText=`
        position: absolute;
        top: 5px;
        right: 6px;
        width: 20px;
        height: 20px;
        font-size: 20px !important;
      `,b.className="imouPlayer-iconfont icon-imou_icon_live_video_tab_cloud_h1",t.value===this.options.value&&A.appendChild(b),A.addEventListener("click",()=>{this.selectOption(t.value)}),A.addEventListener("mouseenter",()=>{t.value!==this.options.value&&(A.style.backgroundColor="#E8E8E8")}),A.addEventListener("mouseleave",()=>{t.value!==this.options.value&&(A.style.backgroundColor="#F5F5F5")}),i.appendChild(u)}),this.panel.appendChild(i),this.maskElement&&this.maskElement.appendChild(this.panel)}selectOption(i){this.options.onSelect&&typeof this.options.onSelect=="function"&&this.options.onSelect(i),this.destroy()}bindEvents(){this.maskElement&&this.options.closeOnMaskClick&&this.maskElement.addEventListener("click",i=>{i.target===this.maskElement&&this.hide()}),this.handleKeydown=i=>{i.key==="Escape"&&this.isVisible&&this.hide()},document.addEventListener("keydown",this.handleKeydown)}show(){this.isVisible||(this.saveOriginalStyles(),this.maskElement&&(this.maskElement.style.visibility="visible",this.maskElement.style.opacity="1"),this.panel,this.isVisible=!0,document.body.style.overflow="hidden",this.options.onShow&&this.options.onShow())}hide(){!this.isVisible||(this.maskElement&&(this.maskElement.style.opacity="0",this.maskElement.style.visibility="hidden"),this.panel,this.isVisible=!1,document.body.style.overflow="",this.options.onHide&&this.options.onHide())}toggle(){this.isVisible?this.hide():this.show()}saveOriginalStyles(){this.originalStyles={bodyOverflow:document.body.style.overflow}}setContent(i){if(!this.panel)return;const t=this.panel.querySelector(".slide-panel-content");t&&(t.innerHTML="",typeof i=="string"?t.innerHTML=i:i instanceof HTMLElement&&t.appendChild(i))}updateStyles(i){this.panel&&Object.assign(this.panel.style,i)}destroy(){this.hide(),this.handleKeydown&&document.removeEventListener("keydown",this.handleKeydown),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.maskElement&&this.maskElement.parentNode&&this.maskElement.parentNode.removeChild(this.maskElement),this.panel=null,this.maskElement=null}}typeof window!="undefined"&&(window.ImouLandscapeSlidePanel=Mf);function Lm(d){const i=new DocumentFragment,t=document.createElement("div");t.setAttribute("id",`imou_player_controls_root_${d.playerId}`),t.setAttribute("class","imou_player_controls_root_mobile");const s=[],u=[],A=[],b=[];let C=[];const c={left:["play","volume"],right:["fullScreen"],bottom:["capture","videoRecord"],landscape:["play","volume","capture","videoRecord"]};d.status.controlsConfig.forEach(oe=>{(Gt.detectHostEnvironment().isMiniProgramWebView||Gt.isAndroidWeChatBrowser())&&["capture","videoRecord"].includes(oe)||(c.left.includes(oe)&&s.push({type:oe,icon:$r(oe,d.status.templateMode)}),c.right.includes(oe)&&u.push({type:oe,icon:$r(oe,d.status.templateMode)}),c.bottom.includes(oe)&&A.push({type:oe,icon:$r(oe,d.status.templateMode)}),c.landscape.includes(oe)&&b.push({type:oe,icon:$r(oe,d.status.templateMode)}),oe==="recordChange"&&(C=[{type:"cloud",icon:"icon-imou_icon_pro_fullscreen_tab_cloud_h"},{type:"localRecord",icon:"icon-imou_icon_live_video_tab_cloud_h"}]))}),d.status.controlsConfig.some(oe=>["capture","videoRecord","recordChange","recordTimeLine","calendar"].includes(oe))?(t.style.height=window.innerHeight+"px",window.addEventListener("resize",()=>{t.style.height=window.innerHeight+"px"})):t.style.height="100%";const k=document.createElement("div");k.setAttribute("id",`imou_player_icon_root_${d.playerId}`),k.setAttribute("class","imou_player_icon_root_mobile");const S=oe=>{if(!oe)return"100%";const ue=window.getComputedStyle(oe).height;if(ue&&ue!=="0px"&&ue!=="auto")return ue;const Ee=oe.clientHeight||oe.offsetHeight;return Ee>0?`${Ee}px`:oe.style.height||"100%"},E=()=>{k.style.height=S(d.root)};if(E(),d.root&&(!d.root.style.height||d.root.style.height==="0px")){const oe=new MutationObserver(()=>{E(),oe.disconnect()});oe.observe(d.root,{attributes:!0,attributeFilter:["style"]}),setTimeout(()=>{oe.disconnect(),E()},2e3)}const r=new DocumentFragment,D=document.createElement("div");D.setAttribute("class","imou-controls-container-header");const f=document.createElement("div");f.setAttribute("class","imou-controls-container-header-left"),D.appendChild(f),r.appendChild(D);const y=document.createElement("div");y.setAttribute("class","imou-title-back imouPlayer-iconfont icon-common_nav_back"),y.setAttribute("id",`imou-title-back_${d.playerId}`),y.style.display="none",f.appendChild(y);const Q=document.createElement("div");Q.setAttribute("class","imou-title"),d.options.title||d.options.title===""?Q.innerHTML=d.status.title:Q.innerHTML=`${d.status.deviceId} ${vt.t("channelId")} ${d.status.channelId}`,f.appendChild(Q),D.appendChild(f),k.appendChild(r);const g=new DocumentFragment,w=document.createElement("div");w.setAttribute("class","imou-controls-container"),w.setAttribute("id",`imou-controls-container_${d.playerId}`);const M=document.createElement("div");(()=>{g.appendChild(w),M.setAttribute("id",`imou-controls-left_${d.playerId}`),M.setAttribute("class","imou-controls-left"),w.appendChild(M),s.forEach((ue,Ee)=>{const O=document.createElement("div");O.setAttribute("id",`imou_player_icon_${ue.type}_${d.playerId}`),O.setAttribute("class",`imouPlayer-iconfont imou-icon-controls ${ue.icon}`),M.appendChild(O)});const oe=document.createElement("div");oe.setAttribute("class","imou-controls-right"),w.appendChild(oe),u.forEach((ue,Ee)=>{const O=document.createElement("div");O.setAttribute("id",`imou_player_icon_${ue.type}_${d.playerId}`),O.setAttribute("class",`imouPlayer-iconfont ${ue.icon} imou-icon-controls`),oe.appendChild(O)})})(),k.appendChild(g),t.appendChild(k),i.appendChild(t);const G=document.createElement("div");A.length&&(G.setAttribute("class","imou-controls-record-bottom"),G.setAttribute("id",`imou-controls-record-bottom${d.playerId}`),A.forEach((oe,ue)=>{const Ee=document.createElement("div");Ee.setAttribute("id",`imou_player_icon_${oe.type}_${d.playerId}`),Ee.setAttribute("class",`imouPlayer-iconfont ${oe.icon} imou-icon-controls`),G.appendChild(Ee)}));const Y=document.createElement("div");Y.setAttribute("class","imou-controls-record-landscape"),Y.setAttribute("id",`imou-controls-landscape_${d.playerId}`),Y.style.display="none";const N=document.createElement("div");N.setAttribute("class","imou-controls-record-landscape-container"),Y.appendChild(N),b.forEach((oe,ue)=>{const Ee=document.createElement("div");Ee.setAttribute("id",`imou_player_icon_${oe.type}_landscape_${d.playerId}`),Ee.setAttribute("class",`imouPlayer-iconfont ${oe.icon} imou-icon-controls`),N.appendChild(Ee)});const K=document.createElement("div");if(d.status.controlsConfig.includes("recordTimeLine")&&(K.setAttribute("class","imou-controls-record-landscape-container-bottom"),Y.appendChild(K)),k.appendChild(Y),d.status.controlsConfig.includes("speed")){const oe=document.createElement("div");oe.setAttribute("id",`imou_player_icon_speed_${d.playerId}`),oe.setAttribute("class","imou-icon-controls-select");const ue=document.createElement("div");ue.setAttribute("id",`imou_player_icon_speed_select-selected_${d.playerId}`),ue.setAttribute("class",`imouPlayer-iconfont select-selected icon-imou_icon_video_video_windows_btn_${d.status.recordSpeed}x`),oe.appendChild(ue),M.appendChild(oe);const Ee=document.createElement("div");Ee.setAttribute("id",`imou_player_icon_speed_landscape_${d.playerId}`),Ee.setAttribute("class","imou-icon-controls-select");const O=document.createElement("div");O.setAttribute("id",`imou_player_icon_speed_select-selected_landscape_${d.playerId}`),O.setAttribute("class",`imouPlayer-iconfont select-selected icon-imou_icon_video_video_windows_btn_${d.status.recordSpeed}x`),Ee.appendChild(O),N.appendChild(Ee)}const p=oe=>{oe==null||oe.addEventListener("click",ue=>{const Ee=ue.target;Ee instanceof HTMLElement&&Ee.id&&x(Ee.id)})};p(w),p(y),A.length&&p(G),p(Y);const x=oe=>{var ee;const ue=d.playerId,Ee=[{label:"0.5X",value:.5},{label:"1X",value:1},{label:"2X",value:2},{label:"4X",value:4},{label:"8X",value:8},{label:"16X",value:16}],O={[`imou_player_icon_play_${ue}`]:()=>{d.status.playing?(d.pause(),d.trackingLogs("pause")):d.start()},[`imou_player_icon_play_landscape_${ue}`]:()=>{d.status.playing?(d.pause(),d.trackingLogs("pause")):d.start()},[`imou_player_icon_volume_${ue}`]:()=>{d.volume(d.status.volume?0:1),d.trackingLogs("volume")},[`imou_player_icon_volume_landscape_${ue}`]:()=>{d.volume(d.status.volume?0:1),d.trackingLogs("volume")},[`imou_player_icon_speed_select-selected_${ue}`]:()=>{new Ff({value:d.status.recordSpeed,actions:Ee,onSelect:ge=>{d.setSpeed(ge),d.trackingLogs("speed")}}).open()},[`imou_player_icon_speed_select-selected_landscape_${ue}`]:()=>{new Mf({value:d.status.recordSpeed,actions:Ee,onSelect:ge=>{d.setSpeed(ge),d.trackingLogs("speed")}}).show()},[`imou_player_icon_fullScreen_${ue}`]:()=>{d.status.landscape||(d.enterLandscapeMode(),d.status.controlsConfig.includes("recordTimeLine")&&(K.appendChild(Ae),le.innerHTML="")),d.trackingLogs("fullScreen")},[`imou-title-back_${ue}`]:()=>{d.exitLandscapeMode(),d.status.controlsConfig.includes("recordTimeLine")&&(le.appendChild(Ae),K.innerHTML="")},[`imou_player_icon_capture_${ue}`]:()=>{d.capture(),d.trackingLogs("capture")},[`imou_player_icon_capture_landscape_${ue}`]:()=>{d.capture(),d.trackingLogs("capture")},[`imou_player_icon_videoRecord_${ue}`]:()=>{d.status.videoRecord?d.stopRecord():(d.startRecord(),d.trackingLogs("record"))},[`imou_player_icon_videoRecord_landscape_${ue}`]:()=>{d.status.videoRecord?d.stopRecord():(d.startRecord(),d.trackingLogs("record"))},[`imou_player_icon_localRecord_${ue}`]:()=>{d.status.recordType!=="localRecord"&&(d.status.message=vt.t("changeLocal"),d.changeImouUrl("recordType","localRecord"))},[`imou_player_icon_cloud_${ue}`]:()=>{d.status.recordType==="localRecord"&&(d.status.message=vt.t("changeCloud"),d.changeImouUrl("recordType","cloud"))}};(ee=O[oe])==null||ee.call(O)},_=document.createElement("div");_.setAttribute("id",`imou_player_message_root_${d.playerId}`),_.setAttribute("style","position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:16px;color:white;z-index:99999;"),_.style.display="none",i.appendChild(_);const B=document.createElement("div"),R=oe=>{const ue=An().startOf("day");return An(oe).startOf("day").isAfter(ue)};let X=null;function J(){const oe=document.createElement("div");oe.className="record-time-change";const ue=document.createElement("div");ue.className="imouPlayer-iconfont icon-imou_icon_time_selector_arror_left_n",ue.addEventListener("click",()=>{const O=An(d.status.beginTime).subtract(1,"day");d.changeImouUrl("beginTime x",O.format("YYYY-MM-DD")),B.textContent=An(O).format("MM/DD"),X()}),B.className="record-time-item-date",B.textContent=An(d.status.beginTime).format("MM/DD"),B.style.cursor="pointer",B.addEventListener("click",ae);const Ee=document.createElement("div");return Ee.className="imouPlayer-iconfont icon-imou_icon_time_selector_arror_right_n",X=()=>{const ee=An(d.status.beginTime).add(1,"day");R(ee)?(Ee.style.opacity="0.5",Ee.style.cursor="not-allowed",Ee.style.pointerEvents="none"):(Ee.style.opacity="1",Ee.style.cursor="pointer",Ee.style.pointerEvents="auto")},Ee.addEventListener("click",()=>{const O=An(d.status.beginTime).add(1,"day");R(O)||(d.changeImouUrl("beginTime x",O.format("YYYY-MM-DD")),B.textContent=An(O).format("MM/DD"),X())}),X(),oe.append(ue,B,Ee),oe}function ne(){const oe=document.createElement("div");return oe.className="record-type-change",C.forEach(ue=>{const Ee=document.createElement("div");Ee.className="record-type-icon",Ee.setAttribute("id",`imou_player_icon_${ue.type}_${d.playerId}`);const O=document.createElement("div");O.className=`imouPlayer-iconfont imouPlayer-iconfont ${ue.icon}`,(d.status.recordType==="localRecord"&&ue.type==="localRecord"||d.status.recordType!=="localRecord"&&ue.type==="cloud")&&Ee.classList.add("active"),O.addEventListener("click",()=>{x(`imou_player_icon_${ue.type}_${d.playerId}`)}),Ee.appendChild(O),oe.appendChild(Ee)}),oe}const le=document.createElement("div");function me(){const oe=document.createElement("div");oe.className="imou-controls-record-time-container";const ue=document.createElement("div");return ue.className="imou-controls-record-time-container-top",d.status.controlsConfig.includes("calendar")&&ue.appendChild(J()),d.status.controlsConfig.includes("recordChange")&&ue.appendChild(ne()),oe.appendChild(ue),d.status.controlsConfig.includes("recordTimeLine")&&(le.className="imou-controls-record-time-container-bottom",q({height:100}),le.appendChild(Ae)),oe.appendChild(le),oe}let Ae=document.createElement("canvas");function q({height:oe=100}){Ae.className="imou_player_mobile_timeLine",Ae.setAttribute("id",`imou_player_mobile_timeLine__${d.playerId}`),Ae.setAttribute("style",`height: ${oe}px;width:100%;`);const ue=new Df({elem:Ae,width:d.status.width,height:oe,Obj:d,beginTime:An(d.status.beginTime).unix()-An(d.status.beginTime).startOf("day").unix()});d.timeLine=ue}const Z=me(),re=d.status.controlsConfig.some(oe=>["recordTimeLine","recordChange","calendar"].includes(oe));re&&t.appendChild(Z),A.length&&(re||G.classList.add("imou-controls-record-bottom-no-recordTimeLine"),t.appendChild(G));function ae(){const oe=new pu({title:"",maskClosable:!0,onClose:()=>{}});oe.open(`
      <div id="calendar-popup" style="width: 100%; position: relative;"></div>
    `);let ue=null;const Ee=document.getElementById("calendar-popup");if(!!Ee)try{ue=new Lf({container:Ee,selectedDate:new Date(d.status.beginTime),eventsData:{},onDateSelect:O=>{d.changeImouUrl("beginTime x",An(O).format("YYYY-MM-DD")),oe.destroy(),B.textContent=An(O).format("MM/DD"),X&&X()},onMonthChange:(O,ee)=>{let ie=ee+1;ll($i(on({},d.status),{year:O,month:ie})).then(ge=>{const _e=(ge==null?void 0:ge.bitmap)||"",we=[];_e.split("").forEach((ke,Se)=>{ke==="1"&&we.push(Se+1)}),ue.addEventsToMonths({[`${O}-${ie<=9?"0"+ie:ie}`]:we})})},onClose:()=>{oe.destroy()}}),d.calendarInstance=ue}catch(O){console.error("\u521B\u5EFA\u65E5\u5386\u7EC4\u4EF6\u5931\u8D25:",O)}}return i}var Fm=d=>d.status.templateMode==="pc"?d.options.type==1?Sm(d):Dm(d):d.options.type==1?Tm(d):Lm(d);const Xr={Opera:"Opera",Chrome:"Chrome",Firefox:"Firefox",Edge:"Edge",Edg:"Edg",IE:"IE",Safari:"Safari"};function Mm(){const{platform:d}=navigator;return d}function Qm(){const{userAgent:d}=navigator;return d.includes("Edge")?Xr.Edge:d.includes("Edg")?Xr.Edg:d.includes("Firefox")?Xr.Firefox:d.includes("Chrome")?Xr.Chrome:d.includes("Safari")?Xr.Safari:d.includes("compatible")&&d.includes("MSIE")&&d.includes("Opera")?Xr.IE:d.includes("Opera")?Xr.Opera:""}function Pm(d){const{userAgent:i}=navigator;return i.split(d)[1].split(".")[0].slice(1)}function Rm(){const d=Qm(),i=Pm(d);let t=!1,s=0;if(console.log("\u662F\u5426\u652F\u6301SharedArrayBuffer\uFF1A",typeof SharedArrayBuffer),typeof SharedArrayBuffer=="undefined")t=!1;else switch(d){case Xr.Chrome:t=i>=91,s=701;break;case Xr.Firefox:t=i>=97,s=702;break;case Xr.Edge:t=i>=91,s=703;break;case Xr.Edg:t=i>=91,s=703;break;default:t=!1}return Mm().indexOf("Win")!=0&&(t=!1),{bSupportMultiThread:t,browserType:d,errorCode:s}}const Nm=(d,i)=>{const t=document.createElement("script");t.src=d,document.head.appendChild(t);var s=!1;typeof i=="function"&&(t.onload=t.onreadystatechange=function(){!s&&(!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,s=!0,i())})};var cl={exports:{}};/*! For license information please see PlaySDKInterface.js.LICENSE.txt */cl.exports,function(d,i){(function(t,s){d.exports=s()})(self,()=>(()=>{var t={87:function(b,C,c){b.exports=function(){var T=T||function(k,S){var E;if(typeof window!="undefined"&&window.crypto&&(E=window.crypto),typeof self!="undefined"&&self.crypto&&(E=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(E=globalThis.crypto),!E&&typeof window!="undefined"&&window.msCrypto&&(E=window.msCrypto),!E&&typeof c.g!="undefined"&&c.g.crypto&&(E=c.g.crypto),!E)try{E=c(477)}catch(K){}var r=function(){if(E){if(typeof E.getRandomValues=="function")try{return E.getRandomValues(new Uint32Array(1))[0]}catch(K){}if(typeof E.randomBytes=="function")try{return E.randomBytes(4).readInt32LE()}catch(K){}}throw new Error("Native crypto module could not be used to get secure random number.")},D=Object.create||function(){function K(){}return function(p){var x;return K.prototype=p,x=new K,K.prototype=null,x}}(),f={},y=f.lib={},Q=y.Base={extend:function(K){var p=D(this);return K&&p.mixIn(K),p.hasOwnProperty("init")&&this.init!==p.init||(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var K=this.extend();return K.init.apply(K,arguments),K},init:function(){},mixIn:function(K){for(var p in K)K.hasOwnProperty(p)&&(this[p]=K[p]);K.hasOwnProperty("toString")&&(this.toString=K.toString)},clone:function(){return this.init.prototype.extend(this)}},g=y.WordArray=Q.extend({init:function(K,p){K=this.words=K||[],this.sigBytes=p!=S?p:4*K.length},toString:function(K){return(K||M).stringify(this)},concat:function(K){var p=this.words,x=K.words,_=this.sigBytes,B=K.sigBytes;if(this.clamp(),_%4)for(var R=0;R<B;R++){var X=x[R>>>2]>>>24-R%4*8&255;p[_+R>>>2]|=X<<24-(_+R)%4*8}else for(var J=0;J<B;J+=4)p[_+J>>>2]=x[J>>>2];return this.sigBytes+=B,this},clamp:function(){var K=this.words,p=this.sigBytes;K[p>>>2]&=4294967295<<32-p%4*8,K.length=k.ceil(p/4)},clone:function(){var K=Q.clone.call(this);return K.words=this.words.slice(0),K},random:function(K){for(var p=[],x=0;x<K;x+=4)p.push(r());return new g.init(p,K)}}),w=f.enc={},M=w.Hex={stringify:function(K){for(var p=K.words,x=K.sigBytes,_=[],B=0;B<x;B++){var R=p[B>>>2]>>>24-B%4*8&255;_.push((R>>>4).toString(16)),_.push((15&R).toString(16))}return _.join("")},parse:function(K){for(var p=K.length,x=[],_=0;_<p;_+=2)x[_>>>3]|=parseInt(K.substr(_,2),16)<<24-_%8*4;return new g.init(x,p/2)}},z=w.Latin1={stringify:function(K){for(var p=K.words,x=K.sigBytes,_=[],B=0;B<x;B++){var R=p[B>>>2]>>>24-B%4*8&255;_.push(String.fromCharCode(R))}return _.join("")},parse:function(K){for(var p=K.length,x=[],_=0;_<p;_++)x[_>>>2]|=(255&K.charCodeAt(_))<<24-_%4*8;return new g.init(x,p)}},G=w.Utf8={stringify:function(K){try{return decodeURIComponent(escape(z.stringify(K)))}catch(p){throw new Error("Malformed UTF-8 data")}},parse:function(K){return z.parse(unescape(encodeURIComponent(K)))}},Y=y.BufferedBlockAlgorithm=Q.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(K){typeof K=="string"&&(K=G.parse(K)),this._data.concat(K),this._nDataBytes+=K.sigBytes},_process:function(K){var p,x=this._data,_=x.words,B=x.sigBytes,R=this.blockSize,X=B/(4*R),J=(X=K?k.ceil(X):k.max((0|X)-this._minBufferSize,0))*R,ne=k.min(4*J,B);if(J){for(var le=0;le<J;le+=R)this._doProcessBlock(_,le);p=_.splice(0,J),x.sigBytes-=ne}return new g.init(p,ne)},clone:function(){var K=Q.clone.call(this);return K._data=this._data.clone(),K},_minBufferSize:0}),N=(y.Hasher=Y.extend({cfg:Q.extend(),init:function(K){this.cfg=this.cfg.extend(K),this.reset()},reset:function(){Y.reset.call(this),this._doReset()},update:function(K){return this._append(K),this._process(),this},finalize:function(K){return K&&this._append(K),this._doFinalize()},blockSize:16,_createHelper:function(K){return function(p,x){return new K.init(x).finalize(p)}},_createHmacHelper:function(K){return function(p,x){return new N.HMAC.init(K,x).finalize(p)}}}),f.algo={});return f}(Math);return function(k){var S=T,E=S.lib,r=E.Base,D=E.WordArray,f=S.x64={};f.Word=r.extend({init:function(y,Q){this.high=y,this.low=Q}}),f.WordArray=r.extend({init:function(y,Q){y=this.words=y||[],this.sigBytes=Q!=k?Q:8*y.length},toX32:function(){for(var y=this.words,Q=y.length,g=[],w=0;w<Q;w++){var M=y[w];g.push(M.high),g.push(M.low)}return D.create(g,this.sigBytes)},clone:function(){for(var y=r.clone.call(this),Q=y.words=this.words.slice(0),g=Q.length,w=0;w<g;w++)Q[w]=Q[w].clone();return y}})}(),function(){if(typeof ArrayBuffer=="function"){var k=T.lib.WordArray,S=k.init,E=k.init=function(r){if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),(r instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array)&&(r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),r instanceof Uint8Array){for(var D=r.byteLength,f=[],y=0;y<D;y++)f[y>>>2]|=r[y]<<24-y%4*8;S.call(this,f,D)}else S.apply(this,arguments)};E.prototype=k}}(),function(){var k=T,S=k.lib.WordArray,E=k.enc;function r(D){return D<<8&4278255360|D>>>8&16711935}E.Utf16=E.Utf16BE={stringify:function(D){for(var f=D.words,y=D.sigBytes,Q=[],g=0;g<y;g+=2){var w=f[g>>>2]>>>16-g%4*8&65535;Q.push(String.fromCharCode(w))}return Q.join("")},parse:function(D){for(var f=D.length,y=[],Q=0;Q<f;Q++)y[Q>>>1]|=D.charCodeAt(Q)<<16-Q%2*16;return S.create(y,2*f)}},E.Utf16LE={stringify:function(D){for(var f=D.words,y=D.sigBytes,Q=[],g=0;g<y;g+=2){var w=r(f[g>>>2]>>>16-g%4*8&65535);Q.push(String.fromCharCode(w))}return Q.join("")},parse:function(D){for(var f=D.length,y=[],Q=0;Q<f;Q++)y[Q>>>1]|=r(D.charCodeAt(Q)<<16-Q%2*16);return S.create(y,2*f)}}}(),function(){var k=T,S=k.lib.WordArray;function E(r,D,f){for(var y=[],Q=0,g=0;g<D;g++)if(g%4){var w=f[r.charCodeAt(g-1)]<<g%4*2|f[r.charCodeAt(g)]>>>6-g%4*2;y[Q>>>2]|=w<<24-Q%4*8,Q++}return S.create(y,Q)}k.enc.Base64={stringify:function(r){var D=r.words,f=r.sigBytes,y=this._map;r.clamp();for(var Q=[],g=0;g<f;g+=3)for(var w=(D[g>>>2]>>>24-g%4*8&255)<<16|(D[g+1>>>2]>>>24-(g+1)%4*8&255)<<8|D[g+2>>>2]>>>24-(g+2)%4*8&255,M=0;M<4&&g+.75*M<f;M++)Q.push(y.charAt(w>>>6*(3-M)&63));var z=y.charAt(64);if(z)for(;Q.length%4;)Q.push(z);return Q.join("")},parse:function(r){var D=r.length,f=this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var Q=0;Q<f.length;Q++)y[f.charCodeAt(Q)]=Q}var g=f.charAt(64);if(g){var w=r.indexOf(g);w!==-1&&(D=w)}return E(r,D,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(){var k=T,S=k.lib.WordArray;function E(r,D,f){for(var y=[],Q=0,g=0;g<D;g++)if(g%4){var w=f[r.charCodeAt(g-1)]<<g%4*2|f[r.charCodeAt(g)]>>>6-g%4*2;y[Q>>>2]|=w<<24-Q%4*8,Q++}return S.create(y,Q)}k.enc.Base64url={stringify:function(r,D){D===void 0&&(D=!0);var f=r.words,y=r.sigBytes,Q=D?this._safe_map:this._map;r.clamp();for(var g=[],w=0;w<y;w+=3)for(var M=(f[w>>>2]>>>24-w%4*8&255)<<16|(f[w+1>>>2]>>>24-(w+1)%4*8&255)<<8|f[w+2>>>2]>>>24-(w+2)%4*8&255,z=0;z<4&&w+.75*z<y;z++)g.push(Q.charAt(M>>>6*(3-z)&63));var G=Q.charAt(64);if(G)for(;g.length%4;)g.push(G);return g.join("")},parse:function(r,D){D===void 0&&(D=!0);var f=r.length,y=D?this._safe_map:this._map,Q=this._reverseMap;if(!Q){Q=this._reverseMap=[];for(var g=0;g<y.length;g++)Q[y.charCodeAt(g)]=g}var w=y.charAt(64);if(w){var M=r.indexOf(w);M!==-1&&(f=M)}return E(r,f,Q)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),function(k){var S=T,E=S.lib,r=E.WordArray,D=E.Hasher,f=S.algo,y=[];(function(){for(var G=0;G<64;G++)y[G]=4294967296*k.abs(k.sin(G+1))|0})();var Q=f.MD5=D.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(G,Y){for(var N=0;N<16;N++){var K=Y+N,p=G[K];G[K]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}var x=this._hash.words,_=G[Y+0],B=G[Y+1],R=G[Y+2],X=G[Y+3],J=G[Y+4],ne=G[Y+5],le=G[Y+6],me=G[Y+7],Ae=G[Y+8],q=G[Y+9],Z=G[Y+10],re=G[Y+11],ae=G[Y+12],oe=G[Y+13],ue=G[Y+14],Ee=G[Y+15],O=x[0],ee=x[1],ie=x[2],ge=x[3];O=g(O,ee,ie,ge,_,7,y[0]),ge=g(ge,O,ee,ie,B,12,y[1]),ie=g(ie,ge,O,ee,R,17,y[2]),ee=g(ee,ie,ge,O,X,22,y[3]),O=g(O,ee,ie,ge,J,7,y[4]),ge=g(ge,O,ee,ie,ne,12,y[5]),ie=g(ie,ge,O,ee,le,17,y[6]),ee=g(ee,ie,ge,O,me,22,y[7]),O=g(O,ee,ie,ge,Ae,7,y[8]),ge=g(ge,O,ee,ie,q,12,y[9]),ie=g(ie,ge,O,ee,Z,17,y[10]),ee=g(ee,ie,ge,O,re,22,y[11]),O=g(O,ee,ie,ge,ae,7,y[12]),ge=g(ge,O,ee,ie,oe,12,y[13]),ie=g(ie,ge,O,ee,ue,17,y[14]),O=w(O,ee=g(ee,ie,ge,O,Ee,22,y[15]),ie,ge,B,5,y[16]),ge=w(ge,O,ee,ie,le,9,y[17]),ie=w(ie,ge,O,ee,re,14,y[18]),ee=w(ee,ie,ge,O,_,20,y[19]),O=w(O,ee,ie,ge,ne,5,y[20]),ge=w(ge,O,ee,ie,Z,9,y[21]),ie=w(ie,ge,O,ee,Ee,14,y[22]),ee=w(ee,ie,ge,O,J,20,y[23]),O=w(O,ee,ie,ge,q,5,y[24]),ge=w(ge,O,ee,ie,ue,9,y[25]),ie=w(ie,ge,O,ee,X,14,y[26]),ee=w(ee,ie,ge,O,Ae,20,y[27]),O=w(O,ee,ie,ge,oe,5,y[28]),ge=w(ge,O,ee,ie,R,9,y[29]),ie=w(ie,ge,O,ee,me,14,y[30]),O=M(O,ee=w(ee,ie,ge,O,ae,20,y[31]),ie,ge,ne,4,y[32]),ge=M(ge,O,ee,ie,Ae,11,y[33]),ie=M(ie,ge,O,ee,re,16,y[34]),ee=M(ee,ie,ge,O,ue,23,y[35]),O=M(O,ee,ie,ge,B,4,y[36]),ge=M(ge,O,ee,ie,J,11,y[37]),ie=M(ie,ge,O,ee,me,16,y[38]),ee=M(ee,ie,ge,O,Z,23,y[39]),O=M(O,ee,ie,ge,oe,4,y[40]),ge=M(ge,O,ee,ie,_,11,y[41]),ie=M(ie,ge,O,ee,X,16,y[42]),ee=M(ee,ie,ge,O,le,23,y[43]),O=M(O,ee,ie,ge,q,4,y[44]),ge=M(ge,O,ee,ie,ae,11,y[45]),ie=M(ie,ge,O,ee,Ee,16,y[46]),O=z(O,ee=M(ee,ie,ge,O,R,23,y[47]),ie,ge,_,6,y[48]),ge=z(ge,O,ee,ie,me,10,y[49]),ie=z(ie,ge,O,ee,ue,15,y[50]),ee=z(ee,ie,ge,O,ne,21,y[51]),O=z(O,ee,ie,ge,ae,6,y[52]),ge=z(ge,O,ee,ie,X,10,y[53]),ie=z(ie,ge,O,ee,Z,15,y[54]),ee=z(ee,ie,ge,O,B,21,y[55]),O=z(O,ee,ie,ge,Ae,6,y[56]),ge=z(ge,O,ee,ie,Ee,10,y[57]),ie=z(ie,ge,O,ee,le,15,y[58]),ee=z(ee,ie,ge,O,oe,21,y[59]),O=z(O,ee,ie,ge,J,6,y[60]),ge=z(ge,O,ee,ie,re,10,y[61]),ie=z(ie,ge,O,ee,R,15,y[62]),ee=z(ee,ie,ge,O,q,21,y[63]),x[0]=x[0]+O|0,x[1]=x[1]+ee|0,x[2]=x[2]+ie|0,x[3]=x[3]+ge|0},_doFinalize:function(){var G=this._data,Y=G.words,N=8*this._nDataBytes,K=8*G.sigBytes;Y[K>>>5]|=128<<24-K%32;var p=k.floor(N/4294967296),x=N;Y[15+(K+64>>>9<<4)]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),Y[14+(K+64>>>9<<4)]=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),G.sigBytes=4*(Y.length+1),this._process();for(var _=this._hash,B=_.words,R=0;R<4;R++){var X=B[R];B[R]=16711935&(X<<8|X>>>24)|4278255360&(X<<24|X>>>8)}return _},clone:function(){var G=D.clone.call(this);return G._hash=this._hash.clone(),G}});function g(G,Y,N,K,p,x,_){var B=G+(Y&N|~Y&K)+p+_;return(B<<x|B>>>32-x)+Y}function w(G,Y,N,K,p,x,_){var B=G+(Y&K|N&~K)+p+_;return(B<<x|B>>>32-x)+Y}function M(G,Y,N,K,p,x,_){var B=G+(Y^N^K)+p+_;return(B<<x|B>>>32-x)+Y}function z(G,Y,N,K,p,x,_){var B=G+(N^(Y|~K))+p+_;return(B<<x|B>>>32-x)+Y}S.MD5=D._createHelper(Q),S.HmacMD5=D._createHmacHelper(Q)}(Math),function(){var k=T,S=k.lib,E=S.WordArray,r=S.Hasher,D=k.algo,f=[],y=D.SHA1=r.extend({_doReset:function(){this._hash=new E.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Q,g){for(var w=this._hash.words,M=w[0],z=w[1],G=w[2],Y=w[3],N=w[4],K=0;K<80;K++){if(K<16)f[K]=0|Q[g+K];else{var p=f[K-3]^f[K-8]^f[K-14]^f[K-16];f[K]=p<<1|p>>>31}var x=(M<<5|M>>>27)+N+f[K];x+=K<20?1518500249+(z&G|~z&Y):K<40?1859775393+(z^G^Y):K<60?(z&G|z&Y|G&Y)-1894007588:(z^G^Y)-899497514,N=Y,Y=G,G=z<<30|z>>>2,z=M,M=x}w[0]=w[0]+M|0,w[1]=w[1]+z|0,w[2]=w[2]+G|0,w[3]=w[3]+Y|0,w[4]=w[4]+N|0},_doFinalize:function(){var Q=this._data,g=Q.words,w=8*this._nDataBytes,M=8*Q.sigBytes;return g[M>>>5]|=128<<24-M%32,g[14+(M+64>>>9<<4)]=Math.floor(w/4294967296),g[15+(M+64>>>9<<4)]=w,Q.sigBytes=4*g.length,this._process(),this._hash},clone:function(){var Q=r.clone.call(this);return Q._hash=this._hash.clone(),Q}});k.SHA1=r._createHelper(y),k.HmacSHA1=r._createHmacHelper(y)}(),function(k){var S=T,E=S.lib,r=E.WordArray,D=E.Hasher,f=S.algo,y=[],Q=[];(function(){function M(N){for(var K=k.sqrt(N),p=2;p<=K;p++)if(!(N%p))return!1;return!0}function z(N){return 4294967296*(N-(0|N))|0}for(var G=2,Y=0;Y<64;)M(G)&&(Y<8&&(y[Y]=z(k.pow(G,.5))),Q[Y]=z(k.pow(G,.3333333333333333)),Y++),G++})();var g=[],w=f.SHA256=D.extend({_doReset:function(){this._hash=new r.init(y.slice(0))},_doProcessBlock:function(M,z){for(var G=this._hash.words,Y=G[0],N=G[1],K=G[2],p=G[3],x=G[4],_=G[5],B=G[6],R=G[7],X=0;X<64;X++){if(X<16)g[X]=0|M[z+X];else{var J=g[X-15],ne=(J<<25|J>>>7)^(J<<14|J>>>18)^J>>>3,le=g[X-2],me=(le<<15|le>>>17)^(le<<13|le>>>19)^le>>>10;g[X]=ne+g[X-7]+me+g[X-16]}var Ae=Y&N^Y&K^N&K,q=(Y<<30|Y>>>2)^(Y<<19|Y>>>13)^(Y<<10|Y>>>22),Z=R+((x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25))+(x&_^~x&B)+Q[X]+g[X];R=B,B=_,_=x,x=p+Z|0,p=K,K=N,N=Y,Y=Z+(q+Ae)|0}G[0]=G[0]+Y|0,G[1]=G[1]+N|0,G[2]=G[2]+K|0,G[3]=G[3]+p|0,G[4]=G[4]+x|0,G[5]=G[5]+_|0,G[6]=G[6]+B|0,G[7]=G[7]+R|0},_doFinalize:function(){var M=this._data,z=M.words,G=8*this._nDataBytes,Y=8*M.sigBytes;return z[Y>>>5]|=128<<24-Y%32,z[14+(Y+64>>>9<<4)]=k.floor(G/4294967296),z[15+(Y+64>>>9<<4)]=G,M.sigBytes=4*z.length,this._process(),this._hash},clone:function(){var M=D.clone.call(this);return M._hash=this._hash.clone(),M}});S.SHA256=D._createHelper(w),S.HmacSHA256=D._createHmacHelper(w)}(Math),function(){var k=T,S=k.lib.WordArray,E=k.algo,r=E.SHA256,D=E.SHA224=r.extend({_doReset:function(){this._hash=new S.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=r._doFinalize.call(this);return f.sigBytes-=4,f}});k.SHA224=r._createHelper(D),k.HmacSHA224=r._createHmacHelper(D)}(),function(){var k=T,S=k.lib.Hasher,E=k.x64,r=E.Word,D=E.WordArray,f=k.algo;function y(){return r.create.apply(r,arguments)}var Q=[y(1116352408,3609767458),y(1899447441,602891725),y(3049323471,3964484399),y(3921009573,2173295548),y(961987163,4081628472),y(1508970993,3053834265),y(2453635748,2937671579),y(2870763221,3664609560),y(3624381080,2734883394),y(310598401,1164996542),y(607225278,1323610764),y(1426881987,3590304994),y(1925078388,4068182383),y(2162078206,991336113),y(2614888103,633803317),y(3248222580,3479774868),y(3835390401,2666613458),y(4022224774,944711139),y(264347078,2341262773),y(604807628,2007800933),y(770255983,1495990901),y(1249150122,1856431235),y(1555081692,3175218132),y(1996064986,2198950837),y(2554220882,3999719339),y(2821834349,766784016),y(2952996808,2566594879),y(3210313671,3203337956),y(3336571891,1034457026),y(3584528711,2466948901),y(113926993,3758326383),y(338241895,168717936),y(666307205,1188179964),y(773529912,1546045734),y(1294757372,1522805485),y(1396182291,2643833823),y(1695183700,2343527390),y(1986661051,1014477480),y(2177026350,1206759142),y(2456956037,344077627),y(2730485921,1290863460),y(2820302411,3158454273),y(3259730800,3505952657),y(3345764771,106217008),y(3516065817,3606008344),y(3600352804,1432725776),y(4094571909,1467031594),y(275423344,851169720),y(430227734,3100823752),y(506948616,1363258195),y(659060556,3750685593),y(883997877,3785050280),y(958139571,3318307427),y(1322822218,3812723403),y(1537002063,2003034995),y(1747873779,3602036899),y(1955562222,1575990012),y(2024104815,1125592928),y(2227730452,2716904306),y(2361852424,442776044),y(2428436474,593698344),y(2756734187,3733110249),y(3204031479,2999351573),y(3329325298,3815920427),y(3391569614,3928383900),y(3515267271,566280711),y(3940187606,3454069534),y(4118630271,4000239992),y(116418474,1914138554),y(174292421,2731055270),y(289380356,3203993006),y(460393269,320620315),y(685471733,587496836),y(852142971,1086792851),y(1017036298,365543100),y(1126000580,2618297676),y(1288033470,3409855158),y(1501505948,4234509866),y(1607167915,987167468),y(1816402316,1246189591)],g=[];(function(){for(var M=0;M<80;M++)g[M]=y()})();var w=f.SHA512=S.extend({_doReset:function(){this._hash=new D.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(M,z){for(var G=this._hash.words,Y=G[0],N=G[1],K=G[2],p=G[3],x=G[4],_=G[5],B=G[6],R=G[7],X=Y.high,J=Y.low,ne=N.high,le=N.low,me=K.high,Ae=K.low,q=p.high,Z=p.low,re=x.high,ae=x.low,oe=_.high,ue=_.low,Ee=B.high,O=B.low,ee=R.high,ie=R.low,ge=X,_e=J,we=ne,ke=le,Se=me,Te=Ae,Re=q,Ne=Z,Ye=re,Je=ae,rt=oe,We=ue,Ve=Ee,Oe=O,ft=ee,ht=ie,qt=0;qt<80;qt++){var bn,sn,gn=g[qt];if(qt<16)sn=gn.high=0|M[z+2*qt],bn=gn.low=0|M[z+2*qt+1];else{var kn=g[qt-15],Yn=kn.high,Nn=kn.low,pi=(Yn>>>1|Nn<<31)^(Yn>>>8|Nn<<24)^Yn>>>7,Ln=(Nn>>>1|Yn<<31)^(Nn>>>8|Yn<<24)^(Nn>>>7|Yn<<25),si=g[qt-2],Xi=si.high,or=si.low,jr=(Xi>>>19|or<<13)^(Xi<<3|or>>>29)^Xi>>>6,ji=(or>>>19|Xi<<13)^(or<<3|Xi>>>29)^(or>>>6|Xi<<26),br=g[qt-7],Zr=br.high,ea=br.low,Wr=g[qt-16],_r=Wr.high,$=Wr.low;sn=(sn=(sn=pi+Zr+((bn=Ln+ea)>>>0<Ln>>>0?1:0))+jr+((bn+=ji)>>>0<ji>>>0?1:0))+_r+((bn+=$)>>>0<$>>>0?1:0),gn.high=sn,gn.low=bn}var F,n=Ye&rt^~Ye&Ve,v=Je&We^~Je&Oe,I=ge&we^ge&Se^we&Se,U=_e&ke^_e&Te^ke&Te,W=(ge>>>28|_e<<4)^(ge<<30|_e>>>2)^(ge<<25|_e>>>7),fe=(_e>>>28|ge<<4)^(_e<<30|ge>>>2)^(_e<<25|ge>>>7),pe=(Ye>>>14|Je<<18)^(Ye>>>18|Je<<14)^(Ye<<23|Je>>>9),ve=(Je>>>14|Ye<<18)^(Je>>>18|Ye<<14)^(Je<<23|Ye>>>9),Ue=Q[qt],ze=Ue.high,Le=Ue.low,Qe=ft+pe+((F=ht+ve)>>>0<ht>>>0?1:0),lt=fe+U;ft=Ve,ht=Oe,Ve=rt,Oe=We,rt=Ye,We=Je,Ye=Re+(Qe=(Qe=(Qe=Qe+n+((F+=v)>>>0<v>>>0?1:0))+ze+((F+=Le)>>>0<Le>>>0?1:0))+sn+((F+=bn)>>>0<bn>>>0?1:0))+((Je=Ne+F|0)>>>0<Ne>>>0?1:0)|0,Re=Se,Ne=Te,Se=we,Te=ke,we=ge,ke=_e,ge=Qe+(W+I+(lt>>>0<fe>>>0?1:0))+((_e=F+lt|0)>>>0<F>>>0?1:0)|0}J=Y.low=J+_e,Y.high=X+ge+(J>>>0<_e>>>0?1:0),le=N.low=le+ke,N.high=ne+we+(le>>>0<ke>>>0?1:0),Ae=K.low=Ae+Te,K.high=me+Se+(Ae>>>0<Te>>>0?1:0),Z=p.low=Z+Ne,p.high=q+Re+(Z>>>0<Ne>>>0?1:0),ae=x.low=ae+Je,x.high=re+Ye+(ae>>>0<Je>>>0?1:0),ue=_.low=ue+We,_.high=oe+rt+(ue>>>0<We>>>0?1:0),O=B.low=O+Oe,B.high=Ee+Ve+(O>>>0<Oe>>>0?1:0),ie=R.low=ie+ht,R.high=ee+ft+(ie>>>0<ht>>>0?1:0)},_doFinalize:function(){var M=this._data,z=M.words,G=8*this._nDataBytes,Y=8*M.sigBytes;return z[Y>>>5]|=128<<24-Y%32,z[30+(Y+128>>>10<<5)]=Math.floor(G/4294967296),z[31+(Y+128>>>10<<5)]=G,M.sigBytes=4*z.length,this._process(),this._hash.toX32()},clone:function(){var M=S.clone.call(this);return M._hash=this._hash.clone(),M},blockSize:32});k.SHA512=S._createHelper(w),k.HmacSHA512=S._createHmacHelper(w)}(),function(){var k=T,S=k.x64,E=S.Word,r=S.WordArray,D=k.algo,f=D.SHA512,y=D.SHA384=f.extend({_doReset:function(){this._hash=new r.init([new E.init(3418070365,3238371032),new E.init(1654270250,914150663),new E.init(2438529370,812702999),new E.init(355462360,4144912697),new E.init(1731405415,4290775857),new E.init(2394180231,1750603025),new E.init(3675008525,1694076839),new E.init(1203062813,3204075428)])},_doFinalize:function(){var Q=f._doFinalize.call(this);return Q.sigBytes-=16,Q}});k.SHA384=f._createHelper(y),k.HmacSHA384=f._createHmacHelper(y)}(),function(k){var S=T,E=S.lib,r=E.WordArray,D=E.Hasher,f=S.x64.Word,y=S.algo,Q=[],g=[],w=[];(function(){for(var G=1,Y=0,N=0;N<24;N++){Q[G+5*Y]=(N+1)*(N+2)/2%64;var K=(2*G+3*Y)%5;G=Y%5,Y=K}for(G=0;G<5;G++)for(Y=0;Y<5;Y++)g[G+5*Y]=Y+(2*G+3*Y)%5*5;for(var p=1,x=0;x<24;x++){for(var _=0,B=0,R=0;R<7;R++){if(1&p){var X=(1<<R)-1;X<32?B^=1<<X:_^=1<<X-32}128&p?p=p<<1^113:p<<=1}w[x]=f.create(_,B)}})();var M=[];(function(){for(var G=0;G<25;G++)M[G]=f.create()})();var z=y.SHA3=D.extend({cfg:D.cfg.extend({outputLength:512}),_doReset:function(){for(var G=this._state=[],Y=0;Y<25;Y++)G[Y]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(G,Y){for(var N=this._state,K=this.blockSize/2,p=0;p<K;p++){var x=G[Y+2*p],_=G[Y+2*p+1];x=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),_=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),(ie=N[p]).high^=_,ie.low^=x}for(var B=0;B<24;B++){for(var R=0;R<5;R++){for(var X=0,J=0,ne=0;ne<5;ne++)X^=(ie=N[R+5*ne]).high,J^=ie.low;var le=M[R];le.high=X,le.low=J}for(R=0;R<5;R++){var me=M[(R+4)%5],Ae=M[(R+1)%5],q=Ae.high,Z=Ae.low;for(X=me.high^(q<<1|Z>>>31),J=me.low^(Z<<1|q>>>31),ne=0;ne<5;ne++)(ie=N[R+5*ne]).high^=X,ie.low^=J}for(var re=1;re<25;re++){var ae=(ie=N[re]).high,oe=ie.low,ue=Q[re];ue<32?(X=ae<<ue|oe>>>32-ue,J=oe<<ue|ae>>>32-ue):(X=oe<<ue-32|ae>>>64-ue,J=ae<<ue-32|oe>>>64-ue);var Ee=M[g[re]];Ee.high=X,Ee.low=J}var O=M[0],ee=N[0];for(O.high=ee.high,O.low=ee.low,R=0;R<5;R++)for(ne=0;ne<5;ne++){var ie=N[re=R+5*ne],ge=M[re],_e=M[(R+1)%5+5*ne],we=M[(R+2)%5+5*ne];ie.high=ge.high^~_e.high&we.high,ie.low=ge.low^~_e.low&we.low}ie=N[0];var ke=w[B];ie.high^=ke.high,ie.low^=ke.low}},_doFinalize:function(){var G=this._data,Y=G.words,N=(this._nDataBytes,8*G.sigBytes),K=32*this.blockSize;Y[N>>>5]|=1<<24-N%32,Y[(k.ceil((N+1)/K)*K>>>5)-1]|=128,G.sigBytes=4*Y.length,this._process();for(var p=this._state,x=this.cfg.outputLength/8,_=x/8,B=[],R=0;R<_;R++){var X=p[R],J=X.high,ne=X.low;J=16711935&(J<<8|J>>>24)|4278255360&(J<<24|J>>>8),ne=16711935&(ne<<8|ne>>>24)|4278255360&(ne<<24|ne>>>8),B.push(ne),B.push(J)}return new r.init(B,x)},clone:function(){for(var G=D.clone.call(this),Y=G._state=this._state.slice(0),N=0;N<25;N++)Y[N]=Y[N].clone();return G}});S.SHA3=D._createHelper(z),S.HmacSHA3=D._createHmacHelper(z)}(Math),function(){var k=T,S=k.lib,E=S.WordArray,r=S.Hasher,D=k.algo,f=E.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),y=E.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),Q=E.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=E.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),w=E.create([0,1518500249,1859775393,2400959708,2840853838]),M=E.create([1352829926,1548603684,1836072691,2053994217,0]),z=D.RIPEMD160=r.extend({_doReset:function(){this._hash=E.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(_,B){for(var R=0;R<16;R++){var X=B+R,J=_[X];_[X]=16711935&(J<<8|J>>>24)|4278255360&(J<<24|J>>>8)}var ne,le,me,Ae,q,Z,re,ae,oe,ue,Ee,O=this._hash.words,ee=w.words,ie=M.words,ge=f.words,_e=y.words,we=Q.words,ke=g.words;for(Z=ne=O[0],re=le=O[1],ae=me=O[2],oe=Ae=O[3],ue=q=O[4],R=0;R<80;R+=1)Ee=ne+_[B+ge[R]]|0,Ee+=R<16?G(le,me,Ae)+ee[0]:R<32?Y(le,me,Ae)+ee[1]:R<48?N(le,me,Ae)+ee[2]:R<64?K(le,me,Ae)+ee[3]:p(le,me,Ae)+ee[4],Ee=(Ee=x(Ee|=0,we[R]))+q|0,ne=q,q=Ae,Ae=x(me,10),me=le,le=Ee,Ee=Z+_[B+_e[R]]|0,Ee+=R<16?p(re,ae,oe)+ie[0]:R<32?K(re,ae,oe)+ie[1]:R<48?N(re,ae,oe)+ie[2]:R<64?Y(re,ae,oe)+ie[3]:G(re,ae,oe)+ie[4],Ee=(Ee=x(Ee|=0,ke[R]))+ue|0,Z=ue,ue=oe,oe=x(ae,10),ae=re,re=Ee;Ee=O[1]+me+oe|0,O[1]=O[2]+Ae+ue|0,O[2]=O[3]+q+Z|0,O[3]=O[4]+ne+re|0,O[4]=O[0]+le+ae|0,O[0]=Ee},_doFinalize:function(){var _=this._data,B=_.words,R=8*this._nDataBytes,X=8*_.sigBytes;B[X>>>5]|=128<<24-X%32,B[14+(X+64>>>9<<4)]=16711935&(R<<8|R>>>24)|4278255360&(R<<24|R>>>8),_.sigBytes=4*(B.length+1),this._process();for(var J=this._hash,ne=J.words,le=0;le<5;le++){var me=ne[le];ne[le]=16711935&(me<<8|me>>>24)|4278255360&(me<<24|me>>>8)}return J},clone:function(){var _=r.clone.call(this);return _._hash=this._hash.clone(),_}});function G(_,B,R){return _^B^R}function Y(_,B,R){return _&B|~_&R}function N(_,B,R){return(_|~B)^R}function K(_,B,R){return _&R|B&~R}function p(_,B,R){return _^(B|~R)}function x(_,B){return _<<B|_>>>32-B}k.RIPEMD160=r._createHelper(z),k.HmacRIPEMD160=r._createHmacHelper(z)}(),function(){var k=T,S=k.lib.Base,E=k.enc.Utf8;k.algo.HMAC=S.extend({init:function(r,D){r=this._hasher=new r.init,typeof D=="string"&&(D=E.parse(D));var f=r.blockSize,y=4*f;D.sigBytes>y&&(D=r.finalize(D)),D.clamp();for(var Q=this._oKey=D.clone(),g=this._iKey=D.clone(),w=Q.words,M=g.words,z=0;z<f;z++)w[z]^=1549556828,M[z]^=909522486;Q.sigBytes=g.sigBytes=y,this.reset()},reset:function(){var r=this._hasher;r.reset(),r.update(this._iKey)},update:function(r){return this._hasher.update(r),this},finalize:function(r){var D=this._hasher,f=D.finalize(r);return D.reset(),D.finalize(this._oKey.clone().concat(f))}})}(),function(){var k=T,S=k.lib,E=S.Base,r=S.WordArray,D=k.algo,f=D.SHA256,y=D.HMAC,Q=D.PBKDF2=E.extend({cfg:E.extend({keySize:4,hasher:f,iterations:25e4}),init:function(g){this.cfg=this.cfg.extend(g)},compute:function(g,w){for(var M=this.cfg,z=y.create(M.hasher,g),G=r.create(),Y=r.create([1]),N=G.words,K=Y.words,p=M.keySize,x=M.iterations;N.length<p;){var _=z.update(w).finalize(Y);z.reset();for(var B=_.words,R=B.length,X=_,J=1;J<x;J++){X=z.finalize(X),z.reset();for(var ne=X.words,le=0;le<R;le++)B[le]^=ne[le]}G.concat(_),K[0]++}return G.sigBytes=4*p,G}});k.PBKDF2=function(g,w,M){return Q.create(M).compute(g,w)}}(),function(){var k=T,S=k.lib,E=S.Base,r=S.WordArray,D=k.algo,f=D.MD5,y=D.EvpKDF=E.extend({cfg:E.extend({keySize:4,hasher:f,iterations:1}),init:function(Q){this.cfg=this.cfg.extend(Q)},compute:function(Q,g){for(var w,M=this.cfg,z=M.hasher.create(),G=r.create(),Y=G.words,N=M.keySize,K=M.iterations;Y.length<N;){w&&z.update(w),w=z.update(Q).finalize(g),z.reset();for(var p=1;p<K;p++)w=z.finalize(w),z.reset();G.concat(w)}return G.sigBytes=4*N,G}});k.EvpKDF=function(Q,g,w){return y.create(w).compute(Q,g)}}(),T.lib.Cipher||function(k){var S=T,E=S.lib,r=E.Base,D=E.WordArray,f=E.BufferedBlockAlgorithm,y=S.enc,Q=(y.Utf8,y.Base64),g=S.algo.EvpKDF,w=E.Cipher=f.extend({cfg:r.extend(),createEncryptor:function(B,R){return this.create(this._ENC_XFORM_MODE,B,R)},createDecryptor:function(B,R){return this.create(this._DEC_XFORM_MODE,B,R)},init:function(B,R,X){this.cfg=this.cfg.extend(X),this._xformMode=B,this._key=R,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(B){return this._append(B),this._process()},finalize:function(B){return B&&this._append(B),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function B(R){return typeof R=="string"?_:p}return function(R){return{encrypt:function(X,J,ne){return B(J).encrypt(R,X,J,ne)},decrypt:function(X,J,ne){return B(J).decrypt(R,X,J,ne)}}}}()}),M=(E.StreamCipher=w.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),S.mode={}),z=E.BlockCipherMode=r.extend({createEncryptor:function(B,R){return this.Encryptor.create(B,R)},createDecryptor:function(B,R){return this.Decryptor.create(B,R)},init:function(B,R){this._cipher=B,this._iv=R}}),G=M.CBC=function(){var B=z.extend();function R(X,J,ne){var le,me=this._iv;me?(le=me,this._iv=k):le=this._prevBlock;for(var Ae=0;Ae<ne;Ae++)X[J+Ae]^=le[Ae]}return B.Encryptor=B.extend({processBlock:function(X,J){var ne=this._cipher,le=ne.blockSize;R.call(this,X,J,le),ne.encryptBlock(X,J),this._prevBlock=X.slice(J,J+le)}}),B.Decryptor=B.extend({processBlock:function(X,J){var ne=this._cipher,le=ne.blockSize,me=X.slice(J,J+le);ne.decryptBlock(X,J),R.call(this,X,J,le),this._prevBlock=me}}),B}(),Y=(S.pad={}).Pkcs7={pad:function(B,R){for(var X=4*R,J=X-B.sigBytes%X,ne=J<<24|J<<16|J<<8|J,le=[],me=0;me<J;me+=4)le.push(ne);var Ae=D.create(le,J);B.concat(Ae)},unpad:function(B){var R=255&B.words[B.sigBytes-1>>>2];B.sigBytes-=R}},N=(E.BlockCipher=w.extend({cfg:w.cfg.extend({mode:G,padding:Y}),reset:function(){var B;w.reset.call(this);var R=this.cfg,X=R.iv,J=R.mode;this._xformMode==this._ENC_XFORM_MODE?B=J.createEncryptor:(B=J.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==B?this._mode.init(this,X&&X.words):(this._mode=B.call(J,this,X&&X.words),this._mode.__creator=B)},_doProcessBlock:function(B,R){this._mode.processBlock(B,R)},_doFinalize:function(){var B,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),B=this._process(!0)):(B=this._process(!0),R.unpad(B)),B},blockSize:4}),E.CipherParams=r.extend({init:function(B){this.mixIn(B)},toString:function(B){return(B||this.formatter).stringify(this)}})),K=(S.format={}).OpenSSL={stringify:function(B){var R=B.ciphertext,X=B.salt;return(X?D.create([1398893684,1701076831]).concat(X).concat(R):R).toString(Q)},parse:function(B){var R,X=Q.parse(B),J=X.words;return J[0]==1398893684&&J[1]==1701076831&&(R=D.create(J.slice(2,4)),J.splice(0,4),X.sigBytes-=16),N.create({ciphertext:X,salt:R})}},p=E.SerializableCipher=r.extend({cfg:r.extend({format:K}),encrypt:function(B,R,X,J){J=this.cfg.extend(J);var ne=B.createEncryptor(X,J),le=ne.finalize(R),me=ne.cfg;return N.create({ciphertext:le,key:X,iv:me.iv,algorithm:B,mode:me.mode,padding:me.padding,blockSize:B.blockSize,formatter:J.format})},decrypt:function(B,R,X,J){return J=this.cfg.extend(J),R=this._parse(R,J.format),B.createDecryptor(X,J).finalize(R.ciphertext)},_parse:function(B,R){return typeof B=="string"?R.parse(B,this):B}}),x=(S.kdf={}).OpenSSL={execute:function(B,R,X,J,ne){if(J||(J=D.random(8)),ne)le=g.create({keySize:R+X,hasher:ne}).compute(B,J);else var le=g.create({keySize:R+X}).compute(B,J);var me=D.create(le.words.slice(R),4*X);return le.sigBytes=4*R,N.create({key:le,iv:me,salt:J})}},_=E.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:x}),encrypt:function(B,R,X,J){var ne=(J=this.cfg.extend(J)).kdf.execute(X,B.keySize,B.ivSize,J.salt,J.hasher);J.iv=ne.iv;var le=p.encrypt.call(this,B,R,ne.key,J);return le.mixIn(ne),le},decrypt:function(B,R,X,J){J=this.cfg.extend(J),R=this._parse(R,J.format);var ne=J.kdf.execute(X,B.keySize,B.ivSize,R.salt,J.hasher);return J.iv=ne.iv,p.decrypt.call(this,B,R,ne.key,J)}})}(),T.mode.CFB=function(){var k=T.lib.BlockCipherMode.extend();function S(E,r,D,f){var y,Q=this._iv;Q?(y=Q.slice(0),this._iv=void 0):y=this._prevBlock,f.encryptBlock(y,0);for(var g=0;g<D;g++)E[r+g]^=y[g]}return k.Encryptor=k.extend({processBlock:function(E,r){var D=this._cipher,f=D.blockSize;S.call(this,E,r,f,D),this._prevBlock=E.slice(r,r+f)}}),k.Decryptor=k.extend({processBlock:function(E,r){var D=this._cipher,f=D.blockSize,y=E.slice(r,r+f);S.call(this,E,r,f,D),this._prevBlock=y}}),k}(),T.mode.CTR=function(){var k=T.lib.BlockCipherMode.extend(),S=k.Encryptor=k.extend({processBlock:function(E,r){var D=this._cipher,f=D.blockSize,y=this._iv,Q=this._counter;y&&(Q=this._counter=y.slice(0),this._iv=void 0);var g=Q.slice(0);D.encryptBlock(g,0),Q[f-1]=Q[f-1]+1|0;for(var w=0;w<f;w++)E[r+w]^=g[w]}});return k.Decryptor=S,k}(),T.mode.CTRGladman=function(){var k=T.lib.BlockCipherMode.extend();function S(D){if((D>>24&255)===255){var f=D>>16&255,y=D>>8&255,Q=255&D;f===255?(f=0,y===255?(y=0,Q===255?Q=0:++Q):++y):++f,D=0,D+=f<<16,D+=y<<8,D+=Q}else D+=16777216;return D}function E(D){return(D[0]=S(D[0]))===0&&(D[1]=S(D[1])),D}var r=k.Encryptor=k.extend({processBlock:function(D,f){var y=this._cipher,Q=y.blockSize,g=this._iv,w=this._counter;g&&(w=this._counter=g.slice(0),this._iv=void 0),E(w);var M=w.slice(0);y.encryptBlock(M,0);for(var z=0;z<Q;z++)D[f+z]^=M[z]}});return k.Decryptor=r,k}(),T.mode.OFB=function(){var k=T.lib.BlockCipherMode.extend(),S=k.Encryptor=k.extend({processBlock:function(E,r){var D=this._cipher,f=D.blockSize,y=this._iv,Q=this._keystream;y&&(Q=this._keystream=y.slice(0),this._iv=void 0),D.encryptBlock(Q,0);for(var g=0;g<f;g++)E[r+g]^=Q[g]}});return k.Decryptor=S,k}(),T.mode.ECB=function(){var k=T.lib.BlockCipherMode.extend();return k.Encryptor=k.extend({processBlock:function(S,E){this._cipher.encryptBlock(S,E)}}),k.Decryptor=k.extend({processBlock:function(S,E){this._cipher.decryptBlock(S,E)}}),k}(),T.pad.AnsiX923={pad:function(k,S){var E=k.sigBytes,r=4*S,D=r-E%r,f=E+D-1;k.clamp(),k.words[f>>>2]|=D<<24-f%4*8,k.sigBytes+=D},unpad:function(k){var S=255&k.words[k.sigBytes-1>>>2];k.sigBytes-=S}},T.pad.Iso10126={pad:function(k,S){var E=4*S,r=E-k.sigBytes%E;k.concat(T.lib.WordArray.random(r-1)).concat(T.lib.WordArray.create([r<<24],1))},unpad:function(k){var S=255&k.words[k.sigBytes-1>>>2];k.sigBytes-=S}},T.pad.Iso97971={pad:function(k,S){k.concat(T.lib.WordArray.create([2147483648],1)),T.pad.ZeroPadding.pad(k,S)},unpad:function(k){T.pad.ZeroPadding.unpad(k),k.sigBytes--}},T.pad.ZeroPadding={pad:function(k,S){var E=4*S;k.clamp(),k.sigBytes+=E-(k.sigBytes%E||E)},unpad:function(k){var S=k.words,E=k.sigBytes-1;for(E=k.sigBytes-1;E>=0;E--)if(S[E>>>2]>>>24-E%4*8&255){k.sigBytes=E+1;break}}},T.pad.NoPadding={pad:function(){},unpad:function(){}},function(){var k=T,S=k.lib.CipherParams,E=k.enc.Hex;k.format.Hex={stringify:function(r){return r.ciphertext.toString(E)},parse:function(r){var D=E.parse(r);return S.create({ciphertext:D})}}}(),function(){var k=T,S=k.lib.BlockCipher,E=k.algo,r=[],D=[],f=[],y=[],Q=[],g=[],w=[],M=[],z=[],G=[];(function(){for(var K=[],p=0;p<256;p++)K[p]=p<128?p<<1:p<<1^283;var x=0,_=0;for(p=0;p<256;p++){var B=_^_<<1^_<<2^_<<3^_<<4;B=B>>>8^255&B^99,r[x]=B,D[B]=x;var R=K[x],X=K[R],J=K[X],ne=257*K[B]^16843008*B;f[x]=ne<<24|ne>>>8,y[x]=ne<<16|ne>>>16,Q[x]=ne<<8|ne>>>24,g[x]=ne,ne=16843009*J^65537*X^257*R^16843008*x,w[B]=ne<<24|ne>>>8,M[B]=ne<<16|ne>>>16,z[B]=ne<<8|ne>>>24,G[B]=ne,x?(x=R^K[K[K[J^R]]],_^=K[K[_]]):x=_=1}})();var Y=[0,1,2,4,8,16,32,64,128,27,54],N=E.AES=S.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var K=this._keyPriorReset=this._key,p=K.words,x=K.sigBytes/4,_=4*((this._nRounds=x+6)+1),B=this._keySchedule=[],R=0;R<_;R++)R<x?B[R]=p[R]:(ne=B[R-1],R%x?x>6&&R%x==4&&(ne=r[ne>>>24]<<24|r[ne>>>16&255]<<16|r[ne>>>8&255]<<8|r[255&ne]):(ne=r[(ne=ne<<8|ne>>>24)>>>24]<<24|r[ne>>>16&255]<<16|r[ne>>>8&255]<<8|r[255&ne],ne^=Y[R/x|0]<<24),B[R]=B[R-x]^ne);for(var X=this._invKeySchedule=[],J=0;J<_;J++){if(R=_-J,J%4)var ne=B[R];else ne=B[R-4];X[J]=J<4||R<=4?ne:w[r[ne>>>24]]^M[r[ne>>>16&255]]^z[r[ne>>>8&255]]^G[r[255&ne]]}}},encryptBlock:function(K,p){this._doCryptBlock(K,p,this._keySchedule,f,y,Q,g,r)},decryptBlock:function(K,p){var x=K[p+1];K[p+1]=K[p+3],K[p+3]=x,this._doCryptBlock(K,p,this._invKeySchedule,w,M,z,G,D),x=K[p+1],K[p+1]=K[p+3],K[p+3]=x},_doCryptBlock:function(K,p,x,_,B,R,X,J){for(var ne=this._nRounds,le=K[p]^x[0],me=K[p+1]^x[1],Ae=K[p+2]^x[2],q=K[p+3]^x[3],Z=4,re=1;re<ne;re++){var ae=_[le>>>24]^B[me>>>16&255]^R[Ae>>>8&255]^X[255&q]^x[Z++],oe=_[me>>>24]^B[Ae>>>16&255]^R[q>>>8&255]^X[255&le]^x[Z++],ue=_[Ae>>>24]^B[q>>>16&255]^R[le>>>8&255]^X[255&me]^x[Z++],Ee=_[q>>>24]^B[le>>>16&255]^R[me>>>8&255]^X[255&Ae]^x[Z++];le=ae,me=oe,Ae=ue,q=Ee}ae=(J[le>>>24]<<24|J[me>>>16&255]<<16|J[Ae>>>8&255]<<8|J[255&q])^x[Z++],oe=(J[me>>>24]<<24|J[Ae>>>16&255]<<16|J[q>>>8&255]<<8|J[255&le])^x[Z++],ue=(J[Ae>>>24]<<24|J[q>>>16&255]<<16|J[le>>>8&255]<<8|J[255&me])^x[Z++],Ee=(J[q>>>24]<<24|J[le>>>16&255]<<16|J[me>>>8&255]<<8|J[255&Ae])^x[Z++],K[p]=ae,K[p+1]=oe,K[p+2]=ue,K[p+3]=Ee},keySize:8});k.AES=S._createHelper(N)}(),function(){var k=T,S=k.lib,E=S.WordArray,r=S.BlockCipher,D=k.algo,f=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],y=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],Q=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],g=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],w=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],M=D.DES=r.extend({_doReset:function(){for(var N=this._key.words,K=[],p=0;p<56;p++){var x=f[p]-1;K[p]=N[x>>>5]>>>31-x%32&1}for(var _=this._subKeys=[],B=0;B<16;B++){var R=_[B]=[],X=Q[B];for(p=0;p<24;p++)R[p/6|0]|=K[(y[p]-1+X)%28]<<31-p%6,R[4+(p/6|0)]|=K[28+(y[p+24]-1+X)%28]<<31-p%6;for(R[0]=R[0]<<1|R[0]>>>31,p=1;p<7;p++)R[p]=R[p]>>>4*(p-1)+3;R[7]=R[7]<<5|R[7]>>>27}var J=this._invSubKeys=[];for(p=0;p<16;p++)J[p]=_[15-p]},encryptBlock:function(N,K){this._doCryptBlock(N,K,this._subKeys)},decryptBlock:function(N,K){this._doCryptBlock(N,K,this._invSubKeys)},_doCryptBlock:function(N,K,p){this._lBlock=N[K],this._rBlock=N[K+1],z.call(this,4,252645135),z.call(this,16,65535),G.call(this,2,858993459),G.call(this,8,16711935),z.call(this,1,1431655765);for(var x=0;x<16;x++){for(var _=p[x],B=this._lBlock,R=this._rBlock,X=0,J=0;J<8;J++)X|=g[J][((R^_[J])&w[J])>>>0];this._lBlock=R,this._rBlock=B^X}var ne=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ne,z.call(this,1,1431655765),G.call(this,8,16711935),G.call(this,2,858993459),z.call(this,16,65535),z.call(this,4,252645135),N[K]=this._lBlock,N[K+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function z(N,K){var p=(this._lBlock>>>N^this._rBlock)&K;this._rBlock^=p,this._lBlock^=p<<N}function G(N,K){var p=(this._rBlock>>>N^this._lBlock)&K;this._lBlock^=p,this._rBlock^=p<<N}k.DES=r._createHelper(M);var Y=D.TripleDES=r.extend({_doReset:function(){var N=this._key.words;if(N.length!==2&&N.length!==4&&N.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var K=N.slice(0,2),p=N.length<4?N.slice(0,2):N.slice(2,4),x=N.length<6?N.slice(0,2):N.slice(4,6);this._des1=M.createEncryptor(E.create(K)),this._des2=M.createEncryptor(E.create(p)),this._des3=M.createEncryptor(E.create(x))},encryptBlock:function(N,K){this._des1.encryptBlock(N,K),this._des2.decryptBlock(N,K),this._des3.encryptBlock(N,K)},decryptBlock:function(N,K){this._des3.decryptBlock(N,K),this._des2.encryptBlock(N,K),this._des1.decryptBlock(N,K)},keySize:6,ivSize:2,blockSize:2});k.TripleDES=r._createHelper(Y)}(),function(){var k=T,S=k.lib.StreamCipher,E=k.algo,r=E.RC4=S.extend({_doReset:function(){for(var y=this._key,Q=y.words,g=y.sigBytes,w=this._S=[],M=0;M<256;M++)w[M]=M;M=0;for(var z=0;M<256;M++){var G=M%g,Y=Q[G>>>2]>>>24-G%4*8&255;z=(z+w[M]+Y)%256;var N=w[M];w[M]=w[z],w[z]=N}this._i=this._j=0},_doProcessBlock:function(y,Q){y[Q]^=D.call(this)},keySize:8,ivSize:0});function D(){for(var y=this._S,Q=this._i,g=this._j,w=0,M=0;M<4;M++){g=(g+y[Q=(Q+1)%256])%256;var z=y[Q];y[Q]=y[g],y[g]=z,w|=y[(y[Q]+y[g])%256]<<24-8*M}return this._i=Q,this._j=g,w}k.RC4=S._createHelper(r);var f=E.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var y=this.cfg.drop;y>0;y--)D.call(this)}});k.RC4Drop=S._createHelper(f)}(),function(){var k=T,S=k.lib.StreamCipher,E=k.algo,r=[],D=[],f=[],y=E.Rabbit=S.extend({_doReset:function(){for(var g=this._key.words,w=this.cfg.iv,M=0;M<4;M++)g[M]=16711935&(g[M]<<8|g[M]>>>24)|4278255360&(g[M]<<24|g[M]>>>8);var z=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],G=this._C=[g[2]<<16|g[2]>>>16,4294901760&g[0]|65535&g[1],g[3]<<16|g[3]>>>16,4294901760&g[1]|65535&g[2],g[0]<<16|g[0]>>>16,4294901760&g[2]|65535&g[3],g[1]<<16|g[1]>>>16,4294901760&g[3]|65535&g[0]];for(this._b=0,M=0;M<4;M++)Q.call(this);for(M=0;M<8;M++)G[M]^=z[M+4&7];if(w){var Y=w.words,N=Y[0],K=Y[1],p=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8),x=16711935&(K<<8|K>>>24)|4278255360&(K<<24|K>>>8),_=p>>>16|4294901760&x,B=x<<16|65535&p;for(G[0]^=p,G[1]^=_,G[2]^=x,G[3]^=B,G[4]^=p,G[5]^=_,G[6]^=x,G[7]^=B,M=0;M<4;M++)Q.call(this)}},_doProcessBlock:function(g,w){var M=this._X;Q.call(this),r[0]=M[0]^M[5]>>>16^M[3]<<16,r[1]=M[2]^M[7]>>>16^M[5]<<16,r[2]=M[4]^M[1]>>>16^M[7]<<16,r[3]=M[6]^M[3]>>>16^M[1]<<16;for(var z=0;z<4;z++)r[z]=16711935&(r[z]<<8|r[z]>>>24)|4278255360&(r[z]<<24|r[z]>>>8),g[w+z]^=r[z]},blockSize:4,ivSize:2});function Q(){for(var g=this._X,w=this._C,M=0;M<8;M++)D[M]=w[M];for(w[0]=w[0]+1295307597+this._b|0,w[1]=w[1]+3545052371+(w[0]>>>0<D[0]>>>0?1:0)|0,w[2]=w[2]+886263092+(w[1]>>>0<D[1]>>>0?1:0)|0,w[3]=w[3]+1295307597+(w[2]>>>0<D[2]>>>0?1:0)|0,w[4]=w[4]+3545052371+(w[3]>>>0<D[3]>>>0?1:0)|0,w[5]=w[5]+886263092+(w[4]>>>0<D[4]>>>0?1:0)|0,w[6]=w[6]+1295307597+(w[5]>>>0<D[5]>>>0?1:0)|0,w[7]=w[7]+3545052371+(w[6]>>>0<D[6]>>>0?1:0)|0,this._b=w[7]>>>0<D[7]>>>0?1:0,M=0;M<8;M++){var z=g[M]+w[M],G=65535&z,Y=z>>>16,N=((G*G>>>17)+G*Y>>>15)+Y*Y,K=((4294901760&z)*z|0)+((65535&z)*z|0);f[M]=N^K}g[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,g[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,g[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,g[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,g[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,g[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,g[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,g[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}k.Rabbit=S._createHelper(y)}(),function(){var k=T,S=k.lib.StreamCipher,E=k.algo,r=[],D=[],f=[],y=E.RabbitLegacy=S.extend({_doReset:function(){var g=this._key.words,w=this.cfg.iv,M=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],z=this._C=[g[2]<<16|g[2]>>>16,4294901760&g[0]|65535&g[1],g[3]<<16|g[3]>>>16,4294901760&g[1]|65535&g[2],g[0]<<16|g[0]>>>16,4294901760&g[2]|65535&g[3],g[1]<<16|g[1]>>>16,4294901760&g[3]|65535&g[0]];this._b=0;for(var G=0;G<4;G++)Q.call(this);for(G=0;G<8;G++)z[G]^=M[G+4&7];if(w){var Y=w.words,N=Y[0],K=Y[1],p=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8),x=16711935&(K<<8|K>>>24)|4278255360&(K<<24|K>>>8),_=p>>>16|4294901760&x,B=x<<16|65535&p;for(z[0]^=p,z[1]^=_,z[2]^=x,z[3]^=B,z[4]^=p,z[5]^=_,z[6]^=x,z[7]^=B,G=0;G<4;G++)Q.call(this)}},_doProcessBlock:function(g,w){var M=this._X;Q.call(this),r[0]=M[0]^M[5]>>>16^M[3]<<16,r[1]=M[2]^M[7]>>>16^M[5]<<16,r[2]=M[4]^M[1]>>>16^M[7]<<16,r[3]=M[6]^M[3]>>>16^M[1]<<16;for(var z=0;z<4;z++)r[z]=16711935&(r[z]<<8|r[z]>>>24)|4278255360&(r[z]<<24|r[z]>>>8),g[w+z]^=r[z]},blockSize:4,ivSize:2});function Q(){for(var g=this._X,w=this._C,M=0;M<8;M++)D[M]=w[M];for(w[0]=w[0]+1295307597+this._b|0,w[1]=w[1]+3545052371+(w[0]>>>0<D[0]>>>0?1:0)|0,w[2]=w[2]+886263092+(w[1]>>>0<D[1]>>>0?1:0)|0,w[3]=w[3]+1295307597+(w[2]>>>0<D[2]>>>0?1:0)|0,w[4]=w[4]+3545052371+(w[3]>>>0<D[3]>>>0?1:0)|0,w[5]=w[5]+886263092+(w[4]>>>0<D[4]>>>0?1:0)|0,w[6]=w[6]+1295307597+(w[5]>>>0<D[5]>>>0?1:0)|0,w[7]=w[7]+3545052371+(w[6]>>>0<D[6]>>>0?1:0)|0,this._b=w[7]>>>0<D[7]>>>0?1:0,M=0;M<8;M++){var z=g[M]+w[M],G=65535&z,Y=z>>>16,N=((G*G>>>17)+G*Y>>>15)+Y*Y,K=((4294901760&z)*z|0)+((65535&z)*z|0);f[M]=N^K}g[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,g[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,g[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,g[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,g[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,g[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,g[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,g[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}k.RabbitLegacy=S._createHelper(y)}(),function(){var k=T,S=k.lib.BlockCipher,E=k.algo;const r=16,D=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var y={pbox:[],sbox:[]};function Q(G,Y){let N=Y>>24&255,K=Y>>16&255,p=Y>>8&255,x=255&Y,_=G.sbox[0][N]+G.sbox[1][K];return _^=G.sbox[2][p],_+=G.sbox[3][x],_}function g(G,Y,N){let K,p=Y,x=N;for(let _=0;_<r;++_)p^=G.pbox[_],x=Q(G,p)^x,K=p,p=x,x=K;return K=p,p=x,x=K,x^=G.pbox[r],p^=G.pbox[r+1],{left:p,right:x}}function w(G,Y,N){let K,p=Y,x=N;for(let _=r+1;_>1;--_)p^=G.pbox[_],x=Q(G,p)^x,K=p,p=x,x=K;return K=p,p=x,x=K,x^=G.pbox[1],p^=G.pbox[0],{left:p,right:x}}function M(G,Y,N){for(let B=0;B<4;B++){G.sbox[B]=[];for(let R=0;R<256;R++)G.sbox[B][R]=f[B][R]}let K=0;for(let B=0;B<r+2;B++)G.pbox[B]=D[B]^Y[K],K++,K>=N&&(K=0);let p=0,x=0,_=0;for(let B=0;B<r+2;B+=2)_=g(G,p,x),p=_.left,x=_.right,G.pbox[B]=p,G.pbox[B+1]=x;for(let B=0;B<4;B++)for(let R=0;R<256;R+=2)_=g(G,p,x),p=_.left,x=_.right,G.sbox[B][R]=p,G.sbox[B][R+1]=x;return!0}var z=E.Blowfish=S.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var G=this._keyPriorReset=this._key,Y=G.words,N=G.sigBytes/4;M(y,Y,N)}},encryptBlock:function(G,Y){var N=g(y,G[Y],G[Y+1]);G[Y]=N.left,G[Y+1]=N.right},decryptBlock:function(G,Y){var N=w(y,G[Y],G[Y+1]);G[Y]=N.left,G[Y+1]=N.right},blockSize:2,keySize:4,ivSize:2});k.Blowfish=S._createHelper(z)}(),T}()},477:()=>{}},s={};function u(b){var C=s[b];if(C!==void 0)return C.exports;var c=s[b]={exports:{}};return t[b].call(c.exports,c,c.exports,u),c.exports}u.n=b=>{var C=b&&b.__esModule?()=>b.default:()=>b;return u.d(C,{a:C}),C},u.d=(b,C)=>{for(var c in C)u.o(C,c)&&!u.o(b,c)&&Object.defineProperty(b,c,{enumerable:!0,get:C[c]})},u.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(b){if(typeof window=="object")return window}}(),u.o=(b,C)=>Object.prototype.hasOwnProperty.call(b,C);var A={};return(()=>{u.d(A,{default:()=>_r});const b=JSON.parse('{"version":"5d084c1"}');var C=function(){function $(){this.isDebug=!1,this.log_key_counter={},this.log_download_data=new Uint8Array}$.getInstance=function(){return $.instance||($.instance=new $),$.instance},$.debugSaveLogFile=function(n){$.LOG_DOWMLOAD_ENALBE=n,n?console.log("|Logger.js| \u5F00\u59CB\u7F13\u5B58\u65E5\u5FD7"):(console.log("|Logger.js| \u7ED3\u675F\u7F13\u5B58\u65E5\u5FD7\uFF0C\u89E6\u53D1\u4E0B\u8F7D\u5E76\u6E05\u7A7A\u7F13\u5B58"),$.getInstance().writeFile("jsplaysdk.log"))};var F=$.prototype;return F.setDebug=function(n){this.isDebug=n,this.downloadDataAppend($.LOGLEVEL_LOG,"",-1,"|Logger.js| git version=",b==null?void 0:b.version),n&&console.log(this.getTimestamp(),"|Logger.js| git version=",b==null?void 0:b.version)},F.getTimestamp=function(){return"["+new Date().toISOString()+"]"},F.log=function(){if(this.isDebug||$.LOG_DOWMLOAD_ENALBE){var n=this.getLogLevelStr($.LOGLEVEL_LOG),v=this.loggerArgsToString.apply(this,arguments),I=this.getTimestamp()+n+v+`
`;this.downloadDataAppendV2(I),this.isDebug&&console.log(I)}},F.error=function(){if(this.isDebug||$.LOG_DOWMLOAD_ENALBE){var n=this.getLogLevelStr($.LOGLEVEL_ERROR),v=this.loggerArgsToString.apply(this,arguments),I=this.getTimestamp()+n+v+`
`;this.downloadDataAppendV2(I),this.isDebug&&console.error(I)}},F.warn=function(){if(this.isDebug||$.LOG_DOWMLOAD_ENALBE){var n=this.getLogLevelStr($.LOGLEVEL_WARN),v=this.loggerArgsToString.apply(this,arguments),I=this.getTimestamp()+n+v+`
`;this.downloadDataAppendV2(I),this.isDebug&&console.warn(I)}},F.info=function(){if(this.isDebug||$.LOG_DOWMLOAD_ENALBE){var n=this.getLogLevelStr($.LOGLEVEL_INFO),v=this.loggerArgsToString.apply(this,arguments),I=this.getTimestamp()+n+v+`
`;this.downloadDataAppendV2(I),this.isDebug&&console.info(I)}},F.logKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];this.logWithKeyLimit.apply(this,[$.LOGLEVEL_LOG,n,v].concat(U))},F.logWithKeyLimit=function(n,v,I){if(this.isDebug||$.LOG_DOWMLOAD_ENALBE){if(!v||typeof v!="string")return void console.error("Invalid log key:",v);var U=Date.now();this.log_key_counter[v]||(this.log_key_counter[v]={count:0,lastTimestamp:0});var W=this.log_key_counter[v];if(W.count+=1,U-W.lastTimestamp>=1e4){W.lastTimestamp=U;for(var fe=this.getLogLevelStr(n),pe=arguments.length,ve=new Array(pe>3?pe-3:0),Ue=3;Ue<pe;Ue++)ve[Ue-3]=arguments[Ue];var ze=this.loggerArgsToString.apply(this,ve),Le=this.getTimestamp()+fe+"!"+W.count+"~"+v+"!"+ze+`
`;$.LOG_DOWMLOAD_ENALBE&&this.downloadDataAppendV2(Le),this.isDebug&&(n===$.LOGLEVEL_LOG?console.log(Le):n===$.LOGLEVEL_INFO?console.info(Le):n===$.LOGLEVEL_WARN?console.warn(Le):console.error(Le)),W.count=0}}},F.downloadDataAppend=function(n,v,I){if($.LOG_DOWMLOAD_ENALBE){this.log_download_data.length>1e7&&this.writeFile("jsplaysdk_auto.log");for(var U=this.getLogLevelStr(n),W=arguments.length,fe=new Array(W>3?W-3:0),pe=3;pe<W;pe++)fe[pe-3]=arguments[pe];var ve=this.loggerArgsToString.apply(this,fe),Ue=""+this.getTimestamp()+U+"!"+v+"!"+ve+`
`,ze=new TextEncoder().encode(Ue),Le=new Uint8Array(this.log_download_data.length+ze.length);Le.set(this.log_download_data),Le.set(ze,this.log_download_data.length),this.log_download_data=Le}},F.downloadDataAppendV2=function(n){if($.LOG_DOWMLOAD_ENALBE){this.log_download_data.length>1e7&&this.writeFile("jsplaysdk_auto.log");var v=new TextEncoder().encode(n),I=new Uint8Array(this.log_download_data.length+v.length);I.set(this.log_download_data),I.set(v,this.log_download_data.length),this.log_download_data=I}},F.getLogLevelStr=function(n){return n===$.LOGLEVEL_LOG?"[LOG]":n===$.LOGLEVEL_INFO?"[INFO]":n===$.LOGLEVEL_WARN?"[WARN]":($.LOGLEVEL_ERROR,"[ERROR]")},F.loggerArgsToString=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];var U=v.map(function(W){if(typeof W=="object")try{return W instanceof Error?"Error: "+W.message+`
`+W.stack:JSON.stringify(W,function(fe,pe){return pe instanceof Error?"Error: "+pe.message:pe})}catch(fe){return"[Unserializable Object]"}return String(W)}).join(" ");return U.length>1e3&&(U=U.slice(0,1e3),U+="(\u957F\u5EA6\u8D85\u8FC71000\u7701\u7565)"),U},F.writeFile=function(n){var v=new Blob([this.log_download_data],{type:"application/octet-stream"}),I=document.createElement("a");I.href=URL.createObjectURL(v),I.download=n,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(I.href),I=null,this.log_download_data=new Uint8Array},$}();C.LOGLEVEL_LOG=1,C.LOGLEVEL_INFO=2,C.LOGLEVEL_WARN=3,C.LOGLEVEL_ERROR=4,C.LOG_DOWMLOAD_ENALBE=!1;const c=C.getInstance();function T(){T=function(){return F};var $,F={},n=Object.prototype,v=n.hasOwnProperty,I=Object.defineProperty||function(de,ce,xe){de[ce]=xe.value},U=typeof Symbol=="function"?Symbol:{},W=U.iterator||"@@iterator",fe=U.asyncIterator||"@@asyncIterator",pe=U.toStringTag||"@@toStringTag";function ve(de,ce,xe){return Object.defineProperty(de,ce,{value:xe,enumerable:!0,configurable:!0,writable:!0}),de[ce]}try{ve({},"")}catch(de){ve=function(ce,xe,$e){return ce[xe]=$e}}function Ue(de,ce,xe,$e){var De=ce&&ce.prototype instanceof xt?ce:xt,Ge=Object.create(De.prototype),yt=new Kt($e||[]);return I(Ge,"_invoke",{value:Xt(de,xe,yt)}),Ge}function ze(de,ce,xe){try{return{type:"normal",arg:de.call(ce,xe)}}catch($e){return{type:"throw",arg:$e}}}F.wrap=Ue;var Le="suspendedStart",Qe="suspendedYield",lt="executing",nt="completed",Ke={};function xt(){}function Lt(){}function bt(){}var un={};ve(un,W,function(){return this});var pt=Object.getPrototypeOf,et=pt&&pt(pt($t([])));et&&et!==n&&v.call(et,W)&&(un=et);var tt=bt.prototype=xt.prototype=Object.create(un);function ut(de){["next","throw","return"].forEach(function(ce){ve(de,ce,function(xe){return this._invoke(ce,xe)})})}function rn(de,ce){function xe(De,Ge,yt,Mt){var Dt=ze(de[De],de,Ge);if(Dt.type!=="throw"){var vn=Dt.arg,Vt=vn.value;return Vt&&typeof Vt=="object"&&v.call(Vt,"__await")?ce.resolve(Vt.__await).then(function(tn){xe("next",tn,yt,Mt)},function(tn){xe("throw",tn,yt,Mt)}):ce.resolve(Vt).then(function(tn){vn.value=tn,yt(vn)},function(tn){return xe("throw",tn,yt,Mt)})}Mt(Dt.arg)}var $e;I(this,"_invoke",{value:function(De,Ge){function yt(){return new ce(function(Mt,Dt){xe(De,Ge,Mt,Dt)})}return $e=$e?$e.then(yt,yt):yt()}})}function Xt(de,ce,xe){var $e=Le;return function(De,Ge){if($e===lt)throw Error("Generator is already running");if($e===nt){if(De==="throw")throw Ge;return{value:$,done:!0}}for(xe.method=De,xe.arg=Ge;;){var yt=xe.delegate;if(yt){var Mt=Ot(yt,xe);if(Mt){if(Mt===Ke)continue;return Mt}}if(xe.method==="next")xe.sent=xe._sent=xe.arg;else if(xe.method==="throw"){if($e===Le)throw $e=nt,xe.arg;xe.dispatchException(xe.arg)}else xe.method==="return"&&xe.abrupt("return",xe.arg);$e=lt;var Dt=ze(de,ce,xe);if(Dt.type==="normal"){if($e=xe.done?nt:Qe,Dt.arg===Ke)continue;return{value:Dt.arg,done:xe.done}}Dt.type==="throw"&&($e=nt,xe.method="throw",xe.arg=Dt.arg)}}}function Ot(de,ce){var xe=ce.method,$e=de.iterator[xe];if($e===$)return ce.delegate=null,xe==="throw"&&de.iterator.return&&(ce.method="return",ce.arg=$,Ot(de,ce),ce.method==="throw")||xe!=="return"&&(ce.method="throw",ce.arg=new TypeError("The iterator does not provide a '"+xe+"' method")),Ke;var De=ze($e,de.iterator,ce.arg);if(De.type==="throw")return ce.method="throw",ce.arg=De.arg,ce.delegate=null,Ke;var Ge=De.arg;return Ge?Ge.done?(ce[de.resultName]=Ge.value,ce.next=de.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=$),ce.delegate=null,Ke):Ge:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,Ke)}function ot(de){var ce={tryLoc:de[0]};1 in de&&(ce.catchLoc=de[1]),2 in de&&(ce.finallyLoc=de[2],ce.afterLoc=de[3]),this.tryEntries.push(ce)}function Ut(de){var ce=de.completion||{};ce.type="normal",delete ce.arg,de.completion=ce}function Kt(de){this.tryEntries=[{tryLoc:"root"}],de.forEach(ot,this),this.reset(!0)}function $t(de){if(de||de===""){var ce=de[W];if(ce)return ce.call(de);if(typeof de.next=="function")return de;if(!isNaN(de.length)){var xe=-1,$e=function De(){for(;++xe<de.length;)if(v.call(de,xe))return De.value=de[xe],De.done=!1,De;return De.value=$,De.done=!0,De};return $e.next=$e}}throw new TypeError(typeof de+" is not iterable")}return Lt.prototype=bt,I(tt,"constructor",{value:bt,configurable:!0}),I(bt,"constructor",{value:Lt,configurable:!0}),Lt.displayName=ve(bt,pe,"GeneratorFunction"),F.isGeneratorFunction=function(de){var ce=typeof de=="function"&&de.constructor;return!!ce&&(ce===Lt||(ce.displayName||ce.name)==="GeneratorFunction")},F.mark=function(de){return Object.setPrototypeOf?Object.setPrototypeOf(de,bt):(de.__proto__=bt,ve(de,pe,"GeneratorFunction")),de.prototype=Object.create(tt),de},F.awrap=function(de){return{__await:de}},ut(rn.prototype),ve(rn.prototype,fe,function(){return this}),F.AsyncIterator=rn,F.async=function(de,ce,xe,$e,De){De===void 0&&(De=Promise);var Ge=new rn(Ue(de,ce,xe,$e),De);return F.isGeneratorFunction(ce)?Ge:Ge.next().then(function(yt){return yt.done?yt.value:Ge.next()})},ut(tt),ve(tt,pe,"Generator"),ve(tt,W,function(){return this}),ve(tt,"toString",function(){return"[object Generator]"}),F.keys=function(de){var ce=Object(de),xe=[];for(var $e in ce)xe.push($e);return xe.reverse(),function De(){for(;xe.length;){var Ge=xe.pop();if(Ge in ce)return De.value=Ge,De.done=!1,De}return De.done=!0,De}},F.values=$t,Kt.prototype={constructor:Kt,reset:function(de){if(this.prev=0,this.next=0,this.sent=this._sent=$,this.done=!1,this.delegate=null,this.method="next",this.arg=$,this.tryEntries.forEach(Ut),!de)for(var ce in this)ce.charAt(0)==="t"&&v.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=$)},stop:function(){this.done=!0;var de=this.tryEntries[0].completion;if(de.type==="throw")throw de.arg;return this.rval},dispatchException:function(de){if(this.done)throw de;var ce=this;function xe(Dt,vn){return Ge.type="throw",Ge.arg=de,ce.next=Dt,vn&&(ce.method="next",ce.arg=$),!!vn}for(var $e=this.tryEntries.length-1;$e>=0;--$e){var De=this.tryEntries[$e],Ge=De.completion;if(De.tryLoc==="root")return xe("end");if(De.tryLoc<=this.prev){var yt=v.call(De,"catchLoc"),Mt=v.call(De,"finallyLoc");if(yt&&Mt){if(this.prev<De.catchLoc)return xe(De.catchLoc,!0);if(this.prev<De.finallyLoc)return xe(De.finallyLoc)}else if(yt){if(this.prev<De.catchLoc)return xe(De.catchLoc,!0)}else{if(!Mt)throw Error("try statement without catch or finally");if(this.prev<De.finallyLoc)return xe(De.finallyLoc)}}}},abrupt:function(de,ce){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.tryLoc<=this.prev&&v.call($e,"finallyLoc")&&this.prev<$e.finallyLoc){var De=$e;break}}De&&(de==="break"||de==="continue")&&De.tryLoc<=ce&&ce<=De.finallyLoc&&(De=null);var Ge=De?De.completion:{};return Ge.type=de,Ge.arg=ce,De?(this.method="next",this.next=De.finallyLoc,Ke):this.complete(Ge)},complete:function(de,ce){if(de.type==="throw")throw de.arg;return de.type==="break"||de.type==="continue"?this.next=de.arg:de.type==="return"?(this.rval=this.arg=de.arg,this.method="return",this.next="end"):de.type==="normal"&&ce&&(this.next=ce),Ke},finish:function(de){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var xe=this.tryEntries[ce];if(xe.finallyLoc===de)return this.complete(xe.completion,xe.afterLoc),Ut(xe),Ke}},catch:function(de){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var xe=this.tryEntries[ce];if(xe.tryLoc===de){var $e=xe.completion;if($e.type==="throw"){var De=$e.arg;Ut(xe)}return De}}throw Error("illegal catch attempt")},delegateYield:function(de,ce,xe){return this.delegate={iterator:$t(de),resultName:ce,nextLoc:xe},this.method==="next"&&(this.arg=$),Ke}},F}function k($,F,n,v,I,U,W){try{var fe=$[U](W),pe=fe.value}catch(ve){return void n(ve)}fe.done?F(pe):Promise.resolve(pe).then(v,I)}function S($,F){var n=typeof Symbol!="undefined"&&$[Symbol.iterator]||$["@@iterator"];if(n)return(n=n.call($)).next.bind(n);if(Array.isArray($)||(n=function(I,U){if(I){if(typeof I=="string")return E(I,U);var W={}.toString.call(I).slice(8,-1);return W==="Object"&&I.constructor&&(W=I.constructor.name),W==="Map"||W==="Set"?Array.from(I):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?E(I,U):void 0}}($))||F&&$&&typeof $.length=="number"){n&&($=n);var v=0;return function(){return v>=$.length?{done:!0}:{done:!1,value:$[v++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E($,F){(F==null||F>$.length)&&(F=$.length);for(var n=0,v=Array(F);n<F;n++)v[n]=$[n];return v}function r($,F){for(var n=0;n<F.length;n++){var v=F[n];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty($,D(v.key),v)}}function D($){var F=function(n,v){if(typeof n!="object"||!n)return n;var I=n[Symbol.toPrimitive];if(I!==void 0){var U=I.call(n,v||"default");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(n)}($,"string");return typeof F=="symbol"?F:F+""}var f=function(){function $(){if($.audioContext)return $.instance;if($.logAudioContextManagerLog("\u6784\u9020"),$.audioContext=new(window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext),!$.audioContext){var I="AudioContext is not support";return console.error(I),void $.logAudioContextManagerError(I)}typeof $.audioContext.onstatechange!="undefined"&&($.audioContext.onstatechange=$.handleStateChange),$.setupIOSHandlers(),window.addEventListener("beforeunload",function(){$.logAudioContextManagerLog("\u9875\u9762\u5378\u8F7D"),$.cleanup()}),document.addEventListener("visibilitychange",$.onVisibilityChange)}$.getInstance=function(){return $.instance||($.instance=new $),$.instance},$.setupIOSHandlers=function(){var I=function(){var U;((U=$.audioContext)==null?void 0:U.state)!=="running"&&($.logAudioContextManagerLog("\u7528\u6237\u4EA4\u4E92"),$.instance&&$.instance.resume())};document.addEventListener("touchstart",I),document.addEventListener("click",I)},$.cleanup=function(){$.logAudioContextManagerLog("\u6E05\u7406"),$.activeSources&&($.activeSources.forEach(function(I){try{I.stop&&I.stop(),I.disconnect&&I.disconnect()}catch(U){$.logAudioContextManagerError("\u6E05\u7406\u97F3\u9891\u6E90\u51FA\u9519:",U)}}),$.activeSources.clear()),$.activeNodes&&($.activeNodes.forEach(function(I){try{I.disconnect&&I.disconnect()}catch(U){$.logAudioContextManagerError("\u6E05\u7406\u97F3\u9891\u8282\u70B9\u51FA\u9519:",U)}}),$.activeNodes.clear())},$.onVisibilityChange=function(){var I,U;document.visibilityState==="visible"?$.logAudioContextManagerLog("\u9875\u9762\u53EF\u89C1",document.visibilityState,(I=$.audioContext)==null?void 0:I.state):$.logAudioContextManagerLog("\u9875\u9762\u4E0D\u53EF\u89C1",document.visibilityState,(U=$.audioContext)==null?void 0:U.state)},$.handleStateChange=function(){if($.audioContext){var I=$.audioContext.state||"closed";$.logAudioContextManagerLog("\u97F3\u9891\u4E0A\u4E0B\u6587\u72B6\u6001\u53D8\u5316",I);for(var U,W=S($.stateChangeListeners.values());!(U=W()).done;)(0,U.value)(I)}},$.logAudioContextManagerLog=function(){for(var I=arguments.length,U=new Array(I),W=0;W<I;W++)U[W]=arguments[W];c.info.apply(c,["|AudioContextManager.js|"].concat(U))},$.logAudioContextManagerWarn=function(){for(var I=arguments.length,U=new Array(I),W=0;W<I;W++)U[W]=arguments[W];c.warn.apply(c,["|AudioContextManager.js|"].concat(U))},$.logAudioContextManagerError=function(){for(var I=arguments.length,U=new Array(I),W=0;W<I;W++)U[W]=arguments[W];c.error.apply(c,["|AudioContextManager.js|"].concat(U))},$.logAudioContextManagerLogWithKeyLimit=function(I,U){for(var W=arguments.length,fe=new Array(W>2?W-2:0),pe=2;pe<W;pe++)fe[pe-2]=arguments[pe];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_INFO,"|AudioContextManager.js|"+I,U].concat(fe))},$.logAudioContextManagerWarnWithKeyLimit=function(I,U){for(var W=arguments.length,fe=new Array(W>2?W-2:0),pe=2;pe<W;pe++)fe[pe-2]=arguments[pe];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_WARN,"|AudioContextManager.js|"+I,U].concat(fe))},$.logAudioContextManagerErrorWithKeyLimit=function(I,U){for(var W=arguments.length,fe=new Array(W>2?W-2:0),pe=2;pe<W;pe++)fe[pe-2]=arguments[pe];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_ERROR,"|AudioContextManager.js|"+I,U].concat(fe))};var F,n,v=$.prototype;return v.addStateChangeListener=function(I,U){typeof U=="function"&&($.logAudioContextManagerLog("\u6CE8\u518C\u76D1\u542C\u524D\uFF0C\u603B\u6570=",$.stateChangeListeners.size),$.stateChangeListeners.set(I,U),$.logAudioContextManagerLog("\u6CE8\u518C\u76D1\u542C\u540E\uFF0C\u603B\u6570=",$.stateChangeListeners.size))},v.removeStateChangeListener=function(I){$.logAudioContextManagerLog("\u79FB\u9664\u76D1\u542C\u524D\uFF0C\u603B\u6570=",$.stateChangeListeners.size),$.stateChangeListeners.delete(I),$.logAudioContextManagerLog("\u79FB\u9664\u76D1\u542C\u540E\uFF0C\u603B\u6570=",$.stateChangeListeners.size)},v.createGain=function(){var I=$.audioContext.createGain();return $.activeNodes.add(I),I},v.createBiquadFilter=function(){var I=$.audioContext.createBiquadFilter();return $.activeNodes.add(I),I},v.createBuffer=function(I,U,W){return $.audioContext.createBuffer(I,U,W)},v.createBufferSource=function(){var I=$.audioContext.createBufferSource();return $.activeSources.add(I),I.onended=function(){return $.activeSources.delete(I)},I},v.resume=function(){var I,U=(I=T().mark(function W(){var fe;return T().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(pe.prev=0,$.logAudioContextManagerLog("\u6062\u590D\u97F3\u9891\u4E0A\u4E0B\u6587"),$.audioContext.state==="running"){pe.next=7;break}return $.logAudioContextManagerLog("\u6062\u590D\u97F3\u9891\u4E0A\u4E0B\u6587\u524D",$.audioContext.state),pe.next=6,$.audioContext.resume();case 6:$.logAudioContextManagerLog("\u6062\u590D\u97F3\u9891\u4E0A\u4E0B\u6587\u540E",$.audioContext.state);case 7:pe.next=14;break;case 9:pe.prev=9,pe.t0=pe.catch(0),$.logAudioContextManagerError("\u6062\u590D\u97F3\u9891\u4E0A\u4E0B\u6587\u629B\u51FA\u5F02\u5E38",pe.t0),(fe=Date.now())-$.lastAbnormalTime>5e3&&($.lastAbnormalTime=fe,$.logAudioContextManagerLog("\u5C1D\u8BD5\u91CD\u5EFA"),$.cleanup(),$.getInstance());case 14:case"end":return pe.stop()}},W,null,[[0,9]])}),function(){var W=this,fe=arguments;return new Promise(function(pe,ve){var Ue=I.apply(W,fe);function ze(Qe){k(Ue,pe,ve,ze,Le,"next",Qe)}function Le(Qe){k(Ue,pe,ve,ze,Le,"throw",Qe)}ze(void 0)})});return function(){return U.apply(this,arguments)}}(),F=$,(n=[{key:"state",get:function(){var I;return((I=$.audioContext)==null?void 0:I.state)||"closed"}},{key:"destination",get:function(){return $.audioContext.destination}},{key:"currentTime",get:function(){return $.audioContext.currentTime}}])&&r(F.prototype,n),Object.defineProperty(F,"prototype",{writable:!1}),F}();f.lastAbnormalTime=0,f.instance=null,f.audioContext=null,f.activeSources=new Set,f.activeNodes=new Set,f.stateChangeListeners=new Map;var y=f.getInstance();function Q(){Q=function(){return F};var $,F={},n=Object.prototype,v=n.hasOwnProperty,I=Object.defineProperty||function(de,ce,xe){de[ce]=xe.value},U=typeof Symbol=="function"?Symbol:{},W=U.iterator||"@@iterator",fe=U.asyncIterator||"@@asyncIterator",pe=U.toStringTag||"@@toStringTag";function ve(de,ce,xe){return Object.defineProperty(de,ce,{value:xe,enumerable:!0,configurable:!0,writable:!0}),de[ce]}try{ve({},"")}catch(de){ve=function(ce,xe,$e){return ce[xe]=$e}}function Ue(de,ce,xe,$e){var De=ce&&ce.prototype instanceof xt?ce:xt,Ge=Object.create(De.prototype),yt=new Kt($e||[]);return I(Ge,"_invoke",{value:Xt(de,xe,yt)}),Ge}function ze(de,ce,xe){try{return{type:"normal",arg:de.call(ce,xe)}}catch($e){return{type:"throw",arg:$e}}}F.wrap=Ue;var Le="suspendedStart",Qe="suspendedYield",lt="executing",nt="completed",Ke={};function xt(){}function Lt(){}function bt(){}var un={};ve(un,W,function(){return this});var pt=Object.getPrototypeOf,et=pt&&pt(pt($t([])));et&&et!==n&&v.call(et,W)&&(un=et);var tt=bt.prototype=xt.prototype=Object.create(un);function ut(de){["next","throw","return"].forEach(function(ce){ve(de,ce,function(xe){return this._invoke(ce,xe)})})}function rn(de,ce){function xe(De,Ge,yt,Mt){var Dt=ze(de[De],de,Ge);if(Dt.type!=="throw"){var vn=Dt.arg,Vt=vn.value;return Vt&&typeof Vt=="object"&&v.call(Vt,"__await")?ce.resolve(Vt.__await).then(function(tn){xe("next",tn,yt,Mt)},function(tn){xe("throw",tn,yt,Mt)}):ce.resolve(Vt).then(function(tn){vn.value=tn,yt(vn)},function(tn){return xe("throw",tn,yt,Mt)})}Mt(Dt.arg)}var $e;I(this,"_invoke",{value:function(De,Ge){function yt(){return new ce(function(Mt,Dt){xe(De,Ge,Mt,Dt)})}return $e=$e?$e.then(yt,yt):yt()}})}function Xt(de,ce,xe){var $e=Le;return function(De,Ge){if($e===lt)throw Error("Generator is already running");if($e===nt){if(De==="throw")throw Ge;return{value:$,done:!0}}for(xe.method=De,xe.arg=Ge;;){var yt=xe.delegate;if(yt){var Mt=Ot(yt,xe);if(Mt){if(Mt===Ke)continue;return Mt}}if(xe.method==="next")xe.sent=xe._sent=xe.arg;else if(xe.method==="throw"){if($e===Le)throw $e=nt,xe.arg;xe.dispatchException(xe.arg)}else xe.method==="return"&&xe.abrupt("return",xe.arg);$e=lt;var Dt=ze(de,ce,xe);if(Dt.type==="normal"){if($e=xe.done?nt:Qe,Dt.arg===Ke)continue;return{value:Dt.arg,done:xe.done}}Dt.type==="throw"&&($e=nt,xe.method="throw",xe.arg=Dt.arg)}}}function Ot(de,ce){var xe=ce.method,$e=de.iterator[xe];if($e===$)return ce.delegate=null,xe==="throw"&&de.iterator.return&&(ce.method="return",ce.arg=$,Ot(de,ce),ce.method==="throw")||xe!=="return"&&(ce.method="throw",ce.arg=new TypeError("The iterator does not provide a '"+xe+"' method")),Ke;var De=ze($e,de.iterator,ce.arg);if(De.type==="throw")return ce.method="throw",ce.arg=De.arg,ce.delegate=null,Ke;var Ge=De.arg;return Ge?Ge.done?(ce[de.resultName]=Ge.value,ce.next=de.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=$),ce.delegate=null,Ke):Ge:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,Ke)}function ot(de){var ce={tryLoc:de[0]};1 in de&&(ce.catchLoc=de[1]),2 in de&&(ce.finallyLoc=de[2],ce.afterLoc=de[3]),this.tryEntries.push(ce)}function Ut(de){var ce=de.completion||{};ce.type="normal",delete ce.arg,de.completion=ce}function Kt(de){this.tryEntries=[{tryLoc:"root"}],de.forEach(ot,this),this.reset(!0)}function $t(de){if(de||de===""){var ce=de[W];if(ce)return ce.call(de);if(typeof de.next=="function")return de;if(!isNaN(de.length)){var xe=-1,$e=function De(){for(;++xe<de.length;)if(v.call(de,xe))return De.value=de[xe],De.done=!1,De;return De.value=$,De.done=!0,De};return $e.next=$e}}throw new TypeError(typeof de+" is not iterable")}return Lt.prototype=bt,I(tt,"constructor",{value:bt,configurable:!0}),I(bt,"constructor",{value:Lt,configurable:!0}),Lt.displayName=ve(bt,pe,"GeneratorFunction"),F.isGeneratorFunction=function(de){var ce=typeof de=="function"&&de.constructor;return!!ce&&(ce===Lt||(ce.displayName||ce.name)==="GeneratorFunction")},F.mark=function(de){return Object.setPrototypeOf?Object.setPrototypeOf(de,bt):(de.__proto__=bt,ve(de,pe,"GeneratorFunction")),de.prototype=Object.create(tt),de},F.awrap=function(de){return{__await:de}},ut(rn.prototype),ve(rn.prototype,fe,function(){return this}),F.AsyncIterator=rn,F.async=function(de,ce,xe,$e,De){De===void 0&&(De=Promise);var Ge=new rn(Ue(de,ce,xe,$e),De);return F.isGeneratorFunction(ce)?Ge:Ge.next().then(function(yt){return yt.done?yt.value:Ge.next()})},ut(tt),ve(tt,pe,"Generator"),ve(tt,W,function(){return this}),ve(tt,"toString",function(){return"[object Generator]"}),F.keys=function(de){var ce=Object(de),xe=[];for(var $e in ce)xe.push($e);return xe.reverse(),function De(){for(;xe.length;){var Ge=xe.pop();if(Ge in ce)return De.value=Ge,De.done=!1,De}return De.done=!0,De}},F.values=$t,Kt.prototype={constructor:Kt,reset:function(de){if(this.prev=0,this.next=0,this.sent=this._sent=$,this.done=!1,this.delegate=null,this.method="next",this.arg=$,this.tryEntries.forEach(Ut),!de)for(var ce in this)ce.charAt(0)==="t"&&v.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=$)},stop:function(){this.done=!0;var de=this.tryEntries[0].completion;if(de.type==="throw")throw de.arg;return this.rval},dispatchException:function(de){if(this.done)throw de;var ce=this;function xe(Dt,vn){return Ge.type="throw",Ge.arg=de,ce.next=Dt,vn&&(ce.method="next",ce.arg=$),!!vn}for(var $e=this.tryEntries.length-1;$e>=0;--$e){var De=this.tryEntries[$e],Ge=De.completion;if(De.tryLoc==="root")return xe("end");if(De.tryLoc<=this.prev){var yt=v.call(De,"catchLoc"),Mt=v.call(De,"finallyLoc");if(yt&&Mt){if(this.prev<De.catchLoc)return xe(De.catchLoc,!0);if(this.prev<De.finallyLoc)return xe(De.finallyLoc)}else if(yt){if(this.prev<De.catchLoc)return xe(De.catchLoc,!0)}else{if(!Mt)throw Error("try statement without catch or finally");if(this.prev<De.finallyLoc)return xe(De.finallyLoc)}}}},abrupt:function(de,ce){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.tryLoc<=this.prev&&v.call($e,"finallyLoc")&&this.prev<$e.finallyLoc){var De=$e;break}}De&&(de==="break"||de==="continue")&&De.tryLoc<=ce&&ce<=De.finallyLoc&&(De=null);var Ge=De?De.completion:{};return Ge.type=de,Ge.arg=ce,De?(this.method="next",this.next=De.finallyLoc,Ke):this.complete(Ge)},complete:function(de,ce){if(de.type==="throw")throw de.arg;return de.type==="break"||de.type==="continue"?this.next=de.arg:de.type==="return"?(this.rval=this.arg=de.arg,this.method="return",this.next="end"):de.type==="normal"&&ce&&(this.next=ce),Ke},finish:function(de){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var xe=this.tryEntries[ce];if(xe.finallyLoc===de)return this.complete(xe.completion,xe.afterLoc),Ut(xe),Ke}},catch:function(de){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var xe=this.tryEntries[ce];if(xe.tryLoc===de){var $e=xe.completion;if($e.type==="throw"){var De=$e.arg;Ut(xe)}return De}}throw Error("illegal catch attempt")},delegateYield:function(de,ce,xe){return this.delegate={iterator:$t(de),resultName:ce,nextLoc:xe},this.method==="next"&&(this.arg=$),Ke}},F}function g($,F,n,v,I,U,W){try{var fe=$[U](W),pe=fe.value}catch(ve){return void n(ve)}fe.done?F(pe):Promise.resolve(pe).then(v,I)}var w=function(){function $(n){this.m_nPlayId=n,this.MAX_BUFFER_SIZE=8e4,this.BUFFER_SIZE=8e4,this.MAX_VOLUME=1,this.gainNode=null,this.biquadFilter=null,this.sourceNode=null,this.playBuffer=new Float32Array(this.MAX_BUFFER_SIZE),this.readLength=0,this.isRunning=!1,this.volume=0,this.sampleRates=0,this.lastBufferTime=0}var F=$.prototype;return F.init=function(){var n,v=(n=Q().mark(function I(U,W){return Q().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return this.logAudioRenderLog("init() volume=",U," sample_rate=",W),this.sampleRates=W,fe.prev=2,y.state==="running"&&(this.isRunning=!0),y.addStateChangeListener(this.playId,this.handleStateChange.bind(this)),this.gainNode=y.createGain(),this.biquadFilter=y.createBiquadFilter(),this.biquadFilter.type="lowpass",this.biquadFilter.frequency.value=4e3,this.biquadFilter.gain.value=40,this.biquadFilter.connect(this.gainNode),this.gainNode.connect(y.destination),this.setVolume(U),this.lastBufferTime=y.currentTime,fe.abrupt("return",!0);case 17:return fe.prev=17,fe.t0=fe.catch(2),this.logAudioRenderError("Web Audio API is not supported in this web browser! : "+fe.t0),fe.abrupt("return",!1);case 21:case"end":return fe.stop()}},I,this,[[2,17]])}),function(){var I=this,U=arguments;return new Promise(function(W,fe){var pe=n.apply(I,U);function ve(ze){g(pe,W,fe,ve,Ue,"next",ze)}function Ue(ze){g(pe,W,fe,ve,Ue,"throw",ze)}ve(void 0)})});return function(I,U){return v.apply(this,arguments)}}(),F.handleStateChange=function(){this.logAudioRenderLog("handleStateChange",y.state),y.state==="running"?this.isRunning=!0:this.isRunning=!1},F.play=function(n){this.logAudioRenderLogWithKeyLimit("play()",5),this.isRunning&&this.render(n)},F.stop=function(){this.logAudioRenderLog("stop()"),y&&y.removeStateChangeListener(this.playId),this.isRunning=!1,this.volume=0,this.lastBufferTime=0,this.sourceNode&&(this.sourceNode.stop(),this.sourceNode.disconnect(),this.sourceNode=null),this.gainNode&&(this.gainNode.gain.value=0,this.gainNode.disconnect(),this.gainNode=null),this.biquadFilter&&(this.biquadFilter.disconnect(),this.biquadFilter=null)},F.setVolume=function(n){this.logAudioRenderLog("\u8BBE\u7F6E\u97F3\u91CF() volume=",5,n),this.volume=n,this.gainNode.gain.value=Math.max(0,Math.min(1,n/this.MAX_VOLUME)),n>0&&this.resume()},F.getVolume=function(){return this.volume},F.mute=function(n){this.logAudioRenderLog("\u9759\u97F3() mute=",5,n),n?this.gainNode.gain.value=0:(this.resume(),this.gainNode.gain.value=Math.max(0,Math.min(1,this.volume/this.MAX_VOLUME)))},F.resume=function(){},F.render=function(n){this.logAudioRenderLogWithKeyLimit("render() data.length=",5,n.length,"readLength=",this.readLength);try{if(this.lastBufferTime-y.currentTime<0&&(this.lastBufferTime=0),this.playBuffer=this.appendBufferFloat32(this.playBuffer,n,this.readLength),this.readLength+=n.length,this.readLength>0){var v=y.createBuffer(1,this.readLength,this.sampleRates);v.getChannelData(0).set(this.playBuffer.subarray(0,this.readLength)),this.sourceNode=y.createBufferSource(),this.sourceNode.buffer=v,this.sourceNode.connect(this.biquadFilter),this.lastBufferTime||(this.lastBufferTime=y.currentTime+.1),this.sourceNode.start(this.lastBufferTime),this.lastBufferTime+=v.duration,this.playBuffer=new Float32Array,this.readLength=0}}catch(I){this.logAudioRenderError("Error during rendering audio:",I)}},F.appendBufferFloat32=function(n,v,I){var U=n;return I+v.length>=U.length&&(U=new Float32Array(U.length+this.BUFFER_SIZE)).set(U,0),U.set(v,I),U},F.logAudioRenderLog=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];c.info.apply(c,["|AudioRender.js|"+this.m_nPlayId+"|"].concat(v))},F.logAudioRenderWarn=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];c.warn.apply(c,["|AudioRender.js|"+this.m_nPlayId+"|"].concat(v))},F.logAudioRenderError=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];c.error.apply(c,["|AudioRender.js|"+this.m_nPlayId+"|"].concat(v))},F.logAudioRenderLogWithKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_LOG,"|AudioRender.js|"+this.m_nPlayId+"|"+n,v].concat(U))},F.logAudioRenderWarnWithKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_WARN,"|AudioRender.js|"+this.m_nPlayId+"|"+n,v].concat(U))},F.logAudioRenderErrorWithKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_ERROR,"|AudioRender.js|"+this.m_nPlayId+"|"+n,v].concat(U))},$}();const M=w;function z(){var $=navigator.userAgent.toLowerCase(),F=navigator.appName,n=null;return F==="Microsoft Internet Explorer"||$.indexOf("trident")>-1||$.indexOf("edge/")>-1?(n="ie",F==="Microsoft Internet Explorer"?($=/msie ([0-9]{1,}[\.0-9]{0,})/.exec($),n+=parseInt($[1])):$.indexOf("trident")>-1?n+=11:$.indexOf("edge/")>-1&&(n="edge")):$.indexOf("safari")>-1?n=$.indexOf("chrome")>-1?"chrome":"safari":$.indexOf("firefox")>-1&&(n="firefox"),n}function G(){return new Date().getTime()}var Y={log:function(){},error:function(){},count:function(){},info:function(){}},N=function(){function $(n,v){this.w=n,this.h=v}var F=$.prototype;return F.toString=function(){return"("+this.w+", "+this.h+")"},F.getHalfSize=function(){return new $(this.w>>>1,this.h>>>1)},F.length=function(){return this.w*this.h},$}(),K=1e-6;function p(){}function x(){}function _(){}function B(){}p.prototype={e:function($){return $<1||$>this.elements.length?null:this.elements[$-1]},dimensions:function(){return this.elements.length},modulus:function(){return Math.sqrt(this.dot(this))},eql:function($){var F=this.elements.length,n=$.elements||$;if(F!=n.length)return!1;do if(Math.abs(this.elements[F-1]-n[F-1])>K)return!1;while(--F);return!0},dup:function(){return p.create(this.elements)},map:function($){var F=[];return this.each(function(n,v){F.push($(n,v))}),p.create(F)},each:function($){var F,n=this.elements.length,v=n;do F=v-n,$(this.elements[F],F+1);while(--n)},toUnitVector:function(){var $=this.modulus();return $===0?this.dup():this.map(function(F){return F/$})},angleFrom:function($){var F=$.elements||$,n=this.elements.length;if(n!=F.length)return null;var v=0,I=0,U=0;if(this.each(function(fe,pe){v+=fe*F[pe-1],I+=fe*fe,U+=F[pe-1]*F[pe-1]}),I=Math.sqrt(I),U=Math.sqrt(U),I*U===0)return null;var W=v/(I*U);return W<-1&&(W=-1),W>1&&(W=1),Math.acos(W)},isParallelTo:function($){var F=this.angleFrom($);return F===null?null:F<=K},isAntiparallelTo:function($){var F=this.angleFrom($);return F===null?null:Math.abs(F-Math.PI)<=K},isPerpendicularTo:function($){var F=this.dot($);return F===null?null:Math.abs(F)<=K},add:function($){var F=$.elements||$;return this.elements.length!=F.length?null:this.map(function(n,v){return n+F[v-1]})},subtract:function($){var F=$.elements||$;return this.elements.length!=F.length?null:this.map(function(n,v){return n-F[v-1]})},multiply:function($){return this.map(function(F){return F*$})},x:function($){return this.multiply($)},dot:function($){var F=$.elements||$,n=0,v=this.elements.length;if(v!=F.length)return null;do n+=this.elements[v-1]*F[v-1];while(--v);return n},cross:function($){var F=$.elements||$;if(this.elements.length!=3||F.length!=3)return null;var n=this.elements;return p.create([n[1]*F[2]-n[2]*F[1],n[2]*F[0]-n[0]*F[2],n[0]*F[1]-n[1]*F[0]])},max:function(){var $,F=0,n=this.elements.length,v=n;do $=v-n,Math.abs(this.elements[$])>Math.abs(F)&&(F=this.elements[$]);while(--n);return F},indexOf:function($){var F,n=null,v=this.elements.length,I=v;do F=I-v,n===null&&this.elements[F]==$&&(n=F+1);while(--v);return n},toDiagonalMatrix:function(){return x.Diagonal(this.elements)},round:function(){return this.map(function($){return Math.round($)})},snapTo:function($){return this.map(function(F){return Math.abs(F-$)<=K?$:F})},distanceFrom:function($){if($.anchor)return $.distanceFrom(this);var F=$.elements||$;if(F.length!=this.elements.length)return null;var n,v=0;return this.each(function(I,U){n=I-F[U-1],v+=n*n}),Math.sqrt(v)},liesOn:function($){return $.contains(this)},liesIn:function($){return $.contains(this)},rotate:function($,F){var n,v,I,U,W;switch(this.elements.length){case 2:return(n=F.elements||F).length!=2?null:(v=x.Rotation($).elements,I=this.elements[0]-n[0],U=this.elements[1]-n[1],p.create([n[0]+v[0][0]*I+v[0][1]*U,n[1]+v[1][0]*I+v[1][1]*U]));case 3:if(!F.direction)return null;var fe=F.pointClosestTo(this).elements;return v=x.Rotation($,F.direction).elements,I=this.elements[0]-fe[0],U=this.elements[1]-fe[1],W=this.elements[2]-fe[2],p.create([fe[0]+v[0][0]*I+v[0][1]*U+v[0][2]*W,fe[1]+v[1][0]*I+v[1][1]*U+v[1][2]*W,fe[2]+v[2][0]*I+v[2][1]*U+v[2][2]*W]);default:return null}},reflectionIn:function($){if($.anchor){var F=this.elements.slice(),n=$.pointClosestTo(F).elements;return p.create([n[0]+(n[0]-F[0]),n[1]+(n[1]-F[1]),n[2]+(n[2]-(F[2]||0))])}var v=$.elements||$;return this.elements.length!=v.length?null:this.map(function(I,U){return v[U-1]+(v[U-1]-I)})},to3D:function(){var $=this.dup();switch($.elements.length){case 3:break;case 2:$.elements.push(0);break;default:return null}return $},inspect:function(){return"["+this.elements.join(", ")+"]"},setElements:function($){return this.elements=($.elements||$).slice(),this}},p.create=function($){return new p().setElements($)},p.i=p.create([1,0,0]),p.j=p.create([0,1,0]),p.k=p.create([0,0,1]),p.Random=function($){var F=[];do F.push(Math.random());while(--$);return p.create(F)},p.Zero=function($){var F=[];do F.push(0);while(--$);return p.create(F)},x.prototype={e:function($,F){return $<1||$>this.elements.length||F<1||F>this.elements[0].length?null:this.elements[$-1][F-1]},row:function($){return $>this.elements.length?null:p.create(this.elements[$-1])},col:function($){if($>this.elements[0].length)return null;var F,n=[],v=this.elements.length,I=v;do F=I-v,n.push(this.elements[F][$-1]);while(--v);return p.create(n)},dimensions:function(){return{rows:this.elements.length,cols:this.elements[0].length}},rows:function(){return this.elements.length},cols:function(){return this.elements[0].length},eql:function($){var F=$.elements||$;if(typeof F[0][0]=="undefined"&&(F=x.create(F).elements),this.elements.length!=F.length||this.elements[0].length!=F[0].length)return!1;var n,v,I,U=this.elements.length,W=U,fe=this.elements[0].length;do{n=W-U,v=fe;do if(I=fe-v,Math.abs(this.elements[n][I]-F[n][I])>K)return!1;while(--v)}while(--U);return!0},dup:function(){return x.create(this.elements)},map:function($){var F,n,v,I=[],U=this.elements.length,W=U,fe=this.elements[0].length;do{n=fe,I[F=W-U]=[];do v=fe-n,I[F][v]=$(this.elements[F][v],F+1,v+1);while(--n)}while(--U);return x.create(I)},isSameSizeAs:function($){var F=$.elements||$;return typeof F[0][0]=="undefined"&&(F=x.create(F).elements),this.elements.length==F.length&&this.elements[0].length==F[0].length},add:function($){var F=$.elements||$;return typeof F[0][0]=="undefined"&&(F=x.create(F).elements),this.isSameSizeAs(F)?this.map(function(n,v,I){return n+F[v-1][I-1]}):null},subtract:function($){var F=$.elements||$;return typeof F[0][0]=="undefined"&&(F=x.create(F).elements),this.isSameSizeAs(F)?this.map(function(n,v,I){return n-F[v-1][I-1]}):null},canMultiplyFromLeft:function($){var F=$.elements||$;return typeof F[0][0]=="undefined"&&(F=x.create(F).elements),this.elements[0].length==F.length},multiply:function($){if(!$.elements)return this.map(function(lt){return lt*$});var F=!!$.modulus;if(typeof(Qe=$.elements||$)[0][0]=="undefined"&&(Qe=x.create(Qe).elements),!this.canMultiplyFromLeft(Qe))return null;var n,v,I,U,W,fe,pe=this.elements.length,ve=pe,Ue=Qe[0].length,ze=this.elements[0].length,Le=[];do{Le[n=ve-pe]=[],v=Ue;do{I=Ue-v,U=0,W=ze;do fe=ze-W,U+=this.elements[n][fe]*Qe[fe][I];while(--W);Le[n][I]=U}while(--v)}while(--pe);var Qe=x.create(Le);return F?Qe.col(1):Qe},x:function($){return this.multiply($)},minor:function($,F,n,v){var I,U,W,fe=[],pe=n,ve=this.elements.length,Ue=this.elements[0].length;do{fe[I=n-pe]=[],U=v;do W=v-U,fe[I][W]=this.elements[($+I-1)%ve][(F+W-1)%Ue];while(--U)}while(--pe);return x.create(fe)},transpose:function(){var $,F,n,v=this.elements.length,I=this.elements[0].length,U=[],W=I;do{U[$=I-W]=[],F=v;do n=v-F,U[$][n]=this.elements[n][$];while(--F)}while(--W);return x.create(U)},isSquare:function(){return this.elements.length==this.elements[0].length},max:function(){var $,F,n,v=0,I=this.elements.length,U=I,W=this.elements[0].length;do{$=U-I,F=W;do n=W-F,Math.abs(this.elements[$][n])>Math.abs(v)&&(v=this.elements[$][n]);while(--F)}while(--I);return v},indexOf:function($){var F,n,v,I=this.elements.length,U=I,W=this.elements[0].length;do{F=U-I,n=W;do if(v=W-n,this.elements[F][v]==$)return{i:F+1,j:v+1};while(--n)}while(--I);return null},diagonal:function(){if(!this.isSquare)return null;var $,F=[],n=this.elements.length,v=n;do $=v-n,F.push(this.elements[$][$]);while(--n);return p.create(F)},toRightTriangular:function(){var $,F,n,v,I=this.dup(),U=this.elements.length,W=U,fe=this.elements[0].length;do{if(F=W-U,I.elements[F][F]==0){for(j=F+1;j<W;j++)if(I.elements[j][F]!=0){$=[],n=fe;do v=fe-n,$.push(I.elements[F][v]+I.elements[j][v]);while(--n);I.elements[F]=$;break}}if(I.elements[F][F]!=0)for(j=F+1;j<W;j++){var pe=I.elements[j][F]/I.elements[F][F];$=[],n=fe;do v=fe-n,$.push(v<=F?0:I.elements[j][v]-I.elements[F][v]*pe);while(--n);I.elements[j]=$}}while(--U);return I},toUpperTriangular:function(){return this.toRightTriangular()},determinant:function(){if(!this.isSquare())return null;var $,F=this.toRightTriangular(),n=F.elements[0][0],v=F.elements.length-1,I=v;do $=I-v+1,n*=F.elements[$][$];while(--v);return n},det:function(){return this.determinant()},isSingular:function(){return this.isSquare()&&this.determinant()===0},trace:function(){if(!this.isSquare())return null;var $,F=this.elements[0][0],n=this.elements.length-1,v=n;do $=v-n+1,F+=this.elements[$][$];while(--n);return F},tr:function(){return this.trace()},rank:function(){var $,F,n,v=this.toRightTriangular(),I=0,U=this.elements.length,W=U,fe=this.elements[0].length;do{$=W-U,F=fe;do if(n=fe-F,Math.abs(v.elements[$][n])>K){I++;break}while(--F)}while(--U);return I},rk:function(){return this.rank()},augment:function($){var F=$.elements||$;typeof F[0][0]=="undefined"&&(F=x.create(F).elements);var n,v,I,U=this.dup(),W=U.elements[0].length,fe=U.elements.length,pe=fe,ve=F[0].length;if(fe!=F.length)return null;do{n=pe-fe,v=ve;do I=ve-v,U.elements[n][W+I]=F[n][I];while(--v)}while(--fe);return U},inverse:function(){if(!this.isSquare()||this.isSingular())return null;var $,F,n,v,I,U,W,fe=this.elements.length,pe=fe,ve=this.augment(x.I(fe)).toRightTriangular(),Ue=ve.elements[0].length,ze=[];do{I=[],n=Ue,ze[$=fe-1]=[],U=ve.elements[$][$];do v=Ue-n,W=ve.elements[$][v]/U,I.push(W),v>=pe&&ze[$].push(W);while(--n);for(ve.elements[$]=I,F=0;F<$;F++){I=[],n=Ue;do v=Ue-n,I.push(ve.elements[F][v]-ve.elements[$][v]*ve.elements[F][$]);while(--n);ve.elements[F]=I}}while(--fe);return x.create(ze)},inv:function(){return this.inverse()},round:function(){return this.map(function($){return Math.round($)})},snapTo:function($){return this.map(function(F){return Math.abs(F-$)<=K?$:F})},inspect:function(){var $,F=[],n=this.elements.length,v=n;do $=v-n,F.push(p.create(this.elements[$]).inspect());while(--n);return F.join(`
`)},setElements:function($){var F,n=$.elements||$;if(typeof n[0][0]!="undefined"){var v,I,U,W=n.length,fe=W;this.elements=[];do{I=v=n[F=fe-W].length,this.elements[F]=[];do U=I-v,this.elements[F][U]=n[F][U];while(--v)}while(--W);return this}var pe=n.length,ve=pe;this.elements=[];do F=ve-pe,this.elements.push([n[F]]);while(--pe);return this}},x.create=function($){return new x().setElements($)},x.I=function($){var F,n,v,I=[],U=$;do{I[F=U-$]=[],n=U;do v=U-n,I[F][v]=F==v?1:0;while(--n)}while(--$);return x.create(I)},x.Diagonal=function($){var F,n=$.length,v=n,I=x.I(n);do F=v-n,I.elements[F][F]=$[F];while(--n);return I},x.Rotation=function($,F){if(!F)return x.create([[Math.cos($),-Math.sin($)],[Math.sin($),Math.cos($)]]);var n=F.dup();if(n.elements.length!=3)return null;var v=n.modulus(),I=n.elements[0]/v,U=n.elements[1]/v,W=n.elements[2]/v,fe=Math.sin($),pe=Math.cos($),ve=1-pe;return x.create([[ve*I*I+pe,ve*I*U-fe*W,ve*I*W+fe*U],[ve*I*U+fe*W,ve*U*U+pe,ve*U*W-fe*I],[ve*I*W-fe*U,ve*U*W+fe*I,ve*W*W+pe]])},x.RotationX=function($){var F=Math.cos($),n=Math.sin($);return x.create([[1,0,0],[0,F,-n],[0,n,F]])},x.RotationY=function($){var F=Math.cos($),n=Math.sin($);return x.create([[F,0,n],[0,1,0],[-n,0,F]])},x.RotationZ=function($){var F=Math.cos($),n=Math.sin($);return x.create([[F,-n,0],[n,F,0],[0,0,1]])},x.Random=function($,F){return x.Zero($,F).map(function(){return Math.random()})},x.Zero=function($,F){var n,v,I,U=[],W=$;do{U[n=$-W]=[],v=F;do I=F-v,U[n][I]=0;while(--v)}while(--W);return x.create(U)},_.prototype={eql:function($){return this.isParallelTo($)&&this.contains($.anchor)},dup:function(){return _.create(this.anchor,this.direction)},translate:function($){var F=$.elements||$;return _.create([this.anchor.elements[0]+F[0],this.anchor.elements[1]+F[1],this.anchor.elements[2]+(F[2]||0)],this.direction)},isParallelTo:function($){if($.normal)return $.isParallelTo(this);var F=this.direction.angleFrom($.direction);return Math.abs(F)<=K||Math.abs(F-Math.PI)<=K},distanceFrom:function($){if($.normal)return $.distanceFrom(this);if($.direction){if(this.isParallelTo($))return this.distanceFrom($.anchor);var F=this.direction.cross($.direction).toUnitVector().elements,n=this.anchor.elements,v=$.anchor.elements;return Math.abs((n[0]-v[0])*F[0]+(n[1]-v[1])*F[1]+(n[2]-v[2])*F[2])}var I=$.elements||$,U=(n=this.anchor.elements,this.direction.elements),W=I[0]-n[0],fe=I[1]-n[1],pe=(I[2]||0)-n[2],ve=Math.sqrt(W*W+fe*fe+pe*pe);if(ve===0)return 0;var Ue=(W*U[0]+fe*U[1]+pe*U[2])/ve,ze=1-Ue*Ue;return Math.abs(ve*Math.sqrt(ze<0?0:ze))},contains:function($){var F=this.distanceFrom($);return F!==null&&F<=K},liesIn:function($){return $.contains(this)},intersects:function($){return $.normal?$.intersects(this):!this.isParallelTo($)&&this.distanceFrom($)<=K},intersectionWith:function($){if($.normal)return $.intersectionWith(this);if(!this.intersects($))return null;var F=this.anchor.elements,n=this.direction.elements,v=$.anchor.elements,I=$.direction.elements,U=n[0],W=n[1],fe=n[2],pe=I[0],ve=I[1],Ue=I[2],ze=F[0]-v[0],Le=F[1]-v[1],Qe=F[2]-v[2],lt=pe*pe+ve*ve+Ue*Ue,nt=U*pe+W*ve+fe*Ue,Ke=((-U*ze-W*Le-fe*Qe)*lt/(U*U+W*W+fe*fe)+nt*(pe*ze+ve*Le+Ue*Qe))/(lt-nt*nt);return p.create([F[0]+Ke*U,F[1]+Ke*W,F[2]+Ke*fe])},pointClosestTo:function($){if($.direction){if(this.intersects($))return this.intersectionWith($);if(this.isParallelTo($))return null;var F=this.direction.elements,n=$.direction.elements,v=F[0],I=F[1],U=F[2],W=n[0],fe=n[1],pe=n[2],ve=U*W-v*pe,Ue=v*fe-I*W,ze=I*pe-U*fe,Le=p.create([ve*pe-Ue*fe,Ue*W-ze*pe,ze*fe-ve*W]);return(Qe=B.create($.anchor,Le)).intersectionWith(this)}var Qe=$.elements||$;if(this.contains(Qe))return p.create(Qe);var lt=this.anchor.elements,nt=(v=(F=this.direction.elements)[0],I=F[1],U=F[2],lt[0]),Ke=lt[1],xt=lt[2],Lt=(ve=v*(Qe[1]-Ke)-I*(Qe[0]-nt),Ue=I*((Qe[2]||0)-xt)-U*(Qe[1]-Ke),ze=U*(Qe[0]-nt)-v*((Qe[2]||0)-xt),p.create([I*ve-U*ze,U*Ue-v*ve,v*ze-I*Ue])),bt=this.distanceFrom(Qe)/Lt.modulus();return p.create([Qe[0]+Lt.elements[0]*bt,Qe[1]+Lt.elements[1]*bt,(Qe[2]||0)+Lt.elements[2]*bt])},rotate:function($,F){typeof F.direction=="undefined"&&(F=_.create(F.to3D(),p.k));var n=x.Rotation($,F.direction).elements,v=F.pointClosestTo(this.anchor).elements,I=this.anchor.elements,U=this.direction.elements,W=v[0],fe=v[1],pe=v[2],ve=I[0]-W,Ue=I[1]-fe,ze=I[2]-pe;return _.create([W+n[0][0]*ve+n[0][1]*Ue+n[0][2]*ze,fe+n[1][0]*ve+n[1][1]*Ue+n[1][2]*ze,pe+n[2][0]*ve+n[2][1]*Ue+n[2][2]*ze],[n[0][0]*U[0]+n[0][1]*U[1]+n[0][2]*U[2],n[1][0]*U[0]+n[1][1]*U[1]+n[1][2]*U[2],n[2][0]*U[0]+n[2][1]*U[1]+n[2][2]*U[2]])},reflectionIn:function($){if($.normal){var F=this.anchor.elements,n=this.direction.elements,v=F[0],I=F[1],U=F[2],W=n[0],fe=n[1],pe=n[2],ve=this.anchor.reflectionIn($).elements,Ue=v+W,ze=I+fe,Le=U+pe,Qe=$.pointClosestTo([Ue,ze,Le]).elements,lt=[Qe[0]+(Qe[0]-Ue)-ve[0],Qe[1]+(Qe[1]-ze)-ve[1],Qe[2]+(Qe[2]-Le)-ve[2]];return _.create(ve,lt)}if($.direction)return this.rotate(Math.PI,$);var nt=$.elements||$;return _.create(this.anchor.reflectionIn([nt[0],nt[1],nt[2]||0]),this.direction)},setVectors:function($,F){if($=p.create($),F=p.create(F),$.elements.length==2&&$.elements.push(0),F.elements.length==2&&F.elements.push(0),$.elements.length>3||F.elements.length>3)return null;var n=F.modulus();return n===0?null:(this.anchor=$,this.direction=p.create([F.elements[0]/n,F.elements[1]/n,F.elements[2]/n]),this)}},_.create=function($,F){return new _().setVectors($,F)},_.X=_.create(p.Zero(3),p.i),_.Y=_.create(p.Zero(3),p.j),_.Z=_.create(p.Zero(3),p.k),B.prototype={eql:function($){return this.contains($.anchor)&&this.isParallelTo($)},dup:function(){return B.create(this.anchor,this.normal)},translate:function($){var F=$.elements||$;return B.create([this.anchor.elements[0]+F[0],this.anchor.elements[1]+F[1],this.anchor.elements[2]+(F[2]||0)],this.normal)},isParallelTo:function($){var F;return $.normal?(F=this.normal.angleFrom($.normal),Math.abs(F)<=K||Math.abs(Math.PI-F)<=K):$.direction?this.normal.isPerpendicularTo($.direction):null},isPerpendicularTo:function($){var F=this.normal.angleFrom($.normal);return Math.abs(Math.PI/2-F)<=K},distanceFrom:function($){if(this.intersects($)||this.contains($))return 0;if($.anchor){var F=this.anchor.elements,n=$.anchor.elements,v=this.normal.elements;return Math.abs((F[0]-n[0])*v[0]+(F[1]-n[1])*v[1]+(F[2]-n[2])*v[2])}var I=$.elements||$;return F=this.anchor.elements,v=this.normal.elements,Math.abs((F[0]-I[0])*v[0]+(F[1]-I[1])*v[1]+(F[2]-(I[2]||0))*v[2])},contains:function($){if($.normal)return null;if($.direction)return this.contains($.anchor)&&this.contains($.anchor.add($.direction));var F=$.elements||$,n=this.anchor.elements,v=this.normal.elements;return Math.abs(v[0]*(n[0]-F[0])+v[1]*(n[1]-F[1])+v[2]*(n[2]-(F[2]||0)))<=K},intersects:function($){return typeof $.direction=="undefined"&&typeof $.normal=="undefined"?null:!this.isParallelTo($)},intersectionWith:function($){if(!this.intersects($))return null;if($.direction){var F=$.anchor.elements,n=$.direction.elements,v=this.anchor.elements,I=((W=this.normal.elements)[0]*(v[0]-F[0])+W[1]*(v[1]-F[1])+W[2]*(v[2]-F[2]))/(W[0]*n[0]+W[1]*n[1]+W[2]*n[2]);return p.create([F[0]+n[0]*I,F[1]+n[1]*I,F[2]+n[2]*I])}if($.normal){for(var U=this.normal.cross($.normal).toUnitVector(),W=this.normal.elements,fe=(F=this.anchor.elements,$.normal.elements),pe=$.anchor.elements,ve=x.Zero(2,2),Ue=0;ve.isSingular();)Ue++,ve=x.create([[W[Ue%3],W[(Ue+1)%3]],[fe[Ue%3],fe[(Ue+1)%3]]]);for(var ze=ve.inverse().elements,Le=W[0]*F[0]+W[1]*F[1]+W[2]*F[2],Qe=fe[0]*pe[0]+fe[1]*pe[1]+fe[2]*pe[2],lt=[ze[0][0]*Le+ze[0][1]*Qe,ze[1][0]*Le+ze[1][1]*Qe],nt=[],Ke=1;Ke<=3;Ke++)nt.push(Ue==Ke?0:lt[(Ke+(5-Ue)%3)%3]);return _.create(nt,U)}},pointClosestTo:function($){var F=$.elements||$,n=this.anchor.elements,v=this.normal.elements,I=(n[0]-F[0])*v[0]+(n[1]-F[1])*v[1]+(n[2]-(F[2]||0))*v[2];return p.create([F[0]+v[0]*I,F[1]+v[1]*I,(F[2]||0)+v[2]*I])},rotate:function($,F){var n=x.Rotation($,F.direction).elements,v=F.pointClosestTo(this.anchor).elements,I=this.anchor.elements,U=this.normal.elements,W=v[0],fe=v[1],pe=v[2],ve=I[0]-W,Ue=I[1]-fe,ze=I[2]-pe;return B.create([W+n[0][0]*ve+n[0][1]*Ue+n[0][2]*ze,fe+n[1][0]*ve+n[1][1]*Ue+n[1][2]*ze,pe+n[2][0]*ve+n[2][1]*Ue+n[2][2]*ze],[n[0][0]*U[0]+n[0][1]*U[1]+n[0][2]*U[2],n[1][0]*U[0]+n[1][1]*U[1]+n[1][2]*U[2],n[2][0]*U[0]+n[2][1]*U[1]+n[2][2]*U[2]])},reflectionIn:function($){if($.normal){var F=this.anchor.elements,n=this.normal.elements,v=F[0],I=F[1],U=F[2],W=n[0],fe=n[1],pe=n[2],ve=this.anchor.reflectionIn($).elements,Ue=v+W,ze=I+fe,Le=U+pe,Qe=$.pointClosestTo([Ue,ze,Le]).elements,lt=[Qe[0]+(Qe[0]-Ue)-ve[0],Qe[1]+(Qe[1]-ze)-ve[1],Qe[2]+(Qe[2]-Le)-ve[2]];return B.create(ve,lt)}if($.direction)return this.rotate(Math.PI,$);var nt=$.elements||$;return B.create(this.anchor.reflectionIn([nt[0],nt[1],nt[2]||0]),this.normal)},setVectors:function($,F,n){if(($=($=p.create($)).to3D())===null||(F=(F=p.create(F)).to3D())===null)return null;if(typeof n=="undefined")n=null;else if((n=(n=p.create(n)).to3D())===null)return null;var v,I,U=$.elements[0],W=$.elements[1],fe=$.elements[2],pe=F.elements[0],ve=F.elements[1],Ue=F.elements[2];if(n!==null){var ze=n.elements[0],Le=n.elements[1],Qe=n.elements[2];if((I=(v=p.create([(ve-W)*(Qe-fe)-(Ue-fe)*(Le-W),(Ue-fe)*(ze-U)-(pe-U)*(Qe-fe),(pe-U)*(Le-W)-(ve-W)*(ze-U)])).modulus())===0)return null;v=p.create([v.elements[0]/I,v.elements[1]/I,v.elements[2]/I])}else{if((I=Math.sqrt(pe*pe+ve*ve+Ue*Ue))===0)return null;v=p.create([F.elements[0]/I,F.elements[1]/I,F.elements[2]/I])}return this.anchor=$,this.normal=v,this}},x.Translation=function($){var F;if($.elements.length===2)return(F=x.I(3)).elements[2][0]=$.elements[0],F.elements[2][1]=$.elements[1],F;if($.elements.length===3)return(F=x.I(4)).elements[0][3]=$.elements[0],F.elements[1][3]=$.elements[1],F.elements[2][3]=$.elements[2],F;throw"Invalid length for Translation"},x.prototype.flatten=function(){var $=[];if(this.elements.length===0)return[];for(var F=0;F<this.elements[0].length;F++)for(var n=0;n<this.elements.length;n++)$.push(this.elements[n][F]);return $},x.prototype.ensure4x4=function(){var $;if(this.elements.length===4&&this.elements[0].length===4)return this;if(this.elements.length>4||this.elements[0].length>4)return null;for($=0;$<this.elements.length;$++)for(var F=this.elements[$].length;F<4;F++)$===F?this.elements[$].push(1):this.elements[$].push(0);for($=this.elements.length;$<4;$++)$===0?this.elements.push([1,0,0,0]):$===1?this.elements.push([0,1,0,0]):$===2?this.elements.push([0,0,1,0]):$===3&&this.elements.push([0,0,0,1]);return this},x.prototype.make3x3=function(){return this.elements.length!==4||this.elements[0].length!==4?null:x.create([[this.elements[0][0],this.elements[0][1],this.elements[0][2]],[this.elements[1][0],this.elements[1][1],this.elements[1][2]],[this.elements[2][0],this.elements[2][1],this.elements[2][2]]])},B.create=function($,F,n){return new B().setVectors($,F,n)},B.XY=B.create(p.Zero(3),p.k),B.YZ=B.create(p.Zero(3),p.i),B.ZX=B.create(p.Zero(3),p.j),B.YX=B.XY,B.ZY=B.YZ,B.XZ=B.ZX;var R=p.create,X=x.create,J=(_.create,B.create,function(){function $(n,v){this.canvas=n,this.size=v,this.canvas.width=v.w,this.canvas.height=v.h,this.createWebGL(),this.loadShaders(),this.bindBuffer(),this.setViewPort(v.w,v.h),this.createTexture(),this.bindTexture(),this.matrix=null}var F=$.prototype;return F.createWebGL=function(){if(this.gl=this.canvas.getContext("webgl2"),!this.gl)return this.gl},F.setViewPort=function(n,v){var I,U,W=this.gl;W.drawingBufferWidth<n||W.drawingBufferHeight<v?(I=W.drawingBufferWidth,U=W.drawingBufferHeight,this.canvas.width=I,this.canvas.height=U):(I=n,U=v),W.viewport(0,0,I,U)},F.clearCanvas=function(){var n=this.gl;n.clearColor(0,0,0,1),n.clear(n.DEPTH_BUFFER_BIT|n.COLOR_BUFFER_BIT)},F.createTexture=function(){var n=this.gl;this.textureY=new ne(n,this.size,this.format),this.textureU=new ne(n,this.size.getHalfSize(),this.format),this.textureV=new ne(n,this.size.getHalfSize(),this.format)},F.loadShaders=function(){var n=this.gl;this.program=n.createProgram();var v=n.createShader(n.VERTEX_SHADER);if(n.shaderSource(v,`#version 300 es
      in vec3 aVertexPosition;
      in vec2 aTextureCoord;
      uniform mat4 uMVMatrix;
      uniform mat4 uPMatrix;
      out vec2 vTextureCoord;
      void main(void) {
        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
        vTextureCoord = aTextureCoord;
      }`),n.compileShader(v),!n.getShaderParameter(v,n.COMPILE_STATUS))return c.error("VideoRender.js ERROR:",n.getShaderInfoLog(v)),void n.deleteShader(v);var I=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(I,`#version 300 es
      precision highp float;
      in vec2 vTextureCoord;
      uniform sampler2D YTexture;
      uniform sampler2D UTexture;
      uniform sampler2D VTexture;
      const mat4 YUV2RGB = mat4(
        1.1643828125, 0, 1.59602734375, -.87078515625,
        1.1643828125, -.39176171875, -.81296875, .52959375,
        1.1643828125, 2.017234375, 0, -1.081390625,
        0, 0, 0, 1
      );
      out vec4 fragColor;
      void main(void) {
        fragColor = vec4( texture(YTexture, vTextureCoord).r, texture(UTexture, vTextureCoord).r, texture(VTexture, vTextureCoord).r, 1.0) * YUV2RGB;
      }`),n.compileShader(I),!n.getShaderParameter(I,n.COMPILE_STATUS))return c.error("VideoRender.js ERROR:",n.getShaderInfoLog(vertex_shader)),void n.deleteShader(I);n.attachShader(this.program,v),n.attachShader(this.program,I),n.linkProgram(this.program),n.useProgram(this.program),n.getProgramParameter(this.program,n.LINK_STATUS)||c.log("VideoRender.js Shader link failed."),this.vertexPositionAttribute=n.getAttribLocation(this.program,"aVertexPosition"),n.enableVertexAttribArray(this.vertexPositionAttribute),this.textureCoordAttribute=n.getAttribLocation(this.program,"aTextureCoord"),n.enableVertexAttribArray(this.textureCoordAttribute)},F.bindBuffer=function(){var n=this.gl;this.perspective_matrix=this.makePerspective(45,1,.1,100),this.identity(),this.translate([0,0,-2.415]);var v=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,v),n.bufferData(n.ARRAY_BUFFER,new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0]),n.STATIC_DRAW),n.vertexAttribPointer(this.vertexPositionAttribute,3,n.FLOAT,!1,0,0);var I=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,I),n.bufferData(n.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),n.STATIC_DRAW),n.vertexAttribPointer(this.textureCoordAttribute,2,n.FLOAT,!1,0,0),this.setMatrixUniforms()},F.bindTexture=function(){this.textureY.bind(0,this.program,"YTexture"),this.textureU.bind(1,this.program,"UTexture"),this.textureV.bind(2,this.program,"VTexture")},F.drawCanvas=function(n,v,I){var U=this.gl;this.textureY.uploadTexture(n),this.textureU.uploadTexture(v),this.textureV.uploadTexture(I),U.drawArrays(U.TRIANGLE_STRIP,0,4)},F.identity=function(){this.matrix=x.I(4)},F.multiply=function(n){this.matrix=this.matrix.x(n)},F.translate=function(n){this.multiply(x.Translation(R([n[0],n[1],n[2]])).ensure4x4())},F.setMatrixUniforms=function(){var n=this.gl.getUniformLocation(this.program,"uPMatrix");this.gl.uniformMatrix4fv(n,!1,new Float32Array(this.perspective_matrix.flatten()));var v=this.gl.getUniformLocation(this.program,"uMVMatrix");this.gl.uniformMatrix4fv(v,!1,new Float32Array(this.matrix.flatten()))},F.makePerspective=function(n,v,I,U){var W=I*Math.tan(n*Math.PI/360),fe=-W,pe=fe*v,ve=W*v;return this.makeFrustum(pe,ve,fe,W,I,U)},F.makeFrustum=function(n,v,I,U,W,fe){return X([[2*W/(v-n),0,(v+n)/(v-n),0],[0,2*W/(U-I),(U+I)/(U-I),0],[0,0,-(fe+W)/(fe-W),-2*fe*W/(fe-W)],[0,0,-1,0]])},$}()),ne=function(){function $(n,v,I){this.gl=n,this.size=v,this.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.texture),this.format=I||n.LUMINANCE,n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)}var F=$.prototype;return F.uploadTexture=function(n){var v=this.gl;v.bindTexture(v.TEXTURE_2D,this.texture),v.texImage2D(v.TEXTURE_2D,0,this.format,this.size.w,this.size.h,0,this.format,v.UNSIGNED_BYTE,n)},F.bind=function(n,v,I){var U=this.gl;U.activeTexture([U.TEXTURE0,U.TEXTURE1,U.TEXTURE2][n]),U.bindTexture(U.TEXTURE_2D,this.texture),U.uniform1i(U.getUniformLocation(v,I),n)},$}();function le($,F){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,v){return n.__proto__=v,n},le($,F)}var me=function($){function F(I){return $.call(this,I)||this}var n,v;return v=$,(n=F).prototype=Object.create(v.prototype),n.prototype.constructor=n,le(n,v),F}(function($){this.buffer=$,this.previous=null,this.next=null}),Ae=function(){function $(n){this.first=null,this.size=0,this.maxLength=n||25}var F=$.prototype;return F.enqueue=function(n){this.size>=this.maxLength&&this.clear();var v=new me(n);if(this.first===null)this.first=v;else{for(var I=this.first;I.next!==null;)I=I.next;I.next=v}return this.size+=1,v},F.dequeue=function(){var n=null;return this.first!==null&&(n=this.first,this.first=this.first.next,this.size-=1),n},F.clear=function(){for(var n=null;this.first!==null;)n=this.first,this.first=this.first.next,this.size-=1,n.buffer=null,n=null;this.size=0,this.first=null},$}(),q=function(){function $(n,v,I){this.bufferQueueMaxLength=v,this.canvasElem=n,this.ivsCanvasElem=null,this.pictureName="",this.captureStart=!1,this.playback=I,this.videoRender=null,this.startTimestamp=0,this.preTimestamp=0,this.isRendering=!1,this.videoDataQueue=null,this.complementTime=0,this.nextPlayTime=0,this.playFirstFrame=!1,this.startPlay=!1,this.playSpeed=1,this.videoDataQueue=new Ae(this.bufferQueueMaxLength),this.drawingInTime=this.drawingInTime.bind(this)}var F=$.prototype;return F.capturePic=function(n,v){c.log("PlayMethod::\u6293\u56FE pictureName=",v),this.ivsCanvasElem=n,this.pictureName=v,this.captureStart=!0},F.downloadPic=function(n,v){c.log("PlayMethod::\u4E0B\u8F7D\u56FE\u7247 canvasArr.length=",n.length,"pictureName=",v);var I=document.createElement("canvas");I.width=this.canvasElem.width,I.height=this.canvasElem.height;for(var U=I.getContext("2d"),W=0;W<n.length;W++)n[W]&&U.drawImage(n[W],0,0,I.width,I.height);I.toBlob(function(fe){fe&&(c.log("PlayMethod::\u4E0B\u8F7D\u56FE\u7247 blob.size=",fe.size," blob.type=",fe.type),v.toLowerCase().endsWith(".jpg")||v.toLowerCase().endsWith(".jpeg")||(v+=".jpg"),savePicture(fe,v||"download.jpg"))},"image/jpeg",.9)},F.drawFrame=function(n){return c.logKeyLimit("PlayMethod::drawFrame",2),typeof this.videoRender!="undefined"&&(this.videoRender.drawCanvas(n.buffer.dataY,n.buffer.dataU,n.buffer.dataV),this.captureStart&&(this.captureStart=!1,c.logKeyLimit("PlayMethod::drawFrame captureStart",2),this.downloadPic([this.canvasElem,this.ivsCanvasElem],this.pictureName)),delete n.buffer,n.buffer=null,n.previous=null,n.next=null,n=null,!0)},F.drawingInTime=function(n){if(c.logKeyLimit("PlayMethod::drawingInTime timestamp=",2,n),this.isRendering===!0){if(this.startTimestamp===0||n-this.startTimestamp<200){if(this.startTimestamp===0&&(this.startTimestamp=n),this.videoDataQueue!==null){if(!this.playFirstFrame){var v=this.videoDataQueue.dequeue();v!==null&&v.buffer!==null&&v.buffer.dataY!==null&&(this.playFirstFrame=!0,this.drawFrame(v))}window.requestAnimationFrame(this.drawingInTime)}return}this.preTimestamp===0&&(this.preTimestamp=n);var I=n-this.preTimestamp;if(I>=this.nextPlayTime){var U=this.videoDataQueue.dequeue();U!==null&&U.buffer!==null&&U.buffer.dataY!==null&&(this.startPlay&&(this.complementTime=I-this.nextPlayTime),this.nextPlayTime=U.buffer.nCostTime,this.nextPlayTime-=this.complementTime,this.drawFrame(U),this.preTimestamp=n,this.startPlay=!0)}window.requestAnimationFrame(this.drawingInTime)}},F.draw=function(n,v,I,U){if(this.videoDataQueue!==null&&this.isRendering===!0)if(document.hidden&&this.videoDataQueue.size>=25)this.videoDataQueue.clear(),c.logKeyLimit("PlayMethod::draw clear",5);else{var W={};W.dataY=n,W.dataU=v,W.dataV=I,U==0&&(U=25);var fe=1e3/U,pe=this.videoDataQueue.size*fe;this.playback||(this.playSpeed=pe>500?1.2:pe<200?.8:1),W.nCostTime=1e3/U/this.playSpeed,W.nCostTime<20&&(W.nCostTime=20),c.logKeyLimit("PlayMethod::draw drawingInTime, frameRate:",5,U+" delayTime:"+pe+" size:"+this.videoDataQueue.size),this.videoDataQueue.enqueue(W)}},F.resize=function(n,v){c.log("PlayMethod::resize width="+n+" height="+v),this.stopRendering(),this.videoDataQueue!==null&&this.videoDataQueue.clear(),this.videoRender&&(this.videoRender=null);var I=new N(n,v);this.videoRender=new J(this.canvasElem,I),I=null,this.startRendering()},F.initStartTime=function(){c.log("PlayMethod::initStartTime"),this.startTimestamp===0&&this.startRendering()},F.startRendering=function(){c.log("PlayMethod::startRendering"),this.startTimestamp===0&&(this.isRendering=!0,window.requestAnimationFrame(this.drawingInTime))},F.pause=function(){c.log("PlayMethod::pause"),this.isRendering=!1},F.play=function(){c.log("PlayMethod::play"),this.isRendering=!0,window.requestAnimationFrame(this.drawingInTime)},F.stopRendering=function(){c.log("PlayMethod::stopRendering"),this.isRendering=!1,this.startTimestamp=0},F.setPlaySpeed=function(n){c.log("PlayMethod::setPlaySpeed speed:"+n),this.playSpeed=n},F.terminate=function(){c.log("PlayMethod::terminate"),this.isRendering=!1,this.startTimestamp=0,this.videoDataQueue!==null&&(this.videoDataQueue.clear(),this.videoDataQueue=null),this.videoRender&&(this.videoRender.clearCanvas(),this.videoRender=null)},F.getVideoBufferQueueSize=function(){return this.videoDataQueue.size},$}(),Z=function(){function $(n){this.m_nVideoEncodeType=n,this._types=[],this._dtsBase=0,this.datas={},this.init()}var F=$.prototype;return F.init=function(){for(var n in this._types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],hev1:[],hvcC:[]},this._types)this._types[n]=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)];this._dtsBase=0,this.m_nVideoEncodeType==1?this.datas.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]):this.m_nVideoEncodeType==2&&(this.datas.FTYP=new Uint8Array([105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,97,118,99,49,109,112,52,49])),this.datas.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),this.datas.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),this.datas.STSC=this.datas.STCO=this.datas.STTS,this.datas.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),this.datas.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),this.datas.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),this.datas.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),this.datas.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),this.datas.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},F.box=function(n){for(var v=8,I=Array.prototype.slice.call(arguments,1),U=0;U<I.length;U++)v+=I[U].byteLength;var W=new Uint8Array(v),fe=0;W[fe++]=v>>>24&255,W[fe++]=v>>>16&255,W[fe++]=v>>>8&255,W[fe++]=255&v,W.set(n,fe),fe+=4;for(var pe=0;pe<I.length;pe++)W.set(I[pe],fe),fe+=I[pe].byteLength;return W},F.esds=function(n){var v=n.config,I=v.length,U=new Uint8Array([0,0,0,0,3,23+I,0,1,0,4,15+I,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([I]).concat(v).concat([6,1,2]));return this.box(this._types.esds,U)},F.audioSample=function(n){return this.box(this._types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&n.channelcount)>>8,255&n.channelcount,(65280&n.samplesize)>>8,255&n.samplesize,0,0,0,0,(65280&n.samplerate)>>8,255&n.samplerate,0,0]),this.esds(n))},F.videoSample=function(n){var v=n.vps||[],I=n.sps||[],U=n.pps||[],W=[],fe=[],pe=[],ve=0;for(ve=0;ve<v.length;ve++)W.push((65280&v[ve].byteLength)>>>8),W.push(255&v[ve].byteLength),W=W.concat(Array.prototype.slice.call(v[ve]));for(ve=0;ve<I.length;ve++)fe.push((65280&I[ve].byteLength)>>>8),fe.push(255&I[ve].byteLength),fe=fe.concat(Array.prototype.slice.call(I[ve]));for(ve=0;ve<U.length;ve++)pe.push((65280&U[ve].byteLength)>>>8),pe.push(255&U[ve].byteLength),pe=pe.concat(Array.prototype.slice.call(U[ve]));return this.m_nVideoEncodeType==1?this.box(this._types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&n.width)>>8,255&n.width,(65280&n.height)>>8,255&n.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),this.box(this._types.avcC,new Uint8Array([1,n.profileIdc,n.profileCompatibility,n.levelIdc,255].concat([I.length]).concat(fe).concat([U.length]).concat(pe)))):this.m_nVideoEncodeType==2?this.box(this._types.hev1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&n.width)>>8,255&n.width,(65280&n.height)>>8,255&n.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),this.box(this._types.hvcC,new Uint8Array([1,n.general_profile_flag,(4278190080&n.general_profile_compatibility_flags)>>>24,(16711680&n.general_profile_compatibility_flags)>>>16,(65280&n.general_profile_compatibility_flags)>>>8,255&n.general_profile_compatibility_flags,(0xff0000000000&n.general_constraint_indicator_flags)>>>40,(0xff00000000&n.general_constraint_indicator_flags)>>>32,(4278190080&n.general_constraint_indicator_flags)>>>24,(16711680&n.general_constraint_indicator_flags)>>>16,(65280&n.general_constraint_indicator_flags)>>>8,255&n.general_constraint_indicator_flags,n.general_level_idc,240,0,252,252|n.chroma_format_idc,248|n.bitDepthLumaMinus8,248|n.bitDepthChromaMinus8,0,0,n.rate_layers_nested_length,3].concat([32,0,1]).concat(W).concat([33,0,1]).concat(fe).concat([34,0,1]).concat(pe)))):void 0},F.stsd=function(n){return n.type==="audio"?this.box(this._types.stsd,this.datas.STSD_PREFIX,this.audioSample(n)):this.box(this._types.stsd,this.datas.STSD_PREFIX,this.videoSample(n))},F.dinf=function(){return this.box(this._types.dinf,this.box(this._types.dref,this.datas.DREF))},F.stbl=function(n){return this.box(this._types.stbl,this.stsd(n),this.box(this._types.stts,this.datas.STTS),this.box(this._types.stsc,this.datas.STSC),this.box(this._types.stsz,this.datas.STSZ),this.box(this._types.stco,this.datas.STCO))},F.mdhd=function(n){var v=n.timescale,I=n.duration;return this.box(this._types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,v>>>24&255,v>>>16&255,v>>>8&255,255&v,I>>>24&255,I>>>16&255,I>>>8&255,255&I,85,196,0,0]))},F.hdlr=function(n){var v=null;return v=n.type==="audio"?this.datas.HDLR_AUDIO:this.datas.HDLR_VIDEO,this.box(this._types.hdlr,v)},F.minf=function(n){var v=null;return v=n.type==="audio"?this.box(this._types.smhd,this.datas.SMHD):this.box(this._types.vmhd,this.datas.VMHD),this.box(this._types.minf,v,this.dinf(),this.stbl(n))},F.tkhd=function(n){var v=n.id,I=n.duration,U=n.width,W=n.height;return this.box(this._types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,v>>>24&255,v>>>16&255,v>>>8&255,255&v,0,0,0,0,I>>>24&255,I>>>16&255,I>>>8&255,255&I,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,U>>>8&255,255&U,0,0,W>>>8&255,255&W,0,0]))},F.mdia=function(n){return this.box(this._types.mdia,this.mdhd(n),this.hdlr(n),this.minf(n))},F.trex=function(n){var v=n.id,I=new Uint8Array([0,0,0,0,v>>>24&255,v>>>16&255,v>>>8&255,255&v,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return this.box(this._types.trex,I)},F.mvhd=function(n,v){return this.box(this._types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,v>>>24&255,v>>>16&255,v>>>8&255,255&v,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},F.trak=function(n){return this.box(this._types.trak,this.tkhd(n),this.mdia(n))},F.mvex=function(n){return this.box(this._types.mvex,this.trex(n))},F.moov=function(n){var v=this.mvhd(n.timescale,n.duration),I=this.trak(n),U=this.mvex(n);return this.box(this._types.moov,v,I,U)},F.sdtp=function(n){for(var v=n.samples||[],I=v.length,U=new Uint8Array(4+I),W=0;W<I;W++){var fe=v[W].flags;U[W+4]=fe.isLeading<<6|fe.dependsOn<<4|fe.isDependedOn<<2|fe.hasRedundancy}return this.box(this._types.sdtp,U)},F.trunHeader1=function(n,v){return[0,0,3,5,(4278190080&n.length)>>>24,(16711680&n.length)>>>16,(65280&n.length)>>>8,255&n.length,(4278190080&v)>>>24,(16711680&v)>>>16,(65280&v)>>>8,255&v,0,0,0,0]},F.videoTrun=function(n,v){var I,U=null,W=null,fe=0,pe=v;if((I=n.samples||[])[0].frameDuration===null)for(pe+=24+4*I.length,U=this.trunHeader1(I,pe),fe=0;fe<I.length;fe++)W=I[fe],U=U.concat([(4278190080&W.size)>>>24,(16711680&W.size)>>>16,(65280&W.size)>>>8,255&W.size]);else for(pe+=24+4*I.length+4*I.length,U=this.trunHeader1(I,pe),fe=0;fe<I.length;fe++)W=I[fe],U=U.concat([(4278190080&W.frameDuration)>>>24,(16711680&W.frameDuration)>>>16,(65280&W.frameDuration)>>>8,255&W.frameDuration,(4278190080&W.size)>>>24,(16711680&W.size)>>>16,(65280&W.size)>>>8,255&W.size]);return this.box(this._types.trun,new Uint8Array(U))},F.trun=function(n,v){return n.type==="audio"?this.audioTrun(n,v):this.videoTrun(n,v)},F.mfhd=function(n){var v=new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n]);return this.box(this._types.mfhd,v)},F.traf=function(n){var v,I,U;return v=this.box(this._types.tfhd,new Uint8Array([0,2,0,0,0,0,0,1])),I=this.box(this._types.tfdt,new Uint8Array([0,0,0,0,n.baseMediaDecodeTime>>>24&255,n.baseMediaDecodeTime>>>16&255,n.baseMediaDecodeTime>>>8&255,255&n.baseMediaDecodeTime])),U=this.trun(n,72),this.box(this._types.traf,v,I,U)},F.moof=function(n,v){return this.box(this._types.moof,this.mfhd(n),this.traf(v))},F.mdat=function(n){return this.box(this._types.mdat,n)},F.initSegment=function(n){var v=this.box(this._types.ftyp,this.datas.FTYP),I=this.moov(n),U=new Uint8Array(v.byteLength+I.byteLength);return U.set(v,0),U.set(I,v.byteLength),U},F.mediaSegment=function(n,v,I,U){var W=this.moof(n,v),fe=this.mdat(I),pe=null;return(pe=new Uint8Array(W.byteLength+fe.byteLength)).set(W),pe.set(fe,W.byteLength),pe},$}(),re=function(){function $(n){this.BITWISE0x00000007=7,this.BITWISE0x7=7,this.BITWISE2=2,this.BITWISE3=3,this.BITWISE4=4,this.BITWISE5=5,this.BITWISE6=6,this.BITWISE8=8,this.BITWISE12=12,this.BITWISE15=15,this.BITWISE16=16,this.BITWISE32=32,this.BITWISE64=64,this.BITWISE255=255,this.BITWISE256=256,this.MAX_SUB_LAYERS=6,this.vBitCount=0,this.m_nVideoEncodeType=n,this.vBitCount=0,this.spsMap=new ae}var F=$.prototype;return F.getBit=function(n,v){var I=v,U=this.vBitCount+I>>this.BITWISE3;return I=this.vBitCount+v&this.BITWISE0x00000007,n[U]>>this.BITWISE0x7-(I&this.BITWISE0x7)&1},F.setBits=function(n,v){var I=this.vBitCount>>this.BITWISE3,U=8*(I+1)-this.vBitCount;if(U<8)for(var W=0;W<3;W++){var fe=n[I+W];fe=W==0?fe>>U<<U:W==2?fe&255>>8-U|1<<U:0,n.set([fe],I+W)}else n.set([0],I),n.set([1],I+1)},F.readBits64=function(n,v){return v<=32?this.readBitsLong(n,v):this.readBitsLong(n,v-32)<<32|this.readBitsLong(n,32)},F.readBitsLong=function(n,v){return v<=25?this.readBits(n,v):this.readBits(n,16)<<v-16|this.readBits(n,v-16)},F.readBits=function(n,v){var I=0;if(v===1)I=this.getBit(n,0);else for(var U=0;U<v;U++)I=(I<<1)+this.getBit(n,U);return this.vBitCount+=v,I},F.ue=function(n,v){for(var I=0,U=0,W=v;this.vBitCount+W<8*n.length&&!this.getBit(n,W++);)I++;if(I===0)return this.vBitCount+=1,0;U=1<<I;for(var fe=I-1;fe>=0;fe--,W++)U|=this.getBit(n,W)<<fe;var pe=I*this.BITWISE2+1;return this.vBitCount+=pe,U-1},F.se=function(n,v){var I=this.ue(n,v);return 1&I?(I+1)/this.BITWISE2:-I/this.BITWISE2},F.hrdParameters=function(n){this.spsMap.put("cpb_cnt_minus1",this.ue(n,0)),this.spsMap.put("bit_rate_scale",this.readBits(n,this.BITWISE4)),this.spsMap.put("cpb_size_scale",this.readBits(n,this.BITWISE4));for(var v=this.spsMap.get("cpb_cnt_minus1"),I=new Array(v),U=new Array(v),W=new Array(v),fe=0;fe<=v;fe++)I[fe]=this.ue(n,0),U[fe]=this.ue(n,0),W[fe]=this.readBits(n,1);this.spsMap.put("bit_rate_value_minus1",I),this.spsMap.put("cpb_size_value_minus1",U),this.spsMap.put("cbr_flag",W),this.spsMap.put("initial_cpb_removal_delay_length_minus1",this.readBits(n,this.BITWISE5)),this.spsMap.put("cpb_removal_delay_length_minus1",this.readBits(n,this.BITWISE5)),this.spsMap.put("dpb_output_delay_length_minus1",this.readBits(n,this.BITWISE5)),this.spsMap.put("time_offset_length",this.readBits(n,this.BITWISE5))},F.vuiParameters=function(n){this.spsMap.put("aspect_ratio_info_present_flag",this.readBits(n,1)),this.spsMap.get("aspect_ratio_info_present_flag")&&(this.spsMap.put("aspect_ratio_idc",this.readBits(n,this.BITWISE8)),this.spsMap.get("aspect_ratio_idc")===this.BITWISE255&&(this.setBits(n,this.BITWISE16),this.spsMap.put("sar_width",this.readBits(n,this.BITWISE16)),this.setBits(n,this.BITWISE16),this.spsMap.put("sar_height",this.readBits(n,this.BITWISE16)))),this.spsMap.put("overscan_info_present_flag",this.readBits(n,1)),this.spsMap.get("overscan_info_present_flag")&&this.spsMap.put("overscan_appropriate_flag",this.readBits(n,1)),this.spsMap.put("video_signal_type_present_flag",this.readBits(n,1)),this.spsMap.get("video_signal_type_present_flag")&&(this.spsMap.put("video_format",this.readBits(n,this.BITWISE3)),this.spsMap.put("video_full_range_flag",this.readBits(n,1)),this.spsMap.put("colour_description_present_flag",this.readBits(n,1)),this.spsMap.get("colour_description_present_flag")&&(this.spsMap.put("colour_primaries",this.readBits(n,this.BITWISE8)),this.spsMap.put("transfer_characteristics",this.readBits(n,this.BITWISE8)),this.spsMap.put("matrix_coefficients",this.readBits(n,this.BITWISE8)))),this.spsMap.put("chroma_loc_info_present_flag",this.readBits(n,1)),this.spsMap.get("chroma_loc_info_present_flag")&&(this.spsMap.put("chroma_sample_loc_type_top_field",this.ue(n,0)),this.spsMap.put("chroma_sample_loc_type_bottom_field",this.ue(n,0))),this.spsMap.put("timing_info_present_flag",this.readBits(n,1)),this.spsMap.get("timing_info_present_flag")&&(this.spsMap.put("num_units_in_tick",this.readBits(n,this.BITWISE32)),this.spsMap.put("time_scale",this.readBits(n,this.BITWISE32)),this.spsMap.put("fixed_frame_rate_flag",this.readBits(n,1))),this.spsMap.put("nal_hrd_parameters_present_flag",this.readBits(n,1)),this.spsMap.get("nal_hrd_parameters_present_flag")&&this.hrdParameters(n),this.spsMap.put("vcl_hrd_parameters_present_flag",this.readBits(n,1)),this.spsMap.get("vcl_hrd_parameters_present_flag")&&this.hrdParameters(n),(this.spsMap.get("nal_hrd_parameters_present_flag")||this.spsMap.get("vcl_hrd_parameters_present_flag"))&&this.spsMap.put("low_delay_hrd_flag",this.readBits(n,1)),this.spsMap.put("pic_struct_present_flag",this.readBits(n,1)),this.spsMap.put("bitstream_restriction_flag",this.readBits(n,1)),this.spsMap.get("bitstream_restriction_flag")&&(this.spsMap.put("motion_vectors_over_pic_boundaries_flag",this.readBits(n,1)),this.spsMap.put("max_bytes_per_pic_denom",this.ue(n,0)),this.spsMap.put("max_bits_per_mb_denom",this.ue(n,0)))},F.DiscardEmulationByte=function(n,v,I,U){for(var W=0,fe=0;W+2<v&&fe+2<U;++W)n[W]==0&&n[W+1]==0&&n[W+2]==3?(I[fe++]=n[W++],I[fe++]=n[W++]):I[fe++]=n[W];for(;W<v&&fe<U;)I[fe++]=n[W++]},F.parse=function(n){if(this.vBitCount=0,this.spsMap.clear(),this.m_nVideoEncodeType==1){this.spsMap.put("forbidden_zero_bit",this.readBits(n,1)),this.spsMap.put("nal_ref_idc",this.readBits(n,this.BITWISE2)),this.spsMap.put("nal_unit_type",this.readBits(n,this.BITWISE5)),this.spsMap.put("profile_idc",this.readBits(n,this.BITWISE8)),this.spsMap.put("profile_compatibility",this.readBits(n,this.BITWISE8)),this.spsMap.put("level_idc",this.readBits(n,this.BITWISE8)),this.spsMap.put("seq_parameter_set_id",this.ue(n,0));var v=this.spsMap.get("profile_idc");if((v===100||v===110||v===122||v===244||v===44||v===83||v===86||v===118||v===128||v===138||v===139||v===134)&&(this.spsMap.put("chroma_format_idc",this.ue(n,0)),this.spsMap.get("chroma_format_idc")===this.BITWISE3&&this.spsMap.put("separate_colour_plane_flag",this.readBits(n,1)),this.spsMap.put("bit_depth_luma_minus8",this.ue(n,0)),this.spsMap.put("bit_depth_chroma_minus8",this.ue(n,0)),this.spsMap.put("qpprime_y_zero_transform_bypass_flag",this.readBits(n,1)),this.spsMap.put("seq_scaling_matrix_present_flag",this.readBits(n,1)),this.spsMap.get("seq_scaling_matrix_present_flag"))){for(var I=this.spsMap.get("chroma_format_idc")!==this.BITWISE3?this.BITWISE8:this.BITWISE12,U=new Array(I),W=0;W<I;W++)if(U[W]=this.readBits(n,1),U[W])for(var fe=W<this.BITWISE6?this.BITWISE16:this.BITWISE64,pe=8,ve=8,Ue=0;Ue<fe;Ue++)ve&&(ve=(pe+this.se(n,0)+this.BITWISE256)%this.BITWISE256),pe=ve===0?pe:ve;this.spsMap.put("seq_scaling_list_present_flag",U)}if(this.spsMap.put("log2_max_frame_num_minus4",this.ue(n,0)),this.spsMap.put("pic_order_cnt_type",this.ue(n,0)),this.spsMap.get("pic_order_cnt_type")===0)this.spsMap.put("log2_max_pic_order_cnt_lsb_minus4",this.ue(n,0));else if(this.spsMap.get("pic_order_cnt_type")===1){this.spsMap.put("delta_pic_order_always_zero_flag",this.readBits(n,1)),this.spsMap.put("offset_for_non_ref_pic",this.se(n,0)),this.spsMap.put("offset_for_top_to_bottom_field",this.se(n,0)),this.spsMap.put("num_ref_frames_in_pic_order_cnt_cycle",this.ue(n,0));for(var ze=0;ze<this.spsMap.get("num_ref_frames_in_pic_order_cnt_cycle");ze++)this.spsMap.put("num_ref_frames_in_pic_order_cnt_cycle",this.se(n,0))}this.spsMap.put("num_ref_frames",this.ue(n,0)),this.spsMap.put("gaps_in_frame_num_value_allowed_flag",this.readBits(n,1)),this.spsMap.put("pic_width_in_mbs_minus1",this.ue(n,0)),this.spsMap.put("pic_height_in_map_units_minus1",this.ue(n,0)),this.spsMap.put("frame_mbs_only_flag",this.readBits(n,1)),this.spsMap.get("frame_mbs_only_flag")===0&&this.spsMap.put("mb_adaptive_frame_field_flag",this.readBits(n,1)),this.spsMap.put("direct_8x8_interence_flag",this.readBits(n,1)),this.spsMap.put("frame_cropping_flag",this.readBits(n,1)),this.spsMap.get("frame_cropping_flag")===1&&(this.spsMap.put("frame_cropping_rect_left_offset",this.ue(n,0)),this.spsMap.put("frame_cropping_rect_right_offset",this.ue(n,0)),this.spsMap.put("frame_cropping_rect_top_offset",this.ue(n,0)),this.spsMap.put("frame_cropping_rect_bottom_offset",this.ue(n,0))),this.spsMap.put("vui_parameters_present_flag",this.readBits(n,1)),this.spsMap.get("vui_parameters_present_flag")&&this.vuiParameters(n)}else if(this.m_nVideoEncodeType==2){var Le=new ArrayBuffer(256),Qe=new Uint8Array(Le);this.DiscardEmulationByte(n,n.length,Qe,256);var lt=[],nt=[];this.readBits(Qe,4);var Ke=this.readBits(Qe,3);for(this.spsMap.put("temporalIdNested",this.readBits(Qe,1)),this.spsMap.put("general_profile_space",this.readBits(Qe,2)),this.spsMap.put("general_tier_flag",this.readBits(Qe,1)),this.spsMap.put("general_profile_idc",this.readBits(Qe,5)),this.spsMap.put("general_profile_compatibility_flags",this.readBitsLong(Qe,32)),this.spsMap.put("general_constraint_indicator_flags",this.readBits64(Qe,48)),this.spsMap.put("general_level_idc",this.readBits(Qe,8)),W=0;W<Ke&&W<this.MAX_SUB_LAYERS;W++)lt[W]=this.readBits(Qe,1),nt[W]=this.readBits(Qe,1);if(Ke>0)for(W=Ke;W<8;W++)this.readBits(Qe,2);for(W=0;W<Ke&&W<this.MAX_SUB_LAYERS;W++)nt[W]&&this.readBits(Qe,8);this.ue(Qe,0),this.spsMap.put("chroma_format_idc",this.ue(Qe,0)),this.ue(Qe,0),this.ue(Qe,0),this.readBits(Qe,1),this.ue(Qe,0),this.ue(Qe,0),this.ue(Qe,0),this.ue(Qe,0),this.spsMap.put("bitDepthLumaMinus8",this.ue(Qe,0)+8),this.spsMap.put("bitDepthChromaMinus8",this.ue(Qe,0)+8),Le=null,Qe=null}return!0},F.getSizeInfo=function(){var n=0,v=0;this.spsMap.get("chroma_format_idc")===0?n=v=0:this.spsMap.get("chroma_format_idc")===1?n=v=this.BITWISE2:this.spsMap.get("chroma_format_idc")===this.BITWISE2?(n=this.BITWISE2,v=1):this.spsMap.get("chroma_format_idc")===this.BITWISE3&&(this.spsMap.get("separate_colour_plane_flag")===0?n=v=1:this.spsMap.get("separate_colour_plane_flag")===1&&(n=v=0));var I=this.spsMap.get("pic_width_in_mbs_minus1")+1,U=this.spsMap.get("pic_height_in_map_units_minus1")+1,W=(this.BITWISE2-this.spsMap.get("frame_mbs_only_flag"))*U,fe=0,pe=0,ve=0,Ue=0;this.spsMap.get("frame_cropping_flag")===1&&(fe=this.spsMap.get("frame_cropping_rect_left_offset"),pe=this.spsMap.get("frame_cropping_rect_right_offset"),ve=this.spsMap.get("frame_cropping_rect_top_offset"),Ue=this.spsMap.get("frame_cropping_rect_bottom_offset"));var ze=I*this.BITWISE16*(W*this.BITWISE16);return{width:I*this.BITWISE16-n*(fe+pe),height:W*this.BITWISE16-v*(this.BITWISE2-this.spsMap.get("frame_mbs_only_flag"))*(ve+Ue),decodeSize:ze}},F.getSpsValue=function(n){return this.spsMap.get(n)},F.getCodecInfo=function(){return this.spsMap.get("profile_idc").toString(this.BITWISE16)+(this.spsMap.get("profile_compatibility")<this.BITWISE15?"0"+this.spsMap.get("profile_compatibility").toString(this.BITWISE16):this.spsMap.get("profile_compatibility").toString(this.BITWISE16))+this.spsMap.get("level_idc").toString(this.BITWISE16)},$}(),ae=function(){function $(){this.map={}}var F=$.prototype;return F.put=function(n,v){this.map[n]=v},F.get=function(n){return this.map[n]},F.containsKey=function(n){return n in this.map},F.containsValue=function(n){for(var v in this.map)if(this.map[v]===n)return!0;return!1},F.isEmpty=function(n){return this.size()===0},F.clear=function(){for(var n in this.map)delete this.map[n]},F.remove=function(n){delete this.map[n]},F.keys=function(){var n=new Array;for(var v in this.map)n.push(v);return n},F.values=function(){var n=new Array;for(var v in this.map)n.push(this.map[v]);return n},F.size=function(){var n=0;for(var v in this.map)n++;return n},$}(),oe=function(){function $(){var n=this;this.onSourceOpen=function(){c.log("VideoMediaSource.js onSourceOpen"),n.appendInitSegment(),n.bSourceOpend=!0},this.onSourceUpdateend=function(){},this.onSourceUpdate=function(){n.segmentWaitDecode.length>0&&(n.sourceBuffer.updating||(n.sourceBuffer.appendBuffer(n.segmentWaitDecode[0]),n.segmentWaitDecode.shift()))},this.onSourceError=function(){c.logKeyLimit("VideoMediaSource.js onSourceError",5),n.mseErrorCallback&&n.mseErrorCallback("SourceError")},this.onSourceBufferError=function(){c.logKeyLimit("VideoMediaSource.js onSourceBufferErrormsg",5),n.mseErrorCallback&&n.mseErrorCallback("SourceBufferError")},this.onError=function(){c.logKeyLimit("VideoMediaSource.js onError",5),n.videoElement.error&&(c.logKeyLimit("VideoMediaSource.js Media error code:",5,n.videoElement.error.code),c.logKeyLimit("VideoMediaSource.js Media error message:",5,n.videoElement.error.message)),n.videoPause(),n.errorCallback&&n.errorCallback({errorCode:101}),n.videoElement.error.code!==MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED&&n.videoElement.error.code!==MediaError.MEDIA_ERR_DECODE||n.mseErrorCallback&&n.mseErrorCallback("Error")},this.onPlaying=function(){n.isPlaying=!0,n.isPause=!1,n.hasPlayed=!0,n.playStart||(n.playStart=!0,n.beginDrawCallback?n.beginDrawCallback("this.playStart"):c.logKeyLimit("VideoMediaSource.js onPlaying beginDrawCallback is null",5))},this.onPause=function(){n.isPlaying=!1,n.isPause=!0},this.onTimeupdate=function(){var v=parseInt(n.mediaSource.duration,10),I=parseInt(n.videoElement.currentTime,10),U={timestamp:n.receiveTimeStamp.timestamp-n.speedValue*(v-I+(n.speedValue!==1?1:0)),timestamp_usec:0,timezone:n.receiveTimeStamp.timezone};I===0||isNaN(v)||(n.playbackFlag,!n.playbackFlag&&Math.abs(v-I)>4&&n.speedValue===1||n.videoElement.paused||(n.preVideoTimeStamp===null?(n.preVideoTimeStamp=U,n.startAudioCallback(0,"currentTime")):(n.preVideoTimeStamp.timestamp<=U.timestamp&&n.speedValue>=1||n.preVideoTimeStamp.timestamp>U.timestamp&&n.speedValue<1)&&(n.playbackFlag,n.preVideoTimeStamp=U,n.audioStartNum++,n.audioStartNum>4&&n.startAudioCallback(U.timestamp,"currentTime"))))},this.onDurationchange=function(){n.sourceBuffer!=null&&(n.videoPlay(),n.videoUpdatingEx())},this.onResize=function(){n.videoSizeCallback()},this.onSeeked=function(){n.videoPlay()},this.onWaiting=function(){if(n.ctrDelayFlag=!1,n.playbackFlag&&n.isPlaying,n.waitCount==0)n.firstWaitingTime=Date.now(),n.waitCount++;else{n.waitCount++;var v=Date.now()-n.firstWaitingTime;n.waitCount>=5&&v<6e4&&n.delay<=1&&(n.delay=n.delay+.1,n.waitCount=0,n.firstWaitingTime=0,Y.log("this.delay + 0.1 = "+n.delay))}},this.canplay=function(){},this.canplayThrough=function(){n.ctrDelayFlag=!0},this.initSegmentFunc=null,this.codecInfo="",this.m_nVideoEncodeType=null,this.playbackTimeStamp=null,this.videoSizeCallback=null,this.startAudioCallback=null,this.beginDrawCallback=null,this.mseErrorCallback=null,this.browserType=null,this.speedValue=1,this.receiveTimeStamp={timestamp:0,timestamp_usec:0,timezone:0},this.changeTimeStampFlag=!1,this.firstTimeStamp={timestamp:0,timestamp_usec:0,timezone:0},this.preVideoTimeStamp=null,this.playbackFlag=!1,this.bufferEventListenerArray=null,this.videoEventListenerArray=null,this.mediaSourceEventListenerArray=null,this.isPlaying=!1,this.isPause=!0,this.audioStartNum=0,this.ctrDelayFlag=!1,this.segmentWaitDecode=[],this.delay=.5,this.videoElement=null,this.mediaSource=null,this.sourceBuffer=null,this.firstWaitingTime=0,this.waitCount=0,this.playStart=!1,this.captureTimer=null,this.captureTypeFormat="png",this.captureQuality=1,this.browser=z(),this.checkTimer=null,this.preCurTime=0,this.preDuration=0,this.MAX_SAME_TIME=10,this.sameTime=0,this.MAX_DELAYTIME=8,this.errorCallback=null,this.sliderIsPause=!1,this.hasPlayed=!1,this.videoBufferQueue=[],this.curFrameInfo={},this.fps=25,this.delayPlay=.5,this.bInitFlag=!1,this.bSourceOpend=!1}var F=$.prototype;return F.addBufferEventListener=function(n){this.bufferEventListenerArray=[],this.bufferEventListenerArray.push({type:"error",function:this.onSourceBufferError}),this.bufferEventListenerArray.push({type:"updateend",function:this.onSourceUpdateend}),this.bufferEventListenerArray.push({type:"update",function:this.onSourceUpdate});for(var v=0;v<this.bufferEventListenerArray.length;v++)n.addEventListener(this.bufferEventListenerArray[v].type,this.bufferEventListenerArray[v].function)},F.addVideoEventListener=function(n){this.videoEventListenerArray=[],this.videoEventListenerArray.push({type:"durationchange",function:this.onDurationchange}),this.videoEventListenerArray.push({type:"playing",function:this.onPlaying}),this.videoEventListenerArray.push({type:"error",function:this.onError}),this.videoEventListenerArray.push({type:"pause",function:this.onPause}),this.videoEventListenerArray.push({type:"timeupdate",function:this.onTimeupdate}),this.videoEventListenerArray.push({type:"resize",function:this.onResize}),this.videoEventListenerArray.push({type:"seeked",function:this.onSeeked}),this.videoEventListenerArray.push({type:"waiting",function:this.onWaiting}),this.videoEventListenerArray.push({type:"canplaythrough",function:this.canplayThrough}),this.videoEventListenerArray.push({type:"canplay",function:this.canplay}),this.videoEventListenerArray.push({type:"loadedmetadata",function:this.loadedmetadata});for(var v=0;v<this.videoEventListenerArray.length;v++)n.addEventListener(this.videoEventListenerArray[v].type,this.videoEventListenerArray[v].function)},F.addMediaSourceEventListener=function(n){this.mediaSourceEventListenerArray=[],this.mediaSourceEventListenerArray.push({type:"sourceopen",function:this.onSourceOpen}),this.mediaSourceEventListenerArray.push({type:"error",function:this.onSourceError});for(var v=0;v<this.mediaSourceEventListenerArray.length;v++)n.addEventListener(this.mediaSourceEventListenerArray[v].type,this.mediaSourceEventListenerArray[v].function)},F.removeEventListener=function(){var n=0;if(this.bufferEventListenerArray!==null)for(n=0;n<this.bufferEventListenerArray.length;n++)this.sourceBuffer.removeEventListener(this.bufferEventListenerArray[n].type,this.bufferEventListenerArray[n].function);if(this.mediaSourceEventListenerArray!==null)for(n=0;n<this.mediaSourceEventListenerArray.length;n++)this.mediaSource.removeEventListener(this.mediaSourceEventListenerArray[n].type,this.mediaSourceEventListenerArray[n].function);if(this.videoEventListenerArray!==null)for(n=0;n<this.videoEventListenerArray.length;n++)this.videoElement.removeEventListener(this.videoEventListenerArray[n].type,this.videoEventListenerArray[n].function)},F.appendInitSegment=function(){if(this.mediaSource!==null&&this.mediaSource.readyState!=="ended"){if(c.log("VideoMediaSource.js appendInitSegment start"),this.mediaSource.sourceBuffers.length===0){this.mediaSource.duration=0;var n=null;if(this.m_nVideoEncodeType==1?n='video/mp4;codecs="avc1.'+this.codecInfo+'"':this.m_nVideoEncodeType==2&&(n='video/mp4; codecs="hvc1.1.6.L30.B0"'),n==null)return;if(!MediaSource.isTypeSupported(n))return c.log("VideoMediaSource.js not support"+n),this.errorCallback&&this.errorCallback({errorCode:101}),void(this.mseErrorCallback&&this.mseErrorCallback("InitError"));this.sourceBuffer=this.mediaSource.addSourceBuffer(n),this.addBufferEventListener(this.sourceBuffer)}var v=this.initSegmentFunc;v!==null?(this.sourceBuffer.appendBuffer(v),c.log("VideoMediaSource.js appendInitSegment end, this.codecInfo = "+this.codecInfo)):this.mediaSource.endOfStream("network")}else try{this.mediaSource=new MediaSource,this.addMediaSourceEventListener(this.mediaSource),this.videoElement.src=window.URL.createObjectURL(this.mediaSource),c.log("VideoMediaSource.js appendInitSegment new this.mediaSource()")}catch(I){c.error("VideoMediaSource.js appendInitSegment error",I)}},F.appendBuffer=function(n,v){var I=new Uint8Array(n.length+v.length);return I.set(n,0),I.set(v,n.length),I},F.appendNextMediaSegment=function(n){if(!this.bInitFlag&&this.bSourceOpend&&(this.bInitFlag=!0,this.appendInitSegment()),this.sourceBuffer!==null&&this.mediaSource.readyState!=="closed"&&this.mediaSource.readyState!=="ended")try{if(this.segmentWaitDecode.length>0)return Y.count("1.this.segmentWaitDecode.length: "+this.segmentWaitDecode.length),this.segmentWaitDecode.push(n),void Y.count("2.this.segmentWaitDecode.length: "+this.segmentWaitDecode.length);this.sourceBuffer.updating?this.segmentWaitDecode.push(n):(this.sourceBuffer.appendBuffer(n),this.sliderIsPause&&(this.curFrameInfo.buffer=n))}catch(v){this.segmentWaitDecode.length=0,this.errorCallback&&this.errorCallback({errorCode:101})}},F.videoPlay=function(){if(this.videoElement.paused&&(this.videoSizeCallback(),!this.isPlaying&&!this.sliderIsPause))try{this.videoElement.play()}catch(n){c.error("VideoMediaSource.js ",n)}},F.videoPause=function(){if(!this.videoElement.paused&&!this.isPause)try{c.log("VideoMediaSource.js videoPause"),this.videoElement.pause()}catch(n){c.error("VideoMediaSource.js ",n)}},F.autoPlayNextMediaSegment=function(){this.videoBufferQueue.length&&this.appendNextMediaSegment(this.videoBufferQueue.shift())},F.getBase64URL=function(){var n=document.createElement("canvas");return n.width=this.videoElement.videoWidth,n.height=this.videoElement.videoHeight,n.getContext("2d").drawImage(this.videoElement,0,0,n.width,n.height),n.toDataURL()},F.checkBufferSize=function(){var n=1*this.sourceBuffer.buffered.start(this.sourceBuffer.buffered.length-1),v=1*this.sourceBuffer.buffered.end(this.sourceBuffer.buffered.length-1);v-n>60&&this.sourceBuffer.remove(n,v-10)},F.videoUpdatingEx=function(){if(this.mediaSource!==null)try{if(this.sourceBuffer&&this.sourceBuffer.buffered.length>0){if(this.checkBufferSize(),this.hasPlayed&&!this.sliderIsPause||this.videoElement.duration>this.delayPlay&&(this.videoElement.currentTime=(this.videoElement.duration-this.delayPlay).toFixed(3),this.fps<10?this.delayPlay+=.5:this.delayPlay+=.1),this.videoElement&&this.videoElement.duration-this.videoElement.currentTime>this.MAX_DELAYTIME){if(this.errorCallback&&this.errorCallback({errorCode:101}),this.sourceBuffer.updating)return;var n=this.videoElement.duration-.1;this.videoElement.currentTime=n.toFixed(3)}if(this.ctrDelayFlag&&!this.playbackFlag){var v=1*this.sourceBuffer.buffered.start(this.sourceBuffer.buffered.length-1),I=1*this.sourceBuffer.buffered.end(this.sourceBuffer.buffered.length-1);if((this.videoElement.currentTime===0?I-v:I-this.videoElement.currentTime)>=this.delay+.1){if(Y.log("\u8DF3\u79D2"),this.sourceBuffer.updating)return;var U=I-.1;this.videoElement.currentTime=U.toFixed(3)}}}}catch(W){}},F.loadedmetadata=function(){},F.init=function(n){this.browserType=z(),c.log("VideoMediaSource.js init this.browserType = "+this.browserType),this.videoElement=n,this.browserType==="safari"?(this.videoElement.autoplay=!1,c.warn("VideoMediaSource.js autoplay \u88AB\u8BBE\u7F6E\u4E3A false")):(this.videoElement.autoplay=!0,c.warn("VideoMediaSource.js autoplay \u88AB\u8BBE\u7F6E\u4E3A true")),this.videoElement.controls=!1,this.videoElement.preload="auto",this.addVideoEventListener(this.videoElement),this.appendInitSegment()},F.setInitSegmentFunc=function(n){this.initSegmentFunc=n},F.getVideoElement=function(){return this.videoElement},F.setCodecInfo=function(n){this.codecInfo=n},F.setMediaSegment=function(n){this.videoBufferQueue.push(n),this.sliderIsPause||this.autoPlayNextMediaSegment()},F.capturePic=function(n,v){this.captureTimer&&clearInterval(this.captureTimer),this.ctrDelayFlag||this.browser==="edge"?this.doCapture(n,v):this.captureTimer=setInterval(function(){this.ctrDelayFlag&&(this.doCapture(n,v),clearInterval(this.captureTimer))},200)},F.capture=function(n,v){var I=this;v===void 0&&(v={}),c.log("VideoMediaSource.js \u6293\u56FE fileName=",n," options=",v),this.captureTimer&&clearInterval(this.captureTimer);var U=document.createElement("canvas");U.width=this.videoElement.videoWidth,U.height=this.videoElement.videoHeight;var W=v.ivsCanvasArr,fe=W===void 0?[]:W;this.ctrDelayFlag||this.browser==="edge"||this.browser==="firefox"?(U.getContext("2d").drawImage(this.videoElement,0,0,U.width,U.height),this.saveCapture(U,fe,n)):this.captureTimer=setInterval(function(){I.ctrDelayFlag&&(U.getContext("2d").drawImage(I.videoElement,0,0,U.width,U.height),I.saveCapture(U,fe,n),clearInterval(I.captureTimer))},200)},F.getCapture=function(n,v,I){c.log("VideoMediaSource.js \u6293\u56FE fileName=",n," type=",v," quality=",I),this.captureTimer&&clearInterval(this.captureTimer),this.captureQuality=I||1,this.captureTypeFormat="png",v!=="jpg"&&v!=="jpeg"||(this.captureTypeFormat="jpeg");var U=document.createElement("canvas"),W=null;return U.width=this.videoElement.videoWidth,U.height=this.videoElement.videoHeight,(this.ctrDelayFlag||this.browser==="edge"||this.ctrDelayFlag)&&(U.getContext("2d").drawImage(this.videoElement,0,0,U.width,U.height),W=U.toDataURL("image/"+this.captureTypeFormat,this.captureQuality)),W},F.setInitSegment=function(){this.appendInitSegment()},F.ResetInitSegmentFlag=function(){this.bInitFlag=!1},F.setTimeStamp=function(n,v){this.playbackTimeStamp=n},F.setVideoSizeCallback=function(n){this.videoSizeCallback=n},F.setAudioStartCallback=function(n){this.startAudioCallback=n},F.setMseErrorCallback=function(n){this.mseErrorCallback=n},F.getPlaybackTimeStamp=function(){return this.playbackTimeStamp},F.setSpeedPlay=function(n){this.speedValue=n},F.setvideoTimeStamp=function(n){var v=Math.abs(this.receiveTimeStamp.timestamp-n.timestamp)>3;this.firstTimeStamp.timestamp,v===!0&&(this.audioStartNum=0,this.firstTimeStamp=n,this.startAudioCallback(this.firstTimeStamp.timestamp,"init"),this.receiveTimeStamp.timestamp!==0&&this.playbackFlag&&(this.videoElement.currentTime=this.mediaSource.duration-.1),this.preVideoTimeStamp=null),this.receiveTimeStamp=n},F.pause=function(){this.sliderIsPause=!0,this.videoPause()},F.play=function(){this.sliderIsPause=!1},F.setPlaybackFlag=function(n){this.playbackFlag=n},F.setTimeStampInit=function(){this.preVideoTimeStamp=null,this.firstTimeStamp={timestamp:0,timestamp_usec:0,timezone:0}},F.close=function(){this.removeEventListener(),this.videoPause()},F.setBeginDrawCallback=function(n){this.beginDrawCallback=n},F.setErrorCallback=function(n){this.errorCallback=n},F.terminate=function(){this.videoElement!==null&&(this.removeEventListener(),this.mediaSource.readyState==="open"&&(this.sourceBuffer&&this.mediaSource.removeSourceBuffer(this.sourceBuffer),this.mediaSource.endOfStream()),this.sourceBuffer=null,this.mediaSource=null,this.videoElement=null,this.captureTimer&&(clearInterval(this.captureTimer),this.captureTimer=null),this.checkTimer&&(clearInterval(this.checkTimer),this.checkTimer=null),this.sameTime=0,this.preDuration=0,this.preCurTime=0,this.bInitFlag=!1,this.bSourceOpend=!1)},F.getDuration=function(){return this.videoElement.duration-this.videoElement.currentTime},F.setFPS=function(n){n&&(this.fps=n)},F.setRtspOver=function(){this.videoElement.duration.toFixed(4)-0===this.videoElement.currentTime.toFixed(4)-0||(this.preCurTime=parseInt(this.videoElement.currentTime),this.preDuration=parseInt(this.videoElement.duration),this.checkTimer=setInterval(function(){this.preCurTime===parseInt(this.videoElement.currentTime)&&this.preDuration===parseInt(this.videoElement.duration)?this.sameTime++>this.MAX_SAME_TIME&&(this.checkTimer&&clearInterval(this.checkTimer),this.checkTimer=null):parseInt(this.videoElement.currentTime)>=parseInt(this.videoElement.duration)?(this.checkTimer&&clearInterval(this.checkTimer),this.checkTimer=null):(this.preCurTime=parseInt(this.videoElement.currentTime),this.preDuration=parseInt(this.videoElement.duration),this.sameTime=0)},150))},F.getVideoBufferQueueSize=function(){return this.videoBufferQueue.length},F.playNextFrame=function(){this.autoPlayNextMediaSegment()},F.getCurFrameInfo=function(){return this.curFrameInfo.src=this.getBase64URL(),this.curFrameInfo},F.setDecodeType=function(n){c.log("VideoMediaSource.js \u8BBE\u7F6E\u89E3\u7801\u7C7B\u578B nVideoDecodeType=",n),this.m_nVideoEncodeType=n},F.saveCapture=function(n,v,I){c.log("VideoMediaSource.js \u4FDD\u5B58\u6293\u56FE pictureName=",I),n.toBlob(function(U){U&&(I.toLowerCase().endsWith(".jpg")||I.toLowerCase().endsWith(".jpeg")||(I+=".jpg"),savePicture(U,I||"download.jpg"))},"image/jpeg",.9)},F.doCapture=function(n,v){c.log("VideoMediaSource.js \u6267\u884C\u6293\u56FE pictureName=",v,"canvasArr.length=",n.length);var I=document.createElement("canvas");I.width=this.videoElement.width,I.height=this.videoElement.height;var U=I.getContext("2d");U.drawImage(this.videoElement,0,0,I.width,I.height);for(var W=0;W<n.length;W++)n[W]&&U.drawImage(n[W],0,0,I.width,I.height);for(var fe=I.toDataURL(),pe=atob(fe.substring(22)),ve=new Uint8Array(pe.length),Ue=0,ze=pe.length;Ue<ze;++Ue)ve[Ue]=pe.charCodeAt(Ue);var Le=new Blob([ve.buffer],{type:"image/png"});this.saveAs(Le,v),Le=null},F.saveAs=function(n){var v=n.document,I=function(){return n.URL||n.webkitURL||n},U=v.createElementNS("http://www.w3.org/1999/xhtml","a"),W="download"in U,fe=/constructor/i.test(n.HTMLElement),pe=/CriOS\/[\d]+/.test(navigator.userAgent),ve=function(nt){(n.setImmediate||n.setTimeout)(function(){throw nt},0)},Ue=function(nt){setTimeout(function(){typeof nt=="string"?I().revokeObjectURL(nt):nt.remove()},4e4)},ze=function(nt){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(nt.type)?new Blob([String.fromCharCode(65279),nt],{type:nt.type}):nt},Le=function(nt,Ke,xt){xt||(nt=ze(nt));var Lt,bt=this,un=nt.type==="application/octet-stream",pt=function(){(function(et,tt,ut){for(var rn=(tt=[].concat(tt)).length;rn--;){var Xt=et["on"+tt[rn]];if(typeof Xt=="function")try{Xt.call(et,ut||et)}catch(Ot){ve(Ot)}}})(bt,"writestart progress write writeend".split(" "))};if(bt.readyState=bt.INIT,W)return Lt=I().createObjectURL(nt),void setTimeout(function(){U.href=Lt,U.download=Ke,function(et){var tt=new MouseEvent("click");et.dispatchEvent(tt)}(U),pt(),Ue(Lt),bt.readyState=bt.DONE});(function(){if((pe||un&&fe)&&n.FileReader){var et=new FileReader;return et.onloadend=function(){var tt=pe?et.result:et.result.replace(/^data:[^;]*;/,"data:attachment/file;");n.open(tt,"_blank")||(n.location.href=tt),tt=void 0,bt.readyState=bt.DONE,pt()},et.readAsDataURL(nt),void(bt.readyState=bt.INIT)}Lt||(Lt=I().createObjectURL(nt)),un?n.location.href=Lt:n.open(Lt,"_blank")||(n.location.href=Lt),bt.readyState=bt.DONE,pt(),Ue(Lt)})()},Qe=Le.prototype,lt=function(nt,Ke,xt){return new Le(nt,Ke||nt.name||"download",xt)};return typeof navigator!="undefined"&&navigator.msSaveOrOpenBlob?function(nt,Ke,xt){return Ke=Ke||nt.name||"download",xt||(nt=ze(nt)),navigator.msSaveOrOpenBlob(nt,Ke)}:(Qe.readyState=Qe.INIT=0,Qe.WRITING=1,Qe.DONE=2,Qe.error=Qe.onwritestart=Qe.onprogress=Qe.onwrite=Qe.onabort=Qe.onerror=Qe.onwriteend=null,lt)},$}();const ue=function(){function $(n){this.ivsCanvasElem=null,this.canvasElem=null,this.videoElem=null,this.lastFrameID=-1,this.bMSEDecode=!1,this.videoEncodeType=0,this.preEncoedeType=0,this.reStartMSEFlag=!1,this.frameRate=0,this.preFrameRate=0,this.initSegmentFlag=!1,this.initSegmentData=null,this.videoMS=null,this.supportH264MSE=!0,this.supportH265MSE=!0,this.sPSParser=null,this.mp4Remux=null,this.inputBufferSub=null,this.spsSegment=null,this.ppsSegment=null,this.vpsSegment=null,this.width=0,this.height=0,this.preWidth=0,this.preHeight=0,this.videoMSInitFlag=!1,this.decodeStartCallback=null,this.loadingBarCallback=null,this.beginDrawCallback=null,this.errorCallback=null,this.sendAudioTalkCallback=null,this.supportMultiThread=n,this.codecInfo="",this.speed=1,this.capturePic=!1,this.strPictureName="",this.timeData={timestamp:0,timestamp_usec:0},this.mediaInfo={id:1,samples:null,baseMediaDecodeTime:0},this.numBox=2,this.mediaSegmentNum=0,this.curbaseMediaDecoderTime=0,this.sumDuration=0,this.sequenseNum=1,this.mediaSegmentData=null,this.mediaFrameData=null,this.mediaFrameSize=0,this.prebaseMediaDecodeTime=0,this.mseErrorListener=null}var F=$.prototype;return F.init=function(n,v,I){this.videoElem=n,this.canvasElem=v,this.ivsCanvasElem=I,this.videoMS=new oe,this.videoMS.init(this.videoElem),this.setVideoMSCallBack()},F.setCallback=function(n,v){switch(n){case"DecodeStart":this.decodeStartCallback=v;break;case"PlayStart":this.beginDrawCallback=v;break;case"loadingBar":this.loadingBarCallback=v;break;case"Error":this.errorCallback=v;break;case"audioTalk":this.sendAudioTalkCallback=v}},F.setVideoMSInfo=function(){this.videoMS!=null&&(this.videoMS.setDecodeType(this.videoEncodeType),this.videoMS.setCodecInfo(this.codecInfo),this.videoMS.setInitSegmentFunc(this.GetInitializationSegment()),this.videoMS.setSpeedPlay(this.speed),this.videoMS.setFPS(this.frameRate))},F.setVideoMSCallBack=function(){this.videoMS!=null&&(this.videoMS.setVideoSizeCallback(this.videoSizeCallback),this.videoMS.setBeginDrawCallback(this.beginDrawCallback),this.videoMS.setErrorCallback(this.errorCallback),this.videoMS.setAudioStartCallback(this.audioStart),this.videoMS.setMseErrorCallback(this.mseErrorCallback.bind(this)),this.videoMS.setFPS(this.frameRate))},F.videoSizeCallback=function(){},F.setMseErrorListener=function(n){this.mseErrorListener=n},F.audioStart=function(n,v){},F.GetInitializationSegment=function(){return this.initSegmentData},F.SetPlaySpeed=function(n){c.log("HWDecode.js \u8BBE\u7F6E\u500D\u901F nSpeed=",n),this.speed=n},F.CapturePic=function(n){c.log("HWDecode.js \u6293\u56FE pictureName=",n),this.capturePic=!0,this.strPictureName=n},F.decode=function(n,v,I,U,W){if(c.logKeyLimit("HWDecode.js \u89E3\u7801 stuFrameInfo=",5,U,W),this.checkFrame(W.nFrameID,W.nFrameSubType)){var fe=Date.UTC(W.nYear,W.nMonth,W.nDay,W.nHour,W.nMinute,W.nSecond)/1e3;if(W.nStreamType==8?this.timeData.timestamp=fe:this.timeData.timestamp=W.nTimeStamp/1e3,this.timeData.timestamp_usec=0,this.bMSEDecode!=1&&(this.bMSEDecode=!0),this.lastFrameID=W.nFrameID,W.nWidth==this.preWidth&&W.nHeight==this.preHeight&&W.nEncodeType==this.preEncoedeType||(this.preWidth!=0&&(this.reStartMSEFlag=!0),this.preWidth=W.nWidth,this.preHeight=W.nHeight,this.preEncoedeType=W.nEncodeType),W.nEncodeType==2||W.nEncodeType==4||W.nEncodeType==8?this.videoEncodeType=1:W.nEncodeType==12&&(this.videoEncodeType=2),this.width=W.nWidth,this.height=W.nHeight,this.frameRate=W.nFrameRate,this.frameRate!=this.preFrameRate&&(this.initSegmentFlag=!1,this.preFrameRate=this.frameRate),this.reStartMSEFlag&&(this.CloseMSE(),this.reStartMSEFlag=!1),this.videoMSInitFlag!=0||W.nFrameSubType==0){if(this.sPSParser==null&&(this.sPSParser=new re(this.videoEncodeType)),this.mp4Remux==null&&(this.mp4Remux=new Z(this.videoEncodeType)),this.initSegment(n,W.nFrameSubType,W.nFrameID),this.videoMSInitFlag==0){this.videoMS==null&&(this.videoMS=new oe,this.videoMS.init(this.videoElem));var pe={decodeMode:"video"};pe.width=this.width,pe.height=this.height,[2,4,8].includes(W.nEncodeType)?pe.encodeMode="H264":W.nEncodeType===12&&(pe.encodeMode="H265"),this.decodeStartCallback(pe),this.setVideoMSCallBack(),this.setVideoMSInfo(),this.videoMSInitFlag=!0}this.capturePic&&(this.capturePic=!1,this.videoMS.capture(this.strPictureName)),this.videoMS&&this.videoMS.setvideoTimeStamp(this.timeData),this.setMediaSegment()}else c.logKeyLimit("HWDecode.js \u89E3\u7801 pass frameid:",10,W.nFrameID)}},F.checkFrame=function(n,v){return v==0||v==18||v==20?(c.logKeyLimit("HWDecode.js \u68C0\u67E5\u5E27\u5E8F\u53F7\u662F\u5426\u8FDE\u7EED: true",5,"\u5E27id=",n),!0):this.lastFrameID!=-1&&n!=this.lastFrameID+1?(c.logKeyLimit("HWDecode.js \u68C0\u67E5\u5E27\u5E8F\u53F7\u662F\u5426\u8FDE\u7EED: false",5,"\u5E27id=",n),!1):(c.logKeyLimit("HWDecode.js \u68C0\u67E5\u5E27\u5E8F\u53F7\u662F\u5426\u8FDE\u7EED: true",5,"\u5E27id=",n),!0)},F.setMediaSegment=function(){if(c.logKeyLimit("HWDecode.js setMediaSegment",5),this.inputBufferSub!=null){var n={duration:Math.round(1/this.frameRate*1e3),size:this.inputBufferSub.length,frame_time_stamp:null,frameDuration:null};n.frameDuration=n.duration,this.mediaInfo.samples==null&&(this.mediaInfo.samples=new Array(this.numBox)),this.mediaInfo.samples[this.mediaSegmentNum++]=n,this.curbaseMediaDecoderTime+=n.frameDuration,this.sumDuration+=n.frameDuration;var v=this.inputBufferSub.length-4;this.inputBufferSub[0]=(4278190080&v)>>>24,this.inputBufferSub[1]=(16711680&v)>>>16,this.inputBufferSub[2]=(65280&v)>>>8,this.inputBufferSub[3]=255&v;var I=new Uint8Array(this.inputBufferSub.length+this.mediaFrameSize);if(this.mediaFrameSize!==0&&I.set(this.mediaFrameData),I.set(this.inputBufferSub,this.mediaFrameSize),this.mediaFrameData=I,this.mediaFrameSize=this.mediaFrameData.length,this.mediaSegmentNum%this.numBox===0&&this.mediaSegmentNum!==0){if(this.mediaInfo.samples[0].frameDuration!==null&&(this.sequenseNum===1?this.mediaInfo.baseMediaDecodeTime=0:this.mediaInfo.baseMediaDecodeTime=this.prebaseMediaDecodeTime,this.prebaseMediaDecodeTime=this.curbaseMediaDecoderTime),this.speed==1)for(var U=this.mediaInfo.samples.length,W=this.sumDuration/this.numBox,fe=0;fe<U;fe++)this.mediaInfo.samples[fe].frameDuration=W;this.sumDuration=0,this.mediaSegmentData=this.mp4Remux.mediaSegment(this.sequenseNum,this.mediaInfo,this.mediaFrameData,this.mediaInfo.baseMediaDecodeTime),this.sequenseNum++,this.mediaSegmentNum=0,this.mediaFrameData=null,this.mediaFrameSize=0,this.videoMS!==null?this.videoMS.setMediaSegment(this.mediaSegmentData):this.initSegmentFlag===!1&&this.setVideoMSInfo(),this.numBox==2&&(this.numBox=1,this.mediaInfo.samples=null,this.mediaInfo.samples=new Array(this.numBox))}}},F.mseErrorCallback=function(n){switch(n){case"InitError":c.logKeyLimit("HWDecode.js mseErrorCallback errorCode=InitError",5),this.mseErrorListener&&this.mseErrorListener(n);break;case"Error":c.logKeyLimit("HWDecode.js mseErrorCallback errorCode=Error",5),this.mseErrorListener&&this.mseErrorListener(n);break;case"SourceError":case"SourceBufferError":c.logKeyLimit("HWDecode.js mseErrorCallback errorCode=SourceError ",5,n),this.reStartMSEFlag=!0;break;default:c.logKeyLimit("HWDecode.js mseErrorCallback \u672A\u4F7F\u7528 errorCode=",5,n)}},F.CloseMSE=function(){c.logKeyLimit("HWDecode.js \u5173\u95EDMSE",5),this.videoMS&&(this.videoMS.close(),this.videoMS.terminate(),this.videoMS=null),this.initSegmentData=null,this.sPSParser=null,this.mp4Remux=null,this.initSegmentFlag=!1,this.videoMSInitFlag=!1,this.mediaSegmentNum=0,this.mediaInfo={id:1,samples:null,baseMediaDecodeTime:0},this.mediaFrameSize=0,this.sequenseNum=1,this.sumDuration=0,this.prebaseMediaDecodeTime=0,this.curbaseMediaDecoderTime=0,this.numBox=2},F.stop=function(){c.logKeyLimit("HWDecode.js \u505C\u6B62",5),this.CloseMSE(),this.codecInfo=null,this.reStartMSEFlag=!1,this.initSegmentFlag=!1,this.videoMSInitFlag=!1,this.lastFrameID=-1,this.bMSEDecode=!1},F.initSegment=function(n,v,I){c.logKeyLimit("HWDecode.js \u521D\u59CB\u5316Segment",5,n.length,v,I);for(var U=null,W=n.length,fe=[],pe=0;pe<=W;)if(n[pe]==0)if(n[pe+1]==0)if(n[pe+2]==1){if(fe.push(pe),pe+=3,this.videoEncodeType==1){if((31&n[pe])==5||(31&n[pe])==1)break}else if(this.videoEncodeType==2&&((255&n[pe])==38||(255&n[pe])==2))break}else n[pe+2]==0?pe++:pe+=3;else pe+=2;else pe+=1;var ve=0;if(this.videoEncodeType==1){for(var Ue=0;Ue<fe.length;Ue++)switch(U=n.subarray(fe[Ue]+3,fe[Ue+1]),31&n[fe[Ue]+3]){case 1:case 5:ve=fe[Ue]-1,this.inputBufferSub=n.subarray(ve,n.length);break;case 7:this.sPSParser.parse(U),this.spsSegment=U;break;case 8:this.ppsSegment=U}if(!this.initSegmentFlag){this.initSegmentFlag=!0;var ze={id:1,width:this.width,height:this.height,type:"video",profileIdc:this.sPSParser.getSpsValue("profile_idc"),profileCompatibility:0,levelIdc:this.sPSParser.getSpsValue("level_idc"),sps:[this.spsSegment],pps:[this.ppsSegment],timescale:1e3,fps:this.frameRate};this.initSegmentData=this.mp4Remux.initSegment(ze),this.codecInfo=this.sPSParser.getCodecInfo()}}else if(this.videoEncodeType==2){for(var Le=0;Le<fe.length;Le++)switch(U=n.subarray(fe[Le]+3,fe[Le+1]-1),255&n[fe[Le]+3]){case 2:case 38:ve=fe[Le]-1,this.inputBufferSub=n.subarray(ve,n.length);break;case 64:this.vpsSegment=U;break;case 66:var Qe=n.subarray(fe[Le]+5,fe[Le+1]-1);this.sPSParser.parse(Qe),this.spsSegment=U;break;case 68:this.ppsSegment=U}if(!this.initSegmentFlag){this.initSegmentFlag=!0;var lt=this.sPSParser.getSpsValue("general_profile_space"),nt=this.sPSParser.getSpsValue("general_tier_flag"),Ke=this.sPSParser.getSpsValue("general_profile_idc"),xt=this.sPSParser.getSpsValue("temporalIdNested"),Lt={id:1,width:this.width,height:this.height,type:"video",general_profile_flag:lt<<6|nt<<5|Ke,general_profile_compatibility_flags:this.sPSParser.getSpsValue("general_profile_compatibility_flags"),general_constraint_indicator_flags:this.sPSParser.getSpsValue("general_constraint_indicator_flags"),general_level_idc:this.sPSParser.getSpsValue("general_level_idc"),chroma_format_idc:this.sPSParser.getSpsValue("chroma_format_idc"),bitDepthLumaMinus8:this.sPSParser.getSpsValue("bitDepthLumaMinus8"),bitDepthChromaMinus8:this.sPSParser.getSpsValue("bitDepthChromaMinus8"),rate_layers_nested_length:11|(1&xt)<<2,vps:[this.vpsSegment],sps:[this.spsSegment],pps:[this.ppsSegment],timescale:1e3,fps:this.frameRate};this.initSegmentData=this.mp4Remux.initSegment(Lt)}}},$}();function Ee(){return Ee=Object.assign?Object.assign.bind():function($){for(var F=1;F<arguments.length;F++){var n=arguments[F];for(var v in n)({}).hasOwnProperty.call(n,v)&&($[v]=n[v])}return $},Ee.apply(null,arguments)}function O($,F){return F=(F=F.toLowerCase())[0].toUpperCase()+F.substr(1),Object.prototype.toString.call($)==="[object "+F+"]"}function ee($,F,n){if(n===void 0&&(n=2),F===void 0&&(F=0),($=$.toString()).length>=n)return $;var v=n-$.length;return new Array(v).fill(String(F)).join("")+$}function ie($,F){return $!==void 0&&$?(F=F||new Date,$=($=($=($=($=($=$.replace(/y/gi,ee(F.getFullYear()),0)).replace(/m/gi,ee(F.getMonth()+1),0)).replace(/d/gi,ee(F.getDate()),0)).replace(/h/gi,ee(F.getHours()),0)).replace(/i/gi,ee(F.getMinutes()),0)).replace(/s/gi,ee(F.getSeconds()),0)):""}function ge($,F){var n="ymd_his",v=($=$||{}).nameFormat||[n];F=F||new Date;var I="";if(O(v,"string"))v=[v,{}];else{if(!O(v,"array"))return void function(pe){throw new Error(pe)}("name format must be string or array");O(v[0],"string")||(v[0]=n),O(v[1],"object")||(v[1]={})}var U=v[0].split(/\{(?:[^{}]+)\}/),W=v[1];v[0].replace(/\{([^{}]*)\}/g,function(pe,ve,Ue){I+=ie(),I+=ve in W?W[ve]:pe});var fe=U.shift();return I+=ie(fe,F)}function _e($,F){this.name=$,this.allowUpDateName=!0,this.byteLength=0,this.options=F,this.startTime=new Date().toLocaleString()}_e.prototype.setEndTime=function(){this.endTime=new Date().toLocaleString()},_e.prototype.updateNameByStream=function($,F){if(this.allowUpDateName){var n=new Uint8Array(F),v=(n[19]<<24)+(n[18]<<16)+(n[17]<<8)+n[16]>>>0,I="20"+(v>>26)+"/"+(v>>22&15)+"/"+(v>>17&31)+" "+(v>>12&31)+":"+(v>>6&63)+":"+(63&v);this.name=ge($,new Date(I)),this.allowUpDateName=!1,n=null}F=null};var we=new function(){var $={count:0,total:0,group:[]},F=function(){};return F.prototype.add=function(n){$.count++,$.total+=n.byteLength,$.group.push(n)},F.prototype.get=function(n){return n in $?$[n]:$},new F};function ke(){var $=1048576,F=null,n=null,v=0,I=void 0,U=null,W=null,fe=!1;function pe(){this.onMessage=function(){},this.postMessage=function(ve){this.__onMessage(ve)},this.__postMessage=function(ve){this.onMessage(ve)}}return pe.prototype.__onMessage=function(ve){var Ue=ve;switch(Ue.type){case"init":c.logKeyLimit("localRecord.js onMessage init",5,Ue),this.init(Ue.options);break;case"addBuffer":c.logKeyLimit("localRecord.js onMessage addBuffer",5,Ue),this.addBuffer(Ue);break;case"close":c.logKeyLimit("localRecord.js onMessage close",5,Ue),this.close();break;default:c.logKeyLimit("localRecord.js onMessage unkown",5,ve)}},pe.prototype.init=function(ve){c.log("localRecord.js SlogConstruct::\u521D\u59CB\u5316() options=",ve),this.fullSize=ve.fullSize||1/0,this.singleSize=ve.singleSize+20*$||120*$,I="init",W=ve.recordName,this.limitOptions=Object.assign({limitBy:"fullSize"},ve.limitOptions),this.nameOptions=Object.assign({namedBy:"date",nameFormat:["ymd_his",{}]},ve.nameOptions)},pe.prototype._malloc=function(ve){if(c.logKeyLimit("localRecord.js SlogConstruct._malloc() size=",5,ve),F&&n&&(n=null,F=null),U&&(U=null),F=new ArrayBuffer(ve))if(c.log("localRecord.js ArrayBuffer \u521B\u5EFA\u6210\u529F"),n=new DataView(F)){c.log("localRecord.js DataView \u521B\u5EFA\u6210\u529F");var Ue=this.nameOptions,ze="";W!=null?ze=W:this.nameOptions.namedBy.toLowerCase()==="date"?ze=ge(Ue):ze=ge(),U=new _e(ze)}else c.error("localRecord.js DataView \u521B\u5EFA\u5931\u8D25");else c.error("localRecord.js ArrayBuffer \u521B\u5EFA\u5931\u8D25")},pe.prototype._initVideoMem=function(){!F&&this.singleSize&&(c.log("localRecord.js SlogConstruct.\u521D\u59CB\u5316\u89C6\u9891\u5185\u5B58() singleSize=",this.singleSize),this._malloc(this.singleSize))},pe.prototype.appendVideoBuf=function(ve,Ue){var ze=ve.byteLength,Le=Ue+ze;if(Le>this.singleSize-20*$&&!fe)c.logKeyLimit("localRecord.js SlogConstruct.\u8FFD\u52A0\u89C6\u9891\u6570\u636E() \u89C6\u9891\u5185\u5B58\u8FBE\u5230\u8BBE\u7F6E\u4E0A\u9650\uFF0C\u89E6\u53D1\u505C\u6B62\u5F55\u5236 \u957F\u5EA6=",5,ze," nOffset=",Ue),fe=!0,this.__postMessage({type:"stopRecord"});else{c.logKeyLimit("localRecord.js SlogConstruct.\u8FFD\u52A0\u89C6\u9891\u6570\u636E() \u957F\u5EA6=",5,ze," nOffset=",Ue);for(var Qe=Ue;Qe<Le;Qe++)n.setUint8(Qe,ve[Qe-Ue]);Le>v&&(v=Le),this.__postMessage({type:"pendding",size:v,total:this.singleSize})}},pe.prototype.addBuffer=function(ve){if(I!=="closed"){var Ue=ve.buffer,ze=ve.offset;this._initVideoMem(),I="addBuffer";var Le=ze+Ue.length;if(we.get("total")+Le>this.fullSize)return c.logKeyLimit("localRecord.js SlogConstruct.addBuffer() \u89C6\u9891\u5185\u5B58\u8FBE\u5230\u8BBE\u7F6E\u4E0A\u9650\uFF0C\u89E6\u53D1\u505C\u6B62\u5F55\u5236",5),void this.__postMessage({type:"stopRecord"});this.appendVideoBuf(Ue,ze)}},pe.prototype.inNodePlace=function(){if(c.logKeyLimit("localRecord.js \u5230\u4E86\u4E00\u4E2A\u4E0B\u8F7D\u8282\u70B9",5,I),I==="addBuffer"){I="download",U.updateNameByStream(this.nameOptions,F.slice(0,20)),U.byteLength=v,U.setEndTime(),we.add(U);var ve=F.slice(0,v);if(this.reset(),c.logKeyLimit("localRecord.js \u5230\u4E86\u4E00\u4E2A\u4E0B\u8F7D\u8282\u70B9 postMessage download status=",5,I),this.__postMessage({type:"download",data:Ee({},U,{buffer:ve})}),ve=null,this.limitOptions.limitBy==="count"){var Ue=this.limitOptions.count;if(c.logKeyLimit("localRecord.js \u5230\u4E86\u4E00\u4E2A\u4E0B\u8F7D\u8282\u70B9 \u4E2A\u6570\u9650\u5236=",5,Ue),Ue){var ze=we.get("count");c.logKeyLimit("localRecord.js \u5230\u4E86\u4E00\u4E2A\u4E0B\u8F7D\u8282\u70B9 \u5DF2\u6709\u4E2A\u6570=",5,ze),Ue===ze&&this.close()}}}},pe.prototype.reset=function(){v=0,c.log("localRecord.js SlogConstruct.reset() singleSize=",this.singleSize),this._malloc(this.singleSize)},pe.prototype.close=function(){c.log("localRecord.js SlogConstruct::\u5173\u95ED\u4E0B\u8F7D()"),this.inNodePlace(),I!=="closed"&&I!==void 0?(I="closed",c.log("localRecord.js SlogConstruct::\u5173\u95ED\u4E0B\u8F7D() \u5F53\u524D\u72B6\u6001\u4E0D\u662Fclosed"),this.__postMessage({type:"closed",message:"record was closed"}),F=null,n=null):c.log("localRecord.js SlogConstruct::\u5173\u95ED\u4E0B\u8F7D() \u5F53\u524D\u72B6\u6001\u662Fclosed")},new pe}var Se=function(){function $(){this.init_play_start_time=0,this.init_play_end_time=0,this.play_time=0,this.play_socket_start_time=0,this.input_data_first_time=0,this.input_data_last_time=0,this.stream_i_first_time=0,this.stream_i_last_time=0,this.play_socket_end_time=0,this.decode_type="",this.thread_type="",this.stream_encrypt_type="",this.stream_type="",this.talk_start_time=0,this.talk_socket_start_time=0,this.talk_input_data_first_time=0,this.talk_input_data_last_time=0,this.talk_socket_end_time=0,this.audio_frame_first_time=0,this.audio_frame_last_time=0,this.duration_audio_frame=0,this.duration_video_frame=0,this.duration_input_data=0,this.duration_play_socket=0,this.duration_talk_socket=0}var F=$.prototype;return F.getLogs=function(){this.duration_audio_frame=this.audio_frame_last_time-this.audio_frame_first_time,this.duration_video_frame=this.stream_i_last_time-this.stream_i_first_time,this.duration_input_data=this.input_data_last_time-this.input_data_first_time,this.duration_play_socket=this.play_socket_end_time-this.play_socket_start_time,this.duration_talk_socket=this.talk_socket_end_time-this.talk_socket_start_time;var n={init_play_start_time:this.init_play_start_time,init_play_end_time:this.init_play_end_time,play_time:this.play_time,play_socket_start_time:this.play_socket_start_time,input_data_first_time:this.input_data_first_time,stream_i_first_time:this.stream_i_first_time,input_data_last_time:this.input_data_last_time,stream_i_last_time:this.stream_i_last_time,play_socket_end_time:this.play_socket_end_time,decode_type:this.decode_type,thread_type:this.thread_type,stream_encrypt_type:this.stream_encrypt_type};return c.log("AnalysisData::getLogs this = ",this,"return = ",n),n},F.setLogs=function(n,v){n==="init_play_start_time"?this.init_play_start_time==0&&(this.init_play_start_time=v,c.log("AnalysisData::setLogs ",n,v)):n==="init_play_end_time"?this.init_play_end_time==0&&(this.init_play_end_time=v,c.log("AnalysisData::setLogs ",n,v)):n==="play_time"?this.play_time==0&&(this.play_time=v,c.log("AnalysisData::setLogs ",n,v)):n==="talk_start_time"?this.talk_start_time==0&&(this.talk_start_time=v,c.log("AnalysisData::setLogs ",n,v)):n==="play_socket_start_time"?this.play_socket_start_time==0&&(this.play_socket_start_time=v,c.log("AnalysisData::setLogs ",n,v)):n==="play_socket_end_time"?this.play_socket_end_time=v:n==="talk_socket_start_time"?this.talk_socket_start_time==0&&(this.talk_socket_start_time=v,c.log("AnalysisData::setLogs ",n,v)):n==="talk_socket_end_time"?this.talk_socket_end_time=v:n==="input_data_time"?(this.input_data_first_time==0&&(this.input_data_first_time=v,c.log("AnalysisData::setLogs ",n,v)),this.input_data_last_time=v):n==="talk_input_data_time"?(this.talk_input_data_first_time==0&&(this.talk_input_data_first_time=v,c.log("AnalysisData::setLogs ",n,v)),this.talk_input_data_last_time=v):n==="stream_i_time"?(this.stream_i_first_time==0&&(this.stream_i_first_time=v,c.log("AnalysisData::setLogs ",n,v)),this.stream_i_last_time=v):n==="audio_frame_time"?(this.audio_frame_first_time==0&&(this.audio_frame_first_time=v,c.log("AnalysisData::setLogs ",n,v)),this.audio_frame_last_time=v):n==="decode_type"?this.decode_type!==v&&(this.decode_type=v,c.log("AnalysisData::setLogs ",n,v)):n==="thread_type"?this.thread_type!==v&&(this.thread_type=v,c.log("AnalysisData::setLogs ",n,v)):n==="stream_encrypt_type"?this.stream_encrypt_type!==v&&(this.stream_encrypt_type=v,c.log("AnalysisData::setLogs ",n,v)):n==="stream_type"?this.stream_type!==v&&(this.stream_type=v,c.log("AnalysisData::setLogs ",n,v)):c.error("AnalysisData::setLogs unkown type ",n)},$}(),Te=function(){function $(n,v){this.nPlayId=v;var I=this;this.canvasElem=null,this.videoElem=null,this.ivsCanvasElem=null,this.playback=!1,this.supportMultiThread=n,this.playSdkWorker=null,this.port=0,this.jsPortAry=null,this.jsInputData=null,this.jsInputDataAry=null,this.playMethod=null,this.audioRender=null,this.videoRender=null,this.jsFrameBuf=null,this.jsFrameInfo=null,this.dataView=null,this.jsBuf=null,this.jsBufY=null,this.jsBufU=null,this.jsBufV=null,this.jsYuvDataY=null,this.jsYuvDataU=null,this.jsYuvDataV=null,this.timeData={timestamp:0,timestamp_usec:0},this.smartEncode=0,this.videoEncodeType=0,this.jsAudioBuf=null,this.jsAudioData=null,this.jsPreAudioDataLenth=0,this.preSamples=0,this.preBits=0,this.supportH264MSE=!0,this.supportH265MSE=!0,this.preWidth=0,this.preHeight=0,this.totalStreamLength=0,this.captureStart=!1,this.pictureName="",this.savVolume=0,this.portCallback=null,this.beginDrawCallback=null,this.decodeStartCallback=null,this.decodeStartCallbackPrivate=function(U){I.decodeStartCallback&&I.decodeStartCallback(U)},this.videoFrameInfoCallback=null,this.audioFrameInfoCallback=null,this.initSuccessCallback=null,this.errorCallback=null,this.RecordReachLimitCallback=null,this.playStart=!1,this.recordType=0,this.localRecord=null,this.hwDecoder=null,this.jsBuf=null,this.jsFrameBodyData=null,this.inputDataQueue=[],this.ack=!1,this.digitalSignCallBack=null,this.encArray=new Uint8Array,this.filter=!1,this.log_c=!1,this.log_js=!1,this.analysisData=new Se}$.printJsLogFromSubThread=function(n){$.CONFIG_LOG_printJsLogFromSubThread=n,console.log("\u662F\u5426\u8F93\u51FAjs\u65E5\u5FD7\u6765\u81EA\u5B50\u7EBF\u7A0B=",n)},$.printCppLogFromSubThread=function(n){$.CONFIG_LOG_printCppLogFromSubThread=n,console.log("\u662F\u5426\u8F93\u51FAc++\u65E5\u5FD7\u6765\u81EA\u5B50\u7EBF\u7A0B=",n)},$.debugSaveDavFile=function(n){$.CONFIG_DEBUG_debugSaveDavFile=n,console.log("\u662F\u5426\u4FDD\u5B58\u7801\u6D41\u6570\u636E\u5230\u6587\u4EF6=",n)},$.getFreePlaySdkId=function(){return++$.PLAY_SDK_IDX};var F=$.prototype;return F.initBegain=function(){this.analysisData.setLogs("init_play_start_time",G())},F.initEnd=function(){this.analysisData.setLogs("init_play_end_time",G())},F.startPullStreamBegain=function(){this.analysisData.setLogs("play_time",G())},F.startTalkBegain=function(){this.analysisData.setLogs("talk_start_time",G())},F.onDecodeStart=function(n){n.decodeMode==="video"?this.analysisData.setLogs("decode_type","2"):n.decodeMode==="canvas"&&this.analysisData.setLogs("decode_type","1")},F.onWebSocketOpen=function(n){n==="video"?this.analysisData.setLogs("play_socket_start_time",G()):this.analysisData.setLogs("talk_socket_start_time",G())},F.onWebSocketClose=function(n){n==="video"?this.analysisData.setLogs("play_socket_end_time",G()):this.analysisData.setLogs("talk_socket_end_time",G())},F.init=function(n){this.canvasElem=n.canvasElem,this.videoElem=n.videoElem,this.ivsCanvasElem=n.ivsCanvasElem,this.playback=n.bPlayBack,this.log_c=n.log_c,this.log_js=n.log_js,this.logPlaySDKApiLog("\u521D\u59CB\u5316PlaySDKImpl nPlayId=",this.nPlayId,n),this.videoElem&&("MediaSource"in window?typeof window.MediaSource=="undefined"?(c.warn("Common.js \u4E0D\u652F\u6301MSE\uFF0C\u56E0\u4E3A MediaSource API \u662F undefined"),!1):typeof window.MediaSource.isTypeSupported!="undefined"||(c.warn("Common.js \u4E0D\u652F\u6301MSE\uFF0C\u56E0\u4E3A MediaSource API \u7684 isTypeSupported \u51FD\u6570 undefined"),!1):(c.warn("Common.js \u4E0D\u652F\u6301MSE\uFF0C\u56E0\u4E3A MediaSource API \u4E0D\u5B58\u5728"),!1))||(this.supportH264MSE=!1,this.supportH265MSE=!1);var v=1;if(this.supportMultiThread){this.logPlaySDKApiLog("\u591A\u7EBF\u7A0B"),this.analysisData.setLogs("thread_type","2");var I=Module._malloc(1);this.jsPortAry=new Uint8Array(Module.HEAPU8.buffer,I,1),Module._PLAY_GetFreePort(this.jsPortAry.byteOffset),this.port=this.jsPortAry[0],this.jsPortAry=null,Module._free(I),Module._PLAY_Init(this.port,this.nPlayId),v=Module._PLAY_SetStreamOpenMode(this.port,this.playback),v=Module._PLAY_OpenStream(this.port,0,0,10485760),v=Module._PLAY_SetCacheMode(this.port,1),v=Module._PLAY_PlaySound(this.port),v=Module._PLAY_SetPrintLogLevel(this.log_c?6:0),v=Module._PLAY_SetDecodeThreadNum(this.port,2),v=Module._PLAY_SetSupportWebMSE(this.port,this.supportH264MSE,this.supportH265MSE),this.canvasElem?(Module._PLAY_ViewResolutionChanged(this.port,parseInt(this.canvasElem.width),parseInt(this.canvasElem.height),0),v=Module._PLAY_Play(this.port,1)):(Module._PLAY_ViewResolutionChanged(this.port,0,0,0),v=Module._PLAY_Play(this.port,0))}else this.logPlaySDKApiLog("\u5355\u7EBF\u7A0B"),this.analysisData.setLogs("thread_type","1"),this.playSdkWorker=new Worker(n.strDecodeFilePath+"/PlaySdkWorker.js"),this.playSdkWorker.onmessage=this.playSdkWorkerMessage.bind(this);if(v){if(this.supportMultiThread)this.jsInputData=Module._malloc(5242880),this.jsInputDataAry=new Uint8Array(Module.HEAPU8.buffer,this.jsInputData,5242880);else{var U=this.playback===!0?100:25;this.playMethod=new q(this.canvasElem,U,this.playback)}(this.supportH264MSE||this.supportH265MSE)&&this.videoElem&&(this.hwDecoder=new ue(this.supportMultiThread),this.hwDecoder.init(this.videoElem,this.canvasElem,this.ivsCanvasElem),this.hwDecoder.setMseErrorListener(this.mseErrorCallback.bind(this)))}return this.nPlayId},F.getPlayPort=function(){return this.port},F.setEncrypt=function(n){n==1||n==2||n==3?this.analysisData.setLogs("stream_encrypt_type",String(n)):this.analysisData.setLogs("stream_encrypt_type","0")},F.setStreamType=function(n){n==="rtsp"?this.analysisData.setLogs("stream_type","1"):n==="rtsv"&&this.analysisData.setLogs("stream_type","2")},F.inputData=function(n,v){if($.CONFIG_DEBUG_debugSaveDavFile){var I=new Uint8Array(this.encArray.length+n.length);I.set(this.encArray),I.set(n,this.encArray.length),this.encArray=I}var U=1;if(v==="video"?(this.logPlaySDKApiLogWithKeyLimit("\u8F93\u5165\u6570\u636E\u6D41 \u94FE\u8DEF\u6765\u6E90=video",5,"\u7801\u6D41\u6570\u636E\u957F\u5EA6=",n.length),this.analysisData.setLogs("input_data_time",G())):v==="talk"||v==="videoTalk"?(this.logPlaySDKApiLogWithKeyLimit("\u8F93\u5165\u6570\u636E\u6D41 \u94FE\u8DEF\u6765\u6E90=",5,v,"\u7801\u6D41\u6570\u636E\u957F\u5EA6=",n.length),this.analysisData.setLogs("talk_input_data_time",G())):this.logPlaySDKApiErrorWithKeyLimit("\u8F93\u5165\u6570\u636E\u6D41 \u4EE3\u7801\u903B\u8F91\u9519\u8BEF \u672A\u77E5\u94FE\u8DEF\u6765\u6E90=",5,v),this.supportMultiThread)this.jsInputDataAry&&(this.jsInputDataAry.set(n),U=Module._PLAY_InputData(this.port,this.jsInputDataAry.byteOffset,n.length));else{this.totalStreamLength+=n.length;var W={type:"InputData",data:n};this.playSdkWorker&&this.playSdkWorker.postMessage(W)}return U},F.pause=function(n){this.logPlaySDKApiLog("\u6682\u505C/\u6062\u590D\u64AD\u653E",n);var v=1;if(this.supportMultiThread)v=Module._PLAY_Pause(this.port,n);else{n?(this.playMethod.pause(),this.audioRender.mute(1)):(this.playMethod.play(),this.audioRender.mute(0));var I={type:"Pause",pause:n};this.playSdkWorker&&this.playSdkWorker.postMessage(I)}return v},F.stop=function(){var n=this;this.logPlaySDKApiLog("\u505C\u6B62\u64AD\u653E"),$.CONFIG_DEBUG_debugSaveDavFile&&this.writeFile("rawDav.dav",this.encArray),this.playStart=!1;var v=1;if(this.savVolume=0,this.supportMultiThread){if(Module._PLAY_UnInit(this.port),Module._PLAY_ResetBuffer(this.port,1),Module._PLAY_ResetBuffer(this.port,2),Module._PLAY_ResetBuffer(this.port,3),Module._PLAY_ResetBuffer(this.port,4),(v=Module._PLAY_Stop(this.port))==0)return v;setTimeout(function(){v=Module._PLAY_CloseStream(n.port)},1),this.jsInputDataAry=null,Module._free(this.jsInputData)}else this.playSdkWorker&&(this.playSdkWorker.addEventListener("message",function(I){var U=I.data.type;n.logPlaySDKApiLogWithKeyLimit("Received from worker:",5,U),U=="stopFromWorker"&&(n.logPlaySDKApiLog("Received from worker: stopFromWorker"),n.playSdkWorker.terminate(),n.playSdkWorker=null),n.supportMultiThread||(n.audioRender&&(n.audioRender.stop(),n.audioRender=null),n.playMethod&&(n.playMethod.stopRendering(),n.playMethod.terminate(),n.playMethod=null))}),this.playSdkWorker.postMessage({type:"Stop",stop:null}));return this.jsFrameBuf=null,this.jsFrameInfo=null,this.dataView=null,this.jsBufY=null,this.jsBufU=null,this.jsBufV=null,this.jsYuvDataY=null,this.jsYuvDataU=null,this.jsYuvDataV=null,this.jsAudioBuf=null,this.jsAudioData=null,this.supportMultiThread&&(this.audioRender&&(this.audioRender.stop(),this.audioRender=null),this.playMethod&&(this.playMethod.stopRendering(),this.playMethod.terminate(),this.playMethod=null)),this.videoRender&&this.videoRender.clearCanvas(),this.preWidth=0,this.preHeight=0,this.totalStreamLength=0,(this.supportH264MSE||this.supportH265MSE)&&this.videoElem&&this.hwDecoder&&this.hwDecoder.stop(),v},F.setSpeed=function(n){this.logPlaySDKApiLog("\u8BBE\u7F6E\u500D\u901F",n);var v=1;if(this.supportMultiThread)v=Module._PLAY_SetPlaySpeed(this.port,n);else{var I={type:"SetPlaySpeed",speed:n};this.playSdkWorker&&this.playSdkWorker.postMessage(I)}return this.playMethod&&this.playMethod.setPlaySpeed(n),v},F.setVolume=function(n){this.logPlaySDKApiLog("\u97F3\u91CF=",n),this.savVolume=n,this.audioRender&&this.audioRender.setVolume(n)},F.mute=function(n){this.audioRender&&this.audioRender.mute(n)},F.capturePic=function(n){this.captureStart=!0,this.pictureName=n,this.hwDecoder&&this.hwDecoder.CapturePic(n),this.playMethod&&this.playMethod.capturePic(this.ivsCanvasElem,this.pictureName)},F.setSecurityKey=function(n,v){if(this.supportMultiThread){var I=Module._malloc(n.length+1);Module.HEAPU8.set(n,I),Module.HEAPU8[I+n.length]=0,this.logPlaySDKApiLog("\u8BBE\u7F6EAES\u89E3\u5BC6\u5BC6\u94A5() call Module._PLAY_SetSecurityKey() - \u591A\u7EBF\u7A0B"),Module._PLAY_SetSecurityKey(this.port,I,v),Module._free(I)}else{var U={type:"SetSecurityKey",szKey:n,keyLen:v};this.playSdkWorker&&this.playSdkWorker.postMessage(U)}},F.setSecurityKeyByEncrytType=function(n,v,I,U,W){if(this.supportMultiThread){var fe=Module._malloc(49),pe=new Uint8Array(Module.HEAPU8.buffer),ve=0;if(n==1)v.forEach(function(Qe,lt){pe[fe+ve|0]=Qe,ve++});else if(n==2){var Ue=new Uint8Array(16);if(pe[fe+ve|0]=1,ve++,W==0){for(var ze=0;ze<16;ze++)Ue[ze]=0;W=16,U=Ue}U.forEach(function(Qe,lt){pe[fe+ve|0]=Qe,ve++}),v.forEach(function(Qe,lt){pe[fe+ve]=Qe,ve++}),I=1+I+W,Ue=null}else n==3&&v.split("").forEach(function(Qe,lt){pe[fe+ve|0]=Qe.charCodeAt(0),ve++});this.logPlaySDKApiLog("\u8BBE\u7F6EAES\u89E3\u5BC6\u5BC6\u94A52() call Module._PLAY_SetSecurityKey() - \u591A\u7EBF\u7A0B"),Module._PLAY_SetSecurityKey(this.port,fe,I)}else{var Le={type:"SetSecurityEncrytTypeKey",szKey:v,keyLen:I};this.playSdkWorker&&this.playSdkWorker.postMessage(Le)}},F.parsePlayToken=function(n,v,I){var U=new TextEncoder,W=U.encode(I),fe=new Uint8Array(W.length);fe.set(W);var pe=Module._malloc(fe.length+1);Module.HEAPU8.set(fe,pe),Module.HEAPU8[pe+W.length]=0;var ve=U.encode(n),Ue=new Uint8Array(ve.length);Ue.set(ve);var ze=Module._malloc(Ue.length+1);Module.HEAPU8.set(Ue,ze),Module.HEAPU8[ze+ve.length]=0;var Le=U.encode(v),Qe=new Uint8Array(Le.length);Qe.set(Le);var lt=Module._malloc(Qe.length+1);Module.HEAPU8.set(Qe,lt),Module.HEAPU8[lt+Le.length]=0;var nt=Module._PLAY_ParsePlayTokenEx(ze,lt,pe),Ke=Module.UTF8ToString(nt);return Module._PLAY_FreeStringPointer(nt),Module._free(pe),Module._free(ze),Module._free(lt),JSON.parse(Ke)},F.getDecryptKey=function(n,v,I,U,W){this.logPlaySDKApiLog("getDecryptKey encryptType:",n,"keyLen:",I,"keyIdLen:",W);var fe=new TextEncoder,pe=fe.encode(v),ve=new Uint8Array(pe.length);ve.set(pe);var Ue=Module._malloc(ve.length+1);Module.HEAPU8.set(ve,Ue),Module.HEAPU8[Ue+pe.length]=0;var ze=fe.encode(U),Le=new Uint8Array(ze.length);Le.set(ze);var Qe=Module._malloc(Le.length+1);Module.HEAPU8.set(Le,Qe),Module.HEAPU8[Qe+ze.length]=0;var lt=Module._PLAY_ParseDecryptKey(n,Ue,I,Qe,W),nt=null;return n==2?nt=Module.UTF8ToString(lt):n==3&&(nt=new Uint8Array(Module.HEAPU8.buffer,lt,49).slice()),Module._PLAY_FreeStringPointer(lt),Module._free(Ue),Module._free(Qe),nt},F.resetBuffer=function(){this.logPlaySDKApiLog("\u6E05\u7A7A\u6D41\u64AD\u653E\u6A21\u5F0F\u4E0B\u6E90\u7F13\u51B2\u533A\u7684\u5269\u4F59\u6570\u636E"),this.supportMultiThread&&(Module._PLAY_ResetBuffer(0),Module._PLAY_ResetBuffer(1),Module._PLAY_ResetBuffer(2))},F.frameDataCallBack=function(n,v,I,U,W,fe){this.logPlaySDKApiLogWithKeyLimit("frameDataCallBack",5," port=",n," size=",W," frameInfo=",fe);var pe={};this.jsFrameInfo||(this.jsFrameBuf=new ArrayBuffer(40),this.jsFrameInfo=new Uint8Array(this.jsFrameBuf),this.dataView=new DataView(this.jsFrameBuf)),this.jsFrameInfo.set(Module.HEAPU8.subarray(fe,fe+40)),pe.nFrameID=this.dataView.getUint32(0,!0),pe.nFrameType=this.dataView.getUint8(4),pe.nFrameSubType=this.dataView.getUint8(5),pe.nYear=this.dataView.getUint16(30,!0),pe.nMonth=this.dataView.getUint8(32),pe.nDay=this.dataView.getUint8(33),pe.nHour=this.dataView.getUint8(34),pe.nMinute=this.dataView.getUint8(35),pe.nSecond=this.dataView.getUint8(36);var ve=Date.UTC(pe.nYear,pe.nMonth,pe.nDay,pe.nHour,pe.nMinute,pe.nSecond)/1e3;if(this.timeData.timestamp=ve,this.timeData.timestamp_usec=0,pe.nFrameType==1){if(this.filter){if(pe.nFrameSubType!==0)return;this.filter=!1}if(pe.nEncodeType=this.dataView.getUint8(6),pe.nStreamType=this.dataView.getUint8(7),pe.nEncodeType==2||pe.nEncodeType==4||pe.nEncodeType==8?this.videoEncodeType=1:pe.nEncodeType==12&&(this.videoEncodeType=2),pe.nWidth=this.dataView.getUint16(16,!0),pe.nHeight=this.dataView.getUint16(18,!0),pe.nWidth==0||pe.nHeight==0)return;if(pe.nFrameRate=this.dataView.getUint8(37),pe.nStride=this.dataView.getUint16(20,!0),pe.nFrameSubType==18||pe.nFrameSubType==19||pe.nFrameSubType==20?this.smartEncode=1:pe.nFrameSubType==0&&(this.smartEncode=0),(this.videoEncodeType==1&&this.supportH264MSE==1||this.videoEncodeType==2&&this.supportH265MSE==1)&&!this.smartEncode){var Ue;this.analysisData.setLogs("decode_type","2"),this.jsBuf=new ArrayBuffer(W),this.jsFrameBodyData=new Uint8Array(this.jsBuf),this.jsFrameBodyData.set(Module.HEAPU8.subarray(v,v+W)),(Ue=this.hwDecoder)!=null&&Ue.decode&&this.hwDecoder.decode(this.jsFrameBodyData,null,null,W,pe)}else{if(this.analysisData.setLogs("decode_type","1"),pe.nWidth!=this.preWidth||pe.nHeight!=this.preHeight){this.preWidth=pe.nWidth,this.preHeight=pe.nHeight,this.supportMultiThread?this.resize(pe.nWidth,pe.nHeight):this.playMethod.resize(pe.nWidth,pe.nHeight);var ze={decodeMode:"canvas"};ze.width=pe.nWidth,ze.height=pe.nHeight,[2,4,8].includes(pe.nEncodeType)?ze.encodeMode="H264":pe.nEncodeType===12&&(ze.encodeMode="H265"),this.decodeStartCallbackPrivate(ze),this.playStart||(this.playStart=!0,this.beginDrawCallback("PlayStart")),this.jsBufY=null,this.jsBufU=null,this.jsBufV=null,this.jsYuvDataY=null,this.jsYuvDataU=null,this.jsYuvDataV=null,this.jsBufY=new ArrayBuffer(pe.nWidth*pe.nHeight),this.jsYuvDataY=new Uint8Array(this.jsBufY),this.jsBufU=new ArrayBuffer(pe.nWidth*pe.nHeight/4),this.jsYuvDataU=new Uint8Array(this.jsBufU),this.jsBufV=new ArrayBuffer(pe.nWidth*pe.nHeight/4),this.jsYuvDataV=new Uint8Array(this.jsBufV)}var Le=0;for(Le=0;Le<pe.nHeight;Le++)this.jsYuvDataY.set(Module.HEAPU8.subarray(v+Le*pe.nStride,v+Le*pe.nStride+pe.nWidth),Le*pe.nWidth);for(Le=0;Le<pe.nHeight/2;Le++)this.jsYuvDataU.set(Module.HEAPU8.subarray(I+Le*pe.nStride/2,I+Le*pe.nStride/2+pe.nWidth/2),Le*pe.nWidth/2);for(Le=0;Le<pe.nHeight/2;Le++)this.jsYuvDataV.set(Module.HEAPU8.subarray(U+Le*pe.nStride/2,U+Le*pe.nStride/2+pe.nWidth/2),Le*pe.nWidth/2);this.supportMultiThread&&this.videoRender&&this.videoRender.drawCanvas(this.jsYuvDataY,this.jsYuvDataU,this.jsYuvDataV),this.captureStart&&(this.captureStart=!1,this.downloadPic([this.canvasElem,this.ivsCanvasElem],this.pictureName))}var Qe=pe.nYear,lt=this.timeDeal(pe.nMonth),nt=this.timeDeal(pe.nDay),Ke=this.timeDeal(pe.nHour),xt=this.timeDeal(pe.nMinute),Lt=this.timeDeal(pe.nSecond);pe.timeStamp=Date.UTC(Qe,lt,nt,Ke,xt,Lt)/1e3,pe.utcTimeStamp=new Date(Qe+"-"+lt+"-"+nt+" "+Ke+":"+xt+":"+Lt).getTime(),this.videoFrameInfoCallback&&this.videoFrameInfoCallback(pe),this.analysisData.setLogs("stream_i_time",G())}else if(pe.nFrameType==2){pe.nSamples=this.dataView.getUint32(24,!0),pe.nBits=this.dataView.getUint8(28,!0),pe.nAudioChnNum=this.dataView.getUint8(29,!0),this.jsPreAudioDataLenth!=W&&(this.jsPreAudioDataLenth=W,this.jsAudioBuf=null,this.jsAudioData=null,this.jsAudioBuf=new ArrayBuffer(W),this.jsAudioData=new Uint8Array(this.jsAudioBuf)),this.jsAudioData.set(Module.HEAPU8.subarray(v,v+W));for(var bt=new Int16Array(this.jsAudioData.buffer,this.jsAudioData.byteOffset,this.jsAudioData.byteLength/Int16Array.BYTES_PER_ELEMENT),un=new Float32Array(bt.length),pt=0;pt<bt.length;pt++)un[pt]=bt[pt]/Math.pow(2,15);pe.nSamples==this.preSamples&&pe.nBits==this.preBits||(this.preSamples=pe.nSamples,this.preBits=pe.nBits,this.audioRender=null,this.audioRender=new M(this.nPlayId),this.audioRender!==null&&(this.logPlaySDKApiLogWithKeyLimit("savVolumesavVolume",5,this.savVolume),this.audioRender.init(this.savVolume,pe.nSamples)||(this.audioRender=null))),this.audioRender&&(this.logPlaySDKApiLogWithKeyLimit("audioRenderplayplayplay",5),this.audioRender.play(un)),this.audioFrameInfoCallback&&this.audioFrameInfoCallback(pe),bt=null,un=null,this.analysisData.setLogs("audio_frame_time",G())}this.jsBuf=null,this.jsFrameBodyData=null},F.setCallback=function(n,v){switch(n){case"GetPlayPort":this.portCallback=v;break;case"PlayStart":this.beginDrawCallback=v,this.hwDecoder&&this.hwDecoder.setCallback(n,v);break;case"DecodeStart":this.decodeStartCallback=v,this.hwDecoder&&this.hwDecoder.setCallback(n,this.decodeStartCallbackPrivate);break;case"VideoFrameInfo":this.videoFrameInfoCallback=v;break;case"AudioFrameInfo":this.audioFrameInfoCallback=v;break;case"Error":this.errorCallback=v,this.hwDecoder&&this.hwDecoder.setCallback(n,v);break;case"RecordReachLimit":this.RecordReachLimitCallback=v;break;case"DigitalSignCallBack":this.digitalSignCallBack=v;break;case"InitSuccessCallBack":this.initSuccessCallback=v;break;default:this.logPlaySDKApiLog("setCallBack unknown type = ",n)}},F.mseErrorCallback=function(n){var v=this;switch(n){case"InitError":case"Error":if(this.supportH264MSE=!1,this.supportH265MSE=!1,this.filter=!0,this.analysisData.setLogs("decode_type","1"),this.supportMultiThread)setTimeout(function(){v.logPlaySDKApiLogWithKeyLimit("mseErrorCallback switch to sw clear hw data",5),Module._PLAY_ResetBuffer(v.port,3),Module._PLAY_SetSupportWebMSE(v.port,v.supportH264MSE,v.supportH265MSE)},1);else{var I={type:"SetSupportWebMSE",option:{supportH264MSE:this.supportH264MSE,supportH265MSE:this.supportH265MSE}};this.playSdkWorker&&this.playSdkWorker.postMessage(I)}this.hwDecoder.stop(),this.hwDecoder=null,this.logPlaySDKApiLogWithKeyLimit("mseErrorCallback hw not support switch soft decode",5);break;default:this.logPlaySDKApiLogWithKeyLimit("mseErrorCallback unkown errorCode=",5,n)}},F.resize=function(n,v){this.logPlaySDKApiLogWithKeyLimit("resize nWidth=",5,n," nHeight=",v),this.videoRender&&(this.videoRender=null);var I=new N(n,v);this.videoRender=new J(this.canvasElem,I),I=null},F.downloadPic=function(n,v){this.logPlaySDKApiLog("\u4E0B\u8F7D\u56FE\u7247 canvasArr.length=",n.length," pictureName=",v);var I=document.createElement("canvas");I.width=this.canvasElem.width,I.height=this.canvasElem.height;for(var U=I.getContext("2d"),W=0;W<n.length;W++)n[W]&&U.drawImage(n[W],0,0,I.width,I.height);I.toBlob(function(fe){fe&&(v.toLowerCase().endsWith(".jpg")||v.toLowerCase().endsWith(".jpeg")||(v+=".jpg"),savePicture(fe,v||"download.jpg"))},"image/jpeg",.9)},F.timeDeal=function(n){return n<10?"0"+n:n},F.playSdkWorkerMessage=function(n){var v=n.data.nPlayId,I=n.data.port,U=n.data.type,W=n.data.data,fe=0,pe=0;if(this.canvasElem&&(fe=parseInt(this.canvasElem.width),pe=parseInt(this.canvasElem.height)),U==="PrintLogCallBack")W.logLevel===1?W.logKey==="cpp_"?$.CONFIG_LOG_printCppLogFromSubThread&&console.log(W.logContent):$.CONFIG_LOG_printJsLogFromSubThread&&console.log(W.logContent):W.logLevel===2?console.info(W.logContent):W.logLevel===3?console.warn(W.logContent):W.logLevel===4&&console.error(W.logContent);else if(U==="LoadSuccess"){this.logPlaySDKApiLog("\u5355\u7EBF\u7A0B\u6D88\u606F\u5904\u7406LoadSuccess",v,this.port);var ve={type:"Init",option:{nPlayId:this.nPlayId,playback:this.playback,supportMultiThread:this.supportMultiThread,canvasWidth:fe,canvasHeight:pe,supportH264MSE:this.supportH264MSE,supportH265MSE:this.supportH265MSE,log_c:this.log_c,log_js:this.log_js}};this.playSdkWorker.postMessage(ve)}else if(U==="InitSuccess")this.port=I,this.logPlaySDKApiLog("\u5355\u7EBF\u7A0B\u6D88\u606F\u5904\u7406InitSuccess",v,this.port),this.portCallback(this.port),this.initSuccessCallback(this.port);else if(this.nPlayId!==v)return void this.logPlaySDKApiWarn("\u5355\u7EBF\u7A0B\u6D88\u606F\u5904\u7406\u5FFD\u7565\uFF0C\u56E0\u4E3Aid\u4E0D\u540C",v,I,U);switch(U){case"VisibleMseDecCallBack":this.logPlaySDKApiLogWithKeyLimit("\u5355\u7EBF\u7A0B\u6D88\u606F\u5904\u7406VisibleMseDecCallBack\u786C\u89E3\u6570\u636E",5,v,this.port),this.hwDecoder&&this.hwDecoder.decode(W.pBufY,W.pBufU,W.pBufV,W.nSize,W.stuFrameInfo),this.videoFrameInfoCallback&&this.videoFrameInfoCallback(W.stuFrameInfo),this.analysisData.setLogs("stream_i_time",G());break;case"VisibleDecCallBack":if(this.logPlaySDKApiLogWithKeyLimit("\u5355\u7EBF\u7A0B\u6D88\u606F\u5904\u7406VisibleDecCallBack\u8F6F\u89E3\u6570\u636E",5,v,this.port),W.stuFrameInfo.nFrameType==1){if(W.stuFrameInfo.nWidth!=this.preWidth||W.stuFrameInfo.nHeight!=this.preHeight){this.preWidth=W.stuFrameInfo.nWidth,this.preHeight=W.stuFrameInfo.nHeight,this.playMethod&&this.playMethod.resize(W.stuFrameInfo.nWidth,W.stuFrameInfo.nHeight);var Ue={decodeMode:"canvas"};Ue.width=W.stuFrameInfo.nWidth,Ue.height=W.stuFrameInfo.nHeight,[2,4,8].includes(W.stuFrameInfo.nEncodeType)?Ue.encodeMode="H264":W.stuFrameInfo.nEncodeType===12&&(Ue.encodeMode="H265"),this.decodeStartCallbackPrivate(Ue),this.playStart||(this.playStart=!0,this.beginDrawCallback("PlayStart"))}this.playMethod&&this.playMethod.draw(W.pBufY,W.pBufU,W.pBufV,W.stuFrameInfo.nFrameRate),this.videoFrameInfoCallback&&this.videoFrameInfoCallback(W.stuFrameInfo),this.analysisData.setLogs("stream_i_time",G())}else W.stuFrameInfo.nSamples==this.preSamples&&W.stuFrameInfo.nBits==this.preBits||(this.preSamples=W.stuFrameInfo.nSamples,this.preBits=W.stuFrameInfo.nBits,this.audioRender=null,this.audioRender=new M(this.nPlayId),this.audioRender!==null&&(this.logPlaySDKApiLog("savVolumesavVolume",this.savVolume),this.audioRender.init(this.savVolume,W.stuFrameInfo.nSamples)||(this.audioRender=null))),this.audioRender&&this.audioRender.play(W.pBufY),this.analysisData.setLogs("audio_frame_time",G()),this.audioFrameInfoCallback(W.stuFrameInfo);break;case"recordStorageCallBack":this.logPlaySDKApiLogWithKeyLimit("\u5355\u7EBF\u7A0B\u6D88\u606F\u5904\u7406recordStorageCallBack\u5F55\u5236\u6570\u636E",5,v,this.port,W.nPort,"\u6570\u636E\u957F\u5EA6=",W.nDataLen,"\u504F\u79FB\u91CF=",W.nOffset),this.recordDataCallBack(W.nPort,W.pRecordData,W.nDataLen,W.nOffset);break;case"closeRecord":this.logPlaySDKApiLogWithKeyLimit("\u5355\u7EBF\u7A0B\u6D88\u606F\u5904\u7406closeRecord\u5173\u95ED\u5F55\u5236",5,v,this.port),this.closeRecord();break;case"switchToSW":this.logPlaySDKApiLogWithKeyLimit("\u5355\u7EBF\u7A0B\u6D88\u606F\u5904\u7406switchToSW",5,v,this.port),this.analysisData&&this.analysisData.setLogs("decode_type","1"),this.hwDecoder&&(this.hwDecoder.stop(),this.hwDecoder=null);break;case"frameDecodeCost":W!=null&&W.cost;break;case"cPlusDigitalSignCallBack":this.logPlaySDKApiLogWithKeyLimit("\u5355\u7EBF\u7A0B\u6D88\u606F\u5904\u7406cPlusDigitalSignCallBack\u7801\u6D41\u89E3\u5BC6\u7ED3\u679C\u56DE\u8C03",5,v,this.port,W.nPort,W.nFrameID,W.bSuccess),this.digitalSignCallBack(W.nPort,W.nFrameID,W.bSuccess)}},F.recordDataCallBack=function(n,v,I,U){this.logPlaySDKApiLogWithKeyLimit("C++\u5C42\u7801\u6D41\u5F55\u5236\u56DE\u8C03",5,n,"\u6570\u636E\u957F\u5EA6=",I,"\u504F\u79FB\u91CF=",U),this.localRecord||this.logPlaySDKApiLogWithKeyLimit("C++\u5C42\u7801\u6D41\u5F55\u5236\u56DE\u8C03 localRecord is null",5);var W=new ArrayBuffer(I),fe=null;this.supportMultiThread?(fe=new Uint8Array(W)).set(Module.HEAPU8.subarray(v,v+I)):fe=v,this.localRecord.postMessage({type:"addBuffer",buffer:fe,offset:U,recordType:this.recordType}),W=null,fe=null},F.setStatisticData=function(n,v,I,U){v===1003&&(this.supportH265MSE=!1,this.supportH264MSE=!1,this.hwDecoder&&(this.hwDecoder.stop(),this.hwDecoder=null,this.analysisData.setLogs("decode_type","1")))},F.startRecord=function(n,v,I){var U=1;if(this.localRecord=new ke,this.startLocalRecord(v,I),this.recordType=n,this.supportMultiThread)this.logPlaySDKApiLog("\u5F55\u5236\u5F00\u59CB \u591A\u7EBF\u7A0B"),U=Module._PLAY_StartDataRecordEx(this.port,0,this.recordType),this.logPlaySDKApiLog("\u5F55\u5236\u5F00\u59CB C++\u5C42\u6267\u884C\u7ED3\u675F");else{this.logPlaySDKApiLog("\u5F55\u5236\u5F00\u59CB \u5355\u7EBF\u7A0B");var W={type:"StartRecord",recordType:this.recordType,port:this.port,nFileSize:v,strRecordName:I};this.playSdkWorker&&this.playSdkWorker.postMessage(W)}return U},F.stopRecord=function(){var n=1;if(this.supportMultiThread)this.logPlaySDKApiLog("\u505C\u6B62\u5F55\u5236() \u591A\u7EBF\u7A0B"),n=Module._PLAY_StopDataRecord(this.port),this.logPlaySDKApiLog("\u505C\u6B62\u5F55\u5236() c++\u5C42\u5B8C\u6210\u5173\u95ED\u5F55\u5236");else{this.logPlaySDKApiLog("\u505C\u6B62\u5F55\u5236() \u5355\u7EBF\u7A0B");var v={type:"StopRecord",port:this.port};this.playSdkWorker&&this.playSdkWorker.postMessage(v)}return(this.supportMultiThread||this.recordType!=5)&&(this.localRecord?(this.localRecord.postMessage({type:"close"}),this.localRecord=null):this.logPlaySDKApiError("\u505C\u6B62\u5F55\u5236() localRecord is null")),n},F.closeRecord=function(){this.logPlaySDKApiLog("\u5173\u95ED\u5F55\u5236"),this.supportMultiThread||(this.localRecord?(this.localRecord.postMessage({type:"close"}),this.localRecord=null):this.logPlaySDKApiError("closeRecord localRecord is null"))},F.startLocalRecord=function(n,v){var I=this;if(this.localRecord){var U=parseInt(n)||500;this.localRecord.postMessage({type:"init",options:{recordName:v,singleSize:1048576*U,nameOptions:{namedBy:"date",nameFormat:["ymd_his"]}}}),this.localRecord.onMessage=function(W){switch(W.type){case"pendding":I.logPlaySDKApiLogWithKeyLimit("localRecord.onMessage pendding",5,W);break;case"download":I.logPlaySDKApiLog("onMessage download",W),I.writeFile(W.data.name,W.data.buffer);break;case"closed":I.logPlaySDKApiLog("onMessage closed \u6E05\u7A7A\u5B9E\u4F8B",W),I.localRecord=null;break;case"stopRecord":I.logPlaySDKApiLog("onMessage stopRecord",W),setTimeout(function(){I.stopRecord(),I.RecordReachLimitCallback()},1)}}}else this.logPlaySDKApiError("startLocalRecord localRecord is null")},F.writeFile=function(n,v){this.logPlaySDKApiLog("\u5199\u6587\u4EF6 name=",n," buffer.byteLength=",v.byteLength);var I=new Blob([v],{type:"application/octet-stream"});this.logPlaySDKApiLog("\u5199\u6587\u4EF6 blob.size=",I.size,"blob.type=",I.type);var U=document.createElement("a");U.href=URL.createObjectURL(I),U.download=n,document.body.appendChild(U),this.logPlaySDKApiLog("\u5199\u6587\u4EF6 before click. a.href=",U.href," a.download=",U.download),U.click(),this.logPlaySDKApiLog("\u5199\u6587\u4EF6 after click"),document.body.removeChild(U),URL.revokeObjectURL(U.href),U=null,v=null},F.getLogs=function(){return this.analysisData?this.analysisData.getLogs():{}},F.logPlaySDKApiLog=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];c.log.apply(c,["|PlaySDKImpl.js|"+this.nPlayId+"|"].concat(v))},F.logPlaySDKApiWarn=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];c.warn.apply(c,["|PlaySDKImpl.js|"+this.nPlayId+"|"].concat(v))},F.logPlaySDKApiError=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];c.error.apply(c,["|PlaySDKImpl.js|"+this.nPlayId+"|"].concat(v))},F.logPlaySDKApiLogWithKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_LOG,"|PlaySDKImpl.js|"+this.nPlayId+"|"+n,v].concat(U))},F.logPlaySDKApiWarnWithKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_WARN,"|PlaySDKImpl.js|"+this.nPlayId+"|"+n,v].concat(U))},F.logPlaySDKApiErrorWithKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_ERROR,"|PlaySDKImpl.js|"+this.nPlayId+"|"+n,v].concat(U))},$}();Te.CONFIG_LOG_printJsLogFromSubThread=!0,Te.CONFIG_LOG_printCppLogFromSubThread=!1,Te.CONFIG_DEBUG_debugSaveDavFile=!1,Te.PLAY_SDK_IDX=0;var Re=function(){function $(n,v,I){I||(n=this.auto_bom(n)),this.readyState=$.INIT,this.triggerSave(n,v||n.name||"download")}var F=$.prototype;return F.triggerSave=function(n,v){c.log("\u4FDD\u5B58\u56FE\u7247 name=",v," blob.size=",n.size," blob.type=",n.type);var I,U=this;if(this.can_use_save_link())return c.log("\u4FDD\u5B58\u56FE\u7247 \u53EF\u4EE5\u4F7F\u7528save link"),I=URL.createObjectURL(n),void setTimeout(function(){var W=document.createElement("a");W.href=I,W.download=v,document.body.appendChild(W),c.log("\u4FDD\u5B58\u56FE\u7247 \u6A21\u62DF\u70B9\u51FB\u524D href=",W.href,"download=",W.download),U.click(W),c.log("\u4FDD\u5B58\u56FE\u7247 \u6A21\u62DF\u70B9\u51FB\u540E"),document.body.removeChild(W),U.dispatch_all(),URL.revokeObjectURL(I),U.readyState=$.DONE});this.logPlaySDKApiWarn("\u4FDD\u5B58\u56FE\u7247 \u65E0\u6CD5\u4F7F\u7528save link\uFF0C\u5BF9\u4E8E IE \u548C Edge \u517C\u5BB9\u6027\u5904\u7406"),typeof navigator!="undefined"&&navigator.msSaveOrOpenBlob&&(SaveAs.savePicture=function(W,fe,pe){return fe=fe||W.name||"download",pe||(W=this.auto_bom(W)),navigator.msSaveOrOpenBlob(W,fe)}),this.fs_error()},F.dispatch_all=function(){this.dispatch(["writestart","progress","write","writeend"])},F.dispatch=function(n,v){for(var I=(n=[].concat(n)).length;I--;){var U=this["on"+n[I]];if(typeof U=="function")try{U.call(this,v||this)}catch(W){this.throw_outside(W)}}},F.auto_bom=function(n){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob([String.fromCharCode(65279),n],{type:n.type}):n},F.click=function(n){n.dispatchEvent(new MouseEvent("click"))},F.fs_error=function(){var n=this,v=/CriOS/.test(navigator.userAgent),I=(/Safari/.test(navigator.userAgent)&&/Chrome/.test(navigator.userAgent),window);if(v&&I.FileReader){var U=new FileReader;return U.onloadend=function(){var fe=v?U.result:U.result.replace(/^data:[^;]*;/,"data:attachment/file;");I.open(fe,"_blank")||(I.location.href=fe),fe=void 0,n.readyState=n.DONE,n.dispatch_all()},U.readAsDataURL(blob),void(n.readyState=$.INIT)}var W=URL.createObjectURL(blob);I.open(W,"_blank")||(I.location.href=W),n.readyState=n.DONE,n.dispatch_all(),URL.revokeObjectURL(W)},F.throw_outside=function(n){(window.setImmediate||window.setTimeout)(function(){throw n},0)},F.can_use_save_link=function(){return"download"in document.createElement("a")},$.savePicture=function(n,v,I){return new $(n,v||n.name||"download",I)},$}();function Ne(){Ne=function(){return F};var $,F={},n=Object.prototype,v=n.hasOwnProperty,I=Object.defineProperty||function(de,ce,xe){de[ce]=xe.value},U=typeof Symbol=="function"?Symbol:{},W=U.iterator||"@@iterator",fe=U.asyncIterator||"@@asyncIterator",pe=U.toStringTag||"@@toStringTag";function ve(de,ce,xe){return Object.defineProperty(de,ce,{value:xe,enumerable:!0,configurable:!0,writable:!0}),de[ce]}try{ve({},"")}catch(de){ve=function(ce,xe,$e){return ce[xe]=$e}}function Ue(de,ce,xe,$e){var De=ce&&ce.prototype instanceof xt?ce:xt,Ge=Object.create(De.prototype),yt=new Kt($e||[]);return I(Ge,"_invoke",{value:Xt(de,xe,yt)}),Ge}function ze(de,ce,xe){try{return{type:"normal",arg:de.call(ce,xe)}}catch($e){return{type:"throw",arg:$e}}}F.wrap=Ue;var Le="suspendedStart",Qe="suspendedYield",lt="executing",nt="completed",Ke={};function xt(){}function Lt(){}function bt(){}var un={};ve(un,W,function(){return this});var pt=Object.getPrototypeOf,et=pt&&pt(pt($t([])));et&&et!==n&&v.call(et,W)&&(un=et);var tt=bt.prototype=xt.prototype=Object.create(un);function ut(de){["next","throw","return"].forEach(function(ce){ve(de,ce,function(xe){return this._invoke(ce,xe)})})}function rn(de,ce){function xe(De,Ge,yt,Mt){var Dt=ze(de[De],de,Ge);if(Dt.type!=="throw"){var vn=Dt.arg,Vt=vn.value;return Vt&&typeof Vt=="object"&&v.call(Vt,"__await")?ce.resolve(Vt.__await).then(function(tn){xe("next",tn,yt,Mt)},function(tn){xe("throw",tn,yt,Mt)}):ce.resolve(Vt).then(function(tn){vn.value=tn,yt(vn)},function(tn){return xe("throw",tn,yt,Mt)})}Mt(Dt.arg)}var $e;I(this,"_invoke",{value:function(De,Ge){function yt(){return new ce(function(Mt,Dt){xe(De,Ge,Mt,Dt)})}return $e=$e?$e.then(yt,yt):yt()}})}function Xt(de,ce,xe){var $e=Le;return function(De,Ge){if($e===lt)throw Error("Generator is already running");if($e===nt){if(De==="throw")throw Ge;return{value:$,done:!0}}for(xe.method=De,xe.arg=Ge;;){var yt=xe.delegate;if(yt){var Mt=Ot(yt,xe);if(Mt){if(Mt===Ke)continue;return Mt}}if(xe.method==="next")xe.sent=xe._sent=xe.arg;else if(xe.method==="throw"){if($e===Le)throw $e=nt,xe.arg;xe.dispatchException(xe.arg)}else xe.method==="return"&&xe.abrupt("return",xe.arg);$e=lt;var Dt=ze(de,ce,xe);if(Dt.type==="normal"){if($e=xe.done?nt:Qe,Dt.arg===Ke)continue;return{value:Dt.arg,done:xe.done}}Dt.type==="throw"&&($e=nt,xe.method="throw",xe.arg=Dt.arg)}}}function Ot(de,ce){var xe=ce.method,$e=de.iterator[xe];if($e===$)return ce.delegate=null,xe==="throw"&&de.iterator.return&&(ce.method="return",ce.arg=$,Ot(de,ce),ce.method==="throw")||xe!=="return"&&(ce.method="throw",ce.arg=new TypeError("The iterator does not provide a '"+xe+"' method")),Ke;var De=ze($e,de.iterator,ce.arg);if(De.type==="throw")return ce.method="throw",ce.arg=De.arg,ce.delegate=null,Ke;var Ge=De.arg;return Ge?Ge.done?(ce[de.resultName]=Ge.value,ce.next=de.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=$),ce.delegate=null,Ke):Ge:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,Ke)}function ot(de){var ce={tryLoc:de[0]};1 in de&&(ce.catchLoc=de[1]),2 in de&&(ce.finallyLoc=de[2],ce.afterLoc=de[3]),this.tryEntries.push(ce)}function Ut(de){var ce=de.completion||{};ce.type="normal",delete ce.arg,de.completion=ce}function Kt(de){this.tryEntries=[{tryLoc:"root"}],de.forEach(ot,this),this.reset(!0)}function $t(de){if(de||de===""){var ce=de[W];if(ce)return ce.call(de);if(typeof de.next=="function")return de;if(!isNaN(de.length)){var xe=-1,$e=function De(){for(;++xe<de.length;)if(v.call(de,xe))return De.value=de[xe],De.done=!1,De;return De.value=$,De.done=!0,De};return $e.next=$e}}throw new TypeError(typeof de+" is not iterable")}return Lt.prototype=bt,I(tt,"constructor",{value:bt,configurable:!0}),I(bt,"constructor",{value:Lt,configurable:!0}),Lt.displayName=ve(bt,pe,"GeneratorFunction"),F.isGeneratorFunction=function(de){var ce=typeof de=="function"&&de.constructor;return!!ce&&(ce===Lt||(ce.displayName||ce.name)==="GeneratorFunction")},F.mark=function(de){return Object.setPrototypeOf?Object.setPrototypeOf(de,bt):(de.__proto__=bt,ve(de,pe,"GeneratorFunction")),de.prototype=Object.create(tt),de},F.awrap=function(de){return{__await:de}},ut(rn.prototype),ve(rn.prototype,fe,function(){return this}),F.AsyncIterator=rn,F.async=function(de,ce,xe,$e,De){De===void 0&&(De=Promise);var Ge=new rn(Ue(de,ce,xe,$e),De);return F.isGeneratorFunction(ce)?Ge:Ge.next().then(function(yt){return yt.done?yt.value:Ge.next()})},ut(tt),ve(tt,pe,"Generator"),ve(tt,W,function(){return this}),ve(tt,"toString",function(){return"[object Generator]"}),F.keys=function(de){var ce=Object(de),xe=[];for(var $e in ce)xe.push($e);return xe.reverse(),function De(){for(;xe.length;){var Ge=xe.pop();if(Ge in ce)return De.value=Ge,De.done=!1,De}return De.done=!0,De}},F.values=$t,Kt.prototype={constructor:Kt,reset:function(de){if(this.prev=0,this.next=0,this.sent=this._sent=$,this.done=!1,this.delegate=null,this.method="next",this.arg=$,this.tryEntries.forEach(Ut),!de)for(var ce in this)ce.charAt(0)==="t"&&v.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=$)},stop:function(){this.done=!0;var de=this.tryEntries[0].completion;if(de.type==="throw")throw de.arg;return this.rval},dispatchException:function(de){if(this.done)throw de;var ce=this;function xe(Dt,vn){return Ge.type="throw",Ge.arg=de,ce.next=Dt,vn&&(ce.method="next",ce.arg=$),!!vn}for(var $e=this.tryEntries.length-1;$e>=0;--$e){var De=this.tryEntries[$e],Ge=De.completion;if(De.tryLoc==="root")return xe("end");if(De.tryLoc<=this.prev){var yt=v.call(De,"catchLoc"),Mt=v.call(De,"finallyLoc");if(yt&&Mt){if(this.prev<De.catchLoc)return xe(De.catchLoc,!0);if(this.prev<De.finallyLoc)return xe(De.finallyLoc)}else if(yt){if(this.prev<De.catchLoc)return xe(De.catchLoc,!0)}else{if(!Mt)throw Error("try statement without catch or finally");if(this.prev<De.finallyLoc)return xe(De.finallyLoc)}}}},abrupt:function(de,ce){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.tryLoc<=this.prev&&v.call($e,"finallyLoc")&&this.prev<$e.finallyLoc){var De=$e;break}}De&&(de==="break"||de==="continue")&&De.tryLoc<=ce&&ce<=De.finallyLoc&&(De=null);var Ge=De?De.completion:{};return Ge.type=de,Ge.arg=ce,De?(this.method="next",this.next=De.finallyLoc,Ke):this.complete(Ge)},complete:function(de,ce){if(de.type==="throw")throw de.arg;return de.type==="break"||de.type==="continue"?this.next=de.arg:de.type==="return"?(this.rval=this.arg=de.arg,this.method="return",this.next="end"):de.type==="normal"&&ce&&(this.next=ce),Ke},finish:function(de){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var xe=this.tryEntries[ce];if(xe.finallyLoc===de)return this.complete(xe.completion,xe.afterLoc),Ut(xe),Ke}},catch:function(de){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var xe=this.tryEntries[ce];if(xe.tryLoc===de){var $e=xe.completion;if($e.type==="throw"){var De=$e.arg;Ut(xe)}return De}}throw Error("illegal catch attempt")},delegateYield:function(de,ce,xe){return this.delegate={iterator:$t(de),resultName:ce,nextLoc:xe},this.method==="next"&&(this.arg=$),Ke}},F}function Ye($,F,n,v,I,U,W){try{var fe=$[U](W),pe=fe.value}catch(ve){return void n(ve)}fe.done?F(pe):Promise.resolve(pe).then(v,I)}function Je($){return function(){var F=this,n=arguments;return new Promise(function(v,I){var U=$.apply(F,n);function W(pe){Ye(U,v,I,W,fe,"next",pe)}function fe(pe){Ye(U,v,I,W,fe,"throw",pe)}W(void 0)})}}Re.INIT=0,Re.WRITING=1,Re.DONE=2,window.savePicture=Re.savePicture;var rt=function(){function $(n){this.onAudioDataCallback=n,this.audioContext=null,this.audioWorkletNode=null,this.mediaStream=null,this.mediaStreamSource=null,this.isRecording=!1,this.audioTalkErrorCallback=null,this.pcmData=[],this.audioEncoder=null}var F=$.prototype;return F.startRecording=function(){var n=Je(Ne().mark(function v(I,U,W){return Ne().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return U===void 0&&(U=8e3),W===void 0&&(W=1),this.audioEncoder=I,fe.next=5,this.startRecordingInternal(U,W);case 5:case"end":return fe.stop()}},v,this)}));return function(v,I,U){return n.apply(this,arguments)}}(),F.startRecordingInternal=function(){var n=Je(Ne().mark(function v(I,U){var W,fe=this;return Ne().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(I===void 0&&(I=8e3),U===void 0&&(U=1),pe.prev=2,navigator.mediaDevices){pe.next=7;break}return c.error("navigator.mediaDevices\u4E3A\u7A7A, navigator =",navigator),this.audioTalkErrorCallback({errorCode:601}),pe.abrupt("return");case 7:if(navigator.mediaDevices.getUserMedia){pe.next=11;break}return c.error("navigator.mediaDevices.getUserMedia\u4E3A\u7A7A, navigator.mediaDevices =",navigator.mediaDevices),this.audioTalkErrorCallback({errorCode:601}),pe.abrupt("return");case 11:return pe.next=13,this.checkAudioDevices();case 13:if(pe.sent){pe.next=18;break}return this.audioTalkErrorCallback({errorCode:602}),c.error("AudioCapturer::startRecordingInternal \u6CA1\u6709\u97F3\u9891\u8F93\u5165\u8BBE\u5907"),pe.abrupt("return");case 18:return pe.next=20,this.requestMicrophoneAccess(I,U);case 20:pe.sent&&c.log("AudioCapturer::startRecordingInternal \u5F55\u97F3\u5DF2\u542F\u52A8"),pe.next=27;break;case 24:pe.prev=24,pe.t0=pe.catch(2),this.handleError(pe.t0);case 27:pe.prev=27,window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext,this.audioContext=new AudioContext,this.audioEncoder.setSampleRate(this.audioContext.sampleRate),c.log("AudioCapturer::startRecordingInternal \u8BBE\u7F6EaudioContext\u7684\u91C7\u6837\u7387",this.audioContext.sampleRate),pe.next=38;break;case 34:return pe.prev=34,pe.t1=pe.catch(27),Y.error("AudioCapturer::startRecordingInternal. Web Audio API is not supported in this web browser! : "+pe.t1),pe.abrupt("return");case 38:return pe.next=40,this.audioContext.audioWorklet.addModule("WasmLib/AudioProcessor.js");case 40:return this.audioWorkletNode=new AudioWorkletNode(this.audioContext,"audio-processor"),W={audio:!0,video:!1},pe.prev=42,pe.next=45,navigator.mediaDevices.getUserMedia(W);case 45:this.mediaStream=pe.sent,c.log("AudioCapturer::startRecordingInternal \u5B9E\u9645mediaStream\u7684\u91C7\u6837\u7387",this.mediaStream.getAudioTracks()[0].getSettings().sampleRate),this.mediaStreamSource=this.audioContext.createMediaStreamSource(this.mediaStream),this.mediaStreamSource.connect(this.audioWorkletNode),this.audioWorkletNode.connect(this.audioContext.destination),this.audioWorkletNode.port.onmessage=function(ve){var Ue,ze=ve.data;(Ue=fe.pcmData).push.apply(Ue,ze),fe.onAudioDataCallback&&fe.onAudioDataCallback(ze)},this.isRecording=!0,pe.next=57;break;case 54:pe.prev=54,pe.t2=pe.catch(42),c.error("AudioCapturer::startRecordingInternal. Error accessing audio stream:",pe.t2);case 57:case"end":return pe.stop()}},v,this,[[2,24],[27,34],[42,54]])}));return function(v,I){return n.apply(this,arguments)}}(),F.requestMicrophoneAccess=function(){var n=Je(Ne().mark(function v(I,U){var W;return Ne().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.prev=0,fe.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:if(!(W=fe.sent)){fe.next=7;break}return W.getTracks().forEach(function(pe){return pe.stop()}),fe.abrupt("return",!0);case 7:fe.next=12;break;case 9:fe.prev=9,fe.t0=fe.catch(0),this.handleMicrophoneError(fe.t0);case 12:return fe.abrupt("return",!1);case 13:case"end":return fe.stop()}},v,this,[[0,9]])}));return function(v,I){return n.apply(this,arguments)}}(),F.checkAudioDevices=function(){var n=Je(Ne().mark(function v(){var I;return Ne().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.prev=0,U.next=3,navigator.mediaDevices.enumerateDevices();case 3:return I=U.sent,c.log("AudioCapturer::checkAudioDevices \u68C0\u67E5\u53EF\u7528\u97F3\u9891\u8F93\u5165\u8BBE\u5907\uFF1A",I),U.abrupt("return",I.some(function(W){return W.kind==="audioinput"}));case 8:return U.prev=8,U.t0=U.catch(0),c.error("AudioCapturer::checkAudioDevices \u68C0\u67E5\u97F3\u9891\u8F93\u5165\u8BBE\u5907\u65F6\u53D1\u751F\u9519\u8BEF\uFF1A",U.t0),U.abrupt("return",!1);case 12:case"end":return U.stop()}},v,null,[[0,8]])}));return function(){return n.apply(this,arguments)}}(),F.handleMicrophoneError=function(n){c.error("AudioCapturer::handleMicrophoneError \u65E0\u6CD5\u8BBF\u95EE\u9EA6\u514B\u98CE\uFF1Aerror = ",n," error.name =",n.name),n.name==="NotAllowedError"||n.name==="NotReadableError"?this.audioTalkErrorCallback({errorCode:603}):n.name==="NotFoundError"&&this.audioTalkErrorCallback({errorCode:604})},F.handleError=function(n){c.error("AudioCapturer::handleError \u9519\u8BEF\uFF1A",n),this.audioTalkErrorCallback&&this.audioTalkErrorCallback({errorCode:605,description:n.message})},F.convertFloat32ToInt16=function(n){for(var v=new Int16Array(n.length),I=0;I<n.length;I++)v[I]=n[I]*Math.pow(2,15);return v},F.convertFloat32ToUInt8=function(n){for(var v=new Uint8Array(n.length),I=0;I<n.length;I++)v[I]=Math.max(0,Math.min(255,Math.round(127.5*(n[I]+1))));return v},F.convertFloat32ToUInt8New=function(n){for(var v=new Uint8Array(n.length*Float32Array.BYTES_PER_ELEMENT),I=new DataView(v.buffer),U=0;U<n.length;U++)I.setFloat32(U*Float32Array.BYTES_PER_ELEMENT,n[U]);return v},F.stopRecording=function(){var n=Je(Ne().mark(function v(){return Ne().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(c.log("stopRecording."),this.isRecording){I.next=4;break}return c.warn("Recording is not active."),I.abrupt("return",!0);case 4:return I.prev=4,this.mediaStreamSource=null,this.audioWorkletNode&&(c.log("Disconnecting audioWorkletNode..."),this.audioWorkletNode.disconnect()),this.mediaStream&&(c.log("Stopping media stream tracks..."),this.mediaStream.getTracks().forEach(function(U){return U.stop()}),this.mediaStream=null),I.next=10,this.audioContext.close();case 10:c.log("Audio context closed."),I.next=16;break;case 13:I.prev=13,I.t0=I.catch(4),c.error("Error stopping recording:",I.t0);case 16:return I.prev=16,this.isRecording=!1,I.finish(16);case 19:return I.abrupt("return",!0);case 20:case"end":return I.stop()}},v,this,[[4,13,16,19]])}));return function(){return n.apply(this,arguments)}}(),F.startAudioCapture=function(){this.mediaStream&&this.mediaStream.getAudioTracks().forEach(function(n){n.enabled=!0})},F.stopAudioCapture=function(){this.mediaStream&&this.mediaStream.getAudioTracks().forEach(function(n){n.enabled=!1})},F.setAudioTalkErrorCallback=function(n){this.audioTalkErrorCallback=n},F.download=function(){var n=this.convertFloat32ToInt16(new Float32Array(this.pcmData)),v=new Blob([n],{type:"application/octet-stream"}),I=URL.createObjectURL(v),U=document.getElementById("downloadLink");U.href=I,U.download="recorded_audio.raw",U.style.display="block",U.innerText="\u4E0B\u8F7DPCM\u6570\u636E",c.log("Recording stopped and ready to download.")},$}();const We=rt,Ve=function(){function $(n){this.localSampleRate=8e3,this.BIAS=132,this.SEG_SHIFT=4,this.QUANT_MASK=15,this.seg_end=[255,511,1023,2047,4095,8191,16383,32767],this.codecInfo={type:"G.711",samplingRate:8e3},this.remainBuffer=null,this.AudioCodec=Object.freeze({G711A:"g711a",G711U:"g711u"}),this.audioCodec=this.AudioCodec.G711A,Object.values(this.AudioCodec).includes(n)?(c.log("AudioEncoder.js \u5BF9\u8BB2\u7684\u97F3\u9891\u7F16\u7801\u683C\u5F0F\u4E3A\uFF1A",n),this.audioCodec=n):(c.error("AudioEncoder.js \u4E0D\u652F\u6301\u7684\u7F16\u7801\u7C7B\u578B\uFF0C\u9ED8\u8BA4\u4F7F\u7528 G.711 A \u7F16\u7801"),this.audioCodec=this.AudioCodec.G711A)}var F=$.prototype;return F.setSampleRate=function(n){this.localSampleRate=n},F.encode=function(n){var v=null;this.remainBuffer!==null?((v=new Float32Array(n.length+this.remainBuffer.length)).set(this.remainBuffer,0),v.set(n,this.remainBuffer.length)):v=n,v=this.downsampleBuffer(v,this.codecInfo.samplingRate);for(var I=new Int16Array(v.length),U=new Uint8Array(I.length),W=0,fe=v.length;W<fe;W++)I[W]=v[W]*Math.pow(2,15),this.audioCodec===this.AudioCodec.G711A?U[W]=this.linear2alaw(I[W]):U[W]=this.linear2ulaw(I[W]);return U},F.downsampleBuffer=function(n,v){if(v===this.localSampleRate)return n;this.localSampleRate;for(var I=this.localSampleRate/v,U=Math.floor(n.length/I),W=new Float32Array(U),fe=0,pe=0;fe<W.length;){for(var ve=Math.round((fe+1)*I),Ue=0,ze=0,Le=pe,Qe=n.length;Le<ve&&Le<Qe;Le++)Ue+=n[Le],ze++;W[fe]=Ue/ze,fe++,pe=ve}if(this.remainBuffer=null,Math.round(fe*I)!==n.length){var lt=Math.round(fe*I);this.remainBuffer=new Float32Array(n.subarray(lt,n.length))}return W},F.linear2ulaw=function(n){var v,I;return n<0?(n=this.BIAS-n,v=127):(n+=this.BIAS,v=255),(I=this.search(n,this.seg_end))>=8?127^v:(I<<4|n>>I+3&15)^v},F.search=function(n,v){for(var I=0,U=v.length;I<U;I++)if(n<=v[I])return I;return v.length},F.linear2alaw=function(n){var v,I,U;return n>=0?v=213:(v=85,n=-n-8),(I=this.search(n,this.seg_end))>=8?127^v:(U=I<<this.SEG_SHIFT,(U|=I<2?n>>4&this.QUANT_MASK:n>>I+3&this.QUANT_MASK)^v)},$}(),Oe=function(){function $(n){this.rtpPacket=null,this.rtpInterlevedID=n,this.rtpPacketHead=[36,this.rtpInterlevedID,0,0,0,0],this.DHAV=[68,72,65,86],this.dhav=[100,104,97,118],this.frameNum=245,this.timestamp=0,this.preTime=null,this.MAX_FRAME_INTERVAL=65535,this.rtpDataHeadExtLength=16,this.rtpDataHeadLength=24+this.rtpDataHeadExtLength,this.rtpDataFootLength=8}var F=$.prototype;return F.pack=function(n){var v=n;this.rtpPacket=new Uint8Array(this.rtpPacketHead.length+this.rtpDataHeadLength+v.length+this.rtpDataFootLength);var I=0;this.rtpPacket.set(new Uint8Array([36,this.rtpInterlevedID]),I),I+=2,this.rtpPacket.set(this.getHexArrayDec(this.rtpDataHeadLength+v.length+this.rtpDataFootLength,4,!0),I),I+=4,this.rtpPacket.set(this.DHAV,I),I+=4,this.rtpPacket.set([240],I),I+=1,this.rtpPacket.set([0],I),I+=1,this.rtpPacket.set([1],I),I+=1,this.rtpPacket.set([0],I),I+=1,this.frameNum>65535&&(this.frameNum=240),this.rtpPacket.set(this.getHexArrayDec(this.frameNum),I),I+=4,this.frameNum++;var U=this.getHexArrayDec(this.rtpDataHeadLength+v.length+this.rtpDataFootLength);this.rtpPacket.set(U,I),I+=4;var W=new Date,fe=(W.getFullYear()-2e3<<26)+(W.getMonth()+1<<22)+(W.getDate()<<17)+(W.getHours()<<12)+(W.getMinutes()<<6)+W.getSeconds(),pe=W.getTime(),ve=this.preTime===null?0:pe-this.preTime;this.preTime=pe,this.timestamp=this.timestamp+ve,this.timestamp>this.MAX_FRAME_INTERVAL&&(this.timestamp=this.MAX_FRAME_INTERVAL-this.timestamp),this.rtpPacket.set(this.getHexArrayDec(fe),I),I+=4,this.rtpPacket.set(this.getHexArrayDec(this.timestamp,2),I),I+=2,this.rtpPacket.set([this.rtpDataHeadExtLength],I),I+=1;var Ue=this.getTotal(this.rtpPacket,6);this.rtpPacket.set([Ue],I),I+=1,this.rtpPacket.set([131,1,14,2],I),I+=4,this.rtpPacket.set([150,1,0,0],I),I+=4;var ze=this.sum_32_verify(v,v.length);return this.rtpPacket.set([136],I),I+=1,this.rtpPacket.set(this.getHexArrayDec(ze),I),I+=4,this.rtpPacket.set([0,0,0],I),I+=3,this.rtpPacket.set(v,I),I+=v.length,this.rtpPacket.set(this.dhav,I),I+=4,this.rtpPacket.set(U,I),this.rtpPacket},F.getHexArrayDec=function(n,v,I){var U=[],W=v||4;if(I===!0)for(var fe=0;fe<W;fe++)U[fe]=n>>>8*(W-1-fe)&255;else for(var pe=0;pe<W;pe++)U[pe]=n>>>8*pe&255;return U},F.sum_32_verify=function(n,v){for(var I=0,U=0;U<v;U++)I+=n[U]<<U%4*8;return I},F.getTotal=function(n,v){for(var I=0,U=v;U<n.length;U++)I+=n[U];return I},$}(),ft=function(){function $(){this.audioCapturer=null,this.audioEncoder=null,this.sendAudioBufferCallback=null,this.cbErrorCallbackFunc=null,this.isOpenAudio=!1}var F=$.prototype;return F.dispose=function(){this.audioCapturer=null,this.audioEncoder=null,this.sendAudioBufferCallback=null,this.cbErrorCallbackFunc=null,this.isOpenAudio=!1},F.startAudioTalk=function(n,v){c.log("AudioTalk::startAudioTalk \u8BED\u97F3\u5BF9\u8BB2\u5F00\u59CB",n,v),this.audioCapturer=new We(this.handleAudioData.bind(this)),this.audioCapturer&&this.audioCapturer.setAudioTalkErrorCallback(this.cbErrorCallbackFunc),this.audioEncoder=new Ve(n===0?"g711a":"g711u"),this.audioPack=new Oe(10),this.audioCapturer.startRecording(this.audioEncoder),this.isOpenAudio=!0},F.stopAudioTalk=function(){return c.log("AudioTalk::stopAudioTalk \u8BED\u97F3\u5BF9\u8BB2\u7ED3\u675F"),!this.audioCapturer||(this.isOpenAudio=!1,this.audioCapturer.stopRecording())},F.handleAudioData=function(n){if(c.logKeyLimit("AudioTalk::handleAudioData",5,n.length),this.audioEncoder){var v=this.audioEncoder.encode(n),I=this.audioPack.pack(v);this.sendAudioBufferCallback&&this.isOpenAudio&&this.sendAudioBufferCallback(I)}else c.logKeyLimit("AudioTalk::handleAudioData audioEncoder is null",5)},F.setSendAudioTalkBufferCallback=function(n){this.sendAudioBufferCallback=n},F.startAudioCapture=function(){this.audioCapturer&&(this.audioCapturer.startAudioCapture(),this.isOpenAudio=!0)},F.stopAudioCapture=function(){this.audioCapturer&&(this.audioCapturer.stopAudioCapture(),this.isOpenAudio=!1)},F.setAudioTalkErrorCallback=function(n){this.cbErrorCallbackFunc=n,this.audioCapturer&&this.audioCapturer.setAudioTalkErrorCallback(n)},F.download=function(){var n=new Blob([this.encArray],{type:"audio/pcma"}),v=URL.createObjectURL(n),I=document.getElementById("downloadG711Link");I.href=v,I.download="recorded_g711_audio.pcma",I.style.display="block",I.innerText="\u4E0B\u8F7DG711\u6570\u636E"},F.downloadDav=function(){var n=new Blob([this.packArray],{type:"audio/pcma"}),v=URL.createObjectURL(n),I=document.getElementById("downloadDavLink");I.href=v,I.download="recorded_audio.dav",I.style.display="block",I.innerText="\u4E0B\u8F7D DAV \u6570\u636E"},$}(),ht=function($,F,n,v,I,U,W){var fe=$,pe=v||!1,ve=null,Ue=null,ze=null,Le=0,Qe=0,lt=!1,nt=!1,Ke=null,xt=200,Lt=401,bt=404,un=457,pt=503,et="",tt=[],ut=1,rn=null,Xt={},Ot="Options",ot=!0,Ut=null,Kt=null,$t=null,de=n,ce={},xe=null,$e=null,De=null,Ge=null,yt=null,Mt=null,Dt=!1;function vn(){}function Vt(Wt,ct,Pn,jt){var St="";switch(Wt){case"OPTIONS":case"TEARDOWN":case"GET_PARAMETER":case"SET_PARAMETERS":St=Wt+" "+de+` RTSP/1.0\r
CSeq: `+ut+`\r
`+et+`\r
`;break;case"DESCRIBE":St=Wt+" "+de+` RTSP/1.0\r
CSeq: `+ut,pe&&(St+=`\r
Require: www.onvif.org/ver20/backchannel`),St=St+`\r
`+et+`\r
`;break;case"SETUP":Fn("trackID: ",ct),St=Wt+" "+de+"/trackID="+ct+` RTSP/1.0\r
CSeq: `+ut+`\r
`+et+"Transport: DH/AVP/TCP;unicast;interleaved="+2*ct+"-"+(2*ct+1)+`\r
`,St+=Kt!=0?"Session: "+Kt+`\r
\r
`:`\r
`;break;case"PLAY":St=Wt+" "+de+` RTSP/1.0\r
CSeq: `+ut+`\r
Session: `+Kt+`\r
`,jt!=null&&jt!=0&&(St+="Range: npt="+jt+`-\r
`),St+=et+`\r
`;break;case"PAUSE":St=Wt+" "+de+` RTSP/1.0\r
CSeq: `+ut+`\r
Session: `+Kt+`\r
\r
`;break;case"SCALE":St="PLAY "+de+` RTSP/1.0\r
CSeq: `+ut+`\r
Session: `+Kt+`\r
`,St+=jt<4?"Speed: "+jt+`\r
`:"Scale: "+jt+`\r
`,St+=et+`\r
`}return St}function tn(Wt){var ct,Pn=Wt.search("CSeq: ")+5;if(ut=parseInt(Wt.slice(Pn,Pn+10))+1,(ct=function(Gn){var Hn={},fi=0,mn=0,ti=null,Hi=null;Gn.search("Content-Type: application/sdp")!==-1?Hi=Gn.split(`\r
\r
`)[0]:Hi=Gn;var ni=Hi.split(`\r
`),sr=ni[0].split(" ");if(sr.length>2&&(Hn.ResponseCode=parseInt(sr[1]),Hn.ResponseMessage=sr[2]),Hn.ResponseCode===xt){for(fi=1;fi<ni.length;fi++)if((ti=ni[fi].split(":"))[0]==="Public")Hn.MethodsSupported=ti[1].split(",");else if(ti[0]==="CSeq")Hn.CSeq=parseInt(ti[1]);else if(ti[0]==="Content-Type")Hn.ContentType=ti[1],Hn.ContentType.search("application/sdp")!==-1&&(Hn.SDPData=ta(Gn));else if(ti[0]==="Content-Length")Hn.ContentLength=parseInt(ti[1]);else if(ti[0]==="Content-Base"){var Zi=ni[fi].search("Content-Base:");Zi!==-1&&(Hn.ContentBase=ni[fi].substr(Zi+13))}else if(ti[0]==="Session"){var hi=ti[1].split(";");Hn.SessionID=parseInt(hi[0])}else if(ti[0]==="Transport"){var Jn=ti[1].split(";");for(mn=0;mn<Jn.length;mn++){var Xn=Jn[mn].search("interleaved=");if(Xn!==-1){var mi=Jn[mn].substr(Xn+12).split("-");mi.length>1&&(Hn.RtpInterlevedID=parseInt(mi[0]),Hn.RtcpInterlevedID=parseInt(mi[1]))}}}else if(ti[0]==="RTP-Info"){ti[1]=ni[fi].substr(9);var lr=ti[1].split(",");for(Hn.RTPInfoList=[],mn=0;mn<lr.length;mn++){var qi=lr[mn].split(";"),Ct={},at=0;for(at=0;at<qi.length;at++){var Ft=qi[at].search("url=");Ft!==-1&&(Ct.URL=qi[at].substr(Ft+4)),(Ft=qi[at].search("seq="))!==-1&&(Ct.Seq=parseInt(qi[at].substr(Ft+4)))}Hn.RTPInfoList.push(Ct)}}}else if(Hn.ResponseCode===Lt){for(fi=1;fi<ni.length;fi++)if((ti=ni[fi].split(":"))[0]==="CSeq")Hn.CSeq=parseInt(ti[1]);else if(ti[0]==="WWW-Authenticate"){var it=ti[1].split(",");for(mn=0;mn<it.length;mn++){var wt=it[mn].search("Digest realm=");if(wt!==-1){var Un=it[mn].substr(wt+13).split('"');Hn.Realm=Un[1]}if((wt=it[mn].search("nonce="))!==-1){var Bn=it[mn].substr(wt+6).split('"');Hn.Nonce=Bn[1]}}}}return Hn}(Wt)).ResponseCode===Lt&&et==="")(function(Gn){var Hn=ce.username,fi=ce.passWord,mn={Method:null,Realm:null,Nonce:null,Uri:null},ti=null;mn={Method:Ot.toUpperCase(),Realm:Gn.Realm,Nonce:Gn.Nonce,Uri:de},ti=function(Hi,ni,sr,Zi,hi,Jn){var Xn=null,mi=null,lr=null;return Xn=hex_md5(Hi+":"+Zi+":"+ni).toLowerCase(),mi=hex_md5(Jn+":"+sr).toLowerCase(),lr=hex_md5(Xn+":"+hi+":"+mi).toLowerCase(),lr}(Hn,fi,mn.Uri,mn.Realm,mn.Nonce,mn.Method),et='Authorization: Digest username="'+Hn+'", realm="'+mn.Realm+'",',et+=' nonce="'+mn.Nonce+'", uri="'+mn.Uri+'", response="'+ti+'"',et+=`\r
`,Pr(Vt("OPTIONS",null))})(ct);else if(ct.ResponseCode===xt){if(Ot==="Options")return Fn("OPTIONS\u4FE1\u4EE4\u53D1\u9001\u6210\u529F"),Ot="Describe",Vt("DESCRIBE",null);if(Ot==="Describe"){Fn("DESCRIBE\u4FE1\u4EE4\u53D1\u9001\u6210\u529F"),Xt=ta(Wt),typeof ct.ContentBase!="undefined"&&(Xt.ContentBase=ct.ContentBase);var jt=0;for(jt=0;jt<Xt.Sessions.length;jt+=1){var St={};St.trackID=Xt.Sessions[jt].ControlURL,St.ClockFreq=Xt.Sessions[jt].ClockFreq,St.Port=parseInt(Xt.Sessions[jt].Port),St.Bitrate=parseInt(Xt.Sessions[jt].Bitrate),St.TalkTransType=Xt.Sessions[jt].TalkTransType,tt.push(St)}return Ot="Setup",Vt("SETUP",tt[Ut=0].trackID.split("=")[1]-0)}if(Ot==="Setup"){if(Fn("SETUP\u4FE1\u4EE4\u53D1\u9001\u6210\u529F"),Kt=ct.SessionID,Ut<tt.length)return tt[Ut].RtpInterlevedID=ct.RtpInterlevedID,tt[Ut].RtcpInterlevedID=ct.RtcpInterlevedID,(Ut+=1)!==tt.length?Vt("SETUP",tt[Ut].trackID.split("=")[1]-0):(pe&&(Ke||(Ke=new ft),Ke.setSendAudioTalkBufferCallback(di),Ke.startAudioTalk(I,tt),Ke.setAudioTalkErrorCallback(rn)),Ot="Play",Vt("PLAY",null));pe&&(Ke||(Ke=new ft),Ke.setSendAudioTalkBufferCallback(di),Ke.startAudioTalk(I,tt),Ke.setAudioTalkErrorCallback(rn))}else Ot==="Play"?(Fn("PLAY\u4FE1\u4EE4\u53D1\u9001\u6210\u529F"),$e&&$e("PLAY"),Kt=ct.SessionID,clearInterval($t),$t=setInterval(function(){return Pr(Vt("GET_PARAMETER",null))},2e4),Ot="Playing",ot=!0):Ot==="Playing"?(Ot="OK",ot=!0):Y.log("unknown rtsp state:"+Ot)}else if(ct.ResponseCode===pt){if(Ot==="Setup"&&tt[Ut].trackID.search("trackID=t")!==-1)return tt[Ut].RtpInterlevedID=-1,tt[Ut].RtcpInterlevedID=-1,Ut+=1,rn({errorCode:"504",description:"Talk Service Unavilable",place:"RtspClient.js"}),Ut<tt.length?Vt("SETUP",tt[Ut].trackID):(Ot="Play",Vt("PLAY",null));rn({errorCode:"503",description:"Service Unavilable"})}else ct.ResponseCode===bt?Ot!=="Describe"&&Ot!=="Options"||rn({errorCode:404,description:"rtsp not found"}):ct.ResponseCode===un&&Y.log("RTP disconnection detect!!!")}function di(Wt){pe&&function(ct){ve!==null&&ve.readyState===WebSocket.OPEN&&ot?(pe&&(Dt||(Dt=!0,Mt&&Mt())),ve.send(ct)):Y.log("SendRtpData - Websocket does not exist",ve)}(Wt)}function Pr(Wt){Wt!=null&&Wt!=null&&Wt!=""&&(ve!==null&&ve.readyState===WebSocket.OPEN?(nt===!1&&Wt.search("DESCRIBE")!==-1&&(lt=!0,nt=!0),Wt.includes("null")?function(ct,Pn){for(var jt=arguments.length,St=new Array(jt>2?jt-2:0),Gn=2;Gn<jt;Gn++)St[Gn-2]=arguments[Gn];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_ERROR,"|WebsocketServer.js|"+fe+"|"+ct,Pn].concat(St))}("ws\u53D1\u9001\u4FE1\u4EE4",500,Wt):gr("ws\u53D1\u9001\u4FE1\u4EE4",500,Wt),Wt!=null&&ve.send(Et(Wt))):function(ct,Pn){for(var jt=arguments.length,St=new Array(jt>2?jt-2:0),Gn=2;Gn<jt;Gn++)St[Gn-2]=arguments[Gn];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_WARN,"|WebsocketServer.js|"+fe+"|"+ct,Pn].concat(St))}("ws\u53D1\u9001\u4FE1\u4EE4\uFF0C\u4F46ws\u672A\u8FDE\u63A5"))}function Et(Wt){for(var ct=Wt.length,Pn=new Uint8Array(new ArrayBuffer(ct)),jt=0;jt<ct;jt++)Pn[jt]=Wt.charCodeAt(jt);return Pn}function Er(Wt){var ct=new Uint8Array,Pn=new Uint8Array(Wt.data);for((ct=new Uint8Array(Pn.length)).set(Pn,0),Le=ct.length;Le>0;)if(ct[0]!==36){var jt=String.fromCharCode.apply(null,ct);gr("ws\u63A5\u6536\u4FE1\u4EE4",500,jt);var St=null;jt.indexOf("OffLine:File Over")===-1&&jt.indexOf("OffLine: File Over")===-1&&jt.indexOf("OffLine:Internal Error")===-1||(ve.fileOver=!0),jt.indexOf("OffLine:Internal Error")!==-1&&rn({errorCode:500,description:"Internal Error"}),jt.indexOf("OffLine:KmsUnavailable")!==-1&&rn({errorCode:203}),lt===!0?(St=jt.lastIndexOf(`\r
`),lt=!1):St=jt.search(`\r
\r
`);var Gn=jt.search("RTSP");if(Gn===-1)return void(ct=new Uint8Array);if(St===-1)return void(Le=ct.length);Ue=ct.subarray(Gn,St+6),ct=ct.subarray(St+6),Pr(tn(String.fromCharCode.apply(null,Ue))),Le=ct.length}else{if(gr("ws\u63A5\u6536\u7801\u6D41",5),ze=ct.subarray(0,6),!((Qe=ze[2]<<24|ze[3]<<16|ze[4]<<8|ze[5])+6<=ct.length))return void(Le=ct.length);var Hn=ct.subarray(6,Qe+6);Ir(ze,Hn),ct=ct.subarray(Qe+6),Le=ct.length}}function Ir(Wt,ct){xe&&xe(ct,pe?"talk":"video")}function ta(Wt){var ct={};ct.Sessions=[];var Pn=null;Wt.search("Content-Type: application/sdp")!==-1?Pn=Wt.split(`\r
\r
`)[1]:Pn=Wt;var jt=Pn.split(`\r
`),St=0,Gn=!1;for(St=0;St<jt.length;St++){var Hn=jt[St].split("=");if(Hn.length>0)switch(Hn[0]){case"a":var fi=Hn[1].split(":");if(fi.length>1){if(fi[0]==="control"){var mn=jt[St].search("control:");Gn===!0?mn!==-1&&(ct.Sessions[ct.Sessions.length-1].ControlURL=jt[St].substr(mn+8)):mn!==-1&&(ct.BaseURL=jt[St].substr(mn+8))}else if(fi[0]==="rtpmap"){var ti=fi[1].split(" ");ct.Sessions[ct.Sessions.length-1].PayloadType=ti[0];var Hi=ti[1].split("/");ct.Sessions[ct.Sessions.length-1].CodecMime=Hi[0],Hi.length>1&&(ct.Sessions[ct.Sessions.length-1].ClockFreq=Hi[1])}else if(fi[0]==="framesize"){var ni=fi[1].split(" ");if(ni.length>1){var sr=ni[1].split("-");ct.Sessions[ct.Sessions.length-1].Width=sr[0],ct.Sessions[ct.Sessions.length-1].Height=sr[1]}}else if(fi[0]==="framerate")ct.Sessions[ct.Sessions.length-1].Framerate=fi[1];else if(fi[0]==="fmtp"){var Zi=jt[St].split(" ");if(Zi.length<2)continue;for(var hi=1;hi<Zi.length;hi++){var Jn=Zi[hi].split(";"),Xn=0;for(Xn=0;Xn<Jn.length;Xn++){var mi=Jn[Xn].search("mode=");if(mi!==-1&&(ct.Sessions[ct.Sessions.length-1].mode=Jn[Xn].substr(mi+5)),(mi=Jn[Xn].search("config="))!==-1&&(ct.Sessions[ct.Sessions.length-1].config=Jn[Xn].substr(mi+7),ct.Sessions[ct.Sessions.length-1].config,ct.Sessions[ct.Sessions.length-1].ClockFreq,ct.Sessions[ct.Sessions.length-1].Bitrate),(mi=Jn[Xn].search("sprop-vps="))!==-1&&(ct.Sessions[ct.Sessions.length-1].VPS=Jn[Xn].substr(mi+10)),(mi=Jn[Xn].search("sprop-sps="))!==-1&&(ct.Sessions[ct.Sessions.length-1].SPS=Jn[Xn].substr(mi+10)),(mi=Jn[Xn].search("sprop-pps="))!==-1&&(ct.Sessions[ct.Sessions.length-1].PPS=Jn[Xn].substr(mi+10)),(mi=Jn[Xn].search("sprop-parameter-sets="))!==-1){var lr=Jn[Xn].substr(mi+21).split(",");lr.length>1&&(ct.Sessions[ct.Sessions.length-1].SPS=lr[0],ct.Sessions[ct.Sessions.length-1].PPS=lr[1])}}}}}break;case"m":var qi=Hn[1].split(" "),Ct={};Ct.Type=qi[0],Ct.Port=qi[1],Ct.Payload=qi[3],ct.Sessions.push(Ct),Gn=!0;break;case"b":if(Gn===!0){var at=Hn[1].split(":");ct.Sessions[ct.Sessions.length-1].Bitrate=at[1]}}}return ct}function Fn(){for(var Wt=arguments.length,ct=new Array(Wt),Pn=0;Pn<Wt;Pn++)ct[Pn]=arguments[Pn];c.log.apply(c,["|WebsocketServer.js|"+fe+"|"].concat(ct))}function gr(Wt,ct){for(var Pn=arguments.length,jt=new Array(Pn>2?Pn-2:0),St=2;St<Pn;St++)jt[St-2]=arguments[St];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_LOG,"|WebsocketServer.js|"+fe+"|"+Wt,ct].concat(jt))}return vn.prototype={connect:function(){ot=!1,Dt=!1,ve||((ve=new WebSocket(F)).binaryType="arraybuffer",ve.addEventListener("message",Er,!1),ve.onopen=function(){var Wt;Fn("websocket\u901A\u9053\u8FDE\u63A5\u6210\u529F"),Wt=pe?"talk":"video",Ge?Ge(Wt):c.error("WebsocketServer.js m_cbWebSocketOpenCallback is null");var ct=Et("OPTIONS "+de+` RTSP/1.0\r
CSeq: `+ut+`\r
\r
`);ve.send(ct)},ve.onerror=function(Wt){c.error("WebsocketServer.js websocket\u901A\u9053\u8FDE\u63A5\u5931\u8D25",Wt),rn({errorCode:202,description:"Open WebSocket Error"})},ve.onclose=function(Wt){var ct;(function(){for(var Pn=arguments.length,jt=new Array(Pn),St=0;St<Pn;St++)jt[St]=arguments[St];c.warn.apply(c,["|WebsocketServer.js|"+fe+"|"].concat(jt))})("websocket\u6536\u5230onclose\u56DE\u8C03",Wt),ct=pe?"talk":"video",yt?yt(ct):c.error("WebsocketServer.js m_cbWebSocketCloseCallback is null"),pe&&De&&De()})},disconnect:function(){Fn("\u53D1\u9001TEARDOWN\u4FE1\u4EE4"),Pr(Vt("TEARDOWN",null)),clearInterval($t),$t=null,ve!==null&&(ve.onerror=null),ve!==null&&ve.readyState===WebSocket.OPEN&&(Fn("\u5173\u95EDwebsocket\u901A\u9053"),ve.close(),ve=null,Kt=null),Ke&&(Fn("\u505C\u6B62\u97F3\u9891\u901A\u9053"),Ke.stopAudioTalk(),Ke.dispose(),Ke=null)},controlPlayer:function(Wt){var ct="";switch(Fn("currentStatecurrentState=",Wt.command,Ot),Wt.command){case"PLAY":if(Ot="Play",Wt.range!=null){ct=Vt("PLAY",null,null,Wt.range);break}ct=Vt("PLAY",null);break;case"PAUSE":if(Ot==="PAUSE")break;Ot="PAUSE",ct=Vt("PAUSE",null);break;case"SCALE":if(Ot==="PAUSE")break;Ot="SCALE",ct=Vt("SCALE",null,null,Wt.data);break;case"TEARDOWN":ct=Vt("TEARDOWN",null);break;case"audioPlay":case"volumn":case"audioSamplingRate":break;default:Y.log("\u672A\u77E5\u6307\u4EE4: "+Wt.command)}ct!=""&&Pr(ct)},setRTSPURL:function(Wt){de=Wt},setCallback:function(Wt,ct){switch(Wt){case"GetFrameRate":break;case"Error":rn=ct;break;case"wsPlay":$e=ct;break;case"WebSocketOpenCallback":Ge=ct;break;case"WebSocketCloseCallback":yt=ct;break;case"TalkWebSocketCloseCallback":De=ct;break;case"TalkStart":Mt=ct;break;default:c.error("WebsocketServer.js setCallback type error",Wt)}},setUserInfo:function(Wt,ct){ce.username=Wt,ce.passWord=ct},setRtpDataCallback:function(Wt){xe=Wt},capture:function(Wt){},setLessRate:function(Wt){},startAudioCapture:function(){Ke&&Ke.startAudioCapture()},stopAudioCapture:function(){Ke&&Ke.stopAudioCapture()},startVideoCapture:function(){},stopVideoCapture:function(){}},new vn};var qt=function($){function F(Le){var Qe=(Le>>>0).toString(16);return"00000000".substr(0,8-Qe.length)+Qe}function n(Le,Qe,lt){return Le&Qe|~Le&lt}function v(Le,Qe,lt){return lt&Le|~lt&Qe}function I(Le,Qe,lt){return Le^Qe^lt}function U(Le,Qe,lt){return Qe^(Le|~lt)}function W(Le,Qe){return Le[Qe+3]<<24|Le[Qe+2]<<16|Le[Qe+1]<<8|Le[Qe]}function fe(Le){for(var Qe=[],lt=0;lt<Le.length;lt++)if(Le.charCodeAt(lt)<=127)Qe.push(Le.charCodeAt(lt));else for(var nt=encodeURIComponent(Le.charAt(lt)).substr(1).split("%"),Ke=0;Ke<nt.length;Ke++)Qe.push(parseInt(nt[Ke],16));return Qe}function pe(Le){for(var Qe=new Array(Le.length),lt=0;lt<Le.length;lt++)Qe[lt]=Le[lt];return Qe}var ve=null,Ue=null;function ze(Le,Qe){return 4294967295&Le+Qe}return typeof $=="string"?ve=fe($):$.constructor==Array?$.length===0?ve=$:typeof $[0]=="string"?ve=function(Le){for(var Qe=[],lt=0;lt<Le.length;lt++)Qe=Qe.concat(fe(Le[lt]));return Qe}($):typeof $[0]=="number"?ve=$:Ue=typeof $[0]:typeof ArrayBuffer!="undefined"?$ instanceof ArrayBuffer?ve=pe(new Uint8Array($)):$ instanceof Uint8Array||$ instanceof Int8Array?ve=pe($):$ instanceof Uint32Array||$ instanceof Int32Array||$ instanceof Uint16Array||$ instanceof Int16Array||$ instanceof Float32Array||$ instanceof Float64Array?ve=pe(new Uint8Array($.buffer)):Ue=typeof $:Ue=typeof $,Ue&&alert("MD5 type mismatch, cannot process "+Ue),function(){function Le(rn,Xt,Ot,ot){var Ut,Kt,$t=tt;tt=et,et=pt,pt=ze(pt,(Ut=ze(un,ze(rn,ze(Xt,Ot))))<<(Kt=ot)&4294967295|Ut>>>32-Kt),un=$t}var Qe=ve.length;ve.push(128);var lt=ve.length%64;if(lt>56){for(var nt=0;nt<64-lt;nt++)ve.push(0);lt=ve.length%64}for(nt=0;nt<56-lt;nt++)ve.push(0);ve=ve.concat(function(rn){for(var Xt=[],Ot=0;Ot<8;Ot++)Xt.push(255&rn),rn>>>=8;return Xt}(8*Qe));var Ke=1732584193,xt=4023233417,Lt=2562383102,bt=271733878,un=0,pt=0,et=0,tt=0;for(nt=0;nt<ve.length/64;nt++){un=Ke;var ut=64*nt;Le(n(pt=xt,et=Lt,tt=bt),3614090360,W(ve,ut),7),Le(n(pt,et,tt),3905402710,W(ve,ut+4),12),Le(n(pt,et,tt),606105819,W(ve,ut+8),17),Le(n(pt,et,tt),3250441966,W(ve,ut+12),22),Le(n(pt,et,tt),4118548399,W(ve,ut+16),7),Le(n(pt,et,tt),1200080426,W(ve,ut+20),12),Le(n(pt,et,tt),2821735955,W(ve,ut+24),17),Le(n(pt,et,tt),4249261313,W(ve,ut+28),22),Le(n(pt,et,tt),1770035416,W(ve,ut+32),7),Le(n(pt,et,tt),2336552879,W(ve,ut+36),12),Le(n(pt,et,tt),4294925233,W(ve,ut+40),17),Le(n(pt,et,tt),2304563134,W(ve,ut+44),22),Le(n(pt,et,tt),1804603682,W(ve,ut+48),7),Le(n(pt,et,tt),4254626195,W(ve,ut+52),12),Le(n(pt,et,tt),2792965006,W(ve,ut+56),17),Le(n(pt,et,tt),1236535329,W(ve,ut+60),22),Le(v(pt,et,tt),4129170786,W(ve,ut+4),5),Le(v(pt,et,tt),3225465664,W(ve,ut+24),9),Le(v(pt,et,tt),643717713,W(ve,ut+44),14),Le(v(pt,et,tt),3921069994,W(ve,ut),20),Le(v(pt,et,tt),3593408605,W(ve,ut+20),5),Le(v(pt,et,tt),38016083,W(ve,ut+40),9),Le(v(pt,et,tt),3634488961,W(ve,ut+60),14),Le(v(pt,et,tt),3889429448,W(ve,ut+16),20),Le(v(pt,et,tt),568446438,W(ve,ut+36),5),Le(v(pt,et,tt),3275163606,W(ve,ut+56),9),Le(v(pt,et,tt),4107603335,W(ve,ut+12),14),Le(v(pt,et,tt),1163531501,W(ve,ut+32),20),Le(v(pt,et,tt),2850285829,W(ve,ut+52),5),Le(v(pt,et,tt),4243563512,W(ve,ut+8),9),Le(v(pt,et,tt),1735328473,W(ve,ut+28),14),Le(v(pt,et,tt),2368359562,W(ve,ut+48),20),Le(I(pt,et,tt),4294588738,W(ve,ut+20),4),Le(I(pt,et,tt),2272392833,W(ve,ut+32),11),Le(I(pt,et,tt),1839030562,W(ve,ut+44),16),Le(I(pt,et,tt),4259657740,W(ve,ut+56),23),Le(I(pt,et,tt),2763975236,W(ve,ut+4),4),Le(I(pt,et,tt),1272893353,W(ve,ut+16),11),Le(I(pt,et,tt),4139469664,W(ve,ut+28),16),Le(I(pt,et,tt),3200236656,W(ve,ut+40),23),Le(I(pt,et,tt),681279174,W(ve,ut+52),4),Le(I(pt,et,tt),3936430074,W(ve,ut),11),Le(I(pt,et,tt),3572445317,W(ve,ut+12),16),Le(I(pt,et,tt),76029189,W(ve,ut+24),23),Le(I(pt,et,tt),3654602809,W(ve,ut+36),4),Le(I(pt,et,tt),3873151461,W(ve,ut+48),11),Le(I(pt,et,tt),530742520,W(ve,ut+60),16),Le(I(pt,et,tt),3299628645,W(ve,ut+8),23),Le(U(pt,et,tt),4096336452,W(ve,ut),6),Le(U(pt,et,tt),1126891415,W(ve,ut+28),10),Le(U(pt,et,tt),2878612391,W(ve,ut+56),15),Le(U(pt,et,tt),4237533241,W(ve,ut+20),21),Le(U(pt,et,tt),1700485571,W(ve,ut+48),6),Le(U(pt,et,tt),2399980690,W(ve,ut+12),10),Le(U(pt,et,tt),4293915773,W(ve,ut+40),15),Le(U(pt,et,tt),2240044497,W(ve,ut+4),21),Le(U(pt,et,tt),1873313359,W(ve,ut+32),6),Le(U(pt,et,tt),4264355552,W(ve,ut+60),10),Le(U(pt,et,tt),2734768916,W(ve,ut+24),15),Le(U(pt,et,tt),1309151649,W(ve,ut+52),21),Le(U(pt,et,tt),4149444226,W(ve,ut+16),6),Le(U(pt,et,tt),3174756917,W(ve,ut+44),10),Le(U(pt,et,tt),718787259,W(ve,ut+8),15),Le(U(pt,et,tt),3951481745,W(ve,ut+36),21),Ke=ze(Ke,un),xt=ze(xt,pt),Lt=ze(Lt,et),bt=ze(bt,tt)}return function(rn,Xt,Ot,ot){for(var Ut="",Kt=0,$t=0,de=3;de>=0;de--)Kt=255&($t=arguments[de]),Kt<<=8,Kt|=255&($t>>>=8),Kt<<=8,Kt|=255&($t>>>=8),Kt<<=8,Ut+=F(Kt|=$t>>>=8);return Ut}(bt,Lt,xt,Ke).toUpperCase()}()},bn=function($){return function(F){for(var n,v="0123456789abcdef",I="",U=0;U<F.length;U++)n=F.charCodeAt(U),I+=v.charAt(n>>>4&15)+v.charAt(15&n);return I}(function(F){return function(n){for(var v="",I=0;I<32*n.length;I+=8)v+=String.fromCharCode(n[I>>5]>>>24-I%32&255);return v}(function(n,v){n[v>>5]|=128<<24-v%32,n[15+(v+64>>9<<4)]=v;for(var I=Array(80),U=1732584193,W=-271733879,fe=-1732584194,pe=271733878,ve=-1009589776,Ue=0;Ue<n.length;Ue+=16){for(var ze=U,Le=W,Qe=fe,lt=pe,nt=ve,Ke=0;Ke<80;Ke++){I[Ke]=Ke<16?n[Ue+Ke]:Yn(I[Ke-3]^I[Ke-8]^I[Ke-14]^I[Ke-16],1);var xt=kn(kn(Yn(U,5),sn(Ke,W,fe,pe)),kn(kn(ve,I[Ke]),gn(Ke)));ve=pe,pe=fe,fe=Yn(W,30),W=U,U=xt}U=kn(U,ze),W=kn(W,Le),fe=kn(fe,Qe),pe=kn(pe,lt),ve=kn(ve,nt)}return Array(U,W,fe,pe,ve)}(function(n){for(var v=Array(n.length>>2),I=0;I<v.length;I++)v[I]=0;for(I=0;I<8*n.length;I+=8)v[I>>5]|=(255&n.charCodeAt(I/8))<<24-I%32;return v}(F),8*F.length))}(function(F){for(var n,v,I="",U=-1;++U<F.length;)n=F.charCodeAt(U),v=U+1<F.length?F.charCodeAt(U+1):0,55296<=n&&n<=56319&&56320<=v&&v<=57343&&(n=65536+((1023&n)<<10)+(1023&v),U++),n<=127?I+=String.fromCharCode(n):n<=2047?I+=String.fromCharCode(192|n>>>6&31,128|63&n):n<=65535?I+=String.fromCharCode(224|n>>>12&15,128|n>>>6&63,128|63&n):n<=2097151&&(I+=String.fromCharCode(240|n>>>18&7,128|n>>>12&63,128|n>>>6&63,128|63&n));return I}($)))};function sn($,F,n,v){return $<20?F&n|~F&v:$<40?F^n^v:$<60?F&n|F&v|n&v:F^n^v}function gn($){return $<20?1518500249:$<40?1859775393:$<60?-1894007588:-899497514}function kn($,F){var n=(65535&$)+(65535&F);return($>>16)+(F>>16)+(n>>16)<<16|65535&n}function Yn($,F){return $<<F|$>>>32-F}function Nn(){Nn=function(){return F};var $,F={},n=Object.prototype,v=n.hasOwnProperty,I=Object.defineProperty||function(de,ce,xe){de[ce]=xe.value},U=typeof Symbol=="function"?Symbol:{},W=U.iterator||"@@iterator",fe=U.asyncIterator||"@@asyncIterator",pe=U.toStringTag||"@@toStringTag";function ve(de,ce,xe){return Object.defineProperty(de,ce,{value:xe,enumerable:!0,configurable:!0,writable:!0}),de[ce]}try{ve({},"")}catch(de){ve=function(ce,xe,$e){return ce[xe]=$e}}function Ue(de,ce,xe,$e){var De=ce&&ce.prototype instanceof xt?ce:xt,Ge=Object.create(De.prototype),yt=new Kt($e||[]);return I(Ge,"_invoke",{value:Xt(de,xe,yt)}),Ge}function ze(de,ce,xe){try{return{type:"normal",arg:de.call(ce,xe)}}catch($e){return{type:"throw",arg:$e}}}F.wrap=Ue;var Le="suspendedStart",Qe="suspendedYield",lt="executing",nt="completed",Ke={};function xt(){}function Lt(){}function bt(){}var un={};ve(un,W,function(){return this});var pt=Object.getPrototypeOf,et=pt&&pt(pt($t([])));et&&et!==n&&v.call(et,W)&&(un=et);var tt=bt.prototype=xt.prototype=Object.create(un);function ut(de){["next","throw","return"].forEach(function(ce){ve(de,ce,function(xe){return this._invoke(ce,xe)})})}function rn(de,ce){function xe(De,Ge,yt,Mt){var Dt=ze(de[De],de,Ge);if(Dt.type!=="throw"){var vn=Dt.arg,Vt=vn.value;return Vt&&typeof Vt=="object"&&v.call(Vt,"__await")?ce.resolve(Vt.__await).then(function(tn){xe("next",tn,yt,Mt)},function(tn){xe("throw",tn,yt,Mt)}):ce.resolve(Vt).then(function(tn){vn.value=tn,yt(vn)},function(tn){return xe("throw",tn,yt,Mt)})}Mt(Dt.arg)}var $e;I(this,"_invoke",{value:function(De,Ge){function yt(){return new ce(function(Mt,Dt){xe(De,Ge,Mt,Dt)})}return $e=$e?$e.then(yt,yt):yt()}})}function Xt(de,ce,xe){var $e=Le;return function(De,Ge){if($e===lt)throw Error("Generator is already running");if($e===nt){if(De==="throw")throw Ge;return{value:$,done:!0}}for(xe.method=De,xe.arg=Ge;;){var yt=xe.delegate;if(yt){var Mt=Ot(yt,xe);if(Mt){if(Mt===Ke)continue;return Mt}}if(xe.method==="next")xe.sent=xe._sent=xe.arg;else if(xe.method==="throw"){if($e===Le)throw $e=nt,xe.arg;xe.dispatchException(xe.arg)}else xe.method==="return"&&xe.abrupt("return",xe.arg);$e=lt;var Dt=ze(de,ce,xe);if(Dt.type==="normal"){if($e=xe.done?nt:Qe,Dt.arg===Ke)continue;return{value:Dt.arg,done:xe.done}}Dt.type==="throw"&&($e=nt,xe.method="throw",xe.arg=Dt.arg)}}}function Ot(de,ce){var xe=ce.method,$e=de.iterator[xe];if($e===$)return ce.delegate=null,xe==="throw"&&de.iterator.return&&(ce.method="return",ce.arg=$,Ot(de,ce),ce.method==="throw")||xe!=="return"&&(ce.method="throw",ce.arg=new TypeError("The iterator does not provide a '"+xe+"' method")),Ke;var De=ze($e,de.iterator,ce.arg);if(De.type==="throw")return ce.method="throw",ce.arg=De.arg,ce.delegate=null,Ke;var Ge=De.arg;return Ge?Ge.done?(ce[de.resultName]=Ge.value,ce.next=de.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=$),ce.delegate=null,Ke):Ge:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,Ke)}function ot(de){var ce={tryLoc:de[0]};1 in de&&(ce.catchLoc=de[1]),2 in de&&(ce.finallyLoc=de[2],ce.afterLoc=de[3]),this.tryEntries.push(ce)}function Ut(de){var ce=de.completion||{};ce.type="normal",delete ce.arg,de.completion=ce}function Kt(de){this.tryEntries=[{tryLoc:"root"}],de.forEach(ot,this),this.reset(!0)}function $t(de){if(de||de===""){var ce=de[W];if(ce)return ce.call(de);if(typeof de.next=="function")return de;if(!isNaN(de.length)){var xe=-1,$e=function De(){for(;++xe<de.length;)if(v.call(de,xe))return De.value=de[xe],De.done=!1,De;return De.value=$,De.done=!0,De};return $e.next=$e}}throw new TypeError(typeof de+" is not iterable")}return Lt.prototype=bt,I(tt,"constructor",{value:bt,configurable:!0}),I(bt,"constructor",{value:Lt,configurable:!0}),Lt.displayName=ve(bt,pe,"GeneratorFunction"),F.isGeneratorFunction=function(de){var ce=typeof de=="function"&&de.constructor;return!!ce&&(ce===Lt||(ce.displayName||ce.name)==="GeneratorFunction")},F.mark=function(de){return Object.setPrototypeOf?Object.setPrototypeOf(de,bt):(de.__proto__=bt,ve(de,pe,"GeneratorFunction")),de.prototype=Object.create(tt),de},F.awrap=function(de){return{__await:de}},ut(rn.prototype),ve(rn.prototype,fe,function(){return this}),F.AsyncIterator=rn,F.async=function(de,ce,xe,$e,De){De===void 0&&(De=Promise);var Ge=new rn(Ue(de,ce,xe,$e),De);return F.isGeneratorFunction(ce)?Ge:Ge.next().then(function(yt){return yt.done?yt.value:Ge.next()})},ut(tt),ve(tt,pe,"Generator"),ve(tt,W,function(){return this}),ve(tt,"toString",function(){return"[object Generator]"}),F.keys=function(de){var ce=Object(de),xe=[];for(var $e in ce)xe.push($e);return xe.reverse(),function De(){for(;xe.length;){var Ge=xe.pop();if(Ge in ce)return De.value=Ge,De.done=!1,De}return De.done=!0,De}},F.values=$t,Kt.prototype={constructor:Kt,reset:function(de){if(this.prev=0,this.next=0,this.sent=this._sent=$,this.done=!1,this.delegate=null,this.method="next",this.arg=$,this.tryEntries.forEach(Ut),!de)for(var ce in this)ce.charAt(0)==="t"&&v.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=$)},stop:function(){this.done=!0;var de=this.tryEntries[0].completion;if(de.type==="throw")throw de.arg;return this.rval},dispatchException:function(de){if(this.done)throw de;var ce=this;function xe(Dt,vn){return Ge.type="throw",Ge.arg=de,ce.next=Dt,vn&&(ce.method="next",ce.arg=$),!!vn}for(var $e=this.tryEntries.length-1;$e>=0;--$e){var De=this.tryEntries[$e],Ge=De.completion;if(De.tryLoc==="root")return xe("end");if(De.tryLoc<=this.prev){var yt=v.call(De,"catchLoc"),Mt=v.call(De,"finallyLoc");if(yt&&Mt){if(this.prev<De.catchLoc)return xe(De.catchLoc,!0);if(this.prev<De.finallyLoc)return xe(De.finallyLoc)}else if(yt){if(this.prev<De.catchLoc)return xe(De.catchLoc,!0)}else{if(!Mt)throw Error("try statement without catch or finally");if(this.prev<De.finallyLoc)return xe(De.finallyLoc)}}}},abrupt:function(de,ce){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.tryLoc<=this.prev&&v.call($e,"finallyLoc")&&this.prev<$e.finallyLoc){var De=$e;break}}De&&(de==="break"||de==="continue")&&De.tryLoc<=ce&&ce<=De.finallyLoc&&(De=null);var Ge=De?De.completion:{};return Ge.type=de,Ge.arg=ce,De?(this.method="next",this.next=De.finallyLoc,Ke):this.complete(Ge)},complete:function(de,ce){if(de.type==="throw")throw de.arg;return de.type==="break"||de.type==="continue"?this.next=de.arg:de.type==="return"?(this.rval=this.arg=de.arg,this.method="return",this.next="end"):de.type==="normal"&&ce&&(this.next=ce),Ke},finish:function(de){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var xe=this.tryEntries[ce];if(xe.finallyLoc===de)return this.complete(xe.completion,xe.afterLoc),Ut(xe),Ke}},catch:function(de){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var xe=this.tryEntries[ce];if(xe.tryLoc===de){var $e=xe.completion;if($e.type==="throw"){var De=$e.arg;Ut(xe)}return De}}throw Error("illegal catch attempt")},delegateYield:function(de,ce,xe){return this.delegate={iterator:$t(de),resultName:ce,nextLoc:xe},this.method==="next"&&(this.arg=$),Ke}},F}function pi($,F,n,v,I,U,W){try{var fe=$[U](W),pe=fe.value}catch(ve){return void n(ve)}fe.done?F(pe):Promise.resolve(pe).then(v,I)}function Ln($){return function(){var F=this,n=arguments;return new Promise(function(v,I){var U=$.apply(F,n);function W(pe){pi(U,v,I,W,fe,"next",pe)}function fe(pe){pi(U,v,I,W,fe,"throw",pe)}W(void 0)})}}var si=function(){function $(n){n===void 0&&(n=0),this.nPlayId=n,this.stream=null,this.encoder=null,this.reader=null,this.isEncoding=!1,this.frameCount=0,this.jsInputData=null,this.jsInputDataAry=null,this.encArr=new Uint8Array,this.visualTalkErrorCallback=null,this.isOpenVideo=!1}var F=$.prototype;return F.start=function(){var n=Ln(Nn().mark(function v(I,U){var W,fe,pe,ve,Ue,ze,Le,Qe,lt,nt=this;return Nn().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:return Module._PLAY_StartVideoTalk(U.width,U.height,U.frameRate,225),this.jsInputData=Module._malloc(5242880),this.jsInputDataAry=new Uint8Array(Module.HEAPU8.buffer,this.jsInputData,5242880),Ke.next=5,this.checkEnvironment();case 5:if(Ke.sent){Ke.next=8;break}return Ke.abrupt("return");case 8:return Ke.next=10,navigator.mediaDevices.getUserMedia({video:{width:U.width,height:U.height}});case 10:if(this.stream=Ke.sent,this.isEncoding=!0,this.isOpenVideo=!0,I.srcObject=this.stream,W=this.stream.getVideoTracks()[0],fe=!1,"VideoEncoder"in window?(fe=!0,this.logVideoCapturerLog("VideoEncoder is support")):(fe=!1,this.logVideoCapturerError("VideoEncoder is not support")),pe=!1,!fe){Ke.next=22;break}return Ke.next=21,VideoEncoder.isConfigSupported({codec:"avc1.42001E",height:U.height,width:U.width});case 21:pe=Ke.sent;case 22:fe&&pe.supported?(this.logVideoCapturerLog("\u6D4F\u89C8\u5668\u652F\u6301\u786C\u7F16"),this.encoder=new VideoEncoder({output:this.handleEncodedData.bind(this),error:function(xt){return nt.logVideoCapturerError("\u7F16\u7801\u5668\u9519\u8BEF:",xt)}}),ve={codec:"avc1.42001E",width:U.width,height:U.height,bitrate:256e3,framerate:U.frameRate,latencyMode:"realtime",avc:{format:"annexb"}},this.encoder.configure(ve),typeof MediaStreamTrackProcessor!="undefined"?(Ue=new MediaStreamTrackProcessor({track:W}),this.reader=Ue.readable.getReader(),this.encodeFrames()):((ze=document.createElement("video")).srcObject=this.stream,ze.autoplay=!0,ze.playsInline=!0,Le=function(){var xt=Ln(Nn().mark(function Lt(){var bt,un,pt;return Nn().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(nt.isEncoding){et.next=2;break}return et.abrupt("return");case 2:return et.prev=2,(bt=document.createElement("canvas")).width=U.width,bt.height=U.height,bt.getContext("2d").drawImage(ze,0,0,bt.width,bt.height),un=new VideoFrame(bt,{timestamp:1e3*performance.now(),duration:0}),pt=nt.frameCount%225===0,et.next=12,nt.encoder.encode(un,{keyFrame:pt});case 12:un.close(),nt.frameCount++,ze.requestVideoFrameCallback?ze.requestVideoFrameCallback(Le):nt.logVideoCapturerError("requestVideoFrameCallback is not support"),et.next=20;break;case 17:et.prev=17,et.t0=et.catch(2),nt.logVideoCapturerError("\u5904\u7406\u89C6\u9891\u5E27\u65F6\u51FA\u9519:",et.t0);case 20:case"end":return et.stop()}},Lt,null,[[2,17]])}));return function(){return xt.apply(this,arguments)}}(),ze.requestVideoFrameCallback?ze.requestVideoFrameCallback(Le):this.logVideoCapturerError("requestVideoFrameCallback is not support"))):(this.logVideoCapturerLog("\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u786C\u7F16\uFF0C\u8D70\u8F6F\u7F16"),(Qe=document.createElement("video")).srcObject=this.stream,Qe.autoplay=!0,Qe.playsInline=!0,lt=function(){var xt=Ln(Nn().mark(function Lt(){var bt,un,pt,et;return Nn().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:if(nt.isEncoding){tt.next=2;break}return tt.abrupt("return");case 2:try{(bt=document.createElement("canvas")).width=U.width,bt.height=U.height,(un=bt.getContext("2d")).drawImage(Qe,0,0,bt.width,bt.height),pt=un.getImageData(0,0,bt.width,bt.height),et=nt.rgb2yuv(pt.data,bt.width,bt.height),nt.jsInputDataAry.byteLength===0&&(nt.logVideoCapturerLog("ArrayBuffer is detached"),nt.jsInputDataAry=null,nt.jsInputDataAry=new Uint8Array(Module.HEAPU8.buffer,nt.jsInputData,5242880),nt.logVideoCapturerLog("enter inputdata1 new uint8array",nt.jsInputDataAry.length)),nt.jsInputDataAry.set(et),Module._PLAY_InputTalkVideoData(nt.jsInputDataAry.byteOffset,et.length,!0),Qe.requestVideoFrameCallback?Qe.requestVideoFrameCallback(lt):nt.logVideoCapturerError("requestVideoFrameCallback is not support")}catch(ut){nt.logVideoCapturerError("\u5904\u7406\u89C6\u9891\u5E27\u65F6\u51FA\u9519:",ut)}case 3:case"end":return tt.stop()}},Lt)}));return function(){return xt.apply(this,arguments)}}(),Qe.requestVideoFrameCallback?Qe.requestVideoFrameCallback(lt):this.logVideoCapturerError("requestVideoFrameCallback is not support"));case 23:case"end":return Ke.stop()}},v,this)}));return function(v,I){return n.apply(this,arguments)}}(),F.rgb2yuv=function(n,v,I){for(var U=new Uint8Array(v*I*1.5),W=0,fe=v*I,pe=fe+v*I/4,ve=0;ve<I;ve++)for(var Ue=0;Ue<v;Ue++){var ze=n[4*(ve*v+Ue)],Le=n[4*(ve*v+Ue)+1],Qe=n[4*(ve*v+Ue)+2],lt=.299*ze+.587*Le+.114*Qe,nt=-.169*ze-.331*Le+.5*Qe+128,Ke=.5*ze-.419*Le-.081*Qe+128;U[W++]=Math.min(255,Math.max(0,lt)),ve%2===0&&Ue%2===0&&(U[fe++]=Math.min(255,Math.max(0,nt)),U[pe++]=Math.min(255,Math.max(0,Ke)))}return U},F.encodeFrames=function(){var n=Ln(Nn().mark(function v(){var I,U,W;return Nn().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(!this.isEncoding){fe.next=19;break}return fe.prev=1,fe.next=4,this.reader.read();case 4:if(!(I=fe.sent).done){fe.next=7;break}return fe.abrupt("break",19);case 7:U=I.value,this.isOpenVideo&&(W=this.frameCount%225===0,this.encoder.encode(U,{keyFrame:W})),U.close(),this.frameCount++,fe.next=17;break;case 13:return fe.prev=13,fe.t0=fe.catch(1),this.logVideoCapturerError("\u5E27\u5904\u7406\u9519\u8BEF:",fe.t0),fe.abrupt("break",19);case 17:fe.next=0;break;case 19:case"end":return fe.stop()}},v,this,[[1,13]])}));return function(){return n.apply(this,arguments)}}(),F.handleEncodedData=function(n,v){this.logVideoCapturerLogWithKeyLimit("\u5904\u7406\u7F16\u7801\u540E\u7684\u6570\u636E",5,v,n);var I=new Uint8Array(n.byteLength);n.copyTo(I),this.isOpenVideo&&(this.jsInputDataAry.set(I),Module._PLAY_InputTalkVideoData(this.jsInputDataAry.byteOffset,I.length,!1))},F.stop=function(){var n=Ln(Nn().mark(function v(){return Nn().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(this.logVideoCapturerLog("videoStop",this.stream,this.encoder,this.reader),this.stream){I.next=3;break}return I.abrupt("return",!1);case 3:if(this.isEncoding=!1,this.isOpenVideo=!1,this.stream&&(this.stream.getTracks().forEach(function(U){return U.stop()}),this.stream=null),!this.encoder){I.next=11;break}return I.next=9,this.encoder.flush();case 9:this.encoder.close(),this.encoder=null;case 11:if(!this.reader){I.next=16;break}return I.next=14,this.reader.cancel().catch(function(){});case 14:this.reader.releaseLock(),this.reader=null;case 16:return Module._PLAY_StopVideoTalk(),I.abrupt("return",!0);case 18:case"end":return I.stop()}},v,this)}));return function(){return n.apply(this,arguments)}}(),F.checkEnvironment=function(){var n=Ln(Nn().mark(function v(){var I;return Nn().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(U.prev=0,navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){U.next=4;break}return this.visualTalkErrorCallback({errorCode:801}),U.abrupt("return",!1);case 4:return U.next=6,this.checkCameraDevices();case 6:if(U.sent){U.next=10;break}return this.visualTalkErrorCallback({errorCode:802}),U.abrupt("return",!1);case 10:return U.next=12,this.requestCameraAccess();case 12:return I=U.sent,U.abrupt("return",I);case 16:U.prev=16,U.t0=U.catch(0),this.visualTalkErrorCallback({errorCode:805,description:U.t0.message});case 19:return U.abrupt("return",!1);case 20:case"end":return U.stop()}},v,this,[[0,16]])}));return function(){return n.apply(this,arguments)}}(),F.checkCameraDevices=function(){var n=Ln(Nn().mark(function v(){var I;return Nn().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.prev=0,U.next=3,navigator.mediaDevices.enumerateDevices();case 3:return I=U.sent,U.abrupt("return",I.some(function(W){return W.kind==="videoinput"}));case 7:return U.prev=7,U.t0=U.catch(0),this.logVideoCapturerError("\u68C0\u67E5\u97F3\u9891\u8F93\u5165\u8BBE\u5907\u65F6\u53D1\u751F\u9519\u8BEF\uFF1A",U.t0),U.abrupt("return",!1);case 11:case"end":return U.stop()}},v,this,[[0,7]])}));return function(){return n.apply(this,arguments)}}(),F.requestCameraAccess=function(){var n=Ln(Nn().mark(function v(){var I;return Nn().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.prev=0,U.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:if(!(I=U.sent)){U.next=7;break}return I.getTracks().forEach(function(W){return W.stop()}),U.abrupt("return",!0);case 7:U.next=12;break;case 9:U.prev=9,U.t0=U.catch(0),U.t0.name==="NotAllowedError"?this.visualTalkErrorCallback({errorCode:803}):U.t0.name==="NotFoundError"?this.visualTalkErrorCallback({errorCode:804}):this.logVideoCapturerError("\u65E0\u6CD5\u8BBF\u95EE\u6444\u50CF\u5934\uFF1A",U.t0);case 12:return U.abrupt("return",!1);case 13:case"end":return U.stop()}},v,this,[[0,9]])}));return function(){return n.apply(this,arguments)}}(),F.startVideoCapture=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(n){n.enabled=!0}),this.isOpenVideo=!0)},F.stopVideoCapture=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(n){n.enabled=!1}),this.isOpenVideo=!1)},F.setVisualTalkErrorCallback=function(n){this.visualTalkErrorCallback=n},F.logVideoCapturerLog=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];c.log.apply(c,["|VideoCapturer.js|"+this.nPlayId+"|"].concat(v))},F.logVideoCapturerWarn=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];c.warn.apply(c,["|VideoCapturer.js|"+this.nPlayId+"|"].concat(v))},F.logVideoCapturerError=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];c.error.apply(c,["|VideoCapturer.js|"+this.nPlayId+"|"].concat(v))},F.logVideoCapturerLogWithKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_LOG,"|VideoCapturer.js|"+this.nPlayId+"|"+n,v].concat(U))},F.logVideoCapturerWarnWithKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_WARN,"|VideoCapturer.js|"+this.nPlayId+"|"+n,v].concat(U))},F.logVideoCapturerErrorWithKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_ERROR,"|VideoCapturer.js|"+this.nPlayId+"|"+n,v].concat(U))},$}();const Xi=si,or=function($){var F=$,n=Math.random(),v=!1,I="",U="",W="",fe=null,pe=null,ve=null,Ue=0,ze=0,Le=!1,Qe=!1,lt=!1,nt=0,Ke=!1,xt=null,Lt=null,bt=200,un=401,pt=404,et=457,tt=503,ut="",rn='Authorization: WSSE profile="UsernameToken"',Xt=[],Ot=0,ot={},Ut="",Kt=null,$t=null,de=null,ce=null,xe={},$e=null,De=null,Ge=null,yt=null,Mt=null,Dt=null,vn=!1,Vt=null,tn="play",di=0,Pr=null,Et={},Er=[],Ir=!1,ta=!1,Fn=!1,gr=!0,Wt=!0,ct=!0,Pn=null;function jt(){}function St(Ct,at,Ft,it){return v?function(wt,Un,Bn,On){var Qt="";switch(wt){case"OPTIONS":case"TEARDOWN":case"GET_PARAMETER":case"SET_PARAMETERS":Qt=wt+" "+U+` RTSP/1.0\r
CSeq: `+Ot+`\r
`+ut+`\r
`;break;case"DESCRIBE":Qt=wt+" "+U+` RTSP/1.0\r
CSeq: `+Ot,Qe===!0&&U.indexOf("subtype=5")===-1&&(Qt=Qt+`\r
Require: www.onvif.org/ver20/backchannel`),Qt=Qt+`\r
`+ut+`\r
`;break;case"SETUP":Qt=wt+" "+U+"/trackID="+Un+` RTSP/1.0\r
CSeq: `+Ot+`\r
`+ut+"Transport: DH/AVP/TCP;unicast;interleaved="+2*Un+"-"+(2*Un+1)+`\r
`,Qt+=$t!=0?"Session: "+$t+`\r
\r
`:`\r
`;break;case"PLAY":Qt=wt+" "+U+` RTSP/1.0\r
CSeq: `+Ot+`\r
Session: `+$t+`\r
`,On!=null&&On!=0&&(Qt+="Range: npt="+On+`-\r
`),Qt+=ut+`\r
`;break;case"PAUSE":Qt=wt+" "+U+` RTSP/1.0\r
CSeq: `+Ot+`\r
Session: `+$t+`\r
\r
`;break;case"SCALE":Qt="PLAY "+U+` RTSP/1.0\r
CSeq: `+Ot+`\r
Session: `+$t+`\r
`,Qt+=On<4?"Speed: "+On+`\r
`:"Scale: "+On+`\r
`,Qt+=ut+`\r
`}return Qt}(Ct,at,0,it):function(wt,Un,Bn,On){hi("RtsvCommandConstructor method = ",wt," trackID=",Un," extHeader=",Bn," range=",On);var Qt="",jn="",wr=qt(xe.username+"::"+xe.password),ur=I.split("://")[1].split("/")[0].split(":")[0]+":8086",cn=W&&W.replace(/&beginTime=\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}&endTime=\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/,"");switch(wt){case"PLAY":var nn=function(){for(var en=[],Mn=0;Mn<32;Mn++)en.push(String.fromCharCode(256*Math.random()|0));return qt(en.join(""))}(),yn=function(){var en=new Date,Mn=en.getTimezoneOffset(),_n=en.getTime()+60*Mn*1e3,wn=new Date(_n),Bi=wn.getFullYear(),wi=wn.getMonth()+1,xi=wn.getDate(),cr=wn.getHours(),mr=wn.getMinutes(),l=wn.getSeconds(),P=function(V){return V<10?"0"+V:V};return Bi+"-"+P(wi)+"-"+P(xi)+"T"+P(cr)+":"+P(mr)+":"+P(l)+"Z"}(),Zn=function(en){for(var Mn,_n,wn,Bi,wi,xi,cr,mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",P=0;P<en.length;)Bi=(Mn=en[P++])>>2,wi=(3&Mn)<<4|(_n=en[P++])>>4,xi=(15&_n)<<2|(wn=en[P++])>>6,cr=63&wn,isNaN(_n)?xi=cr=64:isNaN(wn)&&(cr=64),l=l+mr.charAt(Bi)+mr.charAt(wi)+mr.charAt(xi)+mr.charAt(cr);return l}(function(en){var Mn,_n=en.trim(),wn=_n.substr(0,2).toLowerCase()==="0x"?_n.substr(2):_n,Bi=wn.length;if(Bi%2!==0)return"";for(var wi=[],xi=0;xi<Bi;xi+=2)Mn=parseInt(wn.substr(xi,2),16),wi.push(Mn);return wi}(bn(nn+yn+wr.toUpperCase())));lt&&!Ke?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+"&method=0"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:lt&&Ke&&Et.playbackByType==="byTime"?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&starttime="+Et.playbackStartTime+"&endtime="+Et.playbackEndtime+"&encrypt="+Et.encrypt+"&method=0"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:lt&&Ke&&Et.playbackByType==="byFile"?Qt="GET "+U+"/"+Et.playbackFile+"?encrypt="+Et.encrypt+"&method=0"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:Qe&&!Fn?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+"&level=1&method=0"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:Qe&&Fn&&(Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+(Un?"&trackID="+Un:"")+"&level=1&method=0"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`),Qt+=`Accept-Sdp: Private\r
`,Qt+=ut+`\r
`,Qt+=`Connection: keep-alive\r
Cseq: `+Ot+`\r
Host: `+ur+`\r
`,Qt+=`User-Agent: Http Stream Client/1.0\r
`,On?Qt+="Range: npt="+On+`-\r
`:nt?Qt+="Range: npt="+nt+`-\r
`:Ut!=="ContinuePlay"&&(Qt+=`Range: npt=0.000000-\r
`),Qe&&(jn+=`v=0\r
`,jn+=`o=- 2208989105 2208989105 IN IP4 0.0.0.0\r
`,jn+=`s=Media Server\r
`,jn+=`c=IN IP4 0.0.0.0\r
`,jn+=`t=0 0\r
`,jn+=`a=control:*\r
`,jn+=`a=packetization-supported:DH\r
`,jn+=`a=rtppayload-supported:DH\r
`,jn+=`a=range:npt=now-\r
`,jn+=`m=audio 0 RTP/AVP 8\r
`,jn+=`a=control:trackID=5\r
`,jn+=`a=rtpmap:8 PCMA/16000\r
`,jn+=`a=sendonly\r
`,jn+=`m=video 0 RTP/AVP 96\r
`,jn+=`a=control:trackID=7\r
`,jn+=`a=framerate:15.000000\r
`,jn+=`a=rtpmap:96 H264/90000\r
`,jn+=`a=fmtp\r
`,Qt+="Private-Length: "+(jn+=`a=sendonly\r
`).length+`\r
`,Qt+=`Private-Type: application/sdp\r
`),Qt+=ut===rn?'WSSE: UsernameToken Username="'+xe.username+'", PasswordDigest="'+Zn+'", Nonce="'+nn+'", Created="'+yn+`"\r
\r
`:`\r
`,Qt+=jn;break;case"PAUSE":lt&&!Ke?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+"&method=1"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:lt&&Ke&&Et.playbackByType==="byTime"?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&starttime="+Et.playbackStartTime+"&endtime="+Et.playbackEndtime+"&encrypt="+Et.encrypt+"&method=1"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:lt&&Ke&&Et.playbackByType==="byFile"?Qt="GET "+U+"/"+Et.playbackFile+"?encrypt="+Et.encrypt+"&method=1"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:Qe&&!Fn?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+"&level=1&method=1"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:Qe&&Fn&&(Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+(Un?"&trackID="+Un:"")+"&level=1&method=1"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`),Qt+=`Connection: keep-alive\r
Cseq: `+Ot+`\r
Host: `+ur+`\r
\r
`;break;case"KEEP_LIVE":lt&&!Ke?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+"&method=2"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:lt&&Ke&&Et.playbackByType==="byTime"?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&starttime="+Et.playbackStartTime+"&endtime="+Et.playbackEndtime+"&encrypt="+Et.encrypt+"&method=2"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:lt&&Ke&&Et.playbackByType==="byFile"?Qt="GET "+U+"/"+Et.playbackFile+"?encrypt="+Et.encrypt+"&method=2"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:(Qe&&!Fn||Qe&&Fn)&&(Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+"&level=1&method=2"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`),Qt+=`Connection: keep-alive\r
Cseq: `+Ot+`\r
Host: `+ur+`\r
\r
`;break;case"STOP":case"TEARDOWN":lt&&!Ke?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+"&method=3"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:lt&&Ke&&Et.playbackByType==="byTime"?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&starttime="+Et.playbackStartTime+"&endtime="+Et.playbackEndtime+"&encrypt="+Et.encrypt+"&method=3"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:lt&&Ke&&Et.playbackByType==="byFile"?Qt="GET "+U+"/"+Et.playbackFile+"?encrypt="+Et.encrypt+"&method=3"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:Qe&&!Fn?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+"&level=1&method=3"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:Qe&&Fn&&(Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+(Un?"&trackID="+Un:"")+"&level=1&method=3"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`),Qt+=`Connection: keep-alive\r
Cseq: `+Ot+`\r
Host: `+ur+`\r
\r
`;break;case"SCALE":lt&&Ke&&Et.playbackByType==="byTime"?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&starttime="+Et.playbackStartTime+"&endtime="+Et.playbackEndtime+"&encrypt="+Et.encrypt+"&method=0"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:lt&&Ke&&Et.playbackByType==="byFile"&&(Qt="GET "+U+"/"+Et.playbackFile+"?encrypt="+Et.encrypt+"&method=0"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`),Qt+=On<4?"Speed: "+On+`\r
`:"Scale: "+On+`\r
`,Qt+=`Connection: keep-alive\r
Cseq: `+Ot+`\r
Host: `+ur+`\r
\r
`;break;case"DATA_GATHER":Qe&&Fn?Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+(Un?"&trackID="+Un:"")+"&level=1"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`:Qe&&!Fn&&(Qt="GET "+U+"?channel="+Et.playChannel+"&subtype="+Et.playSubtype+"&encrypt="+Et.encrypt+"&level=1"+(Bn||"")+(cn.length>0?"?sourceId="+cn:"")+` HTTP/1.1\r
`),Qt+=`Connection: keep-alive\r
Cseq: `+Ot+`\r
Host: `+ur+`\r
\r
`}return Qt}(Ct,at,Ft,it)}function Gn(Ct){var at,Ft=Ct.search("Cseq: ")+5;if(Ot=parseInt(Ct.slice(Ft,Ft+10))+1,(at=function(Zn){var en={},Mn=0,_n=0,wn=null,Bi=null;Zn.search("Content-Type: application/sdp")!==-1?Bi=Zn.split(`\r
\r
`)[0]:Bi=Zn;var wi=Bi.split(`\r
`),xi=wi[0].split(" ");if(xi.length>2&&(en.ResponseCode=parseInt(xi[1]),en.ResponseMessage=xi[2]),en.ResponseCode===bt){for(Mn=1;Mn<wi.length;Mn++)if((wn=wi[Mn].split(":"))[0]==="Public")en.MethodsSupported=wn[1].split(",");else if(wn[0]==="CSeq")en.CSeq=parseInt(wn[1]);else if(wn[0]==="Content-Type")en.ContentType=wn[1],en.ContentType.search("application/sdp")!==-1&&(en.SDPData=Zi(Zn));else if(wn[0]==="Content-Length")en.ContentLength=parseInt(wn[1]);else if(wn[0]==="Content-Base"){var cr=wi[Mn].search("Content-Base:");cr!==-1&&(en.ContentBase=wi[Mn].substr(cr+13))}else if(wn[0]==="Session"){var mr=wn[1].split(";");en.SessionID=parseInt(mr[0])}else if(wn[0]==="Transport"){var l=wn[1].split(";");for(_n=0;_n<l.length;_n++){var P=l[_n].search("interleaved=");if(P!==-1){var V=l[_n].substr(P+12).split("-");V.length>1&&(en.RtpInterlevedID=parseInt(V[0]),en.RtcpInterlevedID=parseInt(V[1]))}}}else if(wn[0]==="RTP-Info"){wn[1]=wi[Mn].substr(9);var te=wn[1].split(",");for(en.RTPInfoList=[],_n=0;_n<te.length;_n++){var he=te[_n].split(";"),ye={},Ie=0;for(Ie=0;Ie<he.length;Ie++){var Pe=he[Ie].search("url=");Pe!==-1&&(ye.URL=he[Ie].substr(Pe+4)),(Pe=he[Ie].search("seq="))!==-1&&(ye.Seq=parseInt(he[Ie].substr(Pe+4)))}en.RTPInfoList.push(ye)}}}else if(en.ResponseCode===un){for(Mn=1;Mn<wi.length;Mn++)if((wn=wi[Mn].split(":"))[0]==="CSeq")en.CSeq=parseInt(wn[1]);else if(wn[0]==="WWW-Authenticate"){var je=wn[1].split(",");for(_n=0;_n<je.length;_n++){var qe=je[_n].search("Digest realm=");if(qe!==-1){var gt=je[_n].substr(qe+13).split('"');en.Realm=gt[1]}if((qe=je[_n].search("nonce="))!==-1){var _t=je[_n].substr(qe+6).split('"');en.Nonce=_t[1]}}}}return en}(Ct)).ResponseCode===un&&(v&&ut===""||!v&&ut===rn))(function(Zn){var en=xe.username,Mn=xe.password,_n={Method:null,Realm:null,Nonce:null,Uri:null},wn=null;_n={Method:Ut.toUpperCase(),Realm:Zn.Realm,Nonce:Zn.Nonce,Uri:U},wn=function(Bi,wi,xi,cr,mr,l){var P=null,V=null;return P=qt(Bi+":"+cr+":"+wi).toLowerCase(),V=qt(l+":"+xi).toLowerCase(),qt(P+":"+mr+":"+V).toLowerCase()}(en,Mn,_n.Uri,_n.Realm,_n.Nonce,_n.Method),ut='Authorization: Digest username="'+en+'", realm="'+_n.Realm+'",',ut+=' nonce="'+_n.Nonce+'", uri="'+_n.Uri+'", response="'+wn+'"',v?(ut+=`\r
`,mn(St("OPTIONS",null,null))):mn(St("PLAY",null,null))})(at);else if(at.ResponseCode===bt)if(Ut==="UnAuthorized"){ot=Zi(Ct),typeof at.ContentBase!="undefined"&&(ot.ContentBase=at.ContentBase);var it=0;for(it=0;it<ot.Sessions.length;it+=1){var wt={};ot.Sessions[it].CodecMime==="JPEG"||ot.Sessions[it].CodecMime==="H264"||ot.Sessions[it].CodecMime==="H265"||ot.Sessions[it].CodecMime=="H264-SVC"||ot.Sessions[it].CodecMime=="RAW"?(wt.codecName=ot.Sessions[it].CodecMime,ot.Sessions[it].CodecMime==="H264-SVC"&&(wt.codecName="H264"),wt.trackID=ot.Sessions[it].ControlURL,wt.ClockFreq=ot.Sessions[it].ClockFreq,wt.Port=parseInt(ot.Sessions[it].Port),typeof ot.Sessions[it].Framerate!="undefined"&&(wt.Framerate=parseInt(ot.Sessions[it].Framerate)),Xt.push(wt)):ot.Sessions[it].CodecMime==="PCMU"||ot.Sessions[it].CodecMime.search("G726-16")!==-1||ot.Sessions[it].CodecMime.search("G726-24")!==-1||ot.Sessions[it].CodecMime.search("G726-32")!==-1||ot.Sessions[it].CodecMime.search("G726-40")!==-1||ot.Sessions[it].CodecMime==="PCMA"||ot.Sessions[it].CodecMime.search("G723.1")!==-1||ot.Sessions[it].CodecMime.search("G729")!==-1||ot.Sessions[it].CodecMime.search("MPA")!==-1||ot.Sessions[it].CodecMime.search("L16")!==-1?(ot.Sessions[it].CodecMime==="PCMU"?wt.codecName="G.711Mu":ot.Sessions[it].CodecMime==="G726-16"?wt.codecName="G.726-16":ot.Sessions[it].CodecMime==="G726-24"?wt.codecName="G.726-24":ot.Sessions[it].CodecMime==="G726-32"?wt.codecName="G.726-32":ot.Sessions[it].CodecMime==="G726-40"?wt.codecName="G.726-40":ot.Sessions[it].CodecMime==="PCMA"?wt.codecName="G.711A":ot.Sessions[it].CodecMime==="G723.1"?wt.codecName="G.723":ot.Sessions[it].CodecMime==="G729"?wt.codecName="G.729":ot.Sessions[it].CodecMime==="MPA"?wt.codecName="mpeg2":ot.Sessions[it].CodecMime==="L16"&&(wt.codecName="PCM"),wt.trackID=ot.Sessions[it].ControlURL,wt.ClockFreq=ot.Sessions[it].ClockFreq,wt.Port=parseInt(ot.Sessions[it].Port),wt.Bitrate=parseInt(ot.Sessions[it].Bitrate),wt.TalkTransType=ot.Sessions[it].TalkTransType,Xt.push(wt)):ot.Sessions[it].CodecMime==="mpeg4-generic"||ot.Sessions[it].CodecMime==="MPEG4-GENERIC"?(wt.codecName="mpeg4-generic",wt.trackID=ot.Sessions[it].ControlURL,wt.ClockFreq=ot.Sessions[it].ClockFreq,wt.Port=parseInt(ot.Sessions[it].Port),wt.Bitrate=parseInt(ot.Sessions[it].Bitrate),wt.TalkTransType=ot.Sessions[it].TalkTransType,Xt.push(wt)):ot.Sessions[it].CodecMime==="vnd.onvif.metadata"?(wt.codecName="MetaData",wt.trackID=ot.Sessions[it].ControlURL,wt.ClockFreq=ot.Sessions[it].ClockFreq,wt.Port=parseInt(ot.Sessions[it].Port),Xt.push(wt)):ot.Sessions[it].CodecMime==="stream-assist-frame"?(wt.codecName="stream-assist-frame",wt.trackID=ot.Sessions[it].ControlURL,wt.ClockFreq=ot.Sessions[it].ClockFreq,wt.Port=parseInt(ot.Sessions[it].Port),Xt.push(wt)):(ot.Sessions[it].Type==="audio"&&Vt({errorCode:201,description:"Audio format not supported"}),hi("Unknown codec type:",ot.Sessions[it].CodecMime,ot.Sessions[it].ControlURL))}for(var Un=0;Un<Xt.length;Un++)Xt[Un].RtpInterlevedID=2*(Xt[Un].trackID.split("=")[1]-0);if(Kt=0,clearInterval(de),de=setInterval(function(){return tn==="GET_PARAMETER"&&Ut!="PAUSE"?di++:di=0,di===6&&(fe.fileOver=!0,jt.prototype.disconnect(),De(),Vt({errorCode:"999",description:"no rtsv response"})),mn(St("KEEP_LIVE",null,null))},2e4),Qe&&Fn){var Bn,On,Qt,jn,wr,ur;hi("SDPinfo",ot,Xt),Xt.find(function(Zn){return Zn.trackID=="trackID=7"})?((Bn=Pn)!=null&&Bn.video||(On=Pn)==null||!On.audio||mn(St("PLAY",64,"&talktype=talk")),(Qt=Pn)==null||!Qt.video||(jn=Pn)!=null&&jn.audio||mn(St("PLAY",128,"&talktype=talk")),(wr=Pn)!=null&&wr.video&&(ur=Pn)!=null&&ur.audio&&mn(St("PLAY",192,"&talktype=talk")),Ut="Playing"):(jt.prototype.disconnect(),Vt({errorCode:"601",description:"\u8BBE\u5907\u4E0D\u652F\u6301\u89C6\u9891\u5BF9\u8BB2"})),clearInterval(ce),ce=setInterval(function(){if(!gr&&!Wt){var Zn=[36,10,0,0,0,49,68,72,65,86,240,0,1,0,14,3,0,0,49,0,0,0,192,251,84,101,194,16,16,172,131,1,14,2,150,1,0,0,136,0,0,0,0,0,0,0,0,100,104,97,118,49,0,0,0],en=new Uint8Array(Zn.length);en.set(new Uint8Array(Zn),0),Hn(en),hi("send empty pkg for keep alive")}},500)}else if(Qe&&!Fn){var cn;hi("SDPinfo",ot,Xt),hi("captureConfig",Pn),(cn=Pn)!=null&&cn.audio&&mn(St("PLAY",null,"&talktype=talk")),Ut="Playing",clearInterval(ce),ce=setInterval(function(){if(!gr&&!Wt){var Zn=[36,10,0,0,0,49,68,72,65,86,240,0,1,0,14,3,0,0,49,0,0,0,192,251,84,101,194,16,16,172,131,1,14,2,150,1,0,0,136,0,0,0,0,0,0,0,0,100,104,97,118,49,0,0,0],en=new Uint8Array(Zn.length);en.set(new Uint8Array(Zn),0),Hn(en),hi("send empty pkg for keep alive")}},500)}}else{if(Ut==="Options")return Ut="Describe",St("DESCRIBE",null,null);if(Ut==="Describe"){ot=Zi(Ct),typeof at.ContentBase!="undefined"&&(ot.ContentBase=at.ContentBase);var nn=0;for(nn=0;nn<ot.Sessions.length;nn+=1){var yn={};ot.Sessions[nn].CodecMime==="JPEG"||ot.Sessions[nn].CodecMime==="H264"||ot.Sessions[nn].CodecMime==="H265"||ot.Sessions[nn].CodecMime=="H264-SVC"?(yn.codecName=ot.Sessions[nn].CodecMime,ot.Sessions[nn].CodecMime=="H264-SVC"&&(yn.codecName="H264"),yn.trackID=ot.Sessions[nn].ControlURL,yn.ClockFreq=ot.Sessions[nn].ClockFreq,yn.Port=parseInt(ot.Sessions[nn].Port),typeof ot.Sessions[nn].Framerate!="undefined"&&(yn.Framerate=parseInt(ot.Sessions[nn].Framerate)),Xt.push(yn)):ot.Sessions[nn].CodecMime==="PCMU"||ot.Sessions[nn].CodecMime.search("G726-16")!==-1||ot.Sessions[nn].CodecMime.search("G726-24")!==-1||ot.Sessions[nn].CodecMime.search("G726-32")!==-1||ot.Sessions[nn].CodecMime.search("G726-40")!==-1||ot.Sessions[nn].CodecMime==="PCMA"?(ot.Sessions[nn].CodecMime==="PCMU"?yn.codecName="G.711Mu":ot.Sessions[nn].CodecMime==="G726-16"?yn.codecName="G.726-16":ot.Sessions[nn].CodecMime==="G726-24"?yn.codecName="G.726-24":ot.Sessions[nn].CodecMime==="G726-32"?yn.codecName="G.726-32":ot.Sessions[nn].CodecMime==="G726-40"?yn.codecName="G.726-40":ot.Sessions[nn].CodecMime==="PCMA"&&(yn.codecName="G.711A"),yn.trackID=ot.Sessions[nn].ControlURL,yn.ClockFreq=ot.Sessions[nn].ClockFreq,yn.Port=parseInt(ot.Sessions[nn].Port),yn.Bitrate=parseInt(ot.Sessions[nn].Bitrate),yn.TalkTransType=ot.Sessions[nn].TalkTransType,Xt.push(yn)):ot.Sessions[nn].CodecMime==="mpeg4-generic"||ot.Sessions[nn].CodecMime==="MPEG4-GENERIC"?(yn.codecName="mpeg4-generic",yn.trackID=ot.Sessions[nn].ControlURL,yn.ClockFreq=ot.Sessions[nn].ClockFreq,yn.Port=parseInt(ot.Sessions[nn].Port),yn.Bitrate=parseInt(ot.Sessions[nn].Bitrate),yn.TalkTransType=ot.Sessions[nn].TalkTransType,Xt.push(yn)):ot.Sessions[nn].CodecMime==="vnd.onvif.metadata"?(yn.codecName="MetaData",yn.trackID=ot.Sessions[nn].ControlURL,yn.ClockFreq=ot.Sessions[nn].ClockFreq,yn.Port=parseInt(ot.Sessions[nn].Port),Xt.push(yn)):ot.Sessions[nn].CodecMime==="stream-assist-frame"?(yn.codecName="stream-assist-frame",yn.trackID=ot.Sessions[nn].ControlURL,yn.ClockFreq=ot.Sessions[nn].ClockFreq,yn.Port=parseInt(ot.Sessions[nn].Port),Xt.push(yn)):(ot.Sessions[nn].Type==="audio"&&Vt({errorCode:201,description:"Audio format not supported"}),qi("Unknown codec type:",5,ot.Sessions[nn].CodecMime,ot.Sessions[nn].ControlURL))}return Kt=0,Ut="Setup",Er.length?St("SETUP",Er[Kt].split("=")[1]-0):St("SETUP",0)}if(Ut==="Setup")return $t=at.SessionID,Kt<Er.length?(Xt[Kt]!=null&&(Xt[Kt].RtpInterlevedID=at.RtpInterlevedID,Xt[Kt].RtcpInterlevedID=at.RtcpInterlevedID),$t?Er[Kt+=1]?St("SETUP",Er[Kt].split("=")[1]):(Ut="Play",St("PLAY",null)):St("SETUP",Er[Kt].split("=")[1])):$t?(Ut="Play",St("PLAY",null,null,nt)):(Kt+=1,St("SETUP",0));Ut==="Play"?($t=at.SessionID,clearInterval(de),de=setInterval(function(){return tn==="GET_PARAMETER"&&Ut!="PAUSE"?di++:di=0,di===6&&(fe.fileOver=!0,fe&&jt.prototype.disconnect(),De(),Vt({errorCode:"999",description:"no rtsp response"})),mn(St("GET_PARAMETER",null,null))},2e4),di=0,Ut="Playing"):Ut==="ContinuePlay"?Ut="Playing":Ut==="Playing"?(Ut="OK",ct=!0):qi("unknown rtsp state:",5,Ut)}else if(at.ResponseCode===tt)if(Ut==="Setup"&&(v&&Xt[Kt].TalkTransType==="sendonly"||!v&&Xt[Kt].trackID.search("trackID=t")!==-1)){if(Xt[Kt].RtpInterlevedID=-1,Xt[Kt].RtcpInterlevedID=-1,Kt+=1,Qe=!1,Vt({errorCode:"504",description:"Talk Service Unavilable",place:"RtspClient.js"}),Kt<Xt.length)return St("SETUP",Xt[Kt].trackID);Ut="Play",St("PLAY",null,null,nt)}else Vt({errorCode:"503",description:"Service Unavilable"});else if(at.ResponseCode===pt){if(Ut==="Describe"||Ut==="Options")return void Vt({errorCode:404,description:"rtsp not found"})}else if(at.ResponseCode===et)return void qi("RTP disconnection detect!!!",5)}function Hn(Ct){fe!==null&&fe.readyState===WebSocket.OPEN&&ct?(Qe&&(vn||(vn=!0,Dt&&Dt())),fe.send(Ct)):lr("SendRtpData - Websocket does not exist",5)}function fi(Ct){Qe===!0&&Hn(Ct)}function mn(Ct){Ct!=null&&Ct!=null&&Ct!=""&&(fe!==null&&fe.readyState===WebSocket.OPEN?(v&&!Le&&Ct.search("DESCRIBE")!==-1&&(Ir=!0,Le=!0),Ct.includes("null")?qi("ws\u53D1\u9001\u4FE1\u4EE4",500,Ct):mi("ws\u53D1\u9001\u4FE1\u4EE4",500,Ct),Ct!=null&&fe.send(ti(Ct))):lr("ws\u53D1\u9001\u4FE1\u4EE4\uFF0C\u4F46ws\u672A\u8FDE\u63A5"))}function ti(Ct){for(var at=Ct.length,Ft=new Uint8Array(new ArrayBuffer(at)),it=0;it<at;it++)Ft[it]=Ct.charCodeAt(it);return Ft}function Hi(Ct){var at=Ct.split("//")[1].split("/")[0];if(I.includes("?serverIp="))I=I.slice(0,I.indexOf("serverIp="))+"serverIp="+at;else{var Ft=location.protocol==="https:"?"wss":"ws";I=I.includes("8554")?Ft+"://"+at:Ct.replace("rtsp",Ft)}}function ni(Ct){var at=new Uint8Array(Ct.data),Ft=new Uint8Array(at.length);for(Ft.set(at,0),Ue=Ft.length;Ue>0;)if(Ft[0]!==36){var it=String.fromCharCode.apply(null,Ft);mi("ws\u63A5\u6536\u4FE1\u4EE4",500,it);var wt=null;if(it.includes("302 Moved"))return Hi(U=it.slice(it.indexOf("rtsp://"),it.indexOf(`\r
\r
`))),jt.prototype.disconnect(),void jt.prototype.connect(I,U,W,Et);(it.indexOf("OffLine:File Over")!==-1||it.indexOf("OffLine: File Over")!==-1||it.indexOf("OffLine:Internal Error")!==-1||it.includes("is_session_end: true"))&&(fe.fileOver=!0),it.indexOf("OffLine:Internal Error")!==-1&&(hi("^^^^^^^^Internal Error",it),jt.prototype.disconnect(),Vt({errorCode:500,description:"Internal Error"})),it.indexOf("OffLine:KmsUnavailable")!==-1&&Vt({errorCode:203,description:"KmsUnavailable"}),it.indexOf("Notify: stopTalk")!==-1&&(hi("^^^^^^^^\u8BBE\u5907\u6302\u65AD",it),jt.prototype.disconnect(),Vt({errorCode:207,description:"\u8BBE\u5907\u6302\u65AD"})),it.indexOf("OffLine: TalkBusyLine")!==-1&&(hi("^^^^^^^^\u5BF9\u8BB2\u5FD9\u7EBF",it),jt.prototype.disconnect(),Vt({errorCode:208,description:"\u5BF9\u8BB2\u5FD9\u7EBF"})),it.indexOf("OffLine: TalkCheckFailed")!==-1&&(hi("^^^^^^^^\u5BF9\u8BB2\u5931\u8D25",it),jt.prototype.disconnect(),Vt({errorCode:209,description:"\u5BF9\u8BB2\u5931\u8D25"})),Ut==="Describe"&&it.indexOf("a=control:trackID=")!==-1&&(Er=it.split("a=control:").filter(function(On){return On.startsWith("trackID=")}).map(function(On){return On.split(`\r
`)[0]})||[]),Ir||!ta&&it.indexOf("200 OK")!==-1?(wt=it.lastIndexOf(`\r
`),Ir=!1,ta=!0):wt=it.search(`\r
\r
`);var Un=-1;if((Un=v?it.search("RTSP"):it.search("HTTP"))===-1)return void(Ft=new Uint8Array);if(wt===-1)return void(Ue=Ft.length);pe=Ft.subarray(Un,wt+6),Ft=Ft.subarray(wt+6),mn(Gn(String.fromCharCode.apply(null,pe))),Ue=Ft.length}else{if(tn="PLAY",clearTimeout(Pr),Pr=setTimeout(function(){tn="GET_PARAMETER"},1e4),ve=Ft.subarray(0,6),!((ze=ve[2]<<24|ve[3]<<16|ve[4]<<8|ve[5])+6<=Ft.length))return void(Ue=Ft.length);var Bn=Ft.subarray(6,ze+6);sr(ve,Bn),Ft=Ft.subarray(ze+6),Ue=Ft.length}}function sr(Ct,at){var Ft;$e&&(Qe&&Fn?Ft="videoTalk":Qe&&!Fn?Ft="talk":lt?Ft="video":Xn("\u672A\u77E5type=",Ft),$e(at,Ft))}function Zi(Ct){var at={};at.Sessions=[];var Ft=null;Ct.search("Content-Type: application/sdp")!==-1||Ct.search("Private-Type: application/sdp")!==-1?Ft=Ct.split(`\r
\r
`)[1]:Ft=Ct;var it=Ft.split(`\r
`),wt=0,Un=!1;for(wt=0;wt<it.length;wt++){var Bn=it[wt].split("=");if(Bn.length>0)switch(Bn[0]){case"a":var On=Bn[1].split(":");if(On.length>1){if(On[0]==="control"){var Qt=it[wt].search("control:");Un===!0?Qt!==-1&&(at.Sessions[at.Sessions.length-1].ControlURL=it[wt].substr(Qt+8)):Qt!==-1&&(at.BaseURL=it[wt].substr(Qt+8))}else if(On[0]==="rtpmap"){var jn=On[1].split(" ");at.Sessions[at.Sessions.length-1].PayloadType=jn[0];var wr=jn[1].split("/");at.Sessions[at.Sessions.length-1].CodecMime=wr[0],wr.length>1&&(at.Sessions[at.Sessions.length-1].ClockFreq=wr[1])}else if(On[0]==="framesize"){var ur=On[1].split(" ");if(ur.length>1){var cn=ur[1].split("-");at.Sessions[at.Sessions.length-1].Width=cn[0],at.Sessions[at.Sessions.length-1].Height=cn[1]}}else if(On[0]==="framerate")at.Sessions[at.Sessions.length-1].Framerate=On[1];else if(On[0]==="fmtp"){var nn=it[wt].split(" ");if(nn.length<2)continue;for(var yn=1;yn<nn.length;yn++){var Zn=nn[yn].split(";"),en=0;for(en=0;en<Zn.length;en++){var Mn=Zn[en].search("mode=");if(Mn!==-1&&(at.Sessions[at.Sessions.length-1].mode=Zn[en].substr(Mn+5)),(Mn=Zn[en].search("config="))!==-1&&(at.Sessions[at.Sessions.length-1].config=Zn[en].substr(Mn+7),at.Sessions[at.Sessions.length-1].config,at.Sessions[at.Sessions.length-1].ClockFreq,at.Sessions[at.Sessions.length-1].Bitrate),(Mn=Zn[en].search("sprop-vps="))!==-1&&(at.Sessions[at.Sessions.length-1].VPS=Zn[en].substr(Mn+10)),(Mn=Zn[en].search("sprop-sps="))!==-1&&(at.Sessions[at.Sessions.length-1].SPS=Zn[en].substr(Mn+10)),(Mn=Zn[en].search("sprop-pps="))!==-1&&(at.Sessions[at.Sessions.length-1].PPS=Zn[en].substr(Mn+10)),(Mn=Zn[en].search("sprop-parameter-sets="))!==-1){var _n=Zn[en].substr(Mn+21).split(",");_n.length>1&&(at.Sessions[at.Sessions.length-1].SPS=_n[0],at.Sessions[at.Sessions.length-1].PPS=_n[1])}}}}}else On.length===1&&(On[0]==="recvonly"?at.Sessions[at.Sessions.length-1].TalkTransType="recvonly":On[0]==="sendonly"&&(at.Sessions[at.Sessions.length-1].TalkTransType="sendonly"));break;case"m":var wn=Bn[1].split(" "),Bi={};Bi.Type=wn[0],Bi.Port=wn[1],Bi.Payload=wn[3],at.Sessions.push(Bi),Un=!0;break;case"b":if(Un===!0){var wi=Bn[1].split(":");at.Sessions[at.Sessions.length-1].Bitrate=wi[1]}}}if(!v&&Qe)for(var xi=0;xi<at.Sessions.length;xi+=1)at.Sessions[xi].ControlURL.split("=")[1]!=="1"&&at.Sessions[xi].ControlURL.split("=")[1]!=="2"||at.Sessions.splice(xi,1);return at}function hi(){for(var Ct=arguments.length,at=new Array(Ct),Ft=0;Ft<Ct;Ft++)at[Ft]=arguments[Ft];c.log.apply(c,["|WebsocketServerPrivate.js|"+F+"|"].concat(at))}function Jn(){for(var Ct=arguments.length,at=new Array(Ct),Ft=0;Ft<Ct;Ft++)at[Ft]=arguments[Ft];c.warn.apply(c,["|WebsocketServerPrivate.js|"+F+"|"].concat(at))}function Xn(){for(var Ct=arguments.length,at=new Array(Ct),Ft=0;Ft<Ct;Ft++)at[Ft]=arguments[Ft];c.error.apply(c,["|WebsocketServerPrivate.js|"+F+"|"].concat(at))}function mi(Ct,at){for(var Ft=arguments.length,it=new Array(Ft>2?Ft-2:0),wt=2;wt<Ft;wt++)it[wt-2]=arguments[wt];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_LOG,"|WebsocketServerPrivate.js|"+F+"|"+Ct,at].concat(it))}function lr(Ct,at){for(var Ft=arguments.length,it=new Array(Ft>2?Ft-2:0),wt=2;wt<Ft;wt++)it[wt-2]=arguments[wt];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_WARN,"|WebsocketServerPrivate.js|"+F+"|"+Ct,at].concat(it))}function qi(Ct,at){for(var Ft=arguments.length,it=new Array(Ft>2?Ft-2:0),wt=2;wt<Ft;wt++)it[wt-2]=arguments[wt];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_ERROR,"|WebsocketServerPrivate.js|"+F+"|"+Ct,at].concat(it))}return jt.prototype={connect:function(Ct,at,Ft,it){var wt,Un;if(hi("connect wsUrl = ",Ct,"__uniqueId = ",n,it),hi("connect rtspUrl = ",at),hi("connect sourceID = ",Ft),Et=it,v=it.bRtspFlag,Ke=it.bPlayBack,Pn=it.captureConfig,gr=!(it==null||(wt=it.captureConfig)==null||!wt.audio),Wt=!(it==null||(Un=it.captureConfig)==null||!Un.video),Ut=v?"Options":"UnAuthorized",!fe){if(I=Ct,U=at,W=Ft,Qe=it.bTalkService,lt=it.bRealMonitorService,nt=it.nRange,Fn=it.isVisualtalk,ct=!1,vn=!1,Qe){var Bn,On;it!=null&&it.cameraElement&&(Lt||((Lt=new Xi).setVisualTalkErrorCallback(Vt),Lt.start(it.cameraElement,it.optionsVideo),hi("connect new VideoCapturer",Lt)),it!=null&&(On=it.captureConfig)!=null&&On.video||(Lt.stopVideoCapture(),hi("connect stopVideoCapture",it))),xt||((xt=new ft).setAudioTalkErrorCallback(Vt),xt.setSendAudioTalkBufferCallback(fi),xt.startAudioTalk(it.nEncodeType),hi("connect new AudioTalk",xt)),it!=null&&(Bn=it.captureConfig)!=null&&Bn.audio||(xt.stopAudioCapture(),hi("connect stopAudioCapture",it))}(fe=new WebSocket(I))?Jn("connect websocket\u521B\u5EFA\u5BF9\u8C61","__uniqueId = ",n):Xn("connect websocket\u521B\u5EFA\u5BF9\u8C61\u5931\u8D25","__uniqueId = ",n),fe.binaryType="arraybuffer",fe.fileOver=!1,fe.addEventListener("message",ni,!1),fe.onopen=function(){var Qt;if(Jn("connect websocket\u6536\u5230onopen\u56DE\u8C03","__uniqueId = ",n,Et),Qe&&Fn?Qt="videoTalk":Qe&&!Fn?Qt="talk":lt?Qt="video":Xn("unkown type"),Ge?Ge(Qt):Xn("m_cbWebSocketOpenCallback is null"),v){var jn="OPTIONS "+U+` RTSP/1.0\r
CSeq: `+Ot+`\r
`;jn+=`User-Agent: PlaySDK Client/1.0\r
`;var wr=ti(jn+=`\r
`);fe.send(wr)}else ut=rn,mn(St("PLAY",31,""))},fe.onerror=function(Qt){Xn("connect websocket\u6536\u5230onerror\u56DE\u8C03",Qt,"__uniqueId = ",n,Et),Vt({errorCode:202,description:"Open WebSocket Error"})},fe.onclose=function(Qt){var jn;Jn("connect websocket\u6536\u5230onclose\u56DE\u8C03",Qt),Qe&&Fn?(jn="videoTalk",Mt&&Mt()):Qe&&!Fn?(jn="talk",Mt&&Mt()):lt?jn="video":Xn("unkown type"),yt?yt(jn):Xn("m_cbWebSocketCloseCallback is null")}}},disconnect:function(){if(mn(St("TEARDOWN",null,null)),clearInterval(de),de=null,clearInterval(ce),ce=null,fe!==null){if(fe.readyState!==WebSocket.CLOSED){Jn("disconnect \u5173\u95EDwebsocket","__uniqueId = ",n,Et);try{fe.close(1e3,"Normal closure")}catch(Ct){Xn("\u5173\u95EDwebsocket\u65F6\u51FA\u9519:",Ct,"__uniqueId = ",n)}}Qe||(fe.onopen?(fe.onopen=null,Jn("websocket.onopen set null")):Jn("websocket.onopen is null"),fe.onmessage?(fe.onmessage=null,Jn("websocket.onmessage set null")):Jn("websocket.onmessage is null"),fe.onerror?(fe.onerror=null,Jn("websocket.onerror set null")):Jn("websocket.onerror is null"),fe.onclose?(fe.onclose=null,Jn("websocket.onclose set null")):Jn("websocket.onclose is null")),fe=null,$t=null}this.closeCapture()},controlPlayer:function(Ct){var at="";switch(Ct.command){case"PLAY":if(Ut="Play",Ct.range!=null){at=St("PLAY",null,null,Ct.range);break}at=St("PLAY",null,null);break;case"PLAY_SEEK":at=St("PLAY",null,null,Ct.data);break;case"PAUSE":if(Ut==="PAUSE")break;Ut="PAUSE",at=St("PAUSE",null,null);break;case"SCALE":at=St("SCALE",null,null,Ct.data);break;case"TEARDOWN":at=St("TEARDOWN",null,null);break;default:qi("\u672A\u77E5\u6307\u4EE4: ",5,Ct.command)}at!=""&&mn(at)},setCallback:function(Ct,at){switch(Ct){case"WebSocketOpenCallback":Ge=at;break;case"WebSocketCloseCallback":yt=at;break;case"Disconnect":De=at;break;case"PlayBackStreamRange":break;case"Error":case"TalkError":Vt=at;break;case"TalkWebSocketCloseCallback":Mt=at;break;case"TalkStart":Dt=at;break;default:Xn("setCallback \u672A\u77E5type",Ct)}},setUserInfo:function(Ct,at){xe.username=Ct,xe.password=at},setRtpDataCallback:function(Ct){$e=Ct},setStreamFinishCallback:function(Ct){},sendRtpData:function(Ct){fe&&Hn(Ct)},startAudioCapture:function(){xt&&(xt.startAudioCapture(),fe&&mn(St("DATA_GATHER",64,"&method=0&talktype=talk")),gr=!0)},stopAudioCapture:function(){xt&&(xt.stopAudioCapture(),fe&&mn(St("DATA_GATHER",64,"&method=1")),gr=!1)},startVideoCapture:function(){Lt&&(Lt.startVideoCapture(),fe&&mn(St("DATA_GATHER",128,"&method=0&talktype=talk")),Wt=!0)},stopVideoCapture:function(){Lt&&(fe&&mn(St("DATA_GATHER",128,"&method=1")),Lt.stopVideoCapture(),Wt=!1)},openCapture:function(Ct){if(!fe){var at,Ft;Ct!=null&&Ct.cameraElement&&!Lt&&Ct!=null&&(Ft=Ct.captureConfig)!=null&&Ft.video&&((Lt=new Xi).setVisualTalkErrorCallback(Vt),Lt.start(Ct.cameraElement,Ct.optionsVideo)),!xt&&Ct!=null&&(at=Ct.captureConfig)!=null&&at.audio&&((xt=new ft).setAudioTalkErrorCallback(Vt),xt.setSendAudioTalkBufferCallback(fi),xt.startAudioTalk(Ct.nEncodeType))}},closeCapture:function(){if(Lt)var Ct=setInterval(function(){Lt?Lt.stop().then(function(Ft){mi("videoStopStatus",50,Ft),Ft&&(clearInterval(Ct),Ct=null,Lt=null,Wt=!1)}):clearInterval(at)},1e3);if(xt)var at=setInterval(function(){xt?xt.stopAudioTalk().then(function(Ft){mi("audioStopStatus",50,Ft),Ft&&(clearInterval(at),at=null,xt.dispose(),xt=null,gr=!1)}):clearInterval(at)},1e3)}},new jt};var jr=u(87),ji=u.n(jr);function br(){br=function(){return F};var $,F={},n=Object.prototype,v=n.hasOwnProperty,I=Object.defineProperty||function(de,ce,xe){de[ce]=xe.value},U=typeof Symbol=="function"?Symbol:{},W=U.iterator||"@@iterator",fe=U.asyncIterator||"@@asyncIterator",pe=U.toStringTag||"@@toStringTag";function ve(de,ce,xe){return Object.defineProperty(de,ce,{value:xe,enumerable:!0,configurable:!0,writable:!0}),de[ce]}try{ve({},"")}catch(de){ve=function(ce,xe,$e){return ce[xe]=$e}}function Ue(de,ce,xe,$e){var De=ce&&ce.prototype instanceof xt?ce:xt,Ge=Object.create(De.prototype),yt=new Kt($e||[]);return I(Ge,"_invoke",{value:Xt(de,xe,yt)}),Ge}function ze(de,ce,xe){try{return{type:"normal",arg:de.call(ce,xe)}}catch($e){return{type:"throw",arg:$e}}}F.wrap=Ue;var Le="suspendedStart",Qe="suspendedYield",lt="executing",nt="completed",Ke={};function xt(){}function Lt(){}function bt(){}var un={};ve(un,W,function(){return this});var pt=Object.getPrototypeOf,et=pt&&pt(pt($t([])));et&&et!==n&&v.call(et,W)&&(un=et);var tt=bt.prototype=xt.prototype=Object.create(un);function ut(de){["next","throw","return"].forEach(function(ce){ve(de,ce,function(xe){return this._invoke(ce,xe)})})}function rn(de,ce){function xe(De,Ge,yt,Mt){var Dt=ze(de[De],de,Ge);if(Dt.type!=="throw"){var vn=Dt.arg,Vt=vn.value;return Vt&&typeof Vt=="object"&&v.call(Vt,"__await")?ce.resolve(Vt.__await).then(function(tn){xe("next",tn,yt,Mt)},function(tn){xe("throw",tn,yt,Mt)}):ce.resolve(Vt).then(function(tn){vn.value=tn,yt(vn)},function(tn){return xe("throw",tn,yt,Mt)})}Mt(Dt.arg)}var $e;I(this,"_invoke",{value:function(De,Ge){function yt(){return new ce(function(Mt,Dt){xe(De,Ge,Mt,Dt)})}return $e=$e?$e.then(yt,yt):yt()}})}function Xt(de,ce,xe){var $e=Le;return function(De,Ge){if($e===lt)throw Error("Generator is already running");if($e===nt){if(De==="throw")throw Ge;return{value:$,done:!0}}for(xe.method=De,xe.arg=Ge;;){var yt=xe.delegate;if(yt){var Mt=Ot(yt,xe);if(Mt){if(Mt===Ke)continue;return Mt}}if(xe.method==="next")xe.sent=xe._sent=xe.arg;else if(xe.method==="throw"){if($e===Le)throw $e=nt,xe.arg;xe.dispatchException(xe.arg)}else xe.method==="return"&&xe.abrupt("return",xe.arg);$e=lt;var Dt=ze(de,ce,xe);if(Dt.type==="normal"){if($e=xe.done?nt:Qe,Dt.arg===Ke)continue;return{value:Dt.arg,done:xe.done}}Dt.type==="throw"&&($e=nt,xe.method="throw",xe.arg=Dt.arg)}}}function Ot(de,ce){var xe=ce.method,$e=de.iterator[xe];if($e===$)return ce.delegate=null,xe==="throw"&&de.iterator.return&&(ce.method="return",ce.arg=$,Ot(de,ce),ce.method==="throw")||xe!=="return"&&(ce.method="throw",ce.arg=new TypeError("The iterator does not provide a '"+xe+"' method")),Ke;var De=ze($e,de.iterator,ce.arg);if(De.type==="throw")return ce.method="throw",ce.arg=De.arg,ce.delegate=null,Ke;var Ge=De.arg;return Ge?Ge.done?(ce[de.resultName]=Ge.value,ce.next=de.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=$),ce.delegate=null,Ke):Ge:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,Ke)}function ot(de){var ce={tryLoc:de[0]};1 in de&&(ce.catchLoc=de[1]),2 in de&&(ce.finallyLoc=de[2],ce.afterLoc=de[3]),this.tryEntries.push(ce)}function Ut(de){var ce=de.completion||{};ce.type="normal",delete ce.arg,de.completion=ce}function Kt(de){this.tryEntries=[{tryLoc:"root"}],de.forEach(ot,this),this.reset(!0)}function $t(de){if(de||de===""){var ce=de[W];if(ce)return ce.call(de);if(typeof de.next=="function")return de;if(!isNaN(de.length)){var xe=-1,$e=function De(){for(;++xe<de.length;)if(v.call(de,xe))return De.value=de[xe],De.done=!1,De;return De.value=$,De.done=!0,De};return $e.next=$e}}throw new TypeError(typeof de+" is not iterable")}return Lt.prototype=bt,I(tt,"constructor",{value:bt,configurable:!0}),I(bt,"constructor",{value:Lt,configurable:!0}),Lt.displayName=ve(bt,pe,"GeneratorFunction"),F.isGeneratorFunction=function(de){var ce=typeof de=="function"&&de.constructor;return!!ce&&(ce===Lt||(ce.displayName||ce.name)==="GeneratorFunction")},F.mark=function(de){return Object.setPrototypeOf?Object.setPrototypeOf(de,bt):(de.__proto__=bt,ve(de,pe,"GeneratorFunction")),de.prototype=Object.create(tt),de},F.awrap=function(de){return{__await:de}},ut(rn.prototype),ve(rn.prototype,fe,function(){return this}),F.AsyncIterator=rn,F.async=function(de,ce,xe,$e,De){De===void 0&&(De=Promise);var Ge=new rn(Ue(de,ce,xe,$e),De);return F.isGeneratorFunction(ce)?Ge:Ge.next().then(function(yt){return yt.done?yt.value:Ge.next()})},ut(tt),ve(tt,pe,"Generator"),ve(tt,W,function(){return this}),ve(tt,"toString",function(){return"[object Generator]"}),F.keys=function(de){var ce=Object(de),xe=[];for(var $e in ce)xe.push($e);return xe.reverse(),function De(){for(;xe.length;){var Ge=xe.pop();if(Ge in ce)return De.value=Ge,De.done=!1,De}return De.done=!0,De}},F.values=$t,Kt.prototype={constructor:Kt,reset:function(de){if(this.prev=0,this.next=0,this.sent=this._sent=$,this.done=!1,this.delegate=null,this.method="next",this.arg=$,this.tryEntries.forEach(Ut),!de)for(var ce in this)ce.charAt(0)==="t"&&v.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=$)},stop:function(){this.done=!0;var de=this.tryEntries[0].completion;if(de.type==="throw")throw de.arg;return this.rval},dispatchException:function(de){if(this.done)throw de;var ce=this;function xe(Dt,vn){return Ge.type="throw",Ge.arg=de,ce.next=Dt,vn&&(ce.method="next",ce.arg=$),!!vn}for(var $e=this.tryEntries.length-1;$e>=0;--$e){var De=this.tryEntries[$e],Ge=De.completion;if(De.tryLoc==="root")return xe("end");if(De.tryLoc<=this.prev){var yt=v.call(De,"catchLoc"),Mt=v.call(De,"finallyLoc");if(yt&&Mt){if(this.prev<De.catchLoc)return xe(De.catchLoc,!0);if(this.prev<De.finallyLoc)return xe(De.finallyLoc)}else if(yt){if(this.prev<De.catchLoc)return xe(De.catchLoc,!0)}else{if(!Mt)throw Error("try statement without catch or finally");if(this.prev<De.finallyLoc)return xe(De.finallyLoc)}}}},abrupt:function(de,ce){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.tryLoc<=this.prev&&v.call($e,"finallyLoc")&&this.prev<$e.finallyLoc){var De=$e;break}}De&&(de==="break"||de==="continue")&&De.tryLoc<=ce&&ce<=De.finallyLoc&&(De=null);var Ge=De?De.completion:{};return Ge.type=de,Ge.arg=ce,De?(this.method="next",this.next=De.finallyLoc,Ke):this.complete(Ge)},complete:function(de,ce){if(de.type==="throw")throw de.arg;return de.type==="break"||de.type==="continue"?this.next=de.arg:de.type==="return"?(this.rval=this.arg=de.arg,this.method="return",this.next="end"):de.type==="normal"&&ce&&(this.next=ce),Ke},finish:function(de){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var xe=this.tryEntries[ce];if(xe.finallyLoc===de)return this.complete(xe.completion,xe.afterLoc),Ut(xe),Ke}},catch:function(de){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var xe=this.tryEntries[ce];if(xe.tryLoc===de){var $e=xe.completion;if($e.type==="throw"){var De=$e.arg;Ut(xe)}return De}}throw Error("illegal catch attempt")},delegateYield:function(de,ce,xe){return this.delegate={iterator:$t(de),resultName:ce,nextLoc:xe},this.method==="next"&&(this.arg=$),Ke}},F}function Zr($,F,n,v,I,U,W){try{var fe=$[U](W),pe=fe.value}catch(ve){return void n(ve)}fe.done?F(pe):Promise.resolve(pe).then(v,I)}function ea($){return function(){var F=this,n=arguments;return new Promise(function(v,I){var U=$.apply(F,n);function W(pe){Zr(U,v,I,W,fe,"next",pe)}function fe(pe){Zr(U,v,I,W,fe,"throw",pe)}W(void 0)})}}var Wr=function(){function $(n){this.nPlayId=Te.getFreePlaySdkId(),this.streamType="rtsp",this.streamTypeTalk="rtsp",this.playType="",this.playChannel="",this.playSubtype="",this.playbackByType="",this.playbackStartTime="",this.playbackEndtime="",this.playbackFile="",this.devAbility="",this.deviceId="",this.devLoginName="",this.devLoginPassword="",this.deviceCatalog="",this.deviceEncryptMode="",this.playback=!1,this.playsdkImpl=null,this.webSocket=null,this.webSocketTalk=null,this.record=!1,this.supportMultiThread=n,this.openSubThreadPrintLog=!1,this.encrypt=-1,this.userInputCode="",this.szKey="",this.szKeyLength=0,this.setSecurityKeyCompleted=!1,this.decryptKey="",this.cachedSecurityKey=null,this.initCompleted=!1,this.cachedRtpDataArr=[],this.rtpPacket=null,this.isOpenVideo=!1,this.isPause=0,this.hasStopTalk=-1,this.isStopPullStream=-1,this.lastVideoFrameTimestamp=0,this.analysisData={},this.eventsCallBack={GetPlayPort:function(){},PlayStart:function(){},DecodeStart:function(){},VideoFrameInfo:function(){},VideoFrameChangeTime:function(){},AudioFrameInfo:function(){},GetFrameRate:function(){},Error:function(){},wsPlay:function(){},RecordReachLimit:function(){},Disconnect:function(){},TalkStart:function(){},TalkError:function(){},DigitalSignCallBack:function(){},TalkWebSocketCloseCallback:function(){},WebSocketCloseCallback:function(){}}}$.printJsLogFromSubThread=function(n){Te.printJsLogFromSubThread(n)},$.printCppLogFromSubThread=function(n){Te.printCppLogFromSubThread(n)},$.debugSaveDavFile=function(n){Te.debugSaveDavFile(n)},$.debugSaveLogFile=function(n){$.LOG_DOWMLOAD_ENALBE=n,C.debugSaveLogFile(n)};var F=$.prototype;return F.getPlaySdkId=function(){return this.nPlayId},F.Init=function(n){if(c.setDebug(n.log_js),$.LOG_DOWMLOAD_ENALBE&&(n.LOG_DOWMLOAD_ENALBE=!0),this.supportMultiThread?this.logPlaySDKApiLog("\u591A\u7EBF\u7A0BPlaySDKApi\u521D\u59CB\u5316",this.nPlayId,n):this.logPlaySDKApiLog("\u5355\u7EBF\u7A0BPlaySDKApi\u521D\u59CB\u5316",this.nPlayId,n),this.playback=n.bPlayBack,this.playsdkImpl===null){this.playsdkImpl=new Te(this.supportMultiThread,this.nPlayId),this.playsdkImpl.initBegain(),this.playsdkImpl.setCallback("InitSuccessCallBack",this.initCompleteCallBack.bind(this));var v=this.playsdkImpl.init(n);if(v>0){var I=this.playsdkImpl.getPlayPort();this.supportMultiThread&&(this.eventsCallBack.GetPlayPort&&this.eventsCallBack.GetPlayPort(I),this.initCompleted=!0,this.playsdkImpl.initEnd())}return this.playsdkImpl.setCallback("GetPlayPort",this.eventsCallBack.GetPlayPort),this.playsdkImpl.setCallback("PlayStart",this.onPlayStart.bind(this)),this.playsdkImpl.setCallback("DecodeStart",this.onDecodeStart.bind(this)),this.playsdkImpl.setCallback("VideoFrameInfo",this.onVideoFrameInfo.bind(this)),this.playsdkImpl.setCallback("VideoFrameChangeTime",this.onVideoFrameChangeTime.bind(this)),this.playsdkImpl.setCallback("AudioFrameInfo",this.onAudioFrameInfo.bind(this)),this.playsdkImpl.setCallback("RecordReachLimit",this.eventsCallBack.RecordReachLimit),this.playsdkImpl.setCallback("DigitalSignCallBack",this.eventsCallBack.DigitalSignCallBack),v}this.logPlaySDKApiError("\u91CD\u590D\u521D\u59CB\u5316",this.nPlayId)},F.onPlayStart=function(n){var v;this.isStopPullStream!==1?(this.logPlaySDKApiLog("onPlayStart",n),(v=this.eventsCallBack)!=null&&v.PlayStart&&this.eventsCallBack.PlayStart()):this.logPlaySDKApiWarnWithKeyLimit("onPlayStart \u5FFD\u7565\u56E0\u4E3A\u62C9\u6D41\u5DF2\u505C\u6B62",5)},F.onTalkStart=function(n){var v;this.isStopPullStream!==1?(this.logPlaySDKApiLog("onTalkStart",n),(v=this.eventsCallBack)!=null&&v.TalkStart&&this.eventsCallBack.TalkStart()):this.logPlaySDKApiWarnWithKeyLimit("onTalkStart \u5FFD\u7565\u56E0\u4E3A\u62C9\u6D41\u5DF2\u505C\u6B62",5)},F.onTalkWebSocketCloseCallback=function(){var n;this.logPlaySDKApiLog("onTalkWebSocketCloseCallback"),(n=this.eventsCallBack)!=null&&n.TalkWebSocketCloseCallback&&this.eventsCallBack.TalkWebSocketCloseCallback()},F.onDecodeStart=function(n){var v;this.isStopPullStream!==1?this.playsdkImpl&&(this.playsdkImpl.onDecodeStart(n),(v=this.eventsCallBack)!=null&&v.DecodeStart&&this.eventsCallBack.DecodeStart(n)):this.logPlaySDKApiWarnWithKeyLimit("onDecodeStart \u5FFD\u7565\u56E0\u4E3A\u62C9\u6D41\u5DF2\u505C\u6B62",5)},F.onVideoFrameInfo=function(n){var v;this.isStopPullStream!==1&&(this.onVideoFrameChangeTime(n),(v=this.eventsCallBack)!=null&&v.VideoFrameInfo&&this.eventsCallBack.VideoFrameInfo(n))},F.onVideoFrameChangeTime=function(n){var v;if((v=this.eventsCallBack)!=null&&v.VideoFrameChangeTime){var I=n.timeStamp;if(I!==this.lastVideoFrameTimestamp){var U=I-this.lastVideoFrameTimestamp;this.lastVideoFrameTimestamp=I,this.logPlaySDKApiLog("onVideoFrameChangeTime \u5E27id=",n.nFrameID,"\u5DEE\u503C=",U,"\u89C6\u9891\u5E27\u65F6\u95F4="+n.nYear+"-"+n.nMonth+"-"+n.nDay+" "+n.nHour+":"+n.nMinute+":"+n.nSecond),this.eventsCallBack.VideoFrameChangeTime(n)}}},F.onAudioFrameInfo=function(n){var v;this.isStopPullStream!==1?(v=this.eventsCallBack)!=null&&v.AudioFrameInfo&&this.eventsCallBack.AudioFrameInfo(n):this.logPlaySDKApiWarnWithKeyLimit("onAudioFrameInfo \u5FFD\u7565\u56E0\u4E3A\u62C9\u6D41\u5DF2\u505C\u6B62",5,n)},F.onWebSocketOpen=function(n){this.logPlaySDKApiLog("onWebSocketOpen",n),this.playsdkImpl?this.playsdkImpl.onWebSocketOpen(n):this.logPlaySDKApiError("onWebSocketOpen playsdkImpl is null",this.nPlayId)},F.onWebSocketClose=function(n){this.playsdkImpl?this.playsdkImpl.onWebSocketClose(n):this.logPlaySDKApiLog("onWebSocketClose playsdkImpl is null, it is normal",this.nPlayId);var v,I,U={type:n,playId:this.nPlayId};n==="video"?this.isStopPullStream===1?this.logPlaySDKApiLog("onWebSocketClose \u5FFD\u7565\u56E0\u4E3A\u62C9\u6D41\u5DF2\u505C\u6B62",n):(this.logPlaySDKApiLog("onWebSocketClose",n),(v=this.eventsCallBack)!=null&&v.WebSocketCloseCallback&&this.eventsCallBack.WebSocketCloseCallback(U)):this.hasStopTalk===1?this.logPlaySDKApiLog("onWebSocketClose \u5FFD\u7565\u56E0\u4E3A\u5BF9\u8BB2\u5DF2\u505C\u6B62",n):(this.logPlaySDKApiLog("onWebSocketClose",n),(I=this.eventsCallBack)!=null&&I.WebSocketCloseCallback&&this.eventsCallBack.WebSocketCloseCallback(U))},F.rtpDataCallback=function(n,v){var I=this;this.isStopPullStream!==1&&(this.encrypt===-1?this.inputData(n,v):this.setSecurityKeyCompleted?(this.cachedRtpDataArr.length>0&&(this.cachedRtpDataArr.forEach(function(U){I.inputData(U,v)}),this.cachedRtpDataArr=[]),this.inputData(n,v)):this.cachedRtpDataArr.push(n))},F.initCompleteCallBack=function(n){this.logPlaySDKApiWarn("\u5355\u7EBF\u7A0B\u521D\u59CB\u5316\u5B8C\u6210\u56DE\u8C03",this.nPlayId,n),this.initCompleted=!0,this.playsdkImpl&&this.playsdkImpl.initEnd(),this.cachedSecurityKey&&this.setCachedSecurityKey()},F.setCachedSecurityKey=function(){this.logPlaySDKApiLog("\u52A0\u5BC6\u65B9\u5F0F\uFF1A",this.encrypt);var n=this.cachedSecurityKey;n!=null?(this.encrypt==1?(this.logPlaySDKApiLog("key video,audio length:",n.videoKey.length,n.audioKey.length),this.setSecurityKey(n.videoKey,n.videoKey.length),n.audioKey.length===33&&this.setSecurityKey(n.audioKey,n.audioKey.length)):this.encrypt==2?(this.logPlaySDKApiLog("key length:",n.length),this.setSecurityKeyByEncrytType(3,n,this.szKeyLength,null,0)):this.encrypt==3&&(this.logPlaySDKApiLog("key length:",n.length),this.setSecurityKey(n,n.length)),this.setSecurityKeyCompleted=!0):this.logPlaySDKApiError("cached key is null return")},F.StartPullStream=function(){var n=ea(br().mark(function v(I,U){var W,fe,pe,ve,Ue,ze,Le,Qe,lt,nt,Ke,xt,Lt,bt,un,pt,et,tt,ut,rn,Xt,Ot,ot,Ut,Kt,$t=this;return br().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(this.logPlaySDKApiLog("\u5F00\u59CB\u62C9\u6D41\uFF1A",I),!this.playsdkImpl){de.next=5;break}this.playsdkImpl.startPullStreamBegain(),de.next=7;break;case 5:return this.logPlaySDKApiError("\u672A\u521D\u59CB\u5316"),de.abrupt("return");case 7:if(this.isStopPullStream=0,this.deviceId=I.deviceId,this.playChannel=I.channelId?String(Number(I.channelId)+1):"1",this.playType=I.playType,W=U.streamType?U.streamType:"rtsp",this.streamType=W,this.playsdkImpl.setStreamType(W),this.playSubtype=I.playSubtype?I.playSubtype:"0",this.playback&&(this.playbackByType=I.playbackByType,this.playbackByType==="byTime"?(this.playbackStartTime=I.playbackStartTime,this.playbackEndtime=I.playbackEndtime):this.playbackByType==="byFile"&&(this.playbackFile=I.playbackFile)),fe=U.playUrl,pe=U.playToken,ve=U.playTokenKey,fe){de.next=20;break}return this.logPlaySDKApiError("playUrl is null"),de.abrupt("return");case 20:if(pe&&ve&&(Ue=this.parsePlayToken(pe,ve,I.deviceId),this.logPlaySDKApiLog("\u89E3\u6790playToken\u83B7\u53D6\u7801\u6D41\u79D8\u94A5\u7ED3\u679C\uFF1A",Ue),Ue&&(this.devAbility=Ue.ability,this.devLoginName=Ue.devLoginName,this.devLoginPassword=Ue.devLoginPassword,this.deviceCatalog=Ue.deviceCatalog,this.deviceEncryptMode=Ue.encryptMode)),this.userInputCode=I.code,Qe=(Le=this.devAbility)!=null&&Le.includes("TCM")?this.devLoginPassword:this.deviceId,lt=I.code||Qe,nt=ji().enc.Utf8.parse(lt),ze=ji().enc.Base64.stringify(nt),this.playUrl=pe?fe+"&key="+ze:fe,fe.split("&").map(function(ce){return ce.split("=")}).forEach(function(ce){ce[0]==="encrypt"&&($t.encrypt=ce[1]),ce[0]==="tid"&&(Ke=ce[1])}),this.setEncryptInternal(),Ke?this.tid=Ke:this.logPlaySDKApiError("tid is null"),this.isWebGLAvailable()){de.next=35;break}return this.logPlaySDKApiError("webGl is not support"),de.abrupt("return");case 35:xt=this.playUrl.replace("rtsp://","").split("/"),Lt=xt[0],bt=location,un=bt.protocol,Lt&&(W==="rtsv"?(pt=un==="http:"&&this.playUrl.indexOf("8556")===-1?"ws":"wss",et=pt+"://"+Lt,tt=null,ut={bRtspFlag:!1,encrypt:this.encrypt,bPlayBack:this.playback,playbackByType:this.playbackByType,playChannel:this.playChannel,playSubtype:this.playSubtype,playbackStartTime:this.playbackStartTime,playbackEndtime:this.playbackEndtime,playbackFile:this.playbackFile,bTalkService:!1,bRealMonitorService:!0,nRange:"",cameraElement:null,optionsVideo:null,nEncodeType:0,isVisualtalk:!1,isRealMonitor:!0,captureConfig:tt},rn="",rn=ut.bPlayBack?"/vod/playback.xav":"/live/realmonitor.xav",Xt=this.playUrl,Ot=Xt.replace("rtsp://","").split("/")[1].replace(/&beginTime=\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}&endTime=\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/,""),this.webSocket||(this.webSocket=new or(this.nPlayId)),this.isOpenVideo=!0,this.webSocket.setCallback("WebSocketOpenCallback",this.onWebSocketOpen.bind(this)),this.webSocket.setCallback("WebSocketCloseCallback",this.onWebSocketClose.bind(this)),this.webSocket.setRtpDataCallback(this.rtpDataCallback.bind(this)),this.webSocket.setUserInfo(this.devLoginName,this.devLoginPassword),this.webSocket.setCallback("Disconnect",this.eventsCallBack.Disconnect),this.webSocket.setCallback("Error",this.eventsCallBack.Error),ot=et+"/httpprivateoverwebsocket",this.logPlaySDKApiLog("webSocket.connect ","this = ",this),this.logPlaySDKApiLog("webSocket.connect ","connectOptions = ",ut),this.webSocket.connect(ot,rn,Ot,ut)):(Ut=un==="http:"&&this.playUrl.indexOf("8556")===-1?"ws":"wss",Kt={wsURL:Ut+"://"+Lt,rtspURL:""+this.playUrl,username:"admin",password:"admin123",playback:!0},this.webSocket=ht(this.nPlayId,Kt.wsURL,Kt.rtspURL),this.webSocket.setCallback("WebSocketOpenCallback",this.onWebSocketOpen.bind(this)),this.webSocket.setCallback("WebSocketCloseCallback",this.onWebSocketClose.bind(this)),this.webSocket.setRtpDataCallback(this.rtpDataCallback.bind(this)),this.webSocket.setUserInfo(Kt.username,Kt.password),this.webSocket.setLessRate(!1),this.webSocket.setCallback("GetFrameRate",this.eventsCallBack.GetFrameRate),this.webSocket.setCallback("Error",this.eventsCallBack.Error),pe&&this.webSocket.setCallback("wsPlay",function(ce){$t.logPlaySDKApiLog("\u6536\u5230wsPlay\u56DE\u8C03",ce),$t.encrypt==1&&$t.eventsCallBack.wsPlay($t.tid)}),this.webSocket.connect()));case 38:case"end":return de.stop()}},v,this)}));return function(v,I){return n.apply(this,arguments)}}(),F.setEncryptInternal=function(){if(this.playsdkImpl?this.playsdkImpl.setEncrypt(this.encrypt):this.logPlaySDKApiError("setEncryptInternal playsdkImpl is null"),this.encrypt==3){var n,v,I=(n=this.devAbility)!=null&&n.includes("TCM")?this.devLoginPassword:this.deviceId;return this.userInputCode&&this.userInputCode.length>0?this.szKey=this.userInputCode:this.szKey=I,this.decryptKey=this.getDecryptKey(this.encrypt,this.szKey,this.szKey.length,this.deviceId,this.deviceId.length),v=this.decryptKey,this.cachedSecurityKey=v,this.setSecurityKey(v,v.length),void(this.initCompleted==1&&(this.setSecurityKeyCompleted=!0,this.logPlaySDKApiLog("0xB5\u573A\u666F\uFF0C\u79D8\u94A5\u8BBE\u7F6E\u5B8C\u6210")))}if(this.encrypt==2){var U;if(this.playType=="cloud"){var W,fe=(W=this.devAbility)!=null&&W.includes("TCM")?this.devLoginPassword:this.deviceId;this.userInputCode&&this.userInputCode.length>0?this.szKey=this.userInputCode:this.szKey=fe,this.decryptKey=this.getDecryptKey(this.encrypt,this.szKey,this.szKey.length,this.deviceId,this.deviceId.length),U=this.decryptKey,this.szKeyLength=U.length}else{var pe,ve=(pe=this.devAbility)!=null&&pe.includes("TCM")?this.devLoginPassword:this.deviceId;this.userInputCode&&this.userInputCode.length>0?(this.szKey=ji().MD5(this.userInputCode).toString(),this.szKeyLength=16):(this.szKey=ve,this.szKeyLength=ve.length),U=this.szKey,this.szKeyLength<16&&this.szKeyLength>0?(U=this.padString(this.szKey,16),this.szKeyLength=16):this.szKeyLength<24&&this.szKeyLength>16?(U=this.padString(this.szKey,24),this.szKeyLength=24):this.szKeyLength<32&&this.szKeyLength>24&&(U=this.padString(this.szKey,32),this.szKeyLength=32)}return this.cachedSecurityKey=U,this.setSecurityKeyByEncrytType(3,U,this.szKeyLength,null,0),void(this.initCompleted==1&&(this.setSecurityKeyCompleted=!0,this.logPlaySDKApiLog("\u79D8\u94A5\u8BBE\u7F6E\u5B8C\u6210 key = ",U)))}},F.setEncrypt=function(n){if(this.logPlaySDKApiLog("setEncrypt start"),this.playsdkImpl?this.playsdkImpl.setEncrypt(this.encrypt):this.logPlaySDKApiError("setEncrypt playsdkImpl is null"),this.encrypt==1){var v=n.data;if(!v)return;var I=v.audioEncryptKey,U=v.videoEncryptKey;this.logPlaySDKApiLog("\u97F3\u89C6\u9891Key\uFF1A",v);var W=ji().enc.Base64.parse(I);W=W.toString(ji().enc.Utf8);var fe,pe=ji().enc.Base64.parse(U);pe=pe.toString(ji().enc.Utf8),this.logPlaySDKApiLog("\u52A0\u5BC6\u65B9\u5F0F\uFF1A",this.encrypt),fe=function(ve,Ue){var ze=ve.trim().split(" ").slice(0,16),Le=Ue.trim().split(" ").slice(0,16);return{audioKey:[97,109,105,107,101,121,0,0,0,0,0,0,0,0,0,0,0].concat(Le),videoKey:[118,109,105,107,101,121,0,0,0,0,0,0,0,0,0,0,0].concat(ze)}}(pe,W),this.cachedSecurityKey=fe,this.setSecurityKey(fe.videoKey,fe.videoKey.length),fe.audioKey.length===33&&this.setSecurityKey(fe.audioKey,fe.audioKey.length)}else this.logPlaySDKApiWarn("\u975Emikey\u573A\u666F\u65E0\u9700\u7528\u6237\u624B\u52A8\u8BBE\u7F6E\u79D8\u94A5");this.initCompleted==1&&(this.setSecurityKeyCompleted=!0,this.logPlaySDKApiLog("\u79D8\u94A5\u8BBE\u7F6E\u5B8C\u6210"))},F.StopPullStream=function(){this.logPlaySDKApiLog("\u505C\u6B62\u62C9\u6D41"),this.isStopPullStream=1,this.webSocket&&this.webSocket.disconnect()},F.pause=function(n){this.logPlaySDKApiLog("\u6682\u505C/\u6062\u590D\u64AD\u653E 1\u6682\u505C\uFF0C0\u6062\u590D:",n),this.isPause=n,this.playsdkImpl&&(n?this.webSocket&&this.webSocket.controlPlayer({command:"PAUSE"}):this.webSocket&&this.webSocket.controlPlayer({command:"PLAY"}),this.playsdkImpl.pause(n))},F.stop=function(){this.logPlaySDKApiLog("\u505C\u6B62\u64AD\u653E"),this.StopPullStream(),this.record&&this.stopRecord(),this.playsdkImpl&&(this.playsdkImpl.stop(),this.analysisData=this.playsdkImpl.getLogs(),this.playsdkImpl=null),this.setSecurityKeyCompleted=!1,this.cachedSecurityKey=null,this.initCompleted=!1},F.setSecurityKey=function(n,v){this.logPlaySDKApiLogWithKeyLimit("\u8BBE\u7F6EAES\u89E3\u5BC6\u5BC6\u94A51"),this.playsdkImpl&&this.playsdkImpl.setSecurityKey(n,v)},F.setSecurityKeyByEncrytType=function(n,v,I,U,W){this.logPlaySDKApiLogWithKeyLimit("\u8BBE\u7F6EAES\u89E3\u5BC6\u5BC6\u94A52"),this.playsdkImpl&&this.playsdkImpl.setSecurityKeyByEncrytType(n,v,I,U,W)},F.parsePlayToken=function(n,v,I){if(this.logPlaySDKApiLogWithKeyLimit("\u89E3\u6790playToken\u83B7\u53D6\u7801\u6D41\u79D8\u94A5"),this.playsdkImpl)return this.playsdkImpl.parsePlayToken(n,v,I)},F.getDecryptKey=function(n,v,I,U,W){if(this.logPlaySDKApiLogWithKeyLimit("\u83B7\u53D6\u7801\u6D41\u89E3\u5BC6\u79D8\u94A5"),this.playsdkImpl)return this.playsdkImpl.getDecryptKey(n,v,I,U,W)},F.setSpeed=function(n){this.logPlaySDKApiLog("\u500D\u901F=",n),this.playsdkImpl&&(this.webSocket&&this.webSocket.controlPlayer({command:"SCALE",data:n}),this.playsdkImpl.setSpeed(n))},F.setVolume=function(n){this.logPlaySDKApiLog("\u97F3\u91CF=",n),this.playsdkImpl&&this.playsdkImpl.setVolume(n)},F.mute=function(n){this.logPlaySDKApiLog("\u9759\u97F3/\u6062\u590D 1\u8868\u793A\u9759\u97F3\uFF0C0\u8868\u793A\u6062\u590D=",n),this.playsdkImpl&&this.playsdkImpl.mute(n)},F.capturePic=function(n){this.logPlaySDKApiLog("\u6293\u56FE pictureName=",n),this.playsdkImpl&&this.playsdkImpl.capturePic(n)},F.startTalk=function(){var n=ea(br().mark(function v(I,U,W,fe){var pe,ve,Ue,ze,Le,Qe,lt,nt,Ke,xt,Lt,bt,un,pt,et,tt,ut,rn,Xt;return br().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:if(U===void 0&&(U=0),fe===void 0&&(fe={}),this.logPlaySDKApiLog("\u5F00\u59CB\u5BF9\u8BB2\uFF1A",I,U,W,fe),!this.playsdkImpl){Ot.next=7;break}this.playsdkImpl.startTalkBegain(),Ot.next=9;break;case 7:return this.logPlaySDKApiError("not init"),Ot.abrupt("return");case 9:if(I.streamType!=="rtsv"&&I.streamType!=="rtsp"&&this.logPlaySDKApiWarn("startTalk\u7684\u5165\u53C2optionsAudio.streamType\u672A\u660E\u786E"),pe=I.isVisualtalk?"rtsv":"rtsp",ve=I.streamType?I.streamType:pe,this.streamTypeTalk=ve,Ue=I.url,ze=I.username,Le=I.password,Qe=I.isVisualtalk,lt=I.captureConfig,nt=lt===void 0?null:lt,Ue){Ot.next=17;break}return this.logPlaySDKApiError("startTalk\u7684\u5165\u53C2optionsAudio.url is null"),Ot.abrupt("return");case 17:Ke=location,xt=Ke.protocol,bt=(Lt=Ue).replace("rtsp://","").split("/"),(un=bt[0])&&(pt=xt==="http:"&&Lt.indexOf("8556")===-1?"ws":"wss",et=pt+"://"+un,this.logPlaySDKApiLog("url = ",Ue),this.logPlaySDKApiLog("wsIP = ",un),this.logPlaySDKApiLog("wsURL = ",et),ve==="rtsv"?(tt=Qe?"/live/visualtalk.xav":"/live/talk.xav",ut={bRtspFlag:!1,streamTypeTalk:this.streamTypeTalk,encrypt:this.encrypt,playChannel:this.playChannel,playSubtype:this.playSubtype,bPlayBack:!1,bTalkService:!0,nRange:"",cameraElement:W,optionsVideo:fe,nEncodeType:U,isVisualtalk:Qe,captureConfig:nt,isConnectFromTalk:!0},rn=Ue.replace("rtsp://","").split("/")[1].replace(/&beginTime=\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}&endTime=\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/,""),this.webSocketTalk||(this.webSocketTalk=new or(this.nPlayId)),this.webSocketTalk.setCallback("TalkError",this.eventsCallBack.TalkError),nt!=null&&nt.pureCapture?(this.webSocketTalk.openCapture(ut),this.logPlaySDKApiLog("pureCapture",nt)):(this.isOpenVideo=!0,this.webSocketTalk.setUserInfo(ze,Le),this.webSocketTalk.setCallback("WebSocketOpenCallback",this.onWebSocketOpen.bind(this)),this.webSocketTalk.setCallback("WebSocketCloseCallback",this.onWebSocketClose.bind(this)),this.webSocketTalk.setCallback("TalkStart",this.onTalkStart.bind(this)),this.webSocketTalk.setCallback("TalkWebSocketCloseCallback",this.onTalkWebSocketCloseCallback.bind(this)),this.webSocketTalk.setCallback("Disconnect",this.eventsCallBack.Disconnect),Xt=et+"/httpprivateoverwebsocket",this.logPlaySDKApiLog("webSocketTalk.connect ","privateWsURL = ",Xt,"captureConfig = ",nt,"isOpenVideo = ",this.isOpenVideo),this.webSocketTalk.connect(Xt,tt,rn,ut),this.hasStopTalk=0)):(this.webSocketTalk=new ht(this.nPlayId,et,Lt,!0,U),this.webSocketTalk.setUserInfo(ze,Le),this.webSocketTalk.setCallback("GetFrameRate",this.eventsCallBack.GetFrameRate),this.webSocketTalk.setCallback("Error",this.eventsCallBack.TalkError),this.webSocketTalk.setCallback("WebSocketOpenCallback",this.onWebSocketOpen.bind(this)),this.webSocketTalk.setCallback("WebSocketCloseCallback",this.onWebSocketClose.bind(this)),this.webSocketTalk.setCallback("TalkStart",this.onTalkStart.bind(this)),this.webSocketTalk.setCallback("TalkWebSocketCloseCallback",this.onTalkWebSocketCloseCallback.bind(this)),this.webSocketTalk.setLessRate(!1),this.webSocketTalk.connect(),this.hasStopTalk=0));case 21:case"end":return Ot.stop()}},v,this)}));return function(v,I,U,W){return n.apply(this,arguments)}}(),F.stopTalk=function(n){this.logPlaySDKApiLog("\u505C\u6B62\u5BF9\u8BB2",n),this.webSocketTalk?n!=null&&n.closeCapture?this.webSocketTalk.closeCapture&&this.webSocketTalk.closeCapture():this.hasStopTalk===0&&(this.hasStopTalk=1,this.webSocketTalk.disconnect(),this.webSocketTalk=null):this.logPlaySDKApiError("\u505C\u6B62\u5BF9\u8BB2\uFF0C\u4F46webSocketTalk is null")},F.setCallback=function(n,v){this.eventsCallBack[n]=v},F.getLogs=function(){return this.analysisData},F.inputData=function(n,v){if(this.logPlaySDKApiLogWithKeyLimit("\u8F93\u5165\u6570\u636E",5,n.length,v),this.playType!="real"||this.isPause!=1)return this.playsdkImpl?this.playsdkImpl.inputData(n,v):0},F.setFrameData=function(n,v,I,U,W,fe){this.logPlaySDKApiLogWithKeyLimit("\u89E3\u7801\u6570\u636E\u56DE\u8C03",5,n,v,I,W,fe),this.playsdkImpl&&this.playsdkImpl.frameDataCallBack(n,v,I,U,W,fe)},F.setRecordData=function(n,v,I,U){this.logPlaySDKApiLogWithKeyLimit("\u8BBE\u7F6E\u5F55\u5236\u6570\u636E",5,n,"\u6570\u636E\u957F\u5EA6=",I,"\u504F\u79FB\u91CF=",U),this.playsdkImpl&&this.playsdkImpl.recordDataCallBack(n,v,I,U)},F.setStatisticData=function(n,v,I,U){this.logPlaySDKApiLogWithKeyLimit("\u8BBE\u7F6E\u6570\u636E",5,n,v,I,U),this.playsdkImpl&&this.playsdkImpl.setStatisticData(n,v,I,U)},F.startRecord=function(n,v,I){return this.logPlaySDKApiLog("\u5F00\u59CB\u5F55\u5236() \u7C7B\u578B(5\u8868\u793AMP4)=",n,"\u5927\u5C0F(MB)=",v,"\u6587\u4EF6\u540D=",I),this.record=!0,this.playsdkImpl?this.playsdkImpl.startRecord(n,v,I):0},F.stopRecord=function(){return this.logPlaySDKApiLog("\u505C\u6B62\u5F55\u5236()"),this.record=!1,this.playsdkImpl?this.playsdkImpl.stopRecord():0},F.startAudioCapture=function(){this.logPlaySDKApiLog("\u89C6\u9891\u5BF9\u8BB2-\u5F00\u542F\u97F3\u9891\u91C7\u96C6()"),this.webSocketTalk&&this.webSocketTalk.startAudioCapture()},F.stopAudioCapture=function(){this.logPlaySDKApiLog("\u89C6\u9891\u5BF9\u8BB2-\u505C\u6B62\u97F3\u9891\u91C7\u96C6()"),this.webSocketTalk&&this.webSocketTalk.stopAudioCapture()},F.startVideoCapture=function(){this.logPlaySDKApiLog("\u89C6\u9891\u5BF9\u8BB2-\u5F00\u542F\u89C6\u9891\u91C7\u96C6()"),this.webSocketTalk&&(this.isOpenVideo=!0,this.webSocketTalk.startVideoCapture())},F.stopVideoCapture=function(){this.logPlaySDKApiLog("\u89C6\u9891\u5BF9\u8BB2-\u5173\u95ED\u89C6\u9891\u91C7\u96C6()"),this.webSocketTalk&&(this.isOpenVideo=!1,this.webSocketTalk.stopVideoCapture())},F.pushVideoData=function(n,v,I){if(this.logPlaySDKApiLogWithKeyLimit("\u53D1\u9001\u89C6\u9891\u6570\u636E",5,n,v,I),this.webSocketTalk&&this.isOpenVideo){var U=new ArrayBuffer(v),W=new Uint8Array(U);W.set(Module.HEAPU8.subarray(n,n+v)),this.rtpPacket=new Uint8Array(6+v);var fe=0;this.rtpPacket.set(new Uint8Array([36,14]),fe),fe+=2,this.rtpPacket.set(this.getHexArrayDec(v,4,!0),fe),fe+=4,this.rtpPacket.set(W,fe),this.webSocketTalk.sendRtpData(this.rtpPacket)}},F.getHexArrayDec=function(n,v,I){var U=[],W=v||4;if(I===!0)for(var fe=0;fe<W;fe++)U[fe]=n>>>8*(W-1-fe)&255;else for(var pe=0;pe<W;pe++)U[pe]=n>>>8*pe&255;return U},F.padString=function(n,v){return n.padEnd(v,"\0")},F.isWebGLAvailable=function(){try{var n=document.createElement("canvas");return!(!window.WebGLRenderingContext||!n.getContext("webgl")&&!n.getContext("experimental-webgl"))}catch(v){return!1}},F.logPlaySDKApiLog=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];c.info.apply(c,["|PlaySDKApi.js|"+this.nPlayId+"|"].concat(v))},F.logPlaySDKApiWarn=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];c.warn.apply(c,["|PlaySDKApi.js|"+this.nPlayId+"|"].concat(v))},F.logPlaySDKApiError=function(){for(var n=arguments.length,v=new Array(n),I=0;I<n;I++)v[I]=arguments[I];c.error.apply(c,["|PlaySDKApi.js|"+this.nPlayId+"|"].concat(v))},F.logPlaySDKApiLogWithKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_LOG,"|PlaySDKApi.js|"+this.nPlayId+"|"+n,v].concat(U))},F.logPlaySDKApiWarnWithKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_WARN,"|PlaySDKApi.js|"+this.nPlayId+"|"+n,v].concat(U))},F.logPlaySDKApiErrorWithKeyLimit=function(n,v){for(var I=arguments.length,U=new Array(I>2?I-2:0),W=2;W<I;W++)U[W-2]=arguments[W];c.logWithKeyLimit.apply(c,[C.LOGLEVEL_ERROR,"|PlaySDKApi.js|"+this.nPlayId+"|"+n,v].concat(U))},$}();Wr.LOG_DOWMLOAD_ENALBE=!1,window&&(window.PlaySDKInterface=Wr);const _r=Wr})(),A=A.default})())}(cl,cl.exports);var Hm=cl.exports,Qf=Ni(Hm);function Om(d,i,t={}){if(!d||!i){console.error("Draggable: Root element and target element are required");return}const{containment:s=!0,onDragStart:u,onDrag:A,onDragEnd:b,scale:C=1,enableZoomDrag:c=!1}=t;let T=!1,k=0,S=0,E=0,r=0;d.style.cursor="grab",d.addEventListener("mousedown",D);function D(Q){T=!0,k=Q.clientX,S=Q.clientY,E=i.offsetLeft,r=i.offsetTop,typeof u=="function"&&u({rootElement:d,targetElement:i,startX:k,startY:S,initialLeft:E,initialTop:r}),document.addEventListener("mousemove",f),document.addEventListener("mouseup",y)}function f(Q){if(!T)return;const g=Q.clientX-k,w=Q.clientY-S;let M=E+g,z=r+w;if(s){const G=d.getBoundingClientRect(),Y=i.getBoundingClientRect();if(c&&C>1){const N=(Y.width-G.width)/2,K=(Y.height-G.height)/2;M=Math.max(-N,Math.min(M,N)),z=Math.max(-K,Math.min(z,K))}else M=Math.max(0,Math.min(M,G.width-Y.width)),z=Math.max(0,Math.min(z,G.height-Y.height))}i.style.left=`${M}px`,i.style.top=`${z}px`,typeof A=="function"&&A({rootElement:d,targetElement:i,currentX:Q.clientX,currentY:Q.clientY,deltaX:g,deltaY:w,newLeft:M,newTop:z})}function y(){T=!1,document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",y),typeof b=="function"&&b({rootElement:d,targetElement:i,finalLeft:i.offsetLeft,finalTop:i.offsetTop})}return function(){d.removeEventListener("mousedown",D),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",y),d.style.cursor="default"}}const Da={};function go(d){const i=document.querySelector(d);if(!i)return console.warn(`Element with selector ${d} not found`),1;if(!(i instanceof HTMLElement))return console.warn(`Element with selector ${d} is not HTMLElement`),1;const t=i.style.transform;if(!t||t==="none")return 1;const s=t.match(/scale\(([^)]+)\)/);if(s&&s[1]){const u=parseFloat(s[1]);return isNaN(u)?1:u}return 1}function Pf(d,i,t,s){if(mo(d),!(i instanceof HTMLElement)){console.warn("Player element is not HTMLElement, cannot enable drag");return}if(!s){const A=document.querySelector(`#${d}`);if(!A){console.warn(`Root element with id ${d} not found`);return}s=A}if(!(s instanceof HTMLElement)){console.warn("Root element is not HTMLElement, cannot enable drag");return}const u=Om(s,i,{containment:!0,scale:t,enableZoomDrag:t>1,onDragStart:()=>{s.style.cursor="grabbing"},onDrag:A=>{},onDragEnd:A=>{s.style.cursor="grab"}});Da[d]={destroy:u,scale:t,playerElement:i,rootElement:s}}function mo(d){Da[d]&&Da[d].destroy&&(Da[d].destroy(),Da[d].rootElement&&Da[d].rootElement.style&&(Da[d].rootElement.style.cursor="default"),delete Da[d])}function gu(d,i=!0){d&&d.style&&(i?d.style.transition="transform 0.3s ease-out, left 0.3s ease-out, top 0.3s ease-out":d.style.transition="none")}function Rf(d,i,t,s){if(!i||!s)return;gu(i,!0),i.style.transform=`scale(${t})`;const u=i.offsetWidth,A=i.offsetHeight,b=u*t,C=A*t,c=(b-u)/2,T=(C-A)/2,k=parseFloat(i.style.left)||0,S=parseFloat(i.style.top)||0;let E=Math.max(-c,Math.min(k,c)),r=Math.max(-T,Math.min(S,T));i.style.left=`${E}px`,i.style.top=`${r}px`,typeof Pf=="function"&&Pf(d,i,t,s)}function Um(d,i,t,s,u=.2,A=5){const b=t+u;return b>A?t:(i&&i.style&&Rf(d,i,b,s),b)}function $m(d,i,t,s,u=.2,A=1){const b=t-u;return b<A?(typeof mo=="function"&&mo(d),i&&i.style&&(gu(i,!0),i.style.transform="scale(1)",i.style.left="0px",i.style.top="0px"),A):(i&&i.style&&Rf(d,i,b,s),b)}function jm(d,i){i&&i.style&&(typeof mo=="function"&&mo(d),gu(i,!0),i.style.transform="scale(1)",i.style.left="0px",i.style.top="0px")}function Wm(d,i,t={}){if(!d||!i){console.error("ZoomTouchable: Root element and target element are required");return}const{minScale:s=1,maxScale:u=5,enableDrag:A=!0,containment:b=!0,landscape:C=!1,onZoomStart:c,onZoom:T,onZoomEnd:k,onDragStart:S,onDrag:E,onDragEnd:r,requireStartInside:D=!0}=t;let f=0,y=1,Q=!1,g=!1,w=0,M=0,z=0,G=0,Y=0,N=0;function K(ne,le){const me=ne.clientX-le.clientX,Ae=ne.clientY-le.clientY;return Math.sqrt(me*me+Ae*Ae)}function p(ne,le,me,Ae){ne.style.transform=`scale(${le})`,ne.style.transition="transform 0.1s ease-out";const q=ne.offsetWidth,Z=ne.offsetHeight,re=q*le,ae=Z*le,oe=(re-q)/2,ue=(ae-Z)/2,Ee=parseFloat(ne.style.left)||0,O=parseFloat(ne.style.top)||0;let ee=Math.max(-oe,Math.min(Ee,oe)),ie=Math.max(-ue,Math.min(O,ue));ne.style.left=`${ee}px`,ne.style.top=`${ie}px`}function x(ne,le,me){ne.style.left=`${le}px`,ne.style.top=`${me}px`}function _(){const ne=d.getBoundingClientRect(),le=i.getBoundingClientRect();let me=(le.width-ne.width)/2,Ae=(le.height-ne.height)/2;if(C){const q=d.offsetWidth,Z=d.offsetHeight;me=(le.height-q)/2,Ae=(le.width-Z)/2}return{maxOffsetX:me,maxOffsetY:Ae}}function B(ne){if(ne.touches.length===2){if(D&&!(R(ne.touches[0])&&R(ne.touches[1])))return;g=!0,Q=!1,f=K(ne.touches[0],ne.touches[1]),typeof c=="function"&&c({rootElement:d,targetElement:i,initialDistance:f,currentScale:y})}else if(ne.touches.length===1&&A&&y>1&&!g){if(D&&!R(ne.touches[0]))return;Q=!0,g=!1,w=ne.touches[0].clientX,M=ne.touches[0].clientY,Y=parseFloat(i.style.left)||0,N=parseFloat(i.style.top)||0,C&&(w=ne.touches[0].clientY,M=ne.touches[0].clientX,Y=parseFloat(i.style.top)||0,N=parseFloat(i.style.left)||0),typeof S=="function"&&S({rootElement:d,targetElement:i,startX:ne.touches[0].clientX,startY:ne.touches[0].clientY,initialLeft:Y,initialTop:N})}}function R(ne){const le=i.getBoundingClientRect(),me=ne.clientX,Ae=ne.clientY;return me>=le.left&&me<=le.right&&Ae>=le.top&&Ae<=le.bottom}function X(ne){if(ne.touches.length===2&&g){ne.preventDefault();const me=K(ne.touches[0],ne.touches[1])/f,Ae=y*me,q=Math.max(s,Math.min(u,Ae));p(i,q),typeof T=="function"&&T({rootElement:d,targetElement:i,currentScale:q,scaleDelta:me,translateX:z,translateY:G})}else if(ne.touches.length===1&&Q&&A&&y>1&&!g){ne.preventDefault();let le=ne.touches[0].clientX-w,me=ne.touches[0].clientY-M;C&&(le=ne.touches[0].clientY-w,me=-(ne.touches[0].clientX-M));let Ae=Y+le,q=N+me;if(b){const{maxOffsetX:Z,maxOffsetY:re}=_();Ae=Math.max(-Z,Math.min(Z,Ae)),q=Math.max(-re,Math.min(re,q))}x(i,Ae,q),typeof E=="function"&&E({rootElement:d,targetElement:i,currentX:ne.touches[0].clientX,currentY:ne.touches[0].clientY,deltaX:le,deltaY:me,newLeft:Ae,newTop:q})}}function J(ne){if(i){const me=i.style.transform.match(/scale\(([^)]+)\)/);me&&(y=parseFloat(me[1])),y<=s&&(z=0,G=0,p(i,s)),g&&typeof k=="function"&&k({rootElement:d,targetElement:i,finalScale:y,translateX:z,translateY:G}),Q&&typeof r=="function"&&r({rootElement:d,targetElement:i,finalLeft:parseFloat(i.style.left)||0,finalTop:parseFloat(i.style.top)||0})}f=0,Q=!1,g=!1}return d.addEventListener("touchstart",B,{passive:!1}),d.addEventListener("touchmove",X,{passive:!1}),d.addEventListener("touchend",J,{passive:!1}),function(){d.removeEventListener("touchstart",B),d.removeEventListener("touchmove",X),d.removeEventListener("touchend",J),i&&(i.style.transform="",i.style.transformOrigin="",i.style.transition="")}}let Nf=!1;window.cPlusLogMessageCallBack=(d,i,t,s,u)=>{};let{bSupportMultiThread:mu}=Rm();function zm(d,i="WasmLib"){let t=`${i}WasmLib/MultiThread/liblcplay.js`;d||(t=`${i}WasmLib/SingleThread/liblcplay.js`),Nm(t)}const qm=d=>{for(var i=/js$/i.test(d),t=document.getElementsByTagName(i?"script":"link"),s=0;s<t.length;s++)if(t[s][i?"src":"href"].indexOf(d)!=-1)return!0;return!1};window.Module||(window.Module={}),Module.onRuntimeInitialized=function(){Nf=!0};const Ht={},Cr={},yu={},As={},yo={};class Hf{static debugSaveLogFile(i){Qf.debugSaveLogFile(i)}constructor(i,t,s,u){this.playError=s.playError?s.playError:()=>{},this.talkStart=s.talkStart?s.talkStart:()=>{},this.talkError=s.talkError?s.talkError:()=>{},this.playFileOver=s.playFileOver?s.playFileOver:()=>{},this.captureCallback=s.captureCallback?s.captureCallback:()=>{},this.playStart=s.playStart?s.playStart:()=>{},this.recordTimeStampUpdate=s.recordTimeStampUpdate?s.recordTimeStampUpdate:()=>{},this.getEncryptKey=s.getEncryptKey?s.getEncryptKey:()=>{},this.trackingLogs=s.trackingLogs?s.trackingLogs:()=>{},this.WasmLibPath=u.WasmLibPath||"",this.init(i,t),this.sdkConfig=u,this.templateMode=t}init(i,t){return Ar(this,null,function*(){if(qm("/liblcplay.js")||zm(mu,this.WasmLibPath),!i)return;Ht[i]={},this.drawVideoDom(i,t),window.cPlusVisibleDecCallBack=(u,A,b,C,c,T,k)=>{for(let S in Cr)if(Cr[S].playerPort==A)return Ht[S].player&&Ht[S].player.setFrameData(A,b,C,c,T,k),!0},window.cPlusDataRecordCallBack=(u,A,b,C)=>{for(let c in Cr)if(Cr[c].playerPort==u)return Ht[c].player&&Ht[c].player.setRecordData(u,A,b,C),!0},window.cPlusStatisticCallBack=(u,A,b,C)=>{for(let c in Cr)if(Cr[c].playerPort==u)return Ht[c].player&&Ht[c].player.setStatisticData(u,A,b,C),!0};const s=(u,A,b)=>{for(let C in Cr)if(Cr[C].playerPort==u)return b===0&&Ht[C].isDigitalSuccess&&!Ht[C].isTalking&&(Ht[C].isDigitalSuccess=!1,window.cPlusDigitalSignCallBack=()=>{},setTimeout(()=>{this.playError(i,{errorCode:"1001"})},3e3)),!0};window.cPlusDigitalSignCallBack=s,window.cPlusVideoPackedCallback=(u,A,b)=>{for(let C in Ht)if(Ht[C].isTalking)return Ht[C].player&&Ht[C].player.pushVideoData(u,A,b),!0}})}drawVideoDom(i,t){const s=document.querySelector(`#${i}`);let u=`
      <canvas
        id="canvas-${i}"
        width="${t==="pc"?1920:750}"
        height="1080"
        style="visibility: hidden; position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: fill; transform-origin: center center;"
      ></canvas>
      <video
        id="video-${i}"
        width="${t==="pc"?1920:750}"
        height="1080"
        muted
        style="visibility: hidden; position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: fill; transform-origin: center center;"
      ></video>
    `;s&&(s.innerHTML=u)}play(i,t){if(!!t.streamURL){if(Ht[i]&&Ht[i].player){this.close(i),setTimeout(()=>{this.startPlay(i,t)},100);return}this.startPlay(i,t)}}startPlay(i,t){if(yo[i]){console.log(`\u64AD\u653E\u5668 ${i} \u6B63\u5728\u521D\u59CB\u5316\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5`);return}yo[i]=!0;const{streamURL:s,playSubtype:u,playType:A,streamType:b,startTime:C,endTime:c,deviceId:T,channelId:k,playToken:S,playTokenKey:E,code:r,tid:D}=this.parameterProcessing(t),f={canvasElem:document.querySelector(`#canvas-${i}`),videoElem:document.querySelector(`#video-${i}`),bPlayBack:t.isLive?0:1,strDecodeFilePath:`${this.WasmLibPath}WasmLib/SingleThread`,log_c:this.sdkConfig.sdklog.log_c||!1,log_js:this.sdkConfig.sdklog.log_js||!1};t.threadMode==="singleThread"&&(mu=!1),Ht[i]||(Ht[i]={}),Cr[i]||(Cr[i]={}),Ht[i].player=new Qf(mu),Ht[i].isDigitalSuccess=!0,Ht[i].isTalking=!1;const y=Ht[i].player;y.setCallback("StreamPlayOver",()=>{Ht[i].player&&setTimeout(()=>{this.close(i),this.playFileOver(i)},1)}),y.setCallback("PlayStart",()=>{const z=`#canvas-${i}`,G=`#video-${i}`,Y=document.querySelector(z),N=document.querySelector(G);Y&&Y instanceof HTMLElement&&(Y.style.visibility="visible"),N&&N instanceof HTMLElement&&(N.style.visibility="visible"),this.playStart()}),y.setCallback("CaptureChanged",z=>{this.captureCallback(i,z)}),y.setCallback("VideoFrameInfo",z=>{}),y.setCallback("VideoFrameChangeTime",z=>{const G={frameRate:z.nFrameRate,time:z.timeStamp,utcTime:z.utcTimeStamp};t.isLive||this.recordTimeStampUpdate(i,G,Ht[i].nPlayId)}),y.setCallback("AudioFrameInfo",function(z){z.nSamples,z.nBits}),y.setCallback("GetFrameRate",function(z){}),y.setCallback("DecodeStart",z=>{if(console.log("DecodeStart:",z),z.decodeMode==="video"){const G=document.querySelector(`#canvas-${i}`);G&&G instanceof HTMLElement&&(G.style.display="none");const Y=document.querySelector(`#video-${i}`);Y&&Y instanceof HTMLElement&&(Y.style.display="")}else{const G=document.querySelector(`#canvas-${i}`);G&&G instanceof HTMLElement&&(G.style.display="");const Y=document.querySelector(`#video-${i}`);Y&&Y instanceof HTMLElement&&(Y.style.display="none")}As[i]=z.decodeMode}),y.setCallback("Error",z=>{this.playError(i,z)}),y.setCallback("WebSocketCloseCallback",z=>{z.type==="video"&&this.playError(i,{errorCode:"1003"})}),y.setCallback("TalkStart",z=>{this.talkStart(i,z)}),y.setCallback("TalkError",z=>{this.talkError(i,z)}),y.setCallback("TalkWebSocketCloseCallback",z=>{this.talkError(i,{errorCode:"2009"})}),y.setCallback("GetPlayPort",z=>{Cr[i].playerPort=z}),y.setCallback("DigitalSignCallBack",(z,G,Y)=>{Y===0&&Ht[i].isDigitalSuccess&&!Ht[i].isTalking&&(Ht[i].isDigitalSuccess=!1,setTimeout(()=>{this.playError(i,{errorCode:"1001"})},3e3))}),y.setCallback("wsPlay",()=>{if(console.log("wsPlay:"),b==="rtsv"){y.setEncrypt({});return}let z=null;const G=(Y=10)=>{this.getEncryptKey(D).then(N=>{var K;if(N==="close"){z&&clearTimeout(z);return}(K=N==null?void 0:N.result)!=null&&K.data?y.setEncrypt(N==null?void 0:N.result):Y>0?z=setTimeout(()=>{G(Y-1)},1e3):this.playError(i,{errorCode:"1002"})}).catch(N=>{console.error("wsPlay Error:",N)})};G()});let Q=null;Q=setInterval(()=>{Nf&&(clearInterval(Q),M())});const g={code:r,deviceId:T,channelId:k,playType:A,playSubtype:u,playbackByType:"byTime",playbackStartTime:C,playbackEndtime:c},w={streamType:b,playToken:S,playTokenKey:E,playUrl:s},M=()=>{if(!yo[i]){console.log(`\u64AD\u653E\u5668 ${i} \u5728\u521D\u59CB\u5316\u8FC7\u7A0B\u4E2D\u88AB\u5173\u95ED\uFF0C\u505C\u6B62\u521D\u59CB\u5316`);return}try{y.Init(f),y.setVolume(0),Cr[i].playerHandle=y.StartPullStream(g,w),yo[i]=!1}catch(z){console.error(`\u64AD\u653E\u5668 ${i} \u521D\u59CB\u5316\u5931\u8D25:`,z),yo[i]=!1}}}openIVS(i){Ht[i].player&&Ht[i].player.OpenIVS()}closeIVS(i){Ht[i].player&&Ht[i].player.CloseIVS()}talk(i,t,s){var u;if((u=Ht[i])!=null&&u.player){if(s.type==="video"){const A={url:t,username:"admin",password:"admin123",streamType:s==null?void 0:s.streamType,isVisualtalk:!0,captureConfig:{video:s==null?void 0:s.video,audio:s==null?void 0:s.audio}},b=document.querySelector(`#imou_player_video_capture_${i}`);Ht[i].player.startTalk(A,0,b,{width:240,height:320,frameRate:15})}else Ht[i].player.startTalk({url:t,streamType:s==null?void 0:s.streamType,captureConfig:{video:!1,audio:!0}},0);Ht[i].isTalking=!0}}stopTalk(i,t={}){var s,u;(u=(s=Ht[i])==null?void 0:s.player)!=null&&u.stopTalk&&Ht[i].player.stopTalk(t),setTimeout(()=>{Ht[i].isTalking=!1},3e3)}openVideoTalkCapture(i){let t=null;t=setInterval(()=>{var s;if((s=Ht[i])!=null&&s.player){clearInterval(t);const u={url:"*/",username:"admin",password:"admin123",isVisualtalk:!0,streamType:"rtsv",captureConfig:{video:!0,audio:!0,pureCapture:!0}},A=document.querySelector(`#imou_player_video_capture_${i}`);Ht[i].player.startTalk(u,0,A,{width:240,height:320,frameRate:15})}})}startVideoCapture(i){Ht[i]&&Ht[i].player&&Ht[i].player.startVideoCapture()}stopVideoCapture(i){Ht[i]&&Ht[i].player&&Ht[i].player.stopVideoCapture()}startAudioCapture(i){Ht[i]&&Ht[i].player&&Ht[i].player.startAudioCapture()}stopAudioCapture(i){Ht[i]&&Ht[i].player&&Ht[i].player.stopAudioCapture()}record(i,t){!Ht[i]||!Ht[i].player||(yu[i]?(yu[i]=!1,Ht[i].player.stopRecord()):(yu[i]=!0,Ht[i].player.startRecord(5,this.templateMode==="pc"?1e3:100,t||An().format("YYYY_MM_DD_HH_mm_ss")+".mp4")))}screenshot(i){Ht[i].player&&Ht[i].player.capturePic(`${An().format("YYYY_MM_DD_HH_mm_ss")}.jpg`)}close(i){var b;if(yo[i]=!1,(b=Ht[i])!=null&&b.player)try{Ht[i].player.StopPullStream(),Ht[i].player.stop(),this.getTrackingLogs(i),Ht[i].isTalking&&(Ht[i].player.stopTalk(),Ht[i].isTalking=!1)}catch(C){console.warn(`\u64AD\u653E\u5668 ${i} \u5173\u95ED\u65F6\u51FA\u73B0\u5F02\u5E38:`,C)}const t=`#canvas-${i}`,s=`#video-${i}`,u=document.querySelector(t),A=document.querySelector(s);u&&u instanceof HTMLElement&&(u.style.visibility="hidden"),A&&A instanceof HTMLElement&&(A.style.visibility="hidden",A.style.display="none"),Ht[i]&&(Ht[i].player=null),Cr[i]&&(Cr[i].playerPort=null),this.disableDrag(i)}getTrackingLogs(i){var t,s;if(Ht[i].player&&((t=Ht[i].player)==null?void 0:t.getLogs)){const u=((s=Ht[i].player)==null?void 0:s.getLogs())||{};u&&this.trackingLogs("stream",u)}}setAudioVolume(i,t){if(Gt.detectHostEnvironment().isMiniProgramWebView){if(window.webAudioPlayer)window.webAudioPlayer.resume();else{let s=setInterval(()=>{window.webAudioPlayer&&(window.webAudioPlayer.resume(),clearInterval(s))},50)}setTimeout(()=>{Ht[i].player&&Ht[i].player.setVolume(t)},100)}else{if(window.webAudioPlayer)window.webAudioPlayer.resume();else{let s=setInterval(()=>{window.webAudioPlayer&&(window.webAudioPlayer.resume(),clearInterval(s))},50)}Ht[i].player&&Ht[i].player.setVolume(t)}}pause(i){var t,s;(t=Ht[i])!=null&&t.player&&((s=Ht[i].player)==null||s.pause(1))}start(i){var t,s;(t=Ht[i])!=null&&t.player&&((s=Ht[i].player)==null||s.pause(0))}setSpeed(i,t){var s,u;(s=Ht[i])!=null&&s.player&&((u=Ht[i].player)==null||u.setSpeed(t))}disableDrag(i){mo(i)}zoomIn(i,t){let s=null,u=1;As[i]==="video"?(s=document.querySelector(`#video-${i}`),u=go(`#video-${i}`)):(s=document.querySelector(`#canvas-${i}`),u=go(`#canvas-${i}`)),s&&s.style&&Um(i,s,u,t)}zoomOut(i,t){let s=null,u=1;As[i]==="video"?(s=document.querySelector(`#video-${i}`),u=go(`#video-${i}`)):(s=document.querySelector(`#canvas-${i}`),u=go(`#canvas-${i}`)),s&&s.style&&$m(i,s,u,t)}resetZoom(i){let t=null;As[i]==="video"?t=document.querySelector(`#video-${i}`):t=document.querySelector(`#canvas-${i}`),t&&t.style&&jm(i,t)}touchZoom(i,t,s={}){this.destroyTouchZoom&&(this.destroyTouchZoom(),this.destroyTouchZoom=null);let u=null;As[i]==="video"?(u=document.querySelector(`#video-${i}`),go(`#video-${i}`)):(u=document.querySelector(`#canvas-${i}`),go(`#canvas-${i}`)),this.destroyTouchZoom=Wm(t,u,{minScale:1,maxScale:5,enableDrag:!0,containment:!0,landscape:s.landscape,onZoomStart:()=>{}})}parameterProcessing(i){const t=i.deviceId||"",s=i.channelId||0,u=i.streamURL||!1,A=i.volume||i.volume==0?i.volume:1,b=i.playToken,C=i.playTokenKey,c=i.code||"",T=i.playSubtype||"0",k=i.isLive?"real":i.recordType==="localRecord"?"device":"cloud",S=i.streamType||"rtsp",E=i.startTime||"",r=i.endTime||"",D=i.tid||"";return{streamURL:u,deviceId:t,channelId:s,volume:A,playToken:b,playTokenKey:C,code:c,playSubtype:T,playType:k,streamType:S,startTime:E,endTime:r,tid:D}}}class Au{constructor({Obj:i,recordType:t,beginTime:s}){this.Obj=i,this.recordType=t,this.beginTime=s,this.isEnd=!1,this.record=[],this.startTimeLine(),this.getRecordList(s)}getRecordList(i){const{deviceId:t,channelId:s,token:u,domain:A=""}=this.Obj.options;let b=An(i).add(2,"hour").format("YYYY-MM-DD HH:mm:ss");An(b)>An()&&(b=An().format("YYYY-MM-DD HH:mm:ss"),this.isEnd=!0),An(b)>An(this.beginTime).endOf("day")&&(b=An(this.beginTime).endOf("day").format("YYYY-MM-DD HH:mm:ss"),this.isEnd=!0),vm({deviceId:t,channelId:s,token:u,recordType:this.recordType,beginTime:i,endTime:b,domain:A}).then(C=>{if(An(this.beginTime).format("YYYY-MM-DD")!=An(this.Obj.status.beginTime).format("YYYY-MM-DD"))return;const c=C==null?void 0:C.records;c&&(c.length?this.doRequestRecordList(c):this.isEnd||this.getRecordList(b))})}doRequestRecordList(i=[]){if(An(i[0].beginTime).format("YYYY-MM-DD")!=An(this.Obj.status.beginTime).format("YYYY-MM-DD"))return;const t=An(this.beginTime).startOf("day").unix();if(this.record=this.record.concat(i.map(s=>({beginTime:An(s.beginTime).unix()-t,endTime:An(s.endTime).unix()-t}))),!this.isEnd){const s=An(this.beginTime).startOf("day").unix(),u=An.unix(this.record[this.record.length-1].endTime+s).format("YYYY-MM-DD HH:mm:ss");this.getRecordList(u)}this.startTimeLine()}stop(){this.isEnd=!0,this.record=[],this.startTimeLine()}startTimeLine(){this.Obj.timeLine&&this.Obj.timeLine.changeProp("record",this.record)}}var dl={exports:{}},fl={exports:{}};fl.exports,function(d,i){(function(t,s){d.exports=s()})(typeof self!="undefined"?self:typeof window!="undefined"?window:Tn,function(){var t="3.7.7",s=t,u=typeof Buffer=="function",A=typeof TextDecoder=="function"?new TextDecoder:void 0,b=typeof TextEncoder=="function"?new TextEncoder:void 0,C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=Array.prototype.slice.call(C),T=function(oe){var ue={};return oe.forEach(function(Ee,O){return ue[Ee]=O}),ue}(c),k=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,S=String.fromCharCode.bind(String),E=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(oe){return new Uint8Array(Array.prototype.slice.call(oe,0))},r=function(oe){return oe.replace(/=/g,"").replace(/[+\/]/g,function(ue){return ue=="+"?"-":"_"})},D=function(oe){return oe.replace(/[^A-Za-z0-9\+\/]/g,"")},f=function(oe){for(var ue,Ee,O,ee,ie="",ge=oe.length%3,_e=0;_e<oe.length;){if((Ee=oe.charCodeAt(_e++))>255||(O=oe.charCodeAt(_e++))>255||(ee=oe.charCodeAt(_e++))>255)throw new TypeError("invalid character found");ue=Ee<<16|O<<8|ee,ie+=c[ue>>18&63]+c[ue>>12&63]+c[ue>>6&63]+c[ue&63]}return ge?ie.slice(0,ge-3)+"===".substring(ge):ie},y=typeof btoa=="function"?function(oe){return btoa(oe)}:u?function(oe){return Buffer.from(oe,"binary").toString("base64")}:f,Q=u?function(oe){return Buffer.from(oe).toString("base64")}:function(oe){for(var ue=4096,Ee=[],O=0,ee=oe.length;O<ee;O+=ue)Ee.push(S.apply(null,oe.subarray(O,O+ue)));return y(Ee.join(""))},g=function(oe,ue){return ue===void 0&&(ue=!1),ue?r(Q(oe)):Q(oe)},w=function(oe){if(oe.length<2){var ue=oe.charCodeAt(0);return ue<128?oe:ue<2048?S(192|ue>>>6)+S(128|ue&63):S(224|ue>>>12&15)+S(128|ue>>>6&63)+S(128|ue&63)}else{var ue=65536+(oe.charCodeAt(0)-55296)*1024+(oe.charCodeAt(1)-56320);return S(240|ue>>>18&7)+S(128|ue>>>12&63)+S(128|ue>>>6&63)+S(128|ue&63)}},M=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,z=function(oe){return oe.replace(M,w)},G=u?function(oe){return Buffer.from(oe,"utf8").toString("base64")}:b?function(oe){return Q(b.encode(oe))}:function(oe){return y(z(oe))},Y=function(oe,ue){return ue===void 0&&(ue=!1),ue?r(G(oe)):G(oe)},N=function(oe){return Y(oe,!0)},K=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,p=function(oe){switch(oe.length){case 4:var ue=(7&oe.charCodeAt(0))<<18|(63&oe.charCodeAt(1))<<12|(63&oe.charCodeAt(2))<<6|63&oe.charCodeAt(3),Ee=ue-65536;return S((Ee>>>10)+55296)+S((Ee&1023)+56320);case 3:return S((15&oe.charCodeAt(0))<<12|(63&oe.charCodeAt(1))<<6|63&oe.charCodeAt(2));default:return S((31&oe.charCodeAt(0))<<6|63&oe.charCodeAt(1))}},x=function(oe){return oe.replace(K,p)},_=function(oe){if(oe=oe.replace(/\s+/g,""),!k.test(oe))throw new TypeError("malformed base64.");oe+="==".slice(2-(oe.length&3));for(var ue,Ee="",O,ee,ie=0;ie<oe.length;)ue=T[oe.charAt(ie++)]<<18|T[oe.charAt(ie++)]<<12|(O=T[oe.charAt(ie++)])<<6|(ee=T[oe.charAt(ie++)]),Ee+=O===64?S(ue>>16&255):ee===64?S(ue>>16&255,ue>>8&255):S(ue>>16&255,ue>>8&255,ue&255);return Ee},B=typeof atob=="function"?function(oe){return atob(D(oe))}:u?function(oe){return Buffer.from(oe,"base64").toString("binary")}:_,R=u?function(oe){return E(Buffer.from(oe,"base64"))}:function(oe){return E(B(oe).split("").map(function(ue){return ue.charCodeAt(0)}))},X=function(oe){return R(ne(oe))},J=u?function(oe){return Buffer.from(oe,"base64").toString("utf8")}:A?function(oe){return A.decode(R(oe))}:function(oe){return x(B(oe))},ne=function(oe){return D(oe.replace(/[-_]/g,function(ue){return ue=="-"?"+":"/"}))},le=function(oe){return J(ne(oe))},me=function(oe){if(typeof oe!="string")return!1;var ue=oe.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(ue)||!/[^\s0-9a-zA-Z\-_]/.test(ue)},Ae=function(oe){return{value:oe,enumerable:!1,writable:!0,configurable:!0}},q=function(){var oe=function(ue,Ee){return Object.defineProperty(String.prototype,ue,Ae(Ee))};oe("fromBase64",function(){return le(this)}),oe("toBase64",function(ue){return Y(this,ue)}),oe("toBase64URI",function(){return Y(this,!0)}),oe("toBase64URL",function(){return Y(this,!0)}),oe("toUint8Array",function(){return X(this)})},Z=function(){var oe=function(ue,Ee){return Object.defineProperty(Uint8Array.prototype,ue,Ae(Ee))};oe("toBase64",function(ue){return g(this,ue)}),oe("toBase64URI",function(){return g(this,!0)}),oe("toBase64URL",function(){return g(this,!0)})},re=function(){q(),Z()},ae={version:t,VERSION:s,atob:B,atobPolyfill:_,btoa:y,btoaPolyfill:f,fromBase64:le,toBase64:Y,encode:Y,encodeURI:N,encodeURL:N,utob:z,btou:x,decode:le,isValid:me,fromUint8Array:g,toUint8Array:X,extendString:q,extendUint8Array:Z,extendBuiltins:re};return ae.Base64={},Object.keys(ae).forEach(function(oe){return ae.Base64[oe]=ae[oe]}),ae})}(fl,fl.exports);var Of=fl.exports,Ym=Ni(Of),Vm=ai({__proto__:null,default:Ym},[Of]),Km=rr(Vm);dl.exports,function(d,i){const t=Km.Base64;(function(s,u){d.exports=u()})(Tn,function(){function s(e){if(!e)return!1;var a=Object.prototype.toString.call(e);return a=="[object Function]"||a=="[object AsyncFunction]"}function u(){return Date.now&&s(Date.now)?Date.now():new Date().getTime()}function A(e){return e!=null&&Object.prototype.toString.call(e)=="[object Object]"}function b(){if(typeof Uint32Array=="function"){var e="";if(typeof crypto!="undefined"?e=crypto:typeof msCrypto!="undefined"&&(e=msCrypto),A(e)&&e.getRandomValues){var a=new Uint32Array(1),h=e.getRandomValues(a)[0],L=Math.pow(2,32);return h/L}}return Gf(1e19)/1e19}function C(e){var a=null;try{a=JSON.parse(e)}catch(h){}return a}function c(e,a){this.lockGetPrefix=e||"lock-get-prefix",this.lockSetPrefix=a||"lock-set-prefix"}function T(e){return typeof e=="function"||!(!e||typeof e!="object")&&T(e.listener)}function k(){this._events={}}function S(e){var a=e;try{a=decodeURIComponent(e)}catch(h){a=e}return a}function E(){function e(){}return typeof Object.create!="function"?(e.prototype=null,new e):Object.create(null)}function r(e){e=e||"";for(var a=E(),h=e.substring(1),L=h.split("&"),H=0;H<L.length;H++){var se=L[H].indexOf("=");if(se!==-1){var be=L[H].substring(0,se),Me=L[H].substring(se+1);be=S(be),Me=S(Me),a[be]=Me}}return a}function D(e){return Object.prototype.toString.call(e)=="[object String]"}function f(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function y(e){var a=function(h){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,typeof h!="undefined"&&this._parse(h)};return a.prototype.setUrl=function(h){this._parse(h)},a.prototype._initValues=function(){for(var h in this._fields)this._values[h]=""},a.prototype.addQueryString=function(h){if(typeof h!="object")return!1;var L=this._values.QueryString||"";for(var H in h)L=new RegExp(H+"[^&]+").test(L)?L.replace(new RegExp(H+"[^&]+"),H+"="+h[H]):L.slice(-1)==="&"?L+H+"="+h[H]:L===""?H+"="+h[H]:L+"&"+H+"="+h[H];this._values.QueryString=L},a.prototype.getUrl=function(){var h="";return h+=this._values.Origin,h+=this._values.Port?":"+this._values.Port:"",h+=this._values.Path,h+=this._values.QueryString?"?"+this._values.QueryString:"",h+=this._values.Fragment?"#"+this._values.Fragment:""},a.prototype._parse=function(h){this._initValues();var L=this._regex.exec(h);L||tr.log("URLParser::_parse -> Invalid URL");var H=h.split("#"),se=H[0],be=H.slice(1).join("#");L=this._regex.exec(se);for(var Me in this._fields)typeof L[this._fields[Me]]!="undefined"&&(this._values[Me]=L[this._fields[Me]]);this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname,this._values.Fragment=be},new a(e)}function Q(e){var a={},h=function(){var se;try{return se=new URL("http://modernizr.com/"),se.href==="http://modernizr.com/"}catch(be){return!1}};if(typeof window.URL=="function"&&h())a=new URL(e),a.searchParams||(a.searchParams=function(){var se=r(a.search);return{get:function(be){return se[be]}}}());else{D(e)||(e=String(e)),e=f(e);var L=/^https?:\/\/.+/;if(L.test(e)===!1)return void tr.log("Invalid URL");var H=y(e);a.hash=H._values.Fragment,a.host=H._values.Host?H._values.Host+(H._values.Port?":"+H._values.Port:""):"",a.href=H._values.URL,a.password=H._values.Password,a.pathname=H._values.Path,a.port=H._values.Port,a.search=H._values.QueryString?"?"+H._values.QueryString:"",a.username=H._values.Username,a.hostname=H._values.Hostname,a.protocol=H._values.Protocol?H._values.Protocol+":":"",a.origin=H._values.Origin?H._values.Origin+(H._values.Port?":"+H._values.Port:""):"",a.searchParams=function(){var se=r("?"+H._values.QueryString);return{get:function(be){return se[be]}}}()}return a}function g(e){return!(!e||e.nodeType!==1)}function w(e){return e===void 0}function M(e){return Array.isArray&&s(M)?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}function z(e){return new Jf(e)}function G(e,a,h,L){function H(Me){return Me&&(Me.preventDefault=H.preventDefault,Me.stopPropagation=H.stopPropagation,Me._getPath=H._getPath),Me}function se(Me,st,It,Pt){var Qn=function(Rn){if(Rn=Rn||H(window.event)){Rn.target=Rn.srcElement;var Li,ar,zi=!0;return typeof It=="function"&&(Li=It(Rn)),ar=st.call(Me,Rn),Pt!=="beforeunload"?(Li!==!1&&ar!==!1||(zi=!1),zi):void 0}};return Qn}H._getPath=function(){var Me=this;return this.path||this.composedPath&&this.composedPath()||z(Me.target).getParents()},H.preventDefault=function(){this.returnValue=!1},H.stopPropagation=function(){this.cancelBubble=!0};var be=function(Me,st,It){if(L===void 0&&st==="click"&&(L=!0),Me&&Me.addEventListener)Me.addEventListener(st,function(Rn){Rn._getPath=H._getPath,It.call(this,Rn)},L);else{var Pt="on"+st,Qn=Me[Pt];Me[Pt]=se(Me,It,Qn,st)}};be.apply(null,arguments)}function Y(e){var a="pushState"in window.history?"popstate":"hashchange";G(window,a,e)}function N(e){if(e)return typeof window.XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest?new XMLHttpRequest:typeof XDomainRequest!="undefined"?new XDomainRequest:null;if(typeof window.XMLHttpRequest!="undefined")return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(h){tr.log(h)}}}function K(e,a,h){if(e==null)return!1;if(Zf&&e.forEach===Zf)e.forEach(a,h);else if(M(e))for(var L=0,H=e.length;L<H;L++)L in e&&a.call(h,e[L],L,e);else for(var se in e)My.call(e,se)&&a.call(h,e[se],se,e)}function p(e){return K(Array.prototype.slice.call(arguments,1),function(a){for(var h in a)Qy.call(a,h)&&a[h]!==void 0&&(e[h]=a[h])}),e}function x(e){function a(Me){if(!Me)return"";try{return JSON.parse(Me)}catch(st){return{}}}function h(){try{L&&typeof L=="object"&&L.abort&&L.abort()}catch(Me){tr.log(Me)}H&&(clearTimeout(H),H=null,e.error&&e.error(),L.onreadystatechange=null,L.onload=null,L.onerror=null)}e.timeout=e.timeout||2e4,e.credentials=typeof e.credentials=="undefined"||e.credentials;var L=N(e.cors);if(!L)return!1;e.type||(e.type=e.data?"POST":"GET"),e=p({success:function(){},error:function(){}},e);var H,se=e.success,be=e.error;e.success=function(Me){se(Me),H&&(clearTimeout(H),H=null)},e.error=function(Me){be(Me),H&&(clearTimeout(H),H=null)},H=setTimeout(function(){h()},e.timeout),typeof XDomainRequest!="undefined"&&L instanceof XDomainRequest&&(L.onload=function(){e.success&&e.success(a(L.responseText)),L.onreadystatechange=null,L.onload=null,L.onerror=null},L.onerror=function(){e.error&&e.error(a(L.responseText),L.status),L.onreadystatechange=null,L.onerror=null,L.onload=null}),L.onreadystatechange=function(){try{L.readyState==4&&(L.status>=200&&L.status<300||L.status==304?e.success(a(L.responseText)):e.error(a(L.responseText),L.status),L.onreadystatechange=null,L.onload=null)}catch(Me){L.onreadystatechange=null,L.onload=null}},L.open(e.type,e.url,!0);try{e.credentials&&(L.withCredentials=!0),A(e.header)&&K(e.header,function(Me,st){L.setRequestHeader&&L.setRequestHeader(st,Me)}),e.data&&(e.cors||L.setRequestHeader&&L.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.contentType==="application/json"?L.setRequestHeader&&L.setRequestHeader("Content-type","application/json; charset=UTF-8"):L.setRequestHeader&&L.setRequestHeader("Content-type","application/x-www-form-urlencoded"))}catch(Me){tr.log(Me)}L.send(e.data||null)}function _(e,a){var h=[];return e==null?h:Array.prototype.map&&e.map===Array.prototype.map?e.map(a):(K(e,function(L,H,se){h.push(a(L,H,se))}),h)}function B(e){var a=[];try{a=_(atob(e).split(""),function(h){return"%"+("00"+h.charCodeAt(0).toString(16)).slice(-2)})}catch(h){a=[]}try{return decodeURIComponent(a.join(""))}catch(h){return a.join("")}}function R(e){var a="";try{a=btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(h,L){return String.fromCharCode("0x"+L)}))}catch(h){a=e}return a}function X(e,a){a=a||window;var h=!1,L=!0,H=a.document,se=H.documentElement,be=H.addEventListener,Me=be?"addEventListener":"attachEvent",st=be?"removeEventListener":"detachEvent",It=be?"":"on",Pt=function(Rn){Rn.type=="readystatechange"&&H.readyState!="complete"||((Rn.type=="load"?a:H)[st](It+Rn.type,Pt,!1),!h&&(h=!0)&&e.call(a,Rn.type||Rn))},Qn=function(){try{se.doScroll("left")}catch(Rn){return void setTimeout(Qn,50)}Pt("poll")};if(H.readyState=="complete")e.call(a,"lazy");else{if(!be&&se.doScroll){try{L=!a.frameElement}catch(Rn){tr.log(Rn)}L&&Qn()}H[Me](It+"DOMContentLoaded",Pt,!1),H[Me](It+"readystatechange",Pt,!1),a[Me](It+"load",Pt,!1)}}function J(e){return K(Array.prototype.slice.call(arguments,1),function(a){for(var h in a)a[h]!==void 0&&e[h]===void 0&&(e[h]=a[h])}),e}function ne(e){var a=e;try{a=decodeURI(e)}catch(h){a=e}return a}function le(e){var a="t6KJCZa5pDdQ9khoEM3Tj70fbP2eLSyc4BrsYugARqFIw1mzlGNVXOHiWvxUn8",h=a.length-1,L={},H=0;for(H=0;H<a.length;H++)L[a.charAt(H)]=a.charAt(h-H);var se="";for(H=0;H<e.length;H++)se+=e.charAt(H)in L?L[e.charAt(H)]:e.charAt(H);return se}function me(e){return Object.prototype.toString.call(e)=="[object Date]"}function Ae(e){function a(h){return h<10?"0"+h:h}return e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())+" "+a(e.getHours())+":"+a(e.getMinutes())+":"+a(e.getSeconds())+"."+a(e.getMilliseconds())}function q(e){return K(e,function(a,h){me(a)?e[h]=Ae(a):A(a)&&(e[h]=q(a))}),e}function Z(e){return K(Array.prototype.slice.call(arguments,1),function(a){for(var h in a)a[h]!==void 0&&(A(a[h])&&A(e[h])?p(e[h],a[h]):e[h]=a[h])}),e}function re(e,a,h){var L=Object.prototype.hasOwnProperty;if(e.filter)return e.filter(a);for(var H=[],se=0;se<e.length;se++)if(L.call(e,se)){var be=e[se];a.call(h,be,se,e)&&H.push(be)}return H}function ae(e){try{return JSON.stringify(e,null,"  ")}catch(a){return JSON.stringify(e)}}function oe(e){return typeof e=="string"&&e.match(/^[a-zA-Z0-9\u4e00-\u9fa5\-\.]+$/)?e:""}function ue(e,a,h){e=e||location.hostname,a=a||"domain_test";var L=oe(e),H=L.split(".");if(M(H)&&H.length>=2&&!/^(\d+\.)+\d+$/.test(L)){for(var se="."+H.splice(H.length-1,1);H.length>0;)if(se="."+H.splice(H.length-1,1)+se,Ga.set(a,"true",0,null,h,"; domain="+se),document.cookie.indexOf(a+"=true")!==-1)return Ga.set(a,"true","-1s",null,h,"; domain="+se),se}return""}function Ee(e){function a(se,be){se=f(se);var Me;if(se==="body")return document.getElementsByTagName("body")[0];if(se.indexOf("#")===0)se=se.slice(1),Me=document.getElementById(se);else if(se.indexOf(":nth-of-type")>-1){var st=se.split(":nth-of-type");if(!st[0]||!st[1])return null;var It=st[0],Pt=st[1].match(/\(([0-9]+)\)/);if(!Pt||!Pt[1])return null;var Qn=Number(Pt[1]);if(!(g(be)&&be.children&&be.children.length>0))return null;for(var Rn=be.children,Li=0;Li<Rn.length;Li++)if(g(Rn[Li])){var ar=Rn[Li].tagName.toLowerCase();if(ar===It&&(Qn--,Qn===0)){Me=Rn[Li];break}}if(Qn>0)return null}return Me||null}function h(se){var be,Me=L.shift();if(!Me)return se;try{be=a(Me,se)}catch(st){tr.log(st)}return be&&g(be)?h(be):null}if(!D(e))return null;var L=e.split(">"),H=null;return H=h(),H&&g(H)?H:null}function O(e,a){var h="",L="";return e.textContent?h=f(e.textContent):e.innerText&&(h=f(e.innerText)),h&&(h=h.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),L=h||"",a!=="input"&&a!=="INPUT"||(L=e.value||""),L}function ee(e,a){a&&typeof a=="string"||(a="hostname\u89E3\u6790\u5F02\u5E38");var h=null;try{h=Q(e).hostname}catch(L){tr.log("getHostname\u4F20\u5165\u7684url\u53C2\u6570\u4E0D\u5408\u6CD5\uFF01")}return h||a}function ie(){try{var e=navigator.appVersion.match(/OS (\d+)[._](\d+)[._]?(\d+)?/);return e&&e[1]?Number.parseInt(e[1],10):""}catch(a){return""}}function ge(e,a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=S(e);var h="[\\?&]"+a+"=([^&#]*)",L=new RegExp(h),H=L.exec(e);return H===null||H&&typeof H[1]!="string"&&H[1].length?"":S(H[1])}function _e(e){var a={},h=e.split("?"),L=h[1]||"";return L&&(a=r("?"+L)),a}function we(){return typeof window.matchMedia!="undefined"||typeof window.msMatchMedia!="undefined"}function ke(){var e=screen.msOrientation||screen.mozOrientation||(screen.orientation||{}).type,a="\u672A\u53D6\u5230\u503C";if(e)a=e.indexOf("landscape")>-1?"landscape":"portrait";else if(we()){var h=window.matchMedia||window.msMatchMedia;h("(orientation: landscape)").matches?a="landscape":h("(orientation: portrait)").matches&&(a="portrait")}return a}function Se(){var e,a={},h=navigator.userAgent.toLowerCase();return(e=h.match(/ qq\/([\d.]+)/))?a.qqBuildinBrowser=Number(e[1].split(".")[0]):(e=h.match(/mqqbrowser\/([\d.]+)/))?a.qqBrowser=Number(e[1].split(".")[0]):(e=h.match(/opera.([\d.]+)/))?a.opera=Number(e[1].split(".")[0]):(e=h.match(/msie ([\d.]+)/))?a.ie=Number(e[1].split(".")[0]):(e=h.match(/edge.([\d.]+)/))?a.edge=Number(e[1].split(".")[0]):(e=h.match(/firefox\/([\d.]+)/))?a.firefox=Number(e[1].split(".")[0]):(e=h.match(/chrome\/([\d.]+)/))?a.chrome=Number(e[1].split(".")[0]):(e=h.match(/version\/([\d.]+).*safari/))?a.safari=Number(e[1].match(/^\d*.\d*/)):(e=h.match(/trident\/([\d.]+)/))&&(a.ie=11),a}function Te(e){return D(e)?(e=f(e),ne(e)):ne(location.href)}function Re(e){return D(e)?(e=f(e),ne(e)):ne(location.pathname)}function Ne(e,a){return e.hasAttribute?e.hasAttribute(a):e.attributes?!(!e.attributes[a]||!e.attributes[a].specified):void 0}function Ye(e,a){if(typeof a=="string")return Ne(e,a);if(M(a)){for(var h=!1,L=0;L<a.length;L++){var H=Ne(e,a[L]);if(H){h=!0;break}}return h}}function Je(e){if(typeof e!="string")return 0;var a=0,h=null;if(e.length==0)return a;for(var L=0;L<e.length;L++)h=e.charCodeAt(L),a=(a<<5)-a+h,a&=a;return a}function rt(e){var a=9007199254740992,h=-9007199254740992,L=31,H=0;if(e.length>0)for(var se=e.split(""),be=0;be<se.length;be++){var Me=se[be].charCodeAt(),st=L*H+Me;if(st>a)for(H=h+H;st=L*H+Me,st<h;)H=H/2+Me;if(st<h)for(H=a+H;st=L*H+Me,st>a;)H=H/2+Me;H=L*H+Me}return H}function We(e,a){var h=e.indexOf;if(h)return h.call(e,a);for(var L=0;L<e.length;L++)if(a===e[L])return L;return-1}function Ve(e,a){return e.prototype=new a,e.prototype.constructor=e,e.superclass=a.prototype,e}function Oe(e){return!(!e||!Py.call(e,"callee"))}function ft(e){return Object.prototype.toString.call(e)=="[object Boolean]"}function ht(e){if(A(e)){for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a))return!1;return!0}return!1}function qt(e){if(typeof e!="string")return!1;var a=/^https?:\/\/.+/;return a.test(e)!==!1||(tr.log("Invalid URL"),!1)}function bn(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)}function sn(e){try{JSON.parse(e)}catch(a){return!1}return!0}function gn(e){return Object.prototype.toString.call(e)=="[object Number]"&&/[\d\.]+/.test(String(e))}function kn(){var e=!1;if(typeof navigator!="object"||typeof navigator.sendBeacon!="function")return e;var a=Se(),h=navigator.userAgent.toLowerCase();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){var L=/os [\d._]*/gi,H=h.match(L),se=(H+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),be=se.split(".");typeof a.safari=="undefined"&&(a.safari=be[0]),be[0]&&(a.qqBuildinBrowser||a.qqBrowser)?e=!1:be[0]&&be[0]<13?(a.chrome>41||a.firefox>30||a.opera>25||a.safari>12)&&(e=!0):(a.chrome>41||a.firefox>30||a.opera>25||a.safari>11.3)&&(e=!0)}else(a.chrome>38||a.edge>13||a.firefox>30||a.opera>25||a.safari>11)&&(e=!0);return e}function Yn(){return typeof window.XMLHttpRequest!="undefined"&&("withCredentials"in new XMLHttpRequest||typeof XDomainRequest!="undefined")}function Nn(e){if(!A(e)||!D(e.callbackName))return tr.log("JSONP \u8BF7\u6C42\u7F3A\u5C11 callbackName"),!1;e.success=s(e.success)?e.success:function(){},e.error=s(e.error)?e.error:function(){},e.data=e.data||"";var a=document.createElement("script"),h=document.getElementsByTagName("head")[0],L=null,H=!1;if(h.appendChild(a),gn(e.timeout)&&(L=setTimeout(function(){return!H&&(e.error("timeout"),window[e.callbackName]=function(){tr.log("call jsonp error")},L=null,h.removeChild(a),void(H=!0))},e.timeout)),window[e.callbackName]=function(){clearTimeout(L),L=null,e.success.apply(null,arguments),window[e.callbackName]=function(){tr.log("call jsonp error")},h.removeChild(a)},e.url.indexOf("?")>-1?e.url+="&callbackName="+e.callbackName:e.url+="?callbackName="+e.callbackName,A(e.data)){var se=[];K(e.data,function(be,Me){se.push(Me+"="+be)}),e.data=se.join("&"),e.url+="&"+e.data}a.onerror=function(be){return!H&&(window[e.callbackName]=function(){tr.log("call jsonp error")},clearTimeout(L),L=null,h.removeChild(a),e.error(be),void(H=!0))},a.src=e.url}function pi(e){var a={visibleHandler:s(e.visible)?e.visible:function(){},hiddenHandler:s(e.hidden)?e.hidden:function(){},visibilityChange:null,hidden:null,isSupport:function(){return typeof document[this.hidden]!="undefined"},init:function(){typeof document.hidden!="undefined"?(this.hidden="hidden",this.visibilityChange="visibilitychange"):typeof document.mozHidden!="undefined"?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):typeof document.msHidden!="undefined"?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.listen()},listen:function(){if(this.isSupport()){var h=this;G(document,this.visibilityChange,function(){document[h.hidden]?h.hiddenHandler():h.visibleHandler()},1)}else G(window,"focus",this.visibleHandler),G(window,"blur",this.hiddenHandler)}};a.init()}function Ln(e){e=p({success:function(){},error:function(){},appendCall:function(h){document.getElementsByTagName("head")[0].appendChild(h)}},e);var a=null;e.type==="css"&&(a=document.createElement("link"),a.rel="stylesheet",a.href=e.url),e.type==="js"&&(a=document.createElement("script"),a.async="async",a.setAttribute("charset","UTF-8"),a.src=e.url,a.type="text/javascript"),a.onload=a.onreadystatechange=function(){this.readyState&&this.readyState!=="loaded"&&this.readyState!=="complete"||(e.success(),a.onload=a.onreadystatechange=null)},a.onerror=function(){e.error(),a.onerror=null},e.appendCall(a)}function si(e){if(typeof e!="string")return"";for(var a=/^\s*javascript/i;a.test(e);)e=e.replace(a,"");return e}function Xi(e,a){e=String(e),a=typeof a=="number"?a:13;for(var h=126,L=e.split(""),H=0,se=L.length;H<se;H++){var be=L[H].charCodeAt(0);be<h&&(L[H]=String.fromCharCode((L[H].charCodeAt(0)+a)%h))}return L.join("")}function or(e){var a=13,h=126;return e=String(e),Xi(e,h-a)}function jr(e){A(e)&&K(e,function(a,h){A(a)?jr(e[h]):me(a)&&(e[h]=Ae(a))})}function ji(e){var a=document.createElement("style");a.type="text/css";try{a.appendChild(document.createTextNode(e))}catch(H){a.styleSheet.cssText=e}var h=document.getElementsByTagName("head")[0],L=document.getElementsByTagName("script")[0];h?h.children.length?h.insertBefore(a,h.children[0]):h.appendChild(a):L.parentNode.insertBefore(a,L)}function br(e){if(typeof e!="string")return tr.log("\u8F6C\u6362unicode\u9519\u8BEF",e),e;for(var a="",h=0;h<e.length;h++)a+="\\"+e.charCodeAt(h).toString(16);return a}function Zr(e,a,h){var L,H,se,be=null,Me=0;h||(h={});var st=function(){Me=h.leading===!1?0:u(),be=null,se=e.apply(L,H),be||(L=H=null)};return function(){var It=u();Me||h.leading!==!1||(Me=It);var Pt=a-(It-Me);return L=this,H=arguments,Pt<=0||Pt>a?(be&&(clearTimeout(be),be=null),Me=It,se=e.apply(L,H),be||(L=H=null)):be||h.trailing===!1||(be=setTimeout(st,Pt)),se}}function ea(e){var a=[];return e==null||K(e,function(h){a[a.length]=h}),a}function Wr(e){return e?e.toArray?e.toArray():M(e)||Oe(e)?Array.prototype.slice.call(e):ea(e):[]}function _r(e){for(var a,h=[],L={},H=0;H<e.length;H++)a=e[H],a in L||(L[a]=!0,h.push(a));return h}function $(e,a,h){return h=h||0,e.substr(h,a.length)===a}function F(){Ja.msg.apply(Ja,arguments).log()}function n(){Ja.msg.apply(Ja,arguments).level("warn").log()}function v(){Ja.msg.apply(Ja,arguments).level("error").log()}function I(e){var a=Yt.current_domain;switch(typeof a){case"function":var h=a();return h===""||f(h)===""?"url\u89E3\u6790\u5931\u8D25":h.indexOf(".")!==-1?h:"url\u89E3\u6790\u5931\u8D25";case"string":return a===""||f(a)===""?"url\u89E3\u6790\u5931\u8D25":a.indexOf(".")!==-1?a:"url\u89E3\u6790\u5931\u8D25";default:var L=ue(null,th,Yt.is_secure_cookie);return e===""||L===""?"url\u89E3\u6790\u5931\u8D25":L}}function U(e,a){var h="";if(Yt.cross_subdomain===!1){try{if(a)h=Q(a).hostname;else{var L=location.host;w(Ce.para.white_list[L])||(h=Ce.para.white_list[L])}}catch(H){v(H)}h=typeof h=="string"&&h!==""?"sajssdk_2015_"+Yt.sdk_id+e+"_"+h.replace(/\./g,"_"):"sajssdk_2015_root_"+Yt.sdk_id+e}else h="sajssdk_2015_cross_"+Yt.sdk_id+e;return h}function W(){var e="new_user";return Or.isSupport()?Or.get("sensorsdata_is_new_user")!==null||Or.get(U(e))!==null:xl.get(xl.getNewUserFlagMemoryKey(e))!==null}function fe(e,a,h){var L=!(!A(Yt.heatmap)||!Yt.heatmap.useCapture);return A(Yt.heatmap)&&w(Yt.heatmap.useCapture)&&a==="click"&&(L=!0),G(e,a,h,L)}function pe(){var e=document.referrer,a="baidu.com";if(!e)return!1;try{var h=Q(e).hostname;return h&&h.substring(h.length-a.length)===a}catch(L){return!1}}function ve(){var e=_e(document.referrer);if(ht(e)||!e.eqid){var a=_e(location.href);return e.ck||a.utm_source?"baidu_sem_keyword_id":"baidu_other_keyword_id"}return"baidu_seo_keyword_id"}function Ue(){var e=_e(document.referrer);return ht(e)||!e.eqid?Ma().replace(/-/g,""):e.eqid}function ze(e,a){return e=e||document.referrer,D(e)?(e=f(e),e=ne(e),e.indexOf("https://www.baidu.com/")!==0||a||(e=e.split("?")[0]),e=e.slice(0,Yt.max_referrer_string_length),D(e)?e:""):"\u53D6\u503C\u5F02\u5E38_referrer\u5F02\u5E38_"+String(e)}function Le(e){if(e=e||document.referrer,e==="")return!0;var a=ue(null,th,Yt.is_secure_cookie),h=ee(e);return h="."+h,h.indexOf(a)===-1&&a!==""}function Qe(e,a){e=e||document.referrer;var h=Yt.source_type.keyword;if(document&&D(e)){if(e.indexOf("http")===0){var L=lt(e),H=_e(e);if(ht(H))return Yt.preset_properties.search_keyword_baidu&&pe()?void 0:"\u672A\u53D6\u5230\u503C";var se=null;for(var be in h)if(L===be&&A(H)){if(se=h[be],M(se))for(be=0;be<se.length;be++){var Me=H[se[be]];if(Me)return a?{active:Me}:Me}else if(H[se])return a?{active:H[se]}:H[se]}return Yt.preset_properties.search_keyword_baidu&&pe()?void 0:"\u672A\u53D6\u5230\u503C"}return e===""?"\u672A\u53D6\u5230\u503C_\u76F4\u63A5\u6253\u5F00":"\u672A\u53D6\u5230\u503C_\u975Ehttp\u7684url"}return"\u53D6\u503C\u5F02\u5E38_referrer\u5F02\u5E38_"+String(e)}function lt(e){var a=ee(e);if(!a||a==="hostname\u89E3\u6790\u5F02\u5E38")return"";var h={baidu:[/^.*\.baidu\.com$/],bing:[/^.*\.bing\.com$/],google:[/^www\.google\.com$/,/^www\.google\.com\.[a-z]{2}$/,/^www\.google\.[a-z]{2}$/],sm:[/^m\.sm\.cn$/],so:[/^.+\.so\.com$/],sogou:[/^.*\.sogou\.com$/],yahoo:[/^.*\.yahoo\.com$/]};for(var L in h)for(var H=h[L],se=0,be=H.length;se<be;se++)if(H[se].test(a))return L;return"\u672A\u77E5\u641C\u7D22\u5F15\u64CE"}function nt(){function e(Me,st){for(var It=0;It<Me.length;It++)if(st.split("?")[0].indexOf(Me[It])!==-1)return!0}var a="("+Yt.source_type.utm.join("|")+")\\=[^&]+",h=Yt.source_type.search,L=Yt.source_type.social,H=document.referrer||"",se=gi.pageProp.url;if(se){var be=se.match(new RegExp(a));return be&&be[0]?"\u4ED8\u8D39\u5E7F\u544A\u6D41\u91CF":e(h,H)?"\u81EA\u7136\u641C\u7D22\u6D41\u91CF":e(L,H)?"\u793E\u4EA4\u7F51\u7AD9\u6D41\u91CF":H===""?"\u76F4\u63A5\u6D41\u91CF":"\u5F15\u8350\u6D41\u91CF"}return"\u83B7\u53D6url\u5F02\u5E38"}function Ke(e){var a=ge(e,"gdt_vid"),h=ge(e,"hash_key"),L=ge(e,"callbacks"),H={click_id:"",hash_key:"",callbacks:""};return D(a)&&a.length&&(H.click_id=a.length==16||a.length==18?a:"\u53C2\u6570\u89E3\u6790\u4E0D\u5408\u6CD5",D(h)&&h.length&&(H.hash_key=h),D(L)&&L.length&&(H.callbacks=L)),H}function xt(e){var a=e.properties,h=JSON.parse(JSON.stringify(e));A(a)&&K(a,function(L,H){if(s(L))try{a[H]=L(h),s(a[H])&&(n("\u60A8\u7684\u5C5E\u6027- "+H+" \u683C\u5F0F\u4E0D\u6EE1\u8DB3\u8981\u6C42\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664"),delete a[H])}catch(se){delete a[H],n("\u60A8\u7684\u5C5E\u6027- "+H+" \u629B\u51FA\u4E86\u5F02\u5E38\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664")}})}function Lt(e){if(A(e)&&e.$option){var a=e.$option;return delete e.$option,a}return{}}function bt(e){var a={};return K(e,function(h,L){h!=null&&(a[L]=h)}),a}function un(e){var a=!e.type||e.type.slice(0,7)!=="profile",h="\u53D6\u503C\u5F02\u5E38";A(e.properties)&&a&&("$referrer"in e.properties&&(e.properties.$referrer_host=e.properties.$referrer===""?"":ee(e.properties.$referrer,h)),Yt.preset_properties.latest_referrer&&Yt.preset_properties.latest_referrer_host&&(e.properties.$latest_referrer_host=e.properties.$latest_referrer===""?"":ee(e.properties.$latest_referrer,h)))}function pt(e){var a=!e.type||e.type.slice(0,7)!=="profile",h=Yt.preset_properties&&a;h&&Yt.preset_properties.url&&w(e.properties.$url)&&(e.properties.$url=Te()),h&&Yt.preset_properties.title&&w(e.properties.$title)&&(e.properties.$title=document.title)}function et(e){if(!g(e.target))return!1;var a=e.target,h=D(a.tagName)?a.tagName.toLowerCase():"unknown",L={};return L.$element_type=h,L.$element_name=a.getAttribute("name"),L.$element_id=a.getAttribute("id"),L.$element_class_name=D(a.className)?a.className:null,L.$element_target_url=a.getAttribute("href"),L.$element_content=ut(a,h),L=bt(L),L.$url=Te(),L.$url_path=Re(),L.$title=document.title,L}function tt(e){var a=Yt.heatmap&&s(Yt.heatmap.collect_input)&&Yt.heatmap.collect_input(e);return(e.type==="button"||e.type==="submit"||a)&&e.value||""}function ut(e,a){return D(a)&&a.toLowerCase()==="input"?tt(e):O(e,a)}function rn(e){return Qa.protocol.ajax(e.url),x(e)}function Xt(e){if(typeof e=="string"&&(e=f(e),e&&(e.slice(0,3)==="://"?e=location.protocol.slice(0,-1)+e:e.slice(0,2)==="//"?e=location.protocol+e:e.slice(0,4)!=="http"&&(e=""))),M(e)&&e.length)for(var a=0;a<e.length;a++)/sa\.gif[^\/]*$/.test(e[a])||(e[a]=e[a].replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));else/sa\.gif[^\/]*$/.test(e)||typeof e!="string"||(e=e.replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));return e}function Ot(e){D(e)||(e=JSON.stringify(e));var a=R(e),h="crc="+Je(a);return"data="+encodeURIComponent(a)+"&ext="+encodeURIComponent(h)}function ot(e){var a=location.href,h=window.history.pushState,L=window.history.replaceState;s(window.history.pushState)&&(window.history.pushState=function(){h.apply(window.history,arguments),e(a),a=location.href}),s(window.history.replaceState)&&(window.history.replaceState=function(){L.apply(window.history,arguments),e(a),a=location.href});var H;H=window.document.documentMode?"hashchange":h?"popstate":"hashchange",G(window,H,function(){e(a),a=location.href})}function Ut(e,a){var h=[];typeof e=="string"&&e in Ui.EVENT_LIST&&(h=Ui.EVENT_LIST[e],Ui[h[0]].on(h[1],a))}function Kt(){this.sendTimeStamp=0,this.timer=null,this.serverUrl="",this.hasTabStorage=!1}function $t(e,a){for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)&&!$y.check(h,e[h],a))return!1;return!0}function de(e,a){return A(e)&&K(e,function(h,L){if(M(h)){var H=[];K(h,function(be){if(D(be))H.push(be);else if(w(be))H.push("null");else try{H.push(JSON.stringify(be))}catch(Me){n("\u60A8\u7684\u6570\u636E-",L,h,"\u6570\u7EC4\u91CC\u503C\u6709\u9519\u8BEF,\u5DF2\u5C06\u5176\u5220\u9664")}}),e[L]=H}var se=We(a||[],L)>-1;if(A(h)&&L!=="$option"&&!se)try{e[L]=JSON.stringify(h)}catch(be){delete e[L],n("\u60A8\u7684\u6570\u636E-",L,h,"\u6570\u636E\u503C\u6709\u9519\u8BEF\uFF0C\u5DF2\u5C06\u5176\u5220\u9664")}else D(h)||gn(h)||me(h)||ft(h)||M(h)||s(h)||L==="$option"||se||(n("\u60A8\u7684\u6570\u636E-",L,h,"-\u683C\u5F0F\u4E0D\u6EE1\u8DB3\u8981\u6C42\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664"),delete e[L])}),e}function ce(e,a){return gn(a)&&e.length>a?(n("\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u8FC7\u9650\u5236\uFF0C\u5DF2\u7ECF\u505A\u622A\u53D6--"+e),e.slice(0,a)):e}function xe(e,a){var h=["distinct_id","user_id","id","date","datetime","event","events","first_id","original_id","device_id","properties","second_id","time","users"];A(e)&&K(h,function(L,H){L in e&&(We(a||[],L)>-1||(H<3?(delete e[L],n("\u60A8\u7684\u5C5E\u6027- "+L+"\u662F\u4FDD\u7559\u5B57\u6BB5\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u5C06\u5176\u5220\u9664")):n("\u60A8\u7684\u5C5E\u6027- "+L+"\u662F\u4FDD\u7559\u5B57\u6BB5\uFF0C\u8BF7\u907F\u514D\u5176\u4F5C\u4E3A\u5C5E\u6027\u540D")))})}function $e(e){var a=["$element_selector","$element_path"],h=["sensorsdata_app_visual_properties"];A(e)&&K(e,function(L,H){if(A(L))$e(e[H]);else if(D(L)){if(We(h,H)>-1)return;e[H]=ce(L,We(a,H)>-1?1024:Yt.max_string_length)}})}function De(e){typeof e.properties.$project!="undefined"&&(e.project=e.properties.$project,delete e.properties.$project),typeof e.properties.$token!="undefined"&&(e.token=e.properties.$token,delete e.properties.$token)}function Ge(e){if("item_type"in e){var a=e.item_type,h=function(se){return se||delete e.item_type,!0};$t({item_type:a},h)}if("item_id"in e){var L=e.item_id,H=function(se,be,Me){return se||Me!=="string"||delete e.item_id,!0};$t({item_id:L},H)}}function yt(e,a){K(e,function(h,L){var H=function(se,be,Me){return se||Me==="keyLength"||delete e[L],!0};We(a||[],L)===-1&&$t({propertyKey:L},H)})}function Mt(e){var a=e.properties;jr(e),A(a)?(de(a),xe(a),De(e),yt(a),$e(a)):"properties"in e&&(e.properties={}),Ge(e)}function Dt(e,a){var h=a.sensors;return e._track_id=Number(String(b()).slice(2,5)+String(b()).slice(2,4)+String(new Date().getTime()).slice(-4)),e._flush_time=new Date().getTime(),h.events.tempAdd("send",e),e}function vn(e,a){try{var h=a.sensors,L={};A(e)&&A(e.identities)&&!ht(e.identities)?p(L,e.identities):p(L,mt.getIdentities());var H={identities:L,distinct_id:mt.getDistinctId(),lib:{$lib:"js",$lib_method:"code",$lib_version:String(h.lib_version)},properties:{}};return A(e)&&A(e.properties)&&!ht(e.properties)&&(e.properties.$lib_detail&&(H.lib.$lib_detail=e.properties.$lib_detail,delete e.properties.$lib_detail),e.properties.$lib_method&&(H.lib.$lib_method=e.properties.$lib_method,delete e.properties.$lib_method)),Z(H,mt.getUnionId(),e),A(e.properties)&&!ht(e.properties)&&p(H.properties,e.properties),H.event==="$UnbindID"&&(H.login_id&&delete H.login_id,H.anonymous_id&&delete H.anonymous_id),e.type&&e.type.slice(0,7)==="profile"||(H.properties=p({},gi.properties(),mt.getProps(),mt.getSessionProps(),gi.currentProps,H.properties),h.para.preset_properties.latest_referrer&&!D(H.properties.$latest_referrer)&&(H.properties.$latest_referrer="\u53D6\u503C\u5F02\u5E38"),h.para.preset_properties.latest_search_keyword&&!D(H.properties.$latest_search_keyword)&&(h.para.preset_properties.search_keyword_baidu&&D(H.properties.$search_keyword_id)&&gn(H.properties.$search_keyword_id_hash)&&D(H.properties.$search_keyword_id_type)||(H.properties.$latest_search_keyword="\u53D6\u503C\u5F02\u5E38")),h.para.preset_properties.latest_traffic_source_type&&!D(H.properties.$latest_traffic_source_type)&&(H.properties.$latest_traffic_source_type="\u53D6\u503C\u5F02\u5E38"),h.para.preset_properties.latest_landing_page&&!D(H.properties.$latest_landing_page)&&(H.properties.$latest_landing_page="\u53D6\u503C\u5F02\u5E38"),h.para.preset_properties.latest_wx_ad_click_id==="not_collect"?(delete H.properties._latest_wx_ad_click_id,delete H.properties._latest_wx_ad_hash_key,delete H.properties._latest_wx_ad_callbacks):h.para.preset_properties.latest_wx_ad_click_id&&!D(H.properties._latest_wx_ad_click_id)&&(H.properties._latest_wx_ad_click_id="\u53D6\u503C\u5F02\u5E38",H.properties._latest_wx_ad_hash_key="\u53D6\u503C\u5F02\u5E38",H.properties._latest_wx_ad_callbacks="\u53D6\u503C\u5F02\u5E38"),D(H.properties._latest_wx_ad_click_id)&&(H.properties.$url=Te())),H.properties.$time&&me(H.properties.$time)?(H.time=1*H.properties.$time,delete H.properties.$time):H.time=1*new Date,function(se){if(h.bridge&&h.bridge.bridge_info.verify_success==="success"){var be=Pu.customProp.geth5Props(JSON.parse(JSON.stringify(se)));A(be)&&!ht(be)&&(se.properties=p(se.properties,be))}var Me=Pa.customProp.getVtrackProps(JSON.parse(JSON.stringify(se)));A(Me)&&!ht(Me)&&(se.properties=p(se.properties,Me))}(H),xt(H),Ds.checkIsAddSign(H),Ds.checkIsFirstTime(H),un(H),pt(H),H}catch(se){return{_debug_web_msg:String(se)}}}function Vt(e){return Ru.stage.process("basicProps",e)}function tn(e){return Ru.stage.process("formatData",e)}function di(e,a,h,L){function H(be){function Me(){st||(st=!0,location.href=se.href)}be.stopPropagation(),be.preventDefault();var st=!1;setTimeout(Me,1e3),L(a,h,Me)}e=e||{};var se=null;return e.ele&&(se=e.ele),e.event&&(se=e.target?e.target:e.event.target),h=h||{},!(!se||typeof se!="object")&&(!se.href||/^javascript/.test(se.href)||se.target||se.download||se.onclick?(L(a,h),!1):(e.event&&H(e.event),void(e.ele&&fe(e.ele,"click",function(be){H(be)}))))}function Pr(){var e=location.protocol;return e==="http:"||e==="https:"?e:"http:"}function Et(e){return Nu.stage.process("webClickEvent",e)}function Er(e){return Nu.stage.process("webStayEvent",e)}function Ir(){var e=gi.campaignParams(),a={};return K(e,function(h,L,H){(" "+Ce.source_channel_standard+" ").indexOf(" "+L+" ")!==-1?a["$"+L]=H[L]:a[L]=H[L]}),a}function ta(e,a,h){if(Ce.is_first_visitor&&h){var L={};Ce.para.preset_properties.search_keyword_baidu&&Le(document.referrer)&&pe()&&(L.$search_keyword_id=Ts.id(),L.$search_keyword_id_type=Ts.type(),L.$search_keyword_id_hash=rt(L.$search_keyword_id));var H=ze(null,a);e(p({$first_visit_time:new Date,$first_referrer:H,$first_referrer_host:H?ee(H,"\u53D6\u503C\u5F02\u5E38"):"",$first_browser_language:D(navigator.language)?navigator.language.toLowerCase():"\u53D6\u503C\u5F02\u5E38",$first_browser_charset:D(document.charset)?document.charset.toUpperCase():"\u53D6\u503C\u5F02\u5E38",$first_traffic_source_type:nt(),$first_search_keyword:Qe()},Ir(),L)),Ce.is_first_visitor=!1}}function Fn(e,a){var h=e.id,L=e.callback,H=e.name,se=mt.getFirstId(),be=mt.getOriginDistinctId();if(!$t({distinct_id:h}))return v("login id is invalid"),!1;if(h===mt.getOriginDistinctId()&&!se)return v("login id is equal to distinct_id"),!1;if(A(mt._state.identities)&&mt._state.identities.hasOwnProperty(H)&&h===mt._state.first_id)return!1;var Me=mt._state.history_login_id.name!==H||h!==mt._state.history_login_id.value;if(Me){mt._state.identities[H]=h,mt.set("history_login_id",{name:H,value:h}),se||mt.set("first_id",be),a(h,"$SignUp",{},L);var st={$identity_cookie_id:mt._state.identities.$identity_cookie_id};return st[H]=h,gr(st),!0}return!1}function gr(e){var a={};for(var h in e)a[h]=e[h];mt._state.identities=a,mt.save()}function Wt(e,a){if(!$t({unbindKey:e,bindValue:a}))return!1;if(A(mt._state.identities)&&mt._state.identities.hasOwnProperty(e)&&mt._state.identities[e]===a){var h=mt.getUnionId().login_id;h&&e+"+"+a===h&&(mt._state.distinct_id=mt._state.first_id,mt._state.first_id="",mt.set("history_login_id",{name:"",value:""})),e!=="$identity_cookie_id"&&(delete mt._state.identities[e],mt.save())}var L={};return L[e]=a,L}function ct(){Ce._t=Ce._t||1*new Date,Ce.is_first_visitor=!1,Ce.source_channel_standard=eh}function Pn(e){p(Yt,e||Ce.para||{}),Ce.para=Yt;var a={};if(A(Ce.para.is_track_latest))for(var h in Ce.para.is_track_latest)a["latest_"+h]=Ce.para.is_track_latest[h];Ce.para.preset_properties=p({},Ss.preset_properties,a,Ce.para.preset_properties||{});var L;for(L in Ss)Ce.para[L]===void 0&&(Ce.para[L]=Ss[L]);typeof Ce.para.web_url!="string"||Ce.para.web_url.slice(0,3)!=="://"&&Ce.para.web_url.slice(0,2)!=="//"||(Ce.para.web_url.slice(0,3)==="://"?Ce.para.web_url=location.protocol.slice(0,-1)+Ce.para.web_url:Ce.para.web_url=location.protocol+Ce.para.web_url),Qa.protocol.serverUrl(),Ce.bridge&&Ce.bridge.initPara();var H=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],se=["www.baidu.","m.baidu.","m.sm.cn","so.com","sogou.com","youdao.com","google.","yahoo.com/","bing.com/","ask.com/"],be=["weibo.com","renren.com","kaixin001.com","douban.com","qzone.qq.com","zhihu.com","tieba.baidu.com","weixin.qq.com"],Me={baidu:["wd","word","kw","keyword"],google:"q",bing:"q",yahoo:"p",sogou:["query","keyword"],so:"q",sm:"q"};typeof Ce.para.source_type=="object"&&(Ce.para.source_type.utm=M(Ce.para.source_type.utm)?Ce.para.source_type.utm.concat(H):H,Ce.para.source_type.search=M(Ce.para.source_type.search)?Ce.para.source_type.search.concat(se):se,Ce.para.source_type.social=M(Ce.para.source_type.social)?Ce.para.source_type.social.concat(be):be,Ce.para.source_type.keyword=A(Ce.para.source_type.keyword)?p(Me,Ce.para.source_type.keyword):Me);var st={div:!1},It=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];if(Ce.para.heatmap&&!A(Ce.para.heatmap)&&(Ce.para.heatmap={}),A(Ce.para.heatmap)){Ce.para.heatmap.clickmap=Ce.para.heatmap.clickmap||"default",Ce.para.heatmap.scroll_notice_map=Ce.para.heatmap.scroll_notice_map||"default",Ce.para.heatmap.scroll_delay_time=Ce.para.heatmap.scroll_delay_time||4e3,Ce.para.heatmap.scroll_event_duration=Ce.para.heatmap.scroll_event_duration||18e3,Ce.para.heatmap.renderRefreshTime=Ce.para.heatmap.renderRefreshTime||1e3,Ce.para.heatmap.loadTimeout=Ce.para.heatmap.loadTimeout||1e3,Ce.para.heatmap.get_vtrack_config!==!0&&(Ce.para.heatmap.get_vtrack_config=!1);var Pt=M(Ce.para.heatmap.track_attr)?re(Ce.para.heatmap.track_attr,function(Rn){return Rn&&typeof Rn=="string"}):[];if(Pt.push("data-sensors-click"),Ce.para.heatmap.track_attr=Pt,A(Ce.para.heatmap.collect_tags))if(Ce.para.heatmap.collect_tags.div===!0)Ce.para.heatmap.collect_tags.div={ignore_tags:It,max_level:1};else if(A(Ce.para.heatmap.collect_tags.div)){if(Ce.para.heatmap.collect_tags.div.ignore_tags?M(Ce.para.heatmap.collect_tags.div.ignore_tags)||(n("ignore_tags \u53C2\u6570\u5FC5\u987B\u662F\u6570\u7EC4\u683C\u5F0F"),Ce.para.heatmap.collect_tags.div.ignore_tags=It):Ce.para.heatmap.collect_tags.div.ignore_tags=It,Ce.para.heatmap.collect_tags.div.max_level){var Qn=[1,2,3];We(Qn,Ce.para.heatmap.collect_tags.div.max_level)===-1&&(Ce.para.heatmap.collect_tags.div.max_level=1)}}else Ce.para.heatmap.collect_tags.div=!1;else Ce.para.heatmap.collect_tags=st}Ce.para.server_url=Xt(Ce.para.server_url),Ce.para.noCache===!0?Ce.para.noCache="?"+new Date().getTime():Ce.para.noCache="",Ce.para.callback_timeout>Ce.para.datasend_timeout&&(Ce.para.datasend_timeout=Ce.para.callback_timeout),Ce.para.heatmap&&Ce.para.heatmap.collect_tags&&A(Ce.para.heatmap.collect_tags)&&K(Ce.para.heatmap.collect_tags,function(Rn,Li){Li!=="div"&&Rn&&Ce.heatmap.otherTags.push(Li)}),Ce.para.heatmap&&Ce.para.heatmap.clickmap==="default"&&Ce.heatmap.initUnlimitedTags()}function jt(){var e=Array.prototype.slice.call(arguments),a=e[0],h=e.slice(1);return typeof a=="string"&&_l[a]?_l[a].apply(_l,h):void(typeof a=="function"?a.apply(Ce,h):n("quick\u65B9\u6CD5\u4E2D\u6CA1\u6709\u8FD9\u4E2A\u529F\u80FD"+e[0]))}function St(e,a){function h(){return!L.plugin_is_init&&L.init(Ce,a),L.plugin_is_init=!0,Ce.modules=Ce.modules||{},Ce.modules[L.plugin_name||"unnamed_"+qy++]=L,L}if(!D(e)&&!A(e))return void v("use's first arguments must be string or object.");var L;if(A(e)){var H=Ce.modules&&Ce.modules[e.plugin_name];H&&H!==e&&n(e.name+" is conflict with builtin plugin, and sdk uses builtin plugin."),L=H||e}return D(e)&&(A(Ce.modules)&&A(Ce.modules[e])?L=Ce.modules[e]:A(window.SensorsDataWebJSSDKPlugin)&&A(window.SensorsDataWebJSSDKPlugin[e])?L=window.SensorsDataWebJSSDKPlugin[e]:window.sensorsDataAnalytic201505&&window.sensorsDataAnalytic201505.modules[e]&&(L=window.sensorsDataAnalytic201505.modules[e])),L&&s(L.init)?L.plugin_is_init?L:(L.plugin_name||n("warning: invalid plugin, plugin_name required."),L.plugin_version?L.plugin_version!==Ce.lib_version&&n("warning: plugin version not match SDK version. plugin may not work correctly. "):n("warning: invalid plugin, plugin version required."),h()):(n((e.plugin_name||e)+" is not found or it's not a standard plugin. Please check sensorsdata official documents."),L)}function Gn(e,a,h){$t({event:e,properties:a})&&dr.send({type:"track",event:e,properties:a},h)}function Hn(e,a){return!!$t({bindKey:e,bindValue:a})&&(mt._state.identities[e]=a,mt.save(),void dr.send({type:"track_id_bind",event:"$BindID",properties:{}}))}function fi(e,a){var h=Wt(e,a);h&&dr.send({identities:h,type:"track_id_unbind",event:"$UnbindID",properties:{}})}function mn(e,a,h){typeof e=="object"&&e.tagName?di({ele:e},a,h,Ce.track):typeof e=="object"&&e.target&&e.event&&di(e,a,h,Ce.track)}function ti(e,a,h){return h=h||{},!(!e||typeof e!="object")&&!(!e.href||/^javascript/.test(e.href)||e.target)&&void fe(e,"click",function(L){function H(){se||(se=!0,location.href=e.href)}L.preventDefault();var se=!1;setTimeout(H,1e3),Ce.track(a,h,H)})}function Hi(e,a,h){$t({item_type:e,item_id:a,properties:h})&&dr.sendItem({type:"item_set",item_type:e,item_id:a,properties:h||{}})}function ni(e,a){$t({item_type:e,item_id:a})&&dr.sendItem({type:"item_delete",item_type:e,item_id:a})}function sr(e,a){$t({propertiesMust:e})&&dr.send({type:"profile_set",properties:e},a)}function Zi(e,a){$t({propertiesMust:e})&&dr.send({type:"profile_set_once",properties:e},a)}function hi(e,a){$t({propertiesMust:e})&&(K(e,function(h,L){D(h)?e[L]=[h]:M(h)?e[L]=h:(delete e[L],n("appendProfile\u5C5E\u6027\u7684\u503C\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\u6216\u8005\u6570\u7EC4"))}),ht(e)||dr.send({type:"profile_append",properties:e},a))}function Jn(e,a){function h(H){for(var se in H)if(Object.prototype.hasOwnProperty.call(H,se)&&!/-*\d+/.test(String(H[se])))return!1;return!0}var L=e;D(e)&&(e={},e[L]=1),$t({propertiesMust:e})&&(h(e)?dr.send({type:"profile_increment",properties:e},a):v("profile_increment\u7684\u503C\u53EA\u80FD\u662F\u6570\u5B57"))}function Xn(e){dr.send({type:"profile_delete"},e),mt.set("distinct_id",Ma()),mt.set("first_id","")}function mi(e,a){var h=e,L={};D(e)&&(e=[],e.push(h)),M(e)?(K(e,function(H){D(H)?L[H]=!0:n("profile_unset\u7ED9\u7684\u6570\u7EC4\u91CC\u9762\u7684\u503C\u5FC5\u987B\u65F6string,\u5DF2\u7ECF\u8FC7\u6EE4\u6389",H)}),dr.send({type:"profile_unset",properties:L},a)):v("profile_unset\u7684\u53C2\u6570\u5FC5\u987B\u662F\u6570\u7EC4")}function lr(e){typeof e=="number"&&(e=String(e));var a=mt.getFirstId();if(typeof e=="undefined"){var h=Ma();a?mt.set("first_id",h):mt.set("distinct_id",h)}else $t({distinct_id:e})&&(a?mt.set("first_id",e):mt.set("distinct_id",e))}function qi(e){var a=mt.getFirstId();if(a)return v("resetAnonymousIdentity must be used in a logout state \uFF01"),!1;if(typeof e=="number"&&(e=String(e)),typeof e=="undefined"){var h=Ma();mt._state.identities.$identity_cookie_id=h,mt.set("distinct_id",h)}else $t({distinct_id:e})&&(mt._state.identities.$identity_cookie_id=e,mt.set("distinct_id",e))}function Ct(e,a,h,L){var H=mt.getFirstId()||mt.getDistinctId();mt.set("distinct_id",e),dr.send({original_id:H,distinct_id:mt.getDistinctId(),type:"track_signup",event:a,properties:h},L)}function at(e,a,h,L){typeof e=="number"&&(e=String(e)),$t({distinct_id:e,event:a,properties:h})&&Ct(e,a,h,L)}function Ft(e){$t({properties:e})?p(gi.currentProps,e):v("register\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function it(e){mt.clearAllProps(e)}function wt(e){var a;if(M(e)&&e.length>0)for(a=0;a<e.length;a++)D(e[a])&&e[a]in gi.currentProps&&delete gi.currentProps[e[a]];else if(e===!0)for(a in gi.currentProps)delete gi.currentProps[a]}function Un(e){$t({properties:e})?mt.setProps(e):v("register\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Bn(e){$t({properties:e})?mt.setPropsOnce(e):v("registerOnce\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function On(e){Ce.log("registerSession \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u6709\u95EE\u9898\u8054\u7CFB\u6280\u672F\u987E\u95EE"),$t({properties:e})?mt.setSessionProps(e):v("registerSession\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function Qt(e){Ce.log("registerSessionOnce \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u6709\u95EE\u9898\u8054\u7CFB\u6280\u672F\u987E\u95EE"),$t({properties:e})?mt.setSessionPropsOnce(e):v("registerSessionOnce\u8F93\u5165\u7684\u53C2\u6570\u6709\u8BEF")}function jn(e,a){typeof e=="number"&&(e=String(e));var h=Fn({id:e,callback:a,name:Bs.LOGIN},Ct);!h&&s(a)&&a()}function wr(e,a){return n("loginWithKey is deprecated !!!"),typeof a=="number"&&(a=String(a)),typeof e=="number"&&(e=String(e)),!!$t({loginIdKey:e})&&(Bs.LOGIN===e?(jn(a),!1):void Fn({id:a,callback:null,name:e},Ct))}function ur(e){var a=mt.getFirstId();if(a)if(mt.set("first_id",""),e===!0){var h=Ma();mt.set("distinct_id",h)}else mt.set("distinct_id",a);gr({$identity_cookie_id:mt._state.identities.$identity_cookie_id}),mt.set("history_login_id",{name:"",value:""})}function cn(){function e(){var L=gi.campaignParams(),H={};return K(L,function(se,be,Me){(" "+Ce.source_channel_standard+" ").indexOf(" "+be+" ")!==-1?H["$"+be]=Me[be]:H[be]=Me[be]}),H}var a={$is_first_day:W(),$is_first_time:Ds.is_page_first_visited,$referrer:gi.pageProp.referrer||"",$referrer_host:gi.pageProp.referrer?ee(gi.pageProp.referrer):"",$url:Te(),$url_path:Re(),$title:document.title||"",_distinct_id:mt.getDistinctId(),identities:mt.getIdentities()},h=p({},gi.properties(),mt.getProps(),e(),a);return Ce.para.preset_properties.latest_referrer&&Ce.para.preset_properties.latest_referrer_host&&(h.$latest_referrer_host=h.$latest_referrer===""?"":ee(h.$latest_referrer)),h}function nn(){var e="",a=" { cursor: pointer; -webkit-tap-highlight-color: rgba(0,0,0,0); }";Ce.heatmap&&M(Ce.heatmap.otherTags)&&K(Ce.heatmap.otherTags,function(h){e+=h+a}),bn()&&ie()&&ie()<13&&(Ce.para.heatmap&&Ce.para.heatmap.collect_tags&&Ce.para.heatmap.collect_tags.div&&ji("div, [data-sensors-click]"+a),Ce.para.heatmap&&Ce.para.heatmap.track_attr&&ji("["+Ce.para.heatmap.track_attr.join("], [")+"]"+a),e!==""&&ji(e))}function yn(e){var a=this;this.type=e,this.resultCbs={},this.timeoutCbs={},this.timerId=null,this.appCallJsCallback=null,window.sensorsdata_app_call_js||(window.sensorsdata_app_call_js=function(h,L){if(h in window.sensorsdata_app_call_js.modules)return window.sensorsdata_app_call_js.modules[h](L)}),window.sensorsdata_app_call_js.modules=window.sensorsdata_app_call_js.modules||{},window.sensorsdata_app_call_js.modules[this.type]=function(h){try{var L=B(h)||h;try{L=JSON.parse(L)}catch(be){}var H=L&&L.message_id;if(H&&a.resultCbs[H]){if(h=L,a.timeoutCbs[H]&&a.timeoutCbs[H].isTimeout)return void(a.resultCbs[H].callbacks.length=0);if(a.resultCbs[H]){a.resultCbs[H].result=h,clearTimeout(a.timerId),a.timeoutCbs[H].callbacks.length=0;for(var se in a.resultCbs[H].callbacks)a.resultCbs[H].callbacks[se].call(null,h),a.resultCbs[H].callbacks.splice(se,1)}return}return a.appCallJsCallback&&a.appCallJsCallback.call(null,h)}catch(be){v("app \u56DE\u8C03 js \u5F02\u5E38",h)}}}function Zn(e){try{if(Ce.bridge.activeBridge&&s(Ce.bridge.activeBridge.handleCommand))return Ce.bridge.activeBridge.handleCommand(e)}catch(a){v("Error: handle command exception:"+a)}return v("\u6570\u636E\u53D1\u5F80App\u5931\u8D25\uFF0CApp\u6CA1\u6709\u66B4\u9732bridge,type:"+e.callType),!1}function en(e){function a(be){var Me={hostname:"",project:""};try{be=Q(be),Me.hostname=be.hostname,Me.project=be.searchParams.get("project")||"default"}catch(st){v("validateAppUrl:"+st)}return Me}var h=a(e),L=a(Ce.para.server_url);if(h.hostname===L.hostname&&h.project===L.project)return!0;if(M(Ce.para.app_js_bridge.white_list))for(var H=0;H<Ce.para.app_js_bridge.white_list.length;H++){var se=a(Ce.para.app_js_bridge.white_list[H]);if(se.hostname===h.hostname&&se.project===h.project)return!0}return!1}function Mn(e){this.bridge=new yn(e.type)}function _n(){var e=gi.pageProp.url_domain,a={};e===""&&(e="url\u89E3\u6790\u5931\u8D25");var h=Qe(document.referrer,!0);if(Yt.preset_properties.search_keyword_baidu?Le(document.referrer)&&(!pe()||A(h)&&h.active?mt._state&&mt._state.props&&(mt._state.props.$search_keyword_id&&delete mt._state.props.$search_keyword_id,mt._state.props.$search_keyword_id_type&&delete mt._state.props.$search_keyword_id_type,mt._state.props.$search_keyword_id_hash&&delete mt._state.props.$search_keyword_id_hash):(a.$search_keyword_id=Ts.id(),a.$search_keyword_id_type=Ts.type(),a.$search_keyword_id_hash=rt(a.$search_keyword_id))):mt._state&&mt._state.props&&(mt._state.props.$search_keyword_id&&delete mt._state.props.$search_keyword_id,mt._state.props.$search_keyword_id_type&&delete mt._state.props.$search_keyword_id_type,mt._state.props.$search_keyword_id_hash&&delete mt._state.props.$search_keyword_id_hash),mt.save(),K(Yt.preset_properties,function(be,Me){if(Me.indexOf("latest_")===-1)return!1;if(Me=Me.slice(7),be){if(Me==="wx_ad_click_id"&&be==="not_collect")return!1;if(Me!=="utm"&&e==="url\u89E3\u6790\u5931\u8D25")Me==="wx_ad_click_id"?(a._latest_wx_ad_click_id="url\u7684domain\u89E3\u6790\u5931\u8D25",a._latest_wx_ad_hash_key="url\u7684domain\u89E3\u6790\u5931\u8D25",a._latest_wx_ad_callbacks="url\u7684domain\u89E3\u6790\u5931\u8D25"):a["$latest_"+Me]="url\u7684domain\u89E3\u6790\u5931\u8D25";else if(Le(document.referrer))switch(Me){case"traffic_source_type":a.$latest_traffic_source_type=nt();break;case"referrer":a.$latest_referrer=gi.pageProp.referrer;break;case"search_keyword":Qe()?a.$latest_search_keyword=Qe():A(mt._state)&&A(mt._state.props)&&mt._state.props.$latest_search_keyword&&delete mt._state.props.$latest_search_keyword;break;case"landing_page":a.$latest_landing_page=Te();break;case"wx_ad_click_id":var st=Ke(location.href);a._latest_wx_ad_click_id=st.click_id,a._latest_wx_ad_hash_key=st.hash_key,a._latest_wx_ad_callbacks=st.callbacks}}else if(Me==="utm"&&mt._state&&mt._state.props)for(var It in mt._state.props)(It.indexOf("$latest_utm")===0||It.indexOf("_latest_")===0&&It.indexOf("_latest_wx_ad_")<0)&&delete mt._state.props[It];else if(mt._state&&mt._state.props&&"$latest_"+Me in mt._state.props)delete mt._state.props["$latest_"+Me];else if(Me=="wx_ad_click_id"&&mt._state&&mt._state.props&&be===!1){var Pt=["_latest_wx_ad_click_id","_latest_wx_ad_hash_key","_latest_wx_ad_callbacks"];K(Pt,function(Qn){Qn in mt._state.props&&delete mt._state.props[Qn]})}}),Yt.preset_properties.latest_utm){var L=gi.campaignParamsStandard("$latest_","_latest_"),H=L.$utms,se=L.otherUtms;ht(H)||p(a,H),ht(se)||p(a,se)}Un(a)}function wn(e){var a=null;try{var h=JSON.parse(window.name);a=h[e]?S(h[e]):null}catch(L){a=null}return a===null&&(a=ge(location.href,e)||null),a}function Bi(e){function a(){var se=[];h.touch_app_bridge||se.push(Qa.defineMode("1")),A(Ce.para.app_js_bridge)||(se.push(Qa.defineMode("2")),h.verify_success=!1),A(Ce.para.heatmap)&&Ce.para.heatmap.clickmap=="default"||se.push(Qa.defineMode("3")),h.verify_success==="fail"&&se.push(Qa.defineMode("4")),new Ce.SDKJSBridge("app_alert").notifyApp({data:se})}var h=Ce.bridge.bridge_info;if(Ce.bridge.hasVisualModeBridge())if(A(Ce.para.heatmap)&&Ce.para.heatmap.clickmap=="default")if(A(Ce.para.app_js_bridge)&&h.verify_success==="success")if(e)window.sa_jssdk_app_define_mode(Ce,e);else{var L=location.protocol,H=["http:","https:"];L=We(H,L)>-1?L:"https:",Ln({success:function(){setTimeout(function(){typeof sa_jssdk_app_define_mode!="undefined"&&window.sa_jssdk_app_define_mode(Ce,e)},0)},error:function(){},type:"js",url:L+"//static.sensorsdata.cn/sdk/"+Ce.lib_version+"/vapph5define.min.js"})}else a();else a()}function wi(e){Ce.para.is_track_single_page&&Lu.on("switch",function(a){var h=function(H){if(H=H||{},a!==location.href){gi.pageProp.referrer=Te(a);var se=p({$url:Te(),$referrer:Te(a)},H);s(e)?e(se):Ce.quick&&Ce.quick("autoTrack",se)}};if(typeof Ce.para.is_track_single_page=="boolean")h();else if(typeof Ce.para.is_track_single_page=="function"){var L=Ce.para.is_track_single_page();A(L)?h(L):L===!0&&h()}})}function xi(){Ce._q&&M(Ce._q)&&Ce._q.length>0&&K(Ce._q,function(e){Ce[e[0]].apply(Ce,Array.prototype.slice.call(e[1]))}),A(Ce.para.heatmap)&&(qr.initHeatmap(),qr.initScrollmap())}function cr(){Ce.readyState.setState(3),new Ce.SDKJSBridge("visualized").onAppNotify(function(){Bi(typeof sa_jssdk_app_define_mode!="undefined")}),Bi(!1),Ce.bridge.app_js_bridge_v1(),gi.initPage(),wi(),mt.init(),_n(),l(),Ce.readyState.setState(4),xi()}function mr(){Ra.isSeachHasKeyword()?Ra.hasKeywordHandle():window.parent!==self&&aa.isSearchHasKeyword()?aa.verifyVtrackMode():Ra.isWindowNameHasKeyword()?Ra.windowNameHasKeywordHandle():Ra.isStorageHasKeyword()?Ra.storageHasKeywordHandle():window.parent!==self&&aa.isStorageHasKeyword()?aa.verifyVtrackMode():(cr(),aa.notifyUser())}function l(){Pa.init(),Ce.bridge.bridge_info.verify_success==="success"&&Pu.init()}function P(){K(Ky,function(e){var a=Ce[e];Ce[e]=function(){return Ce.readyState.state<3?(M(Ce._q)||(Ce._q=[]),n("calling sdk api before init is deprecated."),Ce._q.push([e,arguments]),!1):s(Ce.getDisabled)&&Ce.getDisabled()?void 0:Ce.readyState.getState()?a.apply(Ce,arguments):void v("\u8BF7\u5148\u521D\u59CB\u5316\u795E\u7B56JS SDK")}})}function V(e,a){this.cancel=function(){e=!0},this.getCanceled=function(){return e||!1},this.stop=function(){a=!0},this.getStopped=function(){return a||!1}}function te(e,a,h){var L=null;try{L=JSON.parse(JSON.stringify(e||null))}catch(H){}this.getOriginalData=function(){return L},this.getPosition=function(){return a},this.cancellationToken=new V,this.sensors=h}function he(e){if(!A(e))throw"error: Stage constructor requires arguments.";this.processDef=e,this.registeredInterceptors={}}function ye(e){e&&e.buildDataStage&&sh.registerStageImplementation(e.buildDataStage),e&&e.businessStage&&uh.registerStageImplementation(e.businessStage),e&&e.sendDataStage&&lh.registerStageImplementation(e.sendDataStage),e&&e.viewStage&&ch.registerStageImplementation(e.viewStage)}function Ie(e,a){dh[e]&&dh[e](a)}function Pe(){return Ou.stage&&Ou.stage.process("getUtmData")}function je(e){return fh.stage.process("send",e)}function qe(e){e.kit=Ls,e.saEvent=dr,this.buildDataStage=Ru,this.sendDataStage=fh,this.businessStage=Ou}function gt(e){e.heatmap=qr,this.viewStage=Nu}function _t(e){if(!s(e.properties))return void v("registerPropertyPlugin arguments error, properties must be function");if(e.isMatchedWithFilter&&!s(e.isMatchedWithFilter))return void v("registerPropertyPlugin arguments error, isMatchedWithFilter must be function");var a={finalAdjustData:{priority:100,entry:function(h){try{if(s(e.isMatchedWithFilter))return e.isMatchedWithFilter(h)&&e.properties(h);e.properties(h)}catch(L){v("execute registerPropertyPlugin callback error:"+L)}}}};Ie("buildDataStage",a)}function Tt(e){e&&(Ce.events=ih,Ce.bridge=Vy,Ce.SDKJSBridge=yn,Ce.JSBridge=Mn,Ce.store=mt,Ce.unlimitedDiv=bl,Ce.customProp=ah,Ce.vtrackcollect=Pa,Ce.vapph5collect=Pu,Ce.detectMode=mr,Ce.registerFeature=ye,Ce.registerInterceptor=Ie,Ce.commonWays=_l,ye(new qe(Ce)),ye(new gt(Ce)),Ie("viewStage",tA));var a=e?Yy:Gy;for(var h in a)Ce[h]=a[h];Ce.logger=Ja,Ce.log=F,Ce._=oh,Ce.on=Ut,Ce.ee=Ui,Ce.use=St,Ce.lib_version=vl,Ce.registerPropertyPlugin=_t}function dt(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return kt(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function kt(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function Dn(e,a,h){return dt(e,a,h),e.plugin_version=nA,e}function Wn(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return Ei(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function Ei(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function Mi(e,a,h){return Wn(e,a,h),e.plugin_version=aA,e}function dn(e){return gh&&gh.call(da,JSON.stringify(e))}function zn(e){return Il.call(da)&&mh&&mh.call(da,JSON.stringify(e))}function En(e,a){return a&&typeof a[e.callType]=="function"&&a[e.callType]()}function Ci(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return Rr(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function Rr(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function Nr(e,a,h){return Ci(e,a,h),e.plugin_version=lA,e}function Ta(){if(oa=window.SensorsData_APP_New_H5_Bridge,El=oa&&oa.sensorsdata_track,Fs=El&&oa.sensorsdata_get_server_url&&oa.sensorsdata_get_server_url(),Xa("---test---fail---",!Ii,Ii.bridge.activeBridge,!Fs),Ii&&!Ii.bridge.activeBridge&&Fs)return Ii.bridge.activeBridge=Ah,Ii.para.app_js_bridge&&!Ii.para.app_js_bridge.is_mui&&(Ii.bridge.is_verify_success=Fs&&Ii.bridge.validateAppUrl(Fs),Xa("---test---bridge-verify-",Ii.bridge.is_verify_success)),Ii.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:Ii.bridge.is_verify_success?"success":"fail",support_two_way_call:!!oa.sensorsdata_js_call_app},Ii.para.app_js_bridge?void Ii.registerInterceptor("sendDataStage",{send:{priority:60,entry:na}}):void Xa("---test---app_js_bridge is not configured, data will not be sent by android bridge.")}function na(e,a){if(Xa("---test---datasend-",Ii.bridge.is_verify_success),Ii.para.app_js_bridge.is_mui||e.data.type==="item_set"||e.data.type==="item_delete")return e;var h=e.callback;return Ii.bridge.is_verify_success?(Xa("---test---bridge-verify-success---",e.data),El&&El.call(oa,JSON.stringify(Ms.extend({server_url:Ii.para.server_url},e.data))),Ms.isFunction(h)&&h(),a.cancellationToken.cancel(),e):(Xa("---test---bridge-verify-fail-----",Ii.bridge.is_verify_success),Ii.para.app_js_bridge.is_send?(Ii.debug.apph5({data:e.data,step:"4.2",output:"all"}),e):(Ms.isFunction(h)&&h(),a.cancellationToken.cancel(),e))}function zr(e){var a=e.callType;return a in yh.commands?yh.commands[a](e,oa):void(oa&&Ms.isFunction(oa.sensorsdata_js_call_app)&&oa.sensorsdata_js_call_app(JSON.stringify(e)))}function kr(e){return xh&&xh.call(fa,JSON.stringify(e))}function yr(e){return wl.call(fa)&&Ch&&Ch.call(fa,JSON.stringify(e))}function vs(e,a){return a&&typeof a[e.callType]=="function"&&a[e.callType]()}function Ya(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return Sr(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function Sr(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function va(e,a,h){return Ya(e,a,h),e.plugin_version=uA,e}function er(){if(Yr("ObsoleteBridge---test---init---"),Tr=window.SensorsData_APP_JS_Bridge,_o=Tr&&Tr.sensorsdata_track,Za=Tr&&Tr.sensorsdata_verify,Qs=Tr&&Tr.sensorsdata_visual_verify,Yr("ObsoleteBridge-",Ki.bridge.activeBridge,Za,_o,Qs),Ki&&!Ki.bridge.activeBridge&&(Za||_o||Qs)){Ki.bridge.activeBridge=bh;var e=Za||_o;if(Qs&&(e=!!Qs.call(Tr,JSON.stringify({server_url:Ki.para.server_url})),Yr("ObsoleteBridge---called-return",e)),Ki.bridge.bridge_info={touch_app_bridge:!0,platform:"android",verify_success:e?"success":"fail"},!Ki.para.app_js_bridge)return void Yr("app_js_bridge is not configured, data will not be sent by android obsolete bridge.");Ki.registerInterceptor("sendDataStage",{send:{priority:80,entry:Br}}),Yr("Android obsolete bridge inits succeed.")}}function Br(e,a){if(Yr("ObsoleteBridge---senddata"),Ki.para.app_js_bridge.is_mui||e.data.type==="item_set"||e.data.type==="item_delete")return e;var h=e.callback;if(Za){var L=Za&&Za.call(Tr,JSON.stringify(eo.extend({server_url:Ki.para.server_url},e.data)));return Yr("ObsoleteBridge---anVerify-success",L),L?(eo.isFunction(h)&&h(),a.cancellationToken.cancel(),e):Ki.para.app_js_bridge.is_send?(Ki.debug.apph5({data:e.data,step:"3.1",output:"all"}),e):(eo.isFunction(h)&&h(),a.cancellationToken.cancel(),e)}return Yr("ObsoleteBridge---is-send-old-way",Ki.para.app_js_bridge.is_send),_o&&_o.call(Tr,JSON.stringify(eo.extend({server_url:Ki.para.server_url},e.data))),eo.isFunction(h)&&h(),a.cancellationToken.cancel(),e}function ri(e){Yr("ObsoleteBridge---handleCommadn");var a=e.callType;return a in ju.commands?(Yr("ObsoleteBridge---",a,ju.commands),ju.commands[a](e,Tr)):Tr&&eo.isFunction(Tr.sensorsdata_js_call_app)?(Yr("ObsoleteBridge---handleCommadn-abridge"),Tr.sensorsdata_js_call_app(JSON.stringify(e))):void 0}function Yi(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return hl(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function hl(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function xs(e,a,h){return Yi(e,a,h),e.plugin_version=cA,e}function xu(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return Ao(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function Ao(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function Cu(e,a,h){return xu(e,a,h),e.plugin_version=fA,e}function pl(){return typeof Ps!="undefined"&&document[Ps]}function bu(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return _u(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function _u(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function gl(e,a,h){return bu(e,a,h),e.plugin_version=xA,e}function vo(){if(Wu=window.SensorsData_iOS_JS_Bridge&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url,to=function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker},Pi&&!Pi.bridge.activeBridge&&to()&&to().postMessage){if(Pi.bridge.activeBridge=wh,Pi.para.app_js_bridge&&!Pi.para.app_js_bridge.is_mui&&(Pi.bridge.is_verify_success=Wu&&Pi.bridge.validateAppUrl(Wu)),Pi.bridge.bridge_info={touch_app_bridge:!0,platform:"ios",verify_success:Pi.bridge.is_verify_success?"success":"fail",support_two_way_call:!0},!Pi.para.app_js_bridge)return void zu("app_js_bridge is not configured, data will not be sent by iOS bridge.");Pi.registerInterceptor("sendDataStage",{send:{priority:70,entry:Eu}}),zu("IOS bridge inits succeed.")}}function Eu(e,a){if(Pi.para.app_js_bridge.is_mui||e.data.type==="item_set"||e.data.type==="item_delete")return e;var h=e.callback;return Pi.bridge.is_verify_success?(to()&&to().postMessage(JSON.stringify({callType:"app_h5_track",data:Rs.extend({server_url:Pi.para.server_url},e.data)})),Rs.isFunction(h)&&h(),a.cancellationToken.cancel(),e):Pi.para.app_js_bridge.is_send?(Pi.debug.apph5({data:e.data,step:"4.1",output:"all"}),e):(Rs.isFunction(h)&&h(),a.cancellationToken.cancel(),e)}function Iu(e){var a=e.callType;return a!=="page_info"&&a!=="visualized_track"||Pi.bridge.hasVisualModeBridge()?a==="sensorsdata_get_app_visual_config"?Rs.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge[a]:to()&&to().postMessage(JSON.stringify(e)):null}function Va(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return wu(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function wu(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function Cs(e,a,h){return Va(e,a,h),e.plugin_version=CA,e}function ku(){if(Gi&&!Gi.bridge.activeBridge&&ia()){if(Gi.bridge.activeBridge=Sh,Gi.bridge.bridge_info={touch_app_bridge:!0,platform:"ios",verify_success:ra()?"success":"fail"},!Gi.para.app_js_bridge)return void qu("app_js_bridge is not configured, data will not be sent by iOS obsolete bridge.");Gi.registerInterceptor("sendDataStage",{send:{priority:90,entry:ml}}),qu("IOS obsolete bridge inits succeed.")}}function ia(){return(/sensors-verify/.test(navigator.userAgent)||/sa-sdk-ios/.test(navigator.userAgent))&&!window.MSStream}function ra(){if(/sensors-verify/.test(navigator.userAgent)){var e=navigator.userAgent.match(/sensors-verify\/([^\s]+)/);if(e&&e[0]&&typeof e[1]=="string"&&e[1].split("?").length===2){e=e[1].split("?");var a=null,h=null;try{a=Eo.URL(Gi.para.server_url).hostname,h=Eo.URL(Gi.para.server_url).searchParams.get("project")||"default"}catch(L){Gi.log(L)}return!(!a||a!==e[0]||!h||h!==e[1])}return!1}return!!/sa-sdk-ios/.test(navigator.userAgent)}function ml(e,a){function h(be){var Me=JSON.stringify(Eo.extend({server_url:Gi.para.server_url},be));return Me=Me.replace(/\r\n/g,""),Me=encodeURIComponent(Me),"sensorsanalytics://trackEvent?event="+Me}if(Gi.para.app_js_bridge.is_mui||e.data.type==="item_set"||e.data.type==="item_delete")return e;var L=e.callback;if(Gi.bridge.bridge_info.verify_success){var H=document.createElement("iframe"),se=h(e.data);return H.setAttribute("src",se),document.documentElement.appendChild(H),H.parentNode.removeChild(H),H=null,Eo.isFunction(L)&&L(),a.cancellationToken.cancel(),!0}return Gi.para.app_js_bridge.is_send?(Gi.debug.apph5({data:e.data,step:"3.2",output:"all"}),e):(Eo.isFunction(L)&&L(),a.cancellationToken.cancel(),e)}function yi(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return bs(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function bs(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function Hr(e,a,h){return yi(e,a,h),e.plugin_version=bA,e}function ui(){this.sd=null,this.start_time=+new Date,this.page_show_status=!0,this.page_hidden_status=!1,this._={},this.timer=null,this.current_page_url=document.referrer,this.url=location.href,this.title=document.title||"",this.option={},this.heartbeat_interval_time=5e3,this.heartbeat_interval_timer=null,this.page_id=null,this.storage_name="sawebjssdkpageleave",this.max_duration=EA}function _s(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return yl(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function yl(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function xa(e,a,h){return _s(e,a,h),e.plugin_version=kA,e}function Es(e,a){if(e.type!=="track")return e;var h=a.sd,L=h._,H=h.saEvent.check,se=L.extend2Lev({properties:{}},e),be=a.customRegister,Me=se.properties,st=se.event,It={};return L.each(be,function(Pt){if(L.isObject(Pt))L.indexOf(Pt.events,st)>-1&&H({properties:Pt.properties})&&(It=L.extend(It,Pt.properties));else if(L.isFunction(Pt)){var Qn=Pt({event:st,properties:Me,data:se});L.isObject(Qn)&&!L.isEmptyObject(Qn)&&H({properties:Qn})&&(It=L.extend(It,Qn))}}),e.properties=L.extend(Me,It),e}function La(){this.sd=null,this.log=window.console&&window.console.log||function(){},this.customRegister=[]}function xo(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return Is(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function Is(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function ws(e,a,h){return xo(e,a,h),e.plugin_version=DA,e}function Co(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return ks(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function ks(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function Be(e,a,h){return Co(e,a,h),e.plugin_version=FA,e}function He(e){try{if(e.event!=="$pageview"&&(!e.type||e.type.slice(0,7)!=="profile")){var a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,h=document.documentElement.scrollHeight||0,L={$page_height:Math.max(a,h)||0};e.properties=no._.extend(e.properties||{},L)}}catch(H){Hs("\u9875\u9762\u9AD8\u5EA6\u83B7\u53D6\u5F02\u5E38\u3002")}return Th.call(no.kit,e)}function Fe(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return Xe(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function Xe(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function At(e,a,h){return Fe(e,a,h),e.plugin_version=PA,e}function Jt(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return Rt(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function Rt(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function fn(e,a,h){return Jt(e,a,h),e.plugin_version=HA,e}function xn(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return Kn(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function Kn(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function $n(e,a,h){return xn(e,a,h),e.plugin_version=UA,e}function Vn(){Ku=!0}function qn(){Ku=!1}function bi(){return Ku}function Sn(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return ci(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function ci(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function ki(e,a,h){return Sn(e,a,h),e.plugin_version=jA,e}function Oi(e){var a=e,h="";h=Ti.para.debug_mode_url.indexOf("?")!==-1?Ti.para.debug_mode_url+"&"+Ti.kit.encodeTrackData(e):Ti.para.debug_mode_url+"?"+Ti.kit.encodeTrackData(e),io.ajax({url:h,type:"GET",cors:!0,header:{"Dry-Run":String(Ti.para.debug_mode_upload)},success:function(L){io.isEmptyObject(L)===!0?alert("debug\u6570\u636E\u53D1\u9001\u6210\u529F"+a):alert("debug\u5931\u8D25 \u9519\u8BEF\u539F\u56E0"+JSON.stringify(L))}})}function li(e,a){if(Ti.para.debug_mode===!0){var h=e.data;e.callback,Oi(JSON.stringify(h)),a.cancellationToken.stop()}return e}function Si(){Ti.para.debug_mode===!0&&(Ti.para.debug_mode_upload=Ti.para.debug_mode_upload||!1,io.isString(Ti.para.debug_mode_url)||(io.isString(Ti.para.server_url)?Ti.para.debug_mode_url=Ti.para.server_url.replace("sa.gif","debug"):io.isArray(Ti.para.server_url)&&io.isString(Ti.para.server_url[0])?Ti.para.debug_mode_url=Ti.para.server_url[0].replace("sa.gif","debug"):Ti.para.debug_mode=!1))}function Wi(){Ti.on("sdkInitPara",function(){Si()}),Ti.on("sdkAfterInitPara",function(){Ti.registerInterceptor("sendDataStage",{send:{priority:30,entry:li}})})}function Di(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return Vi(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function Vi(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function Dr(e,a,h){return Di(e,a,h),e.plugin_version=zA,e}function Fa(e,a){if(ro.isObject(fr.para.jsapp)&&!fr.para.jsapp.isOnline&&typeof fr.para.jsapp.setData=="function"){var h=e;delete h.callback,h=JSON.stringify(h),fr.para.jsapp.setData(h),a.cancellationToken.stop()}return e}function Ka(){fr.on("sdkAfterInitAPI",function(){ro.isObject(fr.commonWays)&&(fr.commonWays.setOnlineState=Su),fr.registerInterceptor("sendDataStage",{send:{priority:40,entry:Fa}})})}function Su(e){if(e===!0&&ro.isObject(fr.para.jsapp)&&typeof fr.para.jsapp.getData=="function"){fr.para.jsapp.isOnline=!0;var a=fr.para.jsapp.getData();ro.isArray(a)&&a.length>0&&ro.each(a,function(h){ro.isJSONString(h)&&fr.kit.sendData(JSON.parse(h))})}else fr.para.jsapp.isOnline=!1}function ty(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return ny(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function ny(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function iy(e,a,h){return ty(e,a,h),e.plugin_version=YA,e}function ry(e,a){return!hr.para.app_js_bridge&&hr.para.batch_send&&Na.localStorage.isSupport()&&localStorage.length<hr.para.batch_send.storage_length&&(Sl.add(e.data),a.cancellationToken.stop()),e}function ay(){var e={datasend_timeout:6e3,send_interval:6e3,storage_length:200};Na.localStorage.isSupport()&&Na.isSupportCors()&&typeof localStorage=="object"?hr.para.batch_send===!0?hr.para.batch_send=Na.extend({},e):typeof hr.para.batch_send=="object"&&(hr.para.batch_send=Na.extend({},e,hr.para.batch_send)):hr.para.batch_send=!1}function oy(){hr.on("sdkInitPara",function(){ay()}),hr.on("sdkAfterInitPara",function(){!hr.para.app_js_bridge&&hr.para.batch_send&&Na.localStorage.isSupport()&&(Sl||(Sl=new Na.BatchSend),Sl.batchInterval(),hr.registerInterceptor("sendDataStage",{send:{priority:100,entry:ry}}))})}function sy(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return ly(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function ly(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function uy(e,a,h){return sy(e,a,h),e.plugin_version=KA,e}function jf(e){var a=new Ha.BeaconSend(e);a.start()}function cy(e,a){var h=null,L=null;Ha.isObject(e.config)&&(h=e.config.send_type,L=Ha.optimizeServerUrl(e.config.server_url));var H=h==="beacon"||!h&&pa.para.send_type==="beacon";if(H&&Ha.isSupportBeaconSend()){var se=L||e.server_url;e.server_url=se,e.data=pa.kit.encodeTrackData(e.data),Ha.isArray(se)&&se.length?Ha.each(se,function(be){e.callback=null,e.server_url=be,jf(e)}):typeof se=="string"&&se!==""?jf(e):pa.log("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01"),a.cancellationToken.stop()}return e}function dy(){pa.para.send_type!=="beacon"||Ha.isSupportBeaconSend()||(pa.para.send_type="image")}function fy(){pa.on("sdkInitPara",function(){dy()}),pa.on("sdkAfterInitPara",function(){pa.registerInterceptor("sendDataStage",{send:{priority:110,entry:cy}})})}function hy(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return py(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function py(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function gy(e,a,h){return hy(e,a,h),e.plugin_version=JA,e}function Wf(e){var a=new Oa.AjaxSend(e);a.start()}function my(e,a){var h=null,L=null;Oa.isObject(e.config)&&(h=e.config.send_type,L=Oa.optimizeServerUrl(e.config.server_url));var H=h==="ajax"||!h&&ga.para.send_type==="ajax";if(H&&Oa.isSupportCors()){var se=L||e.server_url;e.server_url=se,e.data=ga.kit.encodeTrackData(e.data),Oa.isArray(se)&&se.length?Oa.each(se,function(be){e.callback=null,e.server_url=be,Wf(e)}):typeof se=="string"&&se!==""?Wf(e):ga.log("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01"),a.cancellationToken.stop()}return e}function yy(){ga.para.send_type!=="ajax"||Oa.isSupportCors()||(ga.para.send_type="image")}function Ay(){ga.on("sdkInitPara",function(){yy()}),ga.on("sdkAfterInitPara",function(){ga.registerInterceptor("sendDataStage",{send:{priority:120,entry:my}})})}function vy(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return xy(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function xy(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function Cy(e,a,h){return vy(e,a,h),e.plugin_version=ZA,e}function zf(e,a){var h=Vr.kit.encodeTrackData(a);return e.indexOf("?")!==-1?e+"&"+h:e+"?"+h}function qf(e){var a=new Io.ImageSend(e);a.start()}function by(e,a){var h=null;Io.isObject(e.config)&&(h=Io.optimizeServerUrl(e.config.server_url));var L=h||e.server_url,H=e.data;e.server_url=L,Io.isArray(L)&&L.length?Io.each(L,function(se){se&&(e.data=zf(se,H),e.callback=null,e.server_url=se,qf(e))}):typeof L=="string"&&L!==""?(e.data=zf(L,H),qf(e)):Vr.logger&&Vr.logger.msg("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01").level("warn").log(),a.cancellationToken.stop()}function _y(){Vr.para.send_type!=="image"&&Vr.para.send_type!=="ajax"&&Vr.para.send_type!=="beacon"&&(Vr.para.send_type="image")}function Ey(){Vr.on("sdkInitPara",function(){_y()}),Vr.on("sdkAfterInitPara",function(){Vr.registerInterceptor("sendDataStage",{send:{priority:130,entry:by}})})}function Iy(e,a,h){if(a&&(e.plugin_name=a),h&&e.init){var L=e.init;e.init=function(H,se){function be(){L.call(e,H,se)}return wy(H,e,a),H.readyState&&H.readyState.state>=3||!H.on?be():void H.on(h,be)}}return e}function wy(e,a,h){function L(H,se){e.logger?e.logger.msg.apply(e.logger,se).module(h+""||"").level(H).log():e.log&&e.log.apply(e,se)}a.log=function(){L("log",arguments)},a.warn=function(){L("warn",arguments)},a.error=function(){L("error",arguments)}}function ky(e,a,h){return Iy(e,a,h),e.plugin_version=vl,e}function Sy(e){return Os===null?void Yf(e):void Os.push(e)}function Yf(e){try{if(e.level==="log"&&Vf()||e.level==="warn"&&By()||e.level==="error"&&Dy())return void Bu(e)}catch(a){}}function Vf(){return!!Du()||nr.para.show_log===!0||Kr.isObject(nr.para.show_log)&&nr.para.show_log.level==="log"}function By(){return!!Du()||Vf()||Kr.isObject(nr.para.show_log)&&nr.para.show_log.level==="warn"}function Dy(){return!!Du()||!Kr.isObject(nr.para.show_log)||nr.para.show_log.level!=="none"}function Bu(e){var a=e.content,h=Kr.isObject(a[0])?Kr.formatJsonString(a[0]):a[0],L=Ty(e);a[0]=L+(L.length>0?": ":"")+h}function Ty(e){var a="",h="",L=nr.para.show_log;return Kr.isObject(L)&&L.show_brand===!1||(a+=e.brand),Kr.isObject(L)&&L.show_level===!1||(a+=(a.length>0?"-":"")+e.level),a.length>0&&(a="["+a+"]"),Kr.isObject(L)&&L.show_module===!1||(h=e.module),a+h}function Ly(){Kr.sessionStorage.isSupport()&&sessionStorage.setItem(Gu,"true")}function Fy(){Kr.sessionStorage.isSupport()&&sessionStorage.removeItem(Gu)}function Du(){return Kr.sessionStorage.isSupport()&&sessionStorage.getItem(Gu)==="true"}var Ce={};(function(){function e(Me,st){function It(zt,ln){try{zt()}catch(Bt){ln&&ln()}}function Pt(zt){if(Pt[zt]!=null)return Pt[zt];var ln;if(zt=="bug-string-char-index")ln="a"[0]!="a";else if(zt=="json")ln=Pt("json-stringify")&&Pt("date-serialization")&&Pt("json-parse");else if(zt=="date-serialization"){if(ln=Pt("json-stringify")&&ma){var Bt=st.stringify;It(function(){ln=Bt(new zi(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&Bt(new zi(864e13))=='"+275760-09-13T00:00:00.000Z"'&&Bt(new zi(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&Bt(new zi(-1))=='"1969-12-31T23:59:59.999Z"'})}}else{var hn,Nt='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(zt=="json-stringify"){var Bt=st.stringify,pn=typeof Bt=="function";pn&&((hn=function(){return 1}).toJSON=hn,It(function(){pn=Bt(0)==="0"&&Bt(new Rn)==="0"&&Bt(new Li)=='""'&&Bt(Gr)===sa&&Bt(sa)===sa&&Bt()===sa&&Bt(hn)==="1"&&Bt([hn])=="[1]"&&Bt([sa])=="[null]"&&Bt(null)=="null"&&Bt([sa,Gr,null])=="[null,null,null]"&&Bt({a:[hn,!0,!1,null,`\0\b
\f\r	`]})==Nt&&Bt(null,hn)==="1"&&Bt([1,2],null,1)==`[
 1,
 2
]`},function(){pn=!1})),ln=pn}if(zt=="json-parse"){var Cn,an=st.parse;typeof an=="function"&&It(function(){an("0")!==0||an(!1)||(hn=an(Nt),Cn=hn.a.length==5&&hn.a[0]===1,Cn&&(It(function(){Cn=!an('"	"')}),Cn&&It(function(){Cn=an("01")!==1}),Cn&&It(function(){Cn=an("1.")!==1})))},function(){Cn=!1}),ln=Cn}}return Pt[zt]=!!ln}function Qn(zt){return Zu(this)}Me||(Me=h.Object()),st||(st=h.Object());var Rn=Me.Number||h.Number,Li=Me.String||h.String,ar=Me.Object||h.Object,zi=Me.Date||h.Date,ba=Me.SyntaxError||h.SyntaxError,Bl=Me.TypeError||h.TypeError,i1=Me.Math||h.Math,Dl=Me.JSON||h.JSON;if(typeof Dl=="object"&&Dl)return st.stringify=Dl.stringify,st.parse=Dl.parse,st.runInContext=e,st;var sa,Wh=ar.prototype,Gr=Wh.toString,Tl=Wh.hasOwnProperty,ma=new zi(-0xc782b5b800cec);if(It(function(){ma=ma.getUTCFullYear()==-109252&&ma.getUTCMonth()===0&&ma.getUTCDate()===1&&ma.getUTCHours()==10&&ma.getUTCMinutes()==37&&ma.getUTCSeconds()==6&&ma.getUTCMilliseconds()==708}),Pt["bug-string-char-index"]=Pt["date-serialization"]=Pt.json=Pt["json-stringify"]=Pt["json-parse"]=null,!Pt("json")){var Ll="[object Function]",r1="[object Date]",zh="[object Number]",qh="[object String]",Ju="[object Array]",a1="[object Boolean]",Xu=Pt("bug-string-char-index"),ko=function(zt,ln){var Bt,hn,Nt,pn=0;(Bt=function(){this.valueOf=0}).prototype.valueOf=0,hn=new Bt;for(Nt in hn)Tl.call(hn,Nt)&&pn++;return Bt=hn=null,pn?ko=function(Cn,an){var _i,pr,Fi=Gr.call(Cn)==Ll;for(_i in Cn)Fi&&_i=="prototype"||!Tl.call(Cn,_i)||(pr=_i==="constructor")||an(_i);(pr||Tl.call(Cn,_i="constructor"))&&an(_i)}:(hn=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],ko=function(Cn,an){var _i,pr,Fi=Gr.call(Cn)==Ll,$a=!Fi&&typeof Cn.constructor!="function"&&a[typeof Cn.hasOwnProperty]&&Cn.hasOwnProperty||Tl;for(_i in Cn)Fi&&_i=="prototype"||!$a.call(Cn,_i)||an(_i);for(pr=hn.length;_i=hn[--pr];)$a.call(Cn,_i)&&an(_i)}),ko(zt,ln)};if(!Pt("json-stringify")&&!Pt("date-serialization")){var o1={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},s1="000000",_a=function(zt,ln){return(s1+(ln||0)).slice(-zt)},Zu=function(zt){var ln,Bt,hn,Nt,pn,Cn,an,_i,pr;if(ma)ln=function(vi){Bt=vi.getUTCFullYear(),hn=vi.getUTCMonth(),Nt=vi.getUTCDate(),Cn=vi.getUTCHours(),an=vi.getUTCMinutes(),_i=vi.getUTCSeconds(),pr=vi.getUTCMilliseconds()};else{var Fi=i1.floor,$a=[0,31,59,90,120,151,181,212,243,273,304,334],Ea=function(vi,Ia){return $a[Ia]+365*(vi-1970)+Fi((vi-1969+(Ia=+(Ia>1)))/4)-Fi((vi-1901+Ia)/100)+Fi((vi-1601+Ia)/400)};ln=function(vi){for(Nt=Fi(vi/864e5),Bt=Fi(Nt/365.2425)+1970-1;Ea(Bt+1,0)<=Nt;Bt++);for(hn=Fi((Nt-Ea(Bt,0))/30.42);Ea(Bt,hn+1)<=Nt;hn++);Nt=1+Nt-Ea(Bt,hn),pn=(vi%864e5+864e5)%864e5,Cn=Fi(pn/36e5)%24,an=Fi(pn/6e4)%60,_i=Fi(pn/1e3)%60,pr=pn%1e3}}return(Zu=function(vi){return vi>-1/0&&vi<1/0?(ln(vi),vi=(Bt<=0||Bt>=1e4?(Bt<0?"-":"+")+_a(6,Bt<0?-Bt:Bt):_a(4,Bt))+"-"+_a(2,hn+1)+"-"+_a(2,Nt)+"T"+_a(2,Cn)+":"+_a(2,an)+":"+_a(2,_i)+"."+_a(3,pr)+"Z",Bt=hn=Nt=Cn=an=_i=pr=null):vi=null,vi})(zt)};if(Pt("json-stringify")&&!Pt("date-serialization")){var l1=st.stringify;st.stringify=function(zt,ln,Bt){var hn=zi.prototype.toJSON;zi.prototype.toJSON=Qn;var Nt=l1(zt,ln,Bt);return zi.prototype.toJSON=hn,Nt}}else{var u1="\\u00",c1=function(zt){var ln=zt.charCodeAt(0),Bt=o1[ln];return Bt||u1+_a(2,ln.toString(16))},ec=/[\x00-\x1f\x22\x5c]/g,Yh=function(zt){return ec.lastIndex=0,'"'+(ec.test(zt)?zt.replace(ec,c1):zt)+'"'},tc=function(zt,ln,Bt,hn,Nt,pn,Cn){var an,_i,pr,Fi,$a,Ea,vi,Ia,ic;if(It(function(){an=ln[zt]}),typeof an=="object"&&an&&(an.getUTCFullYear&&Gr.call(an)==r1&&an.toJSON===zi.prototype.toJSON?an=Zu(an):typeof an.toJSON=="function"&&(an=an.toJSON(zt))),Bt&&(an=Bt.call(ln,zt,an)),an==sa)return an===sa?an:"null";switch(_i=typeof an,_i=="object"&&(pr=Gr.call(an)),pr||_i){case"boolean":case a1:return""+an;case"number":case zh:return an>-1/0&&an<1/0?""+an:"null";case"string":case qh:return Yh(""+an)}if(typeof an=="object"){for(vi=Cn.length;vi--;)if(Cn[vi]===an)throw Bl();if(Cn.push(an),Fi=[],Ia=pn,pn+=Nt,pr==Ju){for(Ea=0,vi=an.length;Ea<vi;Ea++)$a=tc(Ea,an,Bt,hn,Nt,pn,Cn),Fi.push($a===sa?"null":$a);ic=Fi.length?Nt?`[
`+pn+Fi.join(`,
`+pn)+`
`+Ia+"]":"["+Fi.join(",")+"]":"[]"}else ko(hn||an,function(Gh){var Jh=tc(Gh,an,Bt,hn,Nt,pn,Cn);Jh!==sa&&Fi.push(Yh(Gh)+":"+(Nt?" ":"")+Jh)}),ic=Fi.length?Nt?`{
`+pn+Fi.join(`,
`+pn)+`
`+Ia+"}":"{"+Fi.join(",")+"}":"{}";return Cn.pop(),ic}};st.stringify=function(zt,ln,Bt){var hn,Nt,pn,Cn;if(a[typeof ln]&&ln){if(Cn=Gr.call(ln),Cn==Ll)Nt=ln;else if(Cn==Ju){pn={};for(var an,_i=0,pr=ln.length;_i<pr;)an=ln[_i++],Cn=Gr.call(an),Cn!="[object String]"&&Cn!="[object Number]"||(pn[an]=1)}}if(Bt)if(Cn=Gr.call(Bt),Cn==zh){if((Bt-=Bt%1)>0)for(Bt>10&&(Bt=10),hn="";hn.length<Bt;)hn+=" "}else Cn==qh&&(hn=Bt.length<=10?Bt:Bt.slice(0,10));return tc("",(an={},an[""]=zt,an),Nt,pn,hn,"",[])}}}if(!Pt("json-parse")){var In,Fl,d1=Li.fromCharCode,f1={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:`
`,102:"\f",114:"\r"},ir=function(){throw In=Fl=null,ba()},Ua=function(){for(var zt,ln,Bt,hn,Nt,pn=Fl,Cn=pn.length;In<Cn;)switch(Nt=pn.charCodeAt(In)){case 9:case 10:case 13:case 32:In++;break;case 123:case 125:case 91:case 93:case 58:case 44:return zt=Xu?pn.charAt(In):pn[In],In++,zt;case 34:for(zt="@",In++;In<Cn;)if(Nt=pn.charCodeAt(In),Nt<32)ir();else if(Nt==92)switch(Nt=pn.charCodeAt(++In)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:zt+=f1[Nt],In++;break;case 117:for(ln=++In,Bt=In+4;In<Bt;In++)Nt=pn.charCodeAt(In),Nt>=48&&Nt<=57||Nt>=97&&Nt<=102||Nt>=65&&Nt<=70||ir();zt+=d1("0x"+pn.slice(ln,In));break;default:ir()}else{if(Nt==34)break;for(Nt=pn.charCodeAt(In),ln=In;Nt>=32&&Nt!=92&&Nt!=34;)Nt=pn.charCodeAt(++In);zt+=pn.slice(ln,In)}if(pn.charCodeAt(In)==34)return In++,zt;ir();default:if(ln=In,Nt==45&&(hn=!0,Nt=pn.charCodeAt(++In)),Nt>=48&&Nt<=57){for(Nt==48&&(Nt=pn.charCodeAt(In+1),Nt>=48&&Nt<=57)&&ir(),hn=!1;In<Cn&&(Nt=pn.charCodeAt(In),Nt>=48&&Nt<=57);In++);if(pn.charCodeAt(In)==46){for(Bt=++In;Bt<Cn&&(Nt=pn.charCodeAt(Bt),!(Nt<48||Nt>57));Bt++);Bt==In&&ir(),In=Bt}if(Nt=pn.charCodeAt(In),Nt==101||Nt==69){for(Nt=pn.charCodeAt(++In),Nt!=43&&Nt!=45||In++,Bt=In;Bt<Cn&&(Nt=pn.charCodeAt(Bt),!(Nt<48||Nt>57));Bt++);Bt==In&&ir(),In=Bt}return+pn.slice(ln,In)}hn&&ir();var an=pn.slice(In,In+4);if(an=="true")return In+=4,!0;if(an=="fals"&&pn.charCodeAt(In+4)==101)return In+=5,!1;if(an=="null")return In+=4,null;ir()}return"$"},nc=function(zt){var ln,Bt;if(zt=="$"&&ir(),typeof zt=="string"){if((Xu?zt.charAt(0):zt[0])=="@")return zt.slice(1);if(zt=="["){for(ln=[];zt=Ua(),zt!="]";)Bt?zt==","?(zt=Ua(),zt=="]"&&ir()):ir():Bt=!0,zt==","&&ir(),ln.push(nc(zt));return ln}if(zt=="{"){for(ln={};zt=Ua(),zt!="}";)Bt?zt==","?(zt=Ua(),zt=="}"&&ir()):ir():Bt=!0,zt!=","&&typeof zt=="string"&&(Xu?zt.charAt(0):zt[0])=="@"&&Ua()==":"||ir(),ln[zt.slice(1)]=nc(Ua());return ln}ir()}return zt},Vh=function(zt,ln,Bt){var hn=Kh(zt,ln,Bt);hn===sa?delete zt[ln]:zt[ln]=hn},Kh=function(zt,ln,Bt){var hn,Nt=zt[ln];if(typeof Nt=="object"&&Nt)if(Gr.call(Nt)==Ju)for(hn=Nt.length;hn--;)Vh(Gr,ko,Nt,hn,Bt);else ko(Nt,function(pn){Vh(Nt,pn,Bt)});return Bt.call(zt,ln,Nt)};st.parse=function(zt,ln){var Bt,hn;return In=0,Fl=""+zt,Bt=nc(Ua()),Ua()!="$"&&ir(),In=Fl=null,ln&&Gr.call(ln)==Ll?Kh((hn={},hn[""]=Bt,hn),"",ln):Bt}}}return st.runInContext=e,st}var a={function:!0,object:!0},h=a[typeof window]&&window||this,L=h.JSON,H=h.JSON3,se=!1,be=e(h,h.JSON3={noConflict:function(){return se||(se=!0,h.JSON=L,h.JSON3=H,L=H=null),be}});h.JSON?(h.JSON.parse=be.parse,h.JSON.stringify=be.stringify):h.JSON={parse:be.parse,stringify:be.stringify}}).call(window),function(e,a){a(e)}(window,function(e){if(e.atob)try{e.atob(" ")}catch(L){e.atob=function(H){var se=function(be){return H(String(be).replace(/[\t\n\f\r ]+/g,""))};return se.original=H,se}(e.atob)}else{var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;e.btoa=function(L){L=String(L);for(var H,se,be,Me,st="",It=0,Pt=L.length%3;It<L.length;){if((se=L.charCodeAt(It++))>255||(be=L.charCodeAt(It++))>255||(Me=L.charCodeAt(It++))>255)return"";H=se<<16|be<<8|Me,st+=a.charAt(H>>18&63)+a.charAt(H>>12&63)+a.charAt(H>>6&63)+a.charAt(63&H)}return Pt?st.slice(0,Pt-3)+"===".substring(Pt):st},e.atob=function(L){if(L=String(L).replace(/[\t\n\f\r ]+/g,""),!h.test(L))return"";L+="==".slice(2-(3&L.length));for(var H,se,be,Me="",st=0;st<L.length;)H=a.indexOf(L.charAt(st++))<<18|a.indexOf(L.charAt(st++))<<12|(se=a.indexOf(L.charAt(st++)))<<6|(be=a.indexOf(L.charAt(st++))),Me+=se===64?String.fromCharCode(H>>16&255):be===64?String.fromCharCode(H>>16&255,H>>8&255):String.fromCharCode(H>>16&255,H>>8&255,255&H);return Me}}});var Kf,tr={setup:function(e){Kf=e},log:function(){(Kf||console&&console.log||function(){}).apply(null,arguments)}},ii={get:function(e){return window.localStorage.getItem(e)},parse:function(e){var a;try{a=JSON.parse(ii.get(e))||null}catch(h){tr.log(h)}return a},set:function(e,a){try{window.localStorage.setItem(e,a)}catch(h){tr.log(h)}},remove:function(e){window.localStorage.removeItem(e)},isSupport:function(){var e=!0;try{var a="__local_store_support__",h="testIsSupportStorage";ii.set(a,h),ii.get(a)!==h&&(e=!1),ii.remove(a)}catch(L){e=!1}return e}},Gf=function(){function e(){return h=(9301*h+49297)%233280,h/233280}var a=new Date,h=a.getTime();return function(L){return Math.ceil(e()*L)}}();c.prototype.get=function(e,a,h,L){if(!e)throw new Error("key is must");a=a||1e4,h=h||1e3,L=L||function(){};var H=this.lockGetPrefix+e,se=ii.get(H),be=String(b());return se&&(se=C(se)||{randomNum:0,expireTime:0},se.expireTime>u())?L(null):(ii.set(H,JSON.stringify({randomNum:be,expireTime:u()+a})),void setTimeout(function(){se=C(ii.get(H))||{randomNum:0,expireTime:0},se&&se.randomNum===be?(L(ii.get(e)),ii.remove(e),ii.remove(H)):L(null)},h))},c.prototype.set=function(e,a,h,L,H){if(!e||!a)throw new Error("key and val is must");h=h||1e4,L=L||1e3,H=H||function(){};var se=this.lockSetPrefix+e,be=ii.get(se),Me=String(b());return be&&(be=C(be)||{randomNum:0,expireTime:0},be.expireTime>u())?H({status:"fail",reason:"This key is locked"}):(ii.set(se,JSON.stringify({randomNum:Me,expireTime:u()+h})),void setTimeout(function(){be=C(ii.get(se))||{randomNum:0,expireTime:0},be.randomNum===Me?ii.set(e,a)&&H({status:"success"}):H({status:"fail",reason:"This key is locked"})},L))},k.prototype.on=function(e,a){if(!e||!a)return!1;if(!T(a))throw new Error("listener must be a function");this._events[e]=this._events[e]||[];var h=typeof a=="object";return this._events[e].push(h?a:{listener:a,once:!1}),this},k.prototype.prepend=function(e,a){if(!e||!a)return!1;if(!T(a))throw new Error("listener must be a function");this._events[e]=this._events[e]||[];var h=typeof a=="object";return this._events[e].unshift(h?a:{listener:a,once:!1}),this},k.prototype.prependOnce=function(e,a){return this.prepend(e,{listener:a,once:!0})},k.prototype.once=function(e,a){return this.on(e,{listener:a,once:!0})},k.prototype.off=function(e,a){var h=this._events[e];if(!h)return!1;if(typeof a=="number")h.splice(a,1);else if(typeof a=="function")for(var L=0,H=h.length;L<H;L++)h[L]&&h[L].listener===a&&h.splice(L,1);return this},k.prototype.emit=function(e,a){var h=this._events[e];if(!h)return!1;for(var L=0;L<h.length;L++){var H=h[L];H&&(H.listener.call(this,a||{}),H.once&&this.off(e,L))}return this},k.prototype.removeAllListeners=function(e){e&&this._events[e]?this._events[e]=[]:this._events={}},k.prototype.listeners=function(e){return e&&typeof e=="string"?this._events[e]:this._events};var Ma=function(){var e=function(){for(var L=1*new Date,H=0;L==1*new Date;)H++;return L.toString(16)+H.toString(16)},a=function(){return b().toString(16).replace(".","")},h=function(){function L(It,Pt){var Qn,Rn=0;for(Qn=0;Qn<Pt.length;Qn++)Rn|=Me[Qn]<<8*Qn;return It^Rn}var H,se,be=navigator.userAgent,Me=[],st=0;for(H=0;H<be.length;H++)se=be.charCodeAt(H),Me.unshift(255&se),Me.length>=4&&(st=L(st,Me),Me=[]);return Me.length>0&&(st=L(st,Me)),st.toString(16)};return function(){var L=String(screen.height*screen.width);L=L&&/\d{5,}/.test(L)?L.toString(16):String(31242*b()).replace(".","").slice(0,8);var H=e()+"-"+a()+"-"+h()+"-"+L+"-"+e();return H||(String(b())+String(b())+String(b())).slice(2,15)}}(),Jf=function(e){this.ele=e},Xf=function(e,a){for(var h=[];e;e=e.nextSibling)e.nodeType===1&&e!==a&&h.push(e);return h};Jf.prototype={addClass:function(e){var a=" "+this.ele.className+" ";return a.indexOf(" "+e+" ")===-1&&(this.ele.className=this.ele.className+(this.ele.className===""?"":" ")+e),this},removeClass:function(e){var a=" "+this.ele.className+" ";return a.indexOf(" "+e+" ")!==-1&&(this.ele.className=a.replace(" "+e+" "," ").slice(1,-1)),this},hasClass:function(e){var a=" "+this.ele.className+" ";return a.indexOf(" "+e+" ")!==-1},attr:function(e,a){return typeof e=="string"&&w(a)?this.ele.getAttribute(e):(typeof e=="string"&&(a=String(a),this.ele.setAttribute(e,a)),this)},offset:function(){var e=this.ele.getBoundingClientRect();if(e.width||e.height){var a=this.ele.ownerDocument,h=a.documentElement;return{top:e.top+window.pageYOffset-h.clientTop,left:e.left+window.pageXOffset-h.clientLeft}}return{top:0,left:0}},getSize:function(){if(!window.getComputedStyle)return{width:this.ele.offsetWidth,height:this.ele.offsetHeight};try{var e=this.ele.getBoundingClientRect();return{width:e.width,height:e.height}}catch(a){return{width:0,height:0}}},getStyle:function(e){return this.ele.currentStyle?this.ele.currentStyle[e]:this.ele.ownerDocument.defaultView.getComputedStyle(this.ele,null).getPropertyValue(e)},wrap:function(e){var a=document.createElement(e);return this.ele.parentNode.insertBefore(a,this.ele),a.appendChild(this.ele),z(a)},getCssStyle:function(e){var a=this.ele.style.getPropertyValue(e);if(a)return a;var h=null;if(typeof window.getMatchedCSSRules=="function"&&(h=window.getMatchedCSSRules(this.ele)),!h||!M(h))return null;for(var L=h.length-1;L>=0;L--){var H=h[L];if(a=H.style.getPropertyValue(e))return a}},sibling:function(e,a){for(;(e=e[a])&&e.nodeType!==1;);return e},next:function(){return this.sibling(this.ele,"nextSibling")},prev:function(){return this.sibling(this.ele,"previousSibling")},siblings:function(){return Xf((this.ele.parentNode||{}).firstChild,this.ele)},children:function(){return Xf(this.ele.firstChild)},parent:function(){var e=this.ele.parentNode;return e=e&&e.nodeType!==11?e:null,z(e)},previousElementSibling:function(){var e=this.ele;if("previousElementSibling"in document.documentElement)return z(e.previousElementSibling);for(;e=e.previousSibling;)if(e.nodeType===1)return z(e);return z(null)},getSameTypeSiblings:function(){for(var e=this.ele,a=e.parentNode,h=e.tagName.toLowerCase(),L=[],H=0;H<a.children.length;H++){var se=a.children[H];se.nodeType===1&&se.tagName.toLowerCase()===h&&L.push(a.children[H])}return L},getParents:function(){try{var e=this.ele;if(!g(e))return[];var a=[e];if(e===null||e.parentElement===null)return[];for(;e.parentElement!==null;)e=e.parentElement,a.push(e);return a}catch(h){return[]}}};var Zf=Array.prototype.forEach,My=Object.prototype.hasOwnProperty,Qy=Object.prototype.hasOwnProperty,Ga={get:function(e){for(var a=e+"=",h=document.cookie.split(";"),L=0;L<h.length;L++){for(var H=h[L];H.charAt(0)==" ";)H=H.substring(1,H.length);if(H.indexOf(a)==0)return S(H.substring(a.length,H.length))}return null},set:function(e,a,h,L,H,se){function be(zi){return!!zi&&zi.replace(/\r\n/g,"")}var Me=se,st="",It="",Pt="";if(h=h==null?73e3:h,h!==0){var Qn=new Date;String(h).slice(-1)==="s"?Qn.setTime(Qn.getTime()+1e3*Number(String(h).slice(0,-1))):Qn.setTime(Qn.getTime()+24*h*60*60*1e3),st="; expires="+Qn.toGMTString()}L&&L!==""&&(Pt="; SameSite="+L),H&&(It="; secure");var Rn="",Li="",ar="";e&&(Rn=be(e)),a&&(Li=be(a)),Me&&(ar=be(Me)),Rn&&Li&&(document.cookie=Rn+"="+encodeURIComponent(Li)+st+"; path=/"+ar+Pt+It)},remove:function(e,a){this.set(e,"1",-1,a)},isSupport:function(e,a,h,L,H){function se(){be.set(e,a,h,L,H);var Me=be.get(e);return Me===a&&(be.remove(e),!0)}e=e||"cookie_support_test",a=a||"1";var be=this;return navigator.cookieEnabled&&se()}},Py=Object.prototype.hasOwnProperty,bo={isSupport:function(){var e=!0,a="__session_storage_support__",h="testIsSupportStorage";try{sessionStorage&&sessionStorage.setItem?(sessionStorage.setItem(a,h),sessionStorage.removeItem(a,h),e=!0):e=!1}catch(L){e=!1}return e}},Ry={"+":"-","/":"_","=":"."},Ny={"-":"+",_:"/",".":"="},Hy={encode:function(e){return e.replace(/[+\/=]/g,function(a){return Ry[a]})},decode:function(e){return e.replace(/[-_.]/g,function(a){return Ny[a]})},trim:function(e){return e.replace(/[.=]{1,2}$/,"")},isBase64:function(e){return/^[A-Za-z0-9+\/]*[=]{0,2}$/.test(e)},isUrlSafeBase64:function(e){return/^[A-Za-z0-9_-]*[.]{0,2}$/.test(e)}},Oy={__proto__:null,ConcurrentStorage:c,EventEmitter:k,URL:Q,UUID:Ma,addEvent:G,addHashEvent:Y,ajax:x,base64Decode:B,base64Encode:R,bindReady:X,cookie:Ga,coverExtend:J,decodeURI:ne,decodeURIComponent:S,dfmapping:le,each:K,encodeDates:q,extend:p,extend2Lev:Z,filter:re,formatDate:Ae,formatJsonString:ae,getCookieTopLevelDomain:ue,getDomBySelector:Ee,getElementContent:O,getHostname:ee,getIOSVersion:ie,getQueryParam:ge,getQueryParamsFromUrl:_e,getRandom:b,getRandomBasic:Gf,getScreenOrientation:ke,getUA:Se,getURL:Te,getURLPath:Re,getURLSearchParams:r,hasAttribute:Ne,hasAttributes:Ye,hashCode:Je,hashCode53:rt,indexOf:We,inherit:Ve,isArguments:Oe,isArray:M,isBoolean:ft,isDate:me,isElement:g,isEmptyObject:ht,isFunction:s,isHttpUrl:qt,isIOS:bn,isJSONString:sn,isNumber:gn,isObject:A,isString:D,isSupportBeaconSend:kn,isSupportCors:Yn,isUndefined:w,jsonp:Nn,listenPageState:pi,loadScript:Ln,localStorage:ii,logger:tr,map:_,mediaQueriesSupported:we,now:u,removeScriptProtocol:si,rot13defs:or,rot13obfs:Xi,ry:z,safeJSONParse:C,searchObjDate:jr,sessionStorage:bo,setCssStyle:ji,strToUnicode:br,throttle:Zr,toArray:Wr,trim:f,unique:_r,urlParse:y,urlSafeBase64:Hy,values:ea,xhr:N,startsWith:$},Al=[],Ja={appendWriter:function(e){Al.push(e)},msg:function(){var e={module:"",level:"log",brand:"web-sdk",content:null};e.content=Array.prototype.slice.call(arguments);var a={module:function(h){return D(h)&&(e.module=h),this},level:function(h){return D(h)&&(e.level=h),this},brand:function(h){return D(h)&&(e.brand=h),this},log:function(){if(e.content&&e.content.length){for(var h=0;h<Al.length;h++)if(typeof Al[h]=="function")try{Al[h].call(null,e)}catch(L){}}return this}};return a}},Yt={},Ss={preset_properties:{search_keyword_baidu:!1,latest_utm:!0,latest_traffic_source_type:!0,latest_search_keyword:!0,latest_referrer:!0,latest_referrer_host:!1,latest_landing_page:!1,latest_wx_ad_click_id:void 0,url:!0,title:!0},encrypt_cookie:!1,enc_cookie:!1,img_use_crossorigin:!1,name:"sa",max_referrer_string_length:200,max_string_length:500,max_id_length:255,max_key_length:100,cross_subdomain:!0,show_log:!1,is_debug:!1,source_channel:[],sdk_id:"",vtrack_ignore:{},auto_init:!0,is_track_single_page:!1,is_single_page:!1,batch_send:!1,source_type:{},callback_timeout:200,datasend_timeout:8e3,is_track_device_id:!1,ignore_oom:!0,app_js_bridge:!1,imouRequest:()=>{}};Ss.white_list={},Ss.white_list[location.host]=Q(location.href).hostname;var eh="utm_source utm_medium utm_campaign utm_content utm_term",vl="1.26.12",th="sensorsdata_domain_test",Bs={EMAIL:"$identity_email",MOBILE:"$identity_mobile",LOGIN:"$identity_login_id"},Or={get:function(e){return Ga.get(e)},set:function(e,a,h,L){var H="";if(L=w(L)?Yt.cross_subdomain:L){var se=I(location.href);se==="url\u89E3\u6790\u5931\u8D25"&&(se=""),H=se?"; domain="+se:""}return Ga.set(e,a,h,Yt.set_cookie_samesite,Yt.is_secure_cookie,H)},remove:function(e,a){return a=w(a)?Yt.cross_subdomain:a,Ga.remove(e,a)},isSupport:function(e,a){return e=e||"sajssdk_2015_cookie_access_test",a=a||"1",Ga.isSupport(e,a,0,null,Yt.is_secure_cookie)}};Or.getNewUser=W;var xl={data:{},get:function(e){var a=this.data[e];return a===void 0?null:a._expirationTimestamp_!==void 0?new Date().getTime()>a._expirationTimestamp_?null:a.value:a},set:function(e,a,h){if(h){var L,H=new Date;L=String(h).slice(-1)==="s"?H.getTime()+1e3*Number(String(h).slice(0,-1)):H.getTime()+24*h*60*60*1e3,a={value:a,_expirationTimestamp_:L}}this.data[e]=a},getNewUserFlagMemoryKey:function(e){return"sajssdk_2015_"+Yt.sdk_id+e}},Ds={checkIsAddSign:function(e){e.type==="track"&&(W()?e.properties.$is_first_day=!0:e.properties.$is_first_day=!1)},is_first_visit_time:!1,is_page_first_visited:!1,checkIsFirstTime:function(e){e.type==="track"&&e.event==="$pageview"&&(this.is_first_visit_time?(e.properties.$is_first_time=!0,this.is_first_visit_time=!1):e.properties.$is_first_time=!1)},setDeviceId:function(){},storeInitCheck:function(){if(Ce.is_first_visitor){var e=new Date,a={h:23-e.getHours(),m:59-e.getMinutes(),s:59-e.getSeconds()};Or.isSupport()?Or.set(U("new_user"),"1",3600*a.h+60*a.m+a.s+"s"):xl.set(xl.getNewUserFlagMemoryKey("new_user"),"1",3600*a.h+60*a.m+a.s+"s"),this.is_first_visit_time=!0,this.is_page_first_visited=!0}else W()||(this.checkIsAddSign=function(h){h.type==="track"&&(h.properties.$is_first_day=!1)}),this.checkIsFirstTime=function(h){h.type==="track"&&h.event==="$pageview"&&(h.properties.$is_first_time=!1)}}},Tu=function(){this._events=[],this.pendingEvents=[]};Tu.prototype={emit:function(e){var a=[].slice.call(arguments,1);K(this._events,function(h){h.type===e&&h.callback.apply(h.context,a)}),this.pendingEvents.push({type:e,data:a}),this.pendingEvents.length>20&&this.pendingEvents.shift()},on:function(e,a,h,L){s(a)&&(this._events.push({type:e,callback:a,context:h||this}),L=L!==!1,this.pendingEvents.length>0&&L&&K(this.pendingEvents,function(H){H.type===e&&a.apply(h,H.data)}))},tempAdd:function(e,a){if(a&&e)return this.emit(e,a)},isReady:function(){}};var Ts={data:{},id:function(){return this.data.id?this.data.id:(this.data.id=Ue(),this.data.id)},type:function(){return this.data.type?this.data.type:(this.data.type=ve(),this.data.type)}},Qa={distinct_id:function(){},jssdkDebug:function(){},_sendDebug:function(e){},apph5:function(e){var a="app_h5\u6253\u901A\u5931\u8D25-",h={1:a+"use_app_track\u4E3Afalse",2:a+"Android\u6216\u8005iOS\uFF0C\u6CA1\u6709\u66B4\u9732\u76F8\u5E94\u65B9\u6CD5",3.1:a+"Android\u6821\u9A8Cserver_url\u5931\u8D25",3.2:a+"iOS\u6821\u9A8Cserver_url\u5931\u8D25",4.1:a+"H5 \u6821\u9A8C iOS server_url \u5931\u8D25",4.2:a+"H5 \u6821\u9A8C Android server_url \u5931\u8D25"},L=e.output,H=e.step,se=e.data||"";L!=="all"&&L!=="console"||F(h[H]),(L==="all"||L==="code")&&A(Yt.is_debug)&&Yt.is_debug.apph5&&(se.type&&se.type.slice(0,7)==="profile"||(se.properties._jssdk_debug_info="apph5-"+String(H)))},defineMode:function(e){var a={1:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"App SDK \u4E0E Web JS SDK \u6CA1\u6709\u8FDB\u884C\u6253\u901A\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u6280\u672F\u4EBA\u5458\u4FEE\u6B63 App SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},2:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"App SDK \u4E0E Web JS SDK \u6CA1\u6709\u8FDB\u884C\u6253\u901A\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u6280\u672F\u4EBA\u5458\u4FEE\u6B63 Web JS SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},3:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"Web JS SDK \u6CA1\u6709\u5F00\u542F\u5168\u57CB\u70B9\u914D\u7F6E\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u5DE5\u4F5C\u4EBA\u5458\u4FEE\u6B63 SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""},4:{title:"\u5F53\u524D\u9875\u9762\u65E0\u6CD5\u8FDB\u884C\u53EF\u89C6\u5316\u5168\u57CB\u70B9",message:"Web JS SDK \u914D\u7F6E\u7684\u6570\u636E\u6821\u9A8C\u5730\u5740\u4E0E App SDK \u914D\u7F6E\u7684\u6570\u636E\u6821\u9A8C\u5730\u5740\u4E0D\u4E00\u81F4\uFF0C\u8BF7\u8054\u7CFB\u8D35\u65B9\u5DE5\u4F5C\u4EBA\u5458\u4FEE\u6B63 SDK \u7684\u914D\u7F6E\uFF0C\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u67E5\u770B\u6587\u6863\u3002",link_text:"",link_url:""}};return!(!e||!a[e])&&a[e]},protocol:{protocolIsSame:function(e,a){try{if(Q(e).protocol!==Q(a).protocol)return!1}catch(h){return n("\u4E0D\u652F\u6301 _.URL \u65B9\u6CD5"),!1}return!0},serverUrl:function(){D(Yt.server_url)&&Yt.server_url!==""&&!this.protocolIsSame(Yt.server_url,location.href)&&n(`SDK \u68C0\u6D4B\u5230\u60A8\u7684\u6570\u636E\u53D1\u9001\u5730\u5740\u548C\u5F53\u524D\u9875\u9762\u5730\u5740\u7684\u534F\u8BAE\u4E0D\u4E00\u81F4\uFF0C\u5EFA\u8BAE\u60A8\u4FEE\u6539\u6210\u4E00\u81F4\u7684\u534F\u8BAE\u3002
\u56E0\u4E3A\uFF1A1\u3001https \u4E0B\u9762\u53D1\u9001 http \u7684\u56FE\u7247\u8BF7\u6C42\u4F1A\u5931\u8D25\u30022\u3001http \u9875\u9762\u4F7F\u7528 https + ajax \u65B9\u5F0F\u53D1\u6570\u636E\uFF0C\u5728 ie9 \u53CA\u4EE5\u4E0B\u4F1A\u4E22\u5931\u6570\u636E\u3002`)},ajax:function(e){return e!==Yt.server_url&&void(D(e)&&e!==""&&!this.protocolIsSame(e,location.href)&&n("SDK \u68C0\u6D4B\u5230\u60A8\u7684\u6570\u636E\u53D1\u9001\u5730\u5740\u548C\u5F53\u524D\u9875\u9762\u5730\u5740\u7684\u534F\u8BAE\u4E0D\u4E00\u81F4\uFF0C\u5EFA\u8BAE\u60A8\u4FEE\u6539\u6210\u4E00\u81F4\u7684\u534F\u8BAE\u3002\u56E0\u4E3A http \u9875\u9762\u4F7F\u7528 https + ajax \u65B9\u5F0F\u53D1\u6570\u636E\uFF0C\u5728 ie9 \u53CA\u4EE5\u4E0B\u4F1A\u4E22\u5931\u6570\u636E\u3002"))}}},gi={initPage:function(){var e=ze(),a=Te(),h=I(a);h||Qa.jssdkDebug("url_domain\u5F02\u5E38_"+a+"_"+h),this.pageProp={referrer:e,referrer_host:e?ee(e):"",url:a,url_host:ee(a,"url_host\u53D6\u503C\u5F02\u5E38"),url_domain:h}},pageProp:{},campaignParams:function(){return Ce.kit.getUtmData()},campaignParamsStandard:function(e,a){e=e||"",a=a||"";var h=gi.campaignParams(),L={},H={};return K(h,function(se,be,Me){(" "+eh+" ").indexOf(" "+be+" ")!==-1?L[e+be]=Me[be]:H[a+be]=Me[be]}),{$utms:L,otherUtms:H}},properties:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body&&document.body.clientHeight||0,a=window.innerWidth||document.documentElement.clientWidth||document.body&&document.body.clientWidth||0,h={$timezone_offset:new Date().getTimezoneOffset(),$screen_height:Number(screen.height)||0,$screen_width:Number(screen.width)||0,$viewport_height:e,$viewport_width:a,$lib:"js",$lib_version:vl};return h},currentProps:{},register:function(e){p(gi.currentProps,e)}},Ui={},Lu=new k;Ui.spa=Lu,Ui.sdk=new k,Ui.data=new k,Ui.initSystemEvent=function(){ot(function(e){Lu.emit("switch",e)})},Ui.EVENT_LIST={spaSwitch:["spa","switch"],sdkBeforeInit:["sdk","beforeInit"],sdkInitPara:["sdk","initPara"],sdkAfterInitPara:["sdk","afterInitPara"],sdkInitAPI:["sdk","initAPI"],sdkAfterInitAPI:["sdk","afterInitAPI"],sdkAfterInit:["sdk","afterInit"],sdkReady:["sdk","ready"],dataSendSuccess:["data","sendSuccess"],dataSendFail:["data","sendFail"]};var Fu=function(e){this.callback=e.callback,this.server_url=e.server_url,this.data=e.data,this.origin_data=e.origin_data};Fu.prototype.start=function(){var e=this,a=new Date;rn({url:this.server_url,type:"POST",data:e.data,credentials:!1,timeout:Yt.datasend_timeout,cors:!0,success:function(h,L){Ui.data.emit("sendSuccess",{status:String(L),resText:h,type:"ajax_single",timeout_config:Yt.datasend_timeout,request_timeout:new Date-a,data:e.origin_data}),e.end()},error:function(h,L){Ui.data.emit("sendFail",{status:String(L),resText:h,type:"ajax_single",timeout_config:Yt.datasend_timeout,request_timeout:new Date-a,data:e.origin_data}),e.end()}})},Fu.prototype.end=function(){if(this.callback){if(F("warning: sdk callback is deprecated."),!s(this.callback))return void F("error: sdk callback must be function.");this.callback()}};var nh="sawebjssdk-",Mu="tab-sawebjssdk-";Kt.prototype={batchInterval:function(){this.serverUrl===""&&this.getServerUrl(),this.hasTabStorage||(this.generateTabStorage(),this.hasTabStorage=!0);var e=this;e.timer=setTimeout(function(){e.updateExpireTime(),e.recycle(),e.send(),clearTimeout(e.timer),e.batchInterval()},Yt.batch_send.send_interval)},getServerUrl:function(){return D(Yt.server_url)&&Yt.server_url!==""||M(Yt.server_url)&&Yt.server_url.length?void(this.serverUrl=M(Yt.server_url)?Yt.server_url[0]:Yt.server_url):v("\u5F53\u524D server_url \u4E3A\u7A7A\u6216\u4E0D\u6B63\u786E\uFF0C\u53EA\u5728\u63A7\u5236\u53F0\u6253\u5370\u65E5\u5FD7\uFF0Cnetwork \u4E2D\u4E0D\u4F1A\u53D1\u6570\u636E\uFF0C\u8BF7\u914D\u7F6E\u6B63\u786E\u7684 server_url\uFF01")},send:function(){if(this.sendTimeStamp&&u()-this.sendTimeStamp<Yt.batch_send.send_interval)return!1;var e=ii.get(this.tabKey);if(e){this.sendTimeStamp=u(),e=C(e)||this.generateTabStorageVal();var a=_r(e.data);if(a.length){for(var h=[],L=0;L<a.length;L++){var H=Ce.store.readObjectVal(a[L]);H&&(H._flush_time=new Date().getTime(),h.push(H))}h.length&&this.request(h,e.data)}}},updateExpireTime:function(){var e=ii.get(this.tabKey);e&&(e=C(e)||this.generateTabStorageVal(),e.expireTime=u()+2*Yt.batch_send.send_interval,e.serverUrl=this.serverUrl,ii.set(this.tabKey,JSON.stringify(e)))},requestSA:function(e,a){var h=this,L=new Date;rn({url:this.serverUrl,type:"POST",data:"data_list="+encodeURIComponent(R(JSON.stringify(e))),credentials:!1,timeout:Yt.batch_send.datasend_timeout,cors:!0,success:function(H,se){Ui.data.emit("sendSuccess",{status:String(se),resText:H,type:"ajax_batch",timeout_config:Yt.batch_send.datasend_timeout,request_timeout:new Date-L,data:e}),h.remove(a),h.sendTimeStamp=0},error:function(H,se){Ui.data.emit("sendFail",{status:String(se),resText:H,type:"ajax_batch",timeout_config:Yt.batch_send.datasend_timeout,request_timeout:new Date-L,data:e}),h.sendTimeStamp=0}})},request:function(e,a){var h=this;const L=[];e.forEach(be=>{L.push(t.encode(JSON.stringify(be)))});const H=(be,Me)=>{h.remove(a),h.sendTimeStamp=0},se=(be,Me)=>{h.sendTimeStamp=0};Ce.para.imouRequest(L,H,se)},remove:function(e){var a=ii.get(this.tabKey);if(a){for(var h=(C(a)||this.generateTabStorageVal()).data,L=0;L<e.length;L++){var H=We(h,e[L]);H>-1&&h.splice(H,1),ii.remove(e[L])}h=_r(h),ii.set(this.tabKey,JSON.stringify(this.generateTabStorageVal(h)))}},add:function(e){var a=nh+String(b()),h=ii.get(this.tabKey);h===null?(this.tabKey=Mu+String(b()),h=this.generateTabStorageVal()):h=C(h)||this.generateTabStorageVal(),h.data.push(a),h.expireTime=u()+2*Yt.batch_send.send_interval,ii.set(this.tabKey,JSON.stringify(h)),Ce.store.saveObjectVal(a,e),e.type!=="track_signup"&&e.event!=="$pageview"||this.sendImmediately()},generateTabStorage:function(){this.tabKey=Mu+String(b()),ii.set(this.tabKey,JSON.stringify(this.generateTabStorageVal()))},generateTabStorageVal:function(e){return e=e||[],{data:e,expireTime:u()+2*Yt.batch_send.send_interval,serverUrl:this.serverUrl}},sendImmediately:function(){this.send()},recycle:function(){for(var e={},a=1e4,h="sajssdk-lock-get-",L=0;L<localStorage.length;L++){var H=localStorage.key(L),se=this;if(H.indexOf(Mu)===0){for(var be=C(ii.get(H))||this.generateTabStorageVal(),Me=0;Me<be.data.length;Me++)e[be.data[Me]]=!0;if(H!==se.tabKey&&u()>be.expireTime&&this.serverUrl===be.serverUrl){var st=new c(h);st.get(H,a,1e3,function(Rn){if(Rn){ii.get(se.tabKey)===null&&se.generateTabStorage();var Li=C(Rn)||se.generateTabStorageVal(),ar=C(ii.get(se.tabKey))||se.generateTabStorageVal();ar.data=_r(ar.data.concat(Li.data)),ii.set(se.tabKey,JSON.stringify(ar))}})}}else if(H.indexOf(h)===0){var It=C(ii.get(H))||{expireTime:0};u()-It.expireTime>a&&ii.remove(H)}}for(var Pt=0;Pt<localStorage.length;Pt++){var Qn=localStorage.key(Pt);Qn.indexOf(nh)!==0||e[Qn]||ii.remove(Qn)}}};var Qu=function(e){this.callback=e.callback,this.server_url=e.server_url,this.data=e.data};Qu.prototype.start=function(){var e=this;typeof navigator=="object"&&typeof navigator.sendBeacon=="function"&&navigator.sendBeacon(this.server_url,this.data),setTimeout(function(){e.end()},40)},Qu.prototype.end=function(){if(this.callback){if(F("warning: sdk callback is deprecated."),!s(this.callback))return void F("error: sdk callback must be function.");this.callback()}};var Cl=function(e){this.callback=e.callback,this.img=document.createElement("img"),this.img.width=1,this.img.height=1,Yt.img_use_crossorigin&&(this.img.crossOrigin="anonymous"),this.server_url=e.data};Cl.prototype.start=function(){var e=this;Yt.ignore_oom&&(this.img.onload=function(){this.onload=null,this.onerror=null,this.onabort=null,e.end()},this.img.onerror=function(){this.onload=null,this.onerror=null,this.onabort=null,e.end()},this.img.onabort=function(){this.onload=null,this.onerror=null,this.onabort=null,e.end()}),this.img.src=this.server_url},Cl.prototype.lastClear=function(){var e=Se();e.ie!==void 0?this.img.src="about:blank":this.img.src=""},Cl.prototype.end=function(){if(this.callback){if(F("warning: sdk callback is deprecated."),!s(this.callback))return void F("error: sdk callback must be function.");this.callback()}var e=this;setTimeout(function(){e.lastClear&&e.lastClear()},Yt.datasend_timeout-Yt.callback_timeout)};var Uy={__proto__:null,addEvent:fe,EventEmitterSa:Tu,cookie:Or,info:gi,getReferrer:ze,getCurrentDomain:I,isBaiduTraffic:pe,getReferrerEqid:Ue,getReferrerEqidType:ve,getBaiduKeyword:Ts,isReferralTraffic:Le,getKeywordFromReferrer:Qe,getReferSearchEngine:lt,getSourceFromReferrer:nt,getWxAdIdFromUrl:Ke,parseSuperProperties:xt,searchConfigData:Lt,strip_empty_properties:bt,getEleInfo:et,getElementContent:ut,ajax:rn,optimizeServerUrl:Xt,encodeTrackData:Ot,AjaxSend:Fu,BatchSend:Kt,BeaconSend:Qu,ImageSend:Cl},ih=new Tu,mt={requests:[],_sessionState:{},_state:{distinct_id:"",first_id:"",props:{},identities:{}},getProps:function(){return this._state.props||{}},getSessionProps:function(){return this._sessionState},getOriginDistinctId:function(){return this._state._distinct_id||this._state.distinct_id},getOriginUnionId:function(e){var a={};e=e||this._state;var h=e._first_id||e.first_id,L=e._distinct_id||e.distinct_id;return h&&L?(a.login_id=L,a.anonymous_id=h):a.anonymous_id=L,a},getIdentities:function(){var e=JSON.parse(JSON.stringify(this._state.identities));return e.$identity_anonymous_id=this.getAnonymousId(),e},getAnonymousId:function(){return mt._state._first_id||mt._state.first_id||mt._state._distinct_id||mt._state.distinct_id},getDistinctId:function(){var e=this.getUnionId();return e.login_id||e.anonymous_id},getUnionId:function(e){var a=this.getOriginUnionId(e);return a.login_id&&this._state.history_login_id&&this._state.history_login_id.name&&this._state.history_login_id.name!==Bs.LOGIN&&(a.login_id=this._state.history_login_id.name+"+"+a.login_id),a},getFirstId:function(){return this._state._first_id||this._state.first_id},initSessionState:function(){var e=Or.get("sensorsdata2015session");e=Ce.kit.userDecryptIfNeeded(e);var a=null;e!==null&&typeof(a=C(e))=="object"&&(this._sessionState=a||{})},setOnce:function(e,a){e in this._state||this.set(e,a)},set:function(e,a){this._state=this._state||{};var h=this._state.distinct_id;this._state[e]=a,e==="first_id"?delete this._state._first_id:e==="distinct_id"&&delete this._state._distinct_id,this.save(),e==="distinct_id"&&h&&ih.tempAdd("changeDistinctId",a)},change:function(e,a){this._state["_"+e]=a},setSessionProps:function(e){Ce.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE");var a=this._sessionState;p(a,e),this.sessionSave(a)},setSessionPropsOnce:function(e){Ce.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE");var a=this._sessionState;J(a,e),this.sessionSave(a)},setProps:function(e,a){var h={};h=a?e:p(this._state.props||{},e);for(var L in h)typeof h[L]=="string"&&(h[L]=h[L].slice(0,Ce.para.max_referrer_string_length));this.set("props",h)},setPropsOnce:function(e){var a=this._state.props||{};J(a,e),this.set("props",a)},clearAllProps:function(e){this._sessionState={};var a;if(M(e)&&e.length>0)for(a=0;a<e.length;a++)D(e[a])&&e[a].indexOf("latest_")===-1&&A(this._state.props)&&e[a]in this._state.props&&delete this._state.props[e[a]];else if(A(this._state.props))for(a in this._state.props)a.indexOf("latest_")!==1&&delete this._state.props[a];this.sessionSave({}),this.save()},sessionSave:function(e){Ce.log("initSessionState \u65B9\u6CD5\u5DF2\u7ECF\u5F03\u7528\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u5982\u6709\u9700\u6C42\u8054\u7CFB\u6280\u672F\u987E\u95EE"),this._sessionState=e;var a=JSON.stringify(this._sessionState);Ce.para.encrypt_cookie&&(a=Ce.kit.userEncrypt(a)),Or.set("sensorsdata2015session",a,0)},save:function(){var e=JSON.parse(JSON.stringify(this._state));delete e._first_id,delete e._distinct_id,e.identities&&(e.identities=R(JSON.stringify(e.identities)));var a=JSON.stringify(e);Ce.para.encrypt_cookie&&(a=Ce.kit.userEncrypt(a)),Or.set(this.getCookieName(),a,360,Ce.para.cross_subdomain)},getCookieName:function(){var e="";if(Ce.para.cross_subdomain===!1){try{var a=location.host;w(Ce.para.white_list[a])||(e=Ce.para.white_list[a])}catch(h){n(h)}e=typeof e=="string"&&e!==""?"sa_jssdk_2015_"+Ce.para.sdk_id+e.replace(/\./g,"_"):"sa_jssdk_2015_root"+Ce.para.sdk_id}else e="sensorsdata2015jssdkcross"+Ce.para.sdk_id;return e},init:function(){function e(se){var be;se.identities&&(se.identities.indexOf(`
/`)===0?se.identities=C(or(se.identities)):se.identities=C(B(se.identities)));var Me=mt.getOriginUnionId(se);se.identities&&A(se.identities)&&!ht(se.identities)||(se.identities={},se.identities.$identity_cookie_id=Ma()),se.history_login_id=se.history_login_id||{};var st=se.history_login_id,It=st.name;if(Me.login_id)if(It&&se.identities.hasOwnProperty(It)){if(se.identities[It]!==Me.login_id){se.identities[It]=Me.login_id;for(be in se.identities)se.identities.hasOwnProperty(be)&&be!=="$identity_cookie_id"&&be!==It&&delete se.identities[be];se.history_login_id.value=Me.login_id}}else{var Pt=It||Bs.LOGIN;se.identities[Pt]=Me.login_id;for(be in se.identities)se.identities.hasOwnProperty(be)&&be!=="$identity_cookie_id"&&be!==Pt&&delete se.identities[be];se.history_login_id={name:Pt,value:Me.login_id}}else{if(se.identities.hasOwnProperty("$identity_login_id")||se.identities.hasOwnProperty(It))for(be in se.identities)se.identities.hasOwnProperty(be)&&be!=="$identity_cookie_id"&&be!=="$identity_anonymous_id"&&delete se.identities[be];se.history_login_id={name:"",value:""}}return se}function a(se){mt.set("distinct_id",se),mt.set("identities",{$identity_cookie_id:se}),mt.set("history_login_id",{name:"",value:""})}this.initSessionState();var h,L,H=Ma();Or.isSupport()&&(h=Or.get(this.getCookieName()),h=Ce.kit.userDecryptIfNeeded(h),L=C(h)),Or.isSupport()&&h!==null&&sn(h)&&A(L)&&(!A(L)||L.distinct_id)?(mt._state=p(e(L)),mt.save()):(Ce.is_first_visitor=!0,a(H)),Ds.setDeviceId(H,this),Ds.storeInitCheck()},saveObjectVal:function(e,a){D(a)||(a=JSON.stringify(a)),Ce.para.encrypt_cookie==1&&(a=Ce.kit.userEncrypt(a)),ii.set(e,a)},readObjectVal:function(e){var a=ii.get(e);return a?(a=Ce.kit.userDecryptIfNeeded(a),C(a)):null}},Qi={string:function(e){n(e+" must be string")},emptyString:function(e){n(e+"'s is empty")},regexTest:function(e){n(e+" is invalid")},idLength:function(e){n(e+" length is longer than "+Yt.max_id_length)},keyLength:function(e){n(e+" length is longer than "+Yt.max_key_length)},stringLength:function(e){n(e+" length is longer than "+Yt.max_string_length)},voidZero:function(e){n(e+"'s is undefined")},reservedLoginId:function(e){n(e+" is invalid")},reservedBind:function(e){n(e+" is invalid")},reservedUnbind:function(e){n(e+" is invalid")}},rh={regName:/^((?!^distinct_id$|^original_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$|^user_tag.*|^user_group.*)[a-zA-Z_$][a-zA-Z\d_$]*)$/i,loginIDReservedNames:["$identity_anonymous_id","$identity_cookie_id"],bindReservedNames:["$identity_login_id","$identity_anonymous_id","$identity_cookie_id"],unbindReservedNames:["$identity_anonymous_id",Bs.LOGIN],string:function(e){return!!D(e)},emptyString:function(e){return!(!D(e)||f(e).length===0)},regexTest:function(e){return!(!D(e)||!this.regName.test(e))},idLength:function(e){return!(!D(e)||e.length>Yt.max_id_length)},keyLength:function(e){return!(!D(e)||e.length>Yt.max_key_length)},stringLength:function(e){return!(!D(e)||e.length>Yt.max_string_length)},voidZero:function(e){return e!==void 0},reservedLoginId:function(e){return!(We(this.loginIDReservedNames,e)>-1)},reservedUnbind:function(e){return!(We(this.unbindReservedNames,e)>-1)},reservedBind:function(e){var a=mt._state.history_login_id;return!(a&&a.name&&a.name===e||We(this.bindReservedNames,e)>-1)}},$y={distinct_id:{rules:["string","emptyString","idLength"],onComplete:function(e,a,h){return!e&&(h==="emptyString"&&(a="Id"),s(Qi[h])&&Qi[h](a),h==="idLength")||e}},event:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(e,a,h){return e||(h==="emptyString"&&(a="eventName"),s(Qi[h])&&Qi[h](a)),!0}},propertyKey:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(e,a,h){return e||(h==="emptyString"&&(a="Property key"),s(Qi[h])&&Qi[h](a)),!0}},propertyValue:{rules:["voidZero"],onComplete:function(e,a,h){return e||(a="Property Value",s(Qi[h])&&Qi[h](a)),!0}},properties:function(e){return A(e)?K(e,function(a,h){$t({propertyKey:h});var L=function(H,se,be){return H||(se=h+"'s Value",s(Qi[be])&&Qi[be](se)),!0};$t({propertyValue:a},L)}):rh.voidZero(e)&&n("properties\u53EF\u4EE5\u6CA1\u6709\uFF0C\u4F46\u6709\u7684\u8BDD\u5FC5\u987B\u662F\u5BF9\u8C61"),!0},propertiesMust:function(e){return e!==void 0&&A(e)&&!ht(e)?this.properties.call(this,e):n("properties\u5FC5\u987B\u662F\u5BF9\u8C61"),!0},item_type:{rules:["string","emptyString","keyLength","regexTest"],onComplete:function(e,a,h){return e||(h==="emptyString"&&(a="item_type"),s(Qi[h])&&Qi[h](a)),!0}},item_id:{rules:["string","emptyString","stringLength"],onComplete:function(e,a,h){return e||(h==="emptyString"&&(a="item_id"),s(Qi[h])&&Qi[h](a)),!0}},loginIdKey:{rules:["string","emptyString","keyLength","regexTest","reservedLoginId"],onComplete:function(e,a,h){return!e&&(h==="emptyString"&&(a="login_id_key"),s(Qi[h])&&Qi[h](a),h==="keyLength")||e}},bindKey:{rules:["string","emptyString","keyLength","regexTest","reservedBind"],onComplete:function(e,a,h){return!e&&(h==="emptyString"&&(a="Key"),s(Qi[h])&&Qi[h](a),h==="keyLength")||e}},unbindKey:{rules:["string","emptyString","keyLength","regexTest","reservedUnbind"],onComplete:function(e,a,h){return!e&&(h==="emptyString"&&(a="Key"),s(Qi[h])&&Qi[h](a),h==="keyLength")||e}},bindValue:{rules:["string","emptyString","idLength"],onComplete:function(e,a,h){return!e&&(h==="emptyString"&&(a="Value"),s(Qi[h])&&Qi[h](a),h==="idLength")||e}},check:function(e,a,h){var L=this[e];if(s(L))return L.call(this,a);if(!L)return!1;for(var H=0;H<L.rules.length;H++){var se=L.rules[H],be=rh[se](a),Me=s(h)?h(be,a,se):L.onComplete(be,a,se);if(!be)return Me}return!0}},Ai={};Ai.initUrl=function(){var e,a={server_url:{project:"",host:""},page_url:{host:"",pathname:""}};if(!qt(Ce.para.server_url))return v("----vcollect---server_url\u5FC5\u987B\u4E3A\u6709\u6548 URL \u5B57\u7B26\u4E32"),!1;try{e=Q(Ce.para.server_url),a.server_url.project=e.searchParams.get("project")||"default",a.server_url.host=e.host}catch(L){return v("----vcollect---server_url\u89E3\u6790\u5F02\u5E38",L),!1}var h;try{h=Q(location.href),a.page_url.host=h.hostname,a.page_url.pathname=h.pathname}catch(L){return v("----vcollect---\u9875\u9762\u5730\u5740\u89E3\u6790\u5F02\u5E38",L),!1}return a},Ai.isDiv=function(e){if(e.element_path){var a=e.element_path.split(">"),h=f(a.pop());if(h.slice(0,3)!=="div")return!1}return!0},Ai.configIsMatchNew=function(e,a){if(D(e.$element_selector)&&D(a.element_selector)){if(a.element_field==="element_selector"&&a.function==="equal")return e.$element_selector===a.element_selector;if(a.element_field==="element_selector"&&a.function==="contain")return e.$element_selector.indexOf(a.element_selector)>-1}if(D(e.$element_path)&&D(a.element_path)){if(a.element_field==="element_path"&&a.function==="equal")return e.$element_path===a.element_path;if(a.element_field==="element_path"&&a.function==="contain")return e.$element_path.indexOf(a.element_path)>-1}return!1},Ai.configIsMatch=function(e,a){return(!a.limit_element_content||a.element_content===e.$element_content)&&(!a.limit_element_position||a.element_position===String(e.$element_position))&&(a.element_field&&a.function?Ai.configIsMatchNew(e,a):Ai.configIsMatchOldVersion(e,a))},Ai.configIsMatchOldVersion=function(e,a){if(!a.element_path)return!1;if(e.$element_position!==void 0){if(a.element_path!==e.$element_path)return!1}else if(Ai.isDiv({element_path:a.element_path})){if(e.$element_path.indexOf(a.element_path)<0)return!1}else if(a.element_path!==e.$element_path)return!1;return!0},Ai.filterConfig=function(e,a,h){var L=[];if(!h){var H=Ai.initUrl();if(!H)return[];h=H.page_url}return e.event==="$WebClick"&&K(a,function(se){A(se)&&(se.event_type==="webclick"||se.event_type==="appclick")&&A(se.event)&&se.event.url_host===h.host&&se.event.url_path===h.pathname&&Ai.configIsMatch(e.properties,se.event)&&L.push(se)}),L},Ai.getPropElInLi=function(e,a){if(!(e&&g(e)&&D(a))||e.tagName.toLowerCase()!=="li")return null;var h,L=Ce.heatmap.getDomSelector(e);if(L){h=L+a;var H=Ee(h);return H||null}return n("----custom---\u83B7\u53D6\u540C\u7EA7\u5C5E\u6027\u5143\u7D20\u5931\u8D25\uFF0Cselector\u4FE1\u606F\u5F02\u5E38",L,a),null},Ai.getProp=function(e,a){if(!A(e))return!1;if(!(D(e.name)&&e.name.length>0))return n("----vcustom----\u5C5E\u6027\u540D\u4E0D\u5408\u6CD5,\u5C5E\u6027\u629B\u5F03",e.name),!1;var h,L,H={};if(e.method==="content"){var se;if(D(e.element_selector)&&e.element_selector.length>0)se=Ee(e.element_selector);else{if(!a||!D(e.list_selector))return n("----vcustom----\u5C5E\u6027\u914D\u7F6E\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",e.name),!1;var be=Ee(a.properties.$element_selector);if(!be)return n("----vcustom----\u70B9\u51FB\u5143\u7D20\u83B7\u53D6\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",e.name),!1;var Me=Ce.heatmap.getClosestLi(be);se=Ai.getPropElInLi(Me,e.list_selector)}if(!se||!g(se))return n("----vcustom----\u5C5E\u6027\u5143\u7D20\u83B7\u53D6\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",e.name),!1;if(se.tagName.toLowerCase()==="input")h=se.value||"";else if(se.tagName.toLowerCase()==="select"){var st=se.selectedIndex;gn(st)&&g(se[st])&&(h=ut(se[st],"select"))}else h=ut(se,se.tagName.toLowerCase());if(e.regular){try{L=new RegExp(e.regular).exec(h)}catch(It){return n("----vcustom----\u6B63\u5219\u5904\u7406\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",e.name),!1}if(L===null)return n("----vcustom----\u5C5E\u6027\u89C4\u5219\u5904\u7406\uFF0C\u672A\u5339\u914D\u5230\u7ED3\u679C,\u5C5E\u6027\u629B\u5F03",e.name),!1;if(!M(L)||!D(L[0]))return n("----vcustom----\u6B63\u5219\u5904\u7406\u5F02\u5E38\uFF0C\u5C5E\u6027\u629B\u5F03",e.name,L),!1;h=L[0]}if(e.type==="STRING")H[e.name]=h;else if(e.type==="NUMBER"){if(h.length<1)return n("----vcustom----\u672A\u83B7\u53D6\u5230\u6570\u5B57\u5185\u5BB9\uFF0C\u5C5E\u6027\u629B\u5F03",e.name,h),!1;if(isNaN(Number(h)))return n("----vcustom----\u6570\u5B57\u7C7B\u578B\u5C5E\u6027\u8F6C\u6362\u5931\u8D25\uFF0C\u5C5E\u6027\u629B\u5F03",e.name,h),!1;H[e.name]=Number(h)}return H}return v("----vcustom----\u5C5E\u6027\u4E0D\u652F\u6301\u6B64\u83B7\u53D6\u65B9\u5F0F",e.name,e.method),!1},Ai.getAssignConfigs=function(e,a){var h=Ai.initUrl();if(!h||!h.page_url)return[];if(!A(a))return[];var L=[];return a.events=a.events||a.eventList,M(a.events)&&a.events.length>0?(K(a.events,function(H){A(H)&&A(H.event)&&H.event.url_host===h.page_url.host&&H.event.url_path===h.page_url.pathname&&e(H)&&L.push(H)}),L):[]};var jy={events:[],getAssignConfigs:Ai.getAssignConfigs,filterConfig:Ai.filterConfig,getProp:Ai.getProp,initUrl:Ai.initUrl,updateEvents:function(e){M(e)&&(this.events=e)},init:function(){this.initAppGetPropsBridge()},geth5Props:function(e){var a={},h=[],L=this;if(!this.events.length)return{};if(e.event==="$WebClick"){var H=this.filterConfig(e,this.events);if(!H.length)return{};K(H,function(se){A(se)&&(M(se.properties)&&se.properties.length>0&&K(se.properties,function(be){if(A(be))if(be.h5===!1)M(a.sensorsdata_app_visual_properties)||(a.sensorsdata_app_visual_properties=[]),a.sensorsdata_app_visual_properties.push(be);else{var Me=L.getProp(be,e);A(Me)&&(a=p(a,Me))}}),D(se.event_name)&&h.push(se.event_name))}),Ce.bridge.hasVisualModeBridge()&&(a.sensorsdata_web_visual_eventName=h)}return a.sensorsdata_app_visual_properties&&(a.sensorsdata_app_visual_properties=R(JSON.stringify(a.sensorsdata_app_visual_properties))),a},initAppGetPropsBridge:function(){var e=this,a=new Ce.SDKJSBridge("getJSVisualProperties");return a.onAppNotify(function(h){var L={};try{h=JSON.parse(B(h))}catch(Me){v("getJSVisualProperties data parse error!")}if(A(h)){var H=h.sensorsdata_js_visual_properties,se=e.initUrl();se&&(se=se.page_url,M(H)&&H.length>0&&K(H,function(Me){if(A(Me)&&Me.url_host===se.host&&Me.url_path===se.pathname&&Me.h5){var st=e.getProp(Me);A(st)&&(L=p(L,st))}}))}var be=Ce.bridge.bridge_info.platform;return be==="android"&&a.notifyApp({data:L},h.message_id),L}),a}},Pu={events:[],customProp:jy,getAssignConfigs:Ai.getAssignConfigs,initUrl:Ai.initUrl,init:function(){if(this.initUrl()){var e=this.getConfigFromApp();e&&this.updateConfigs(e),this.customProp.init(),this.initAppUpdateConfigBridge()}},initAppUpdateConfigBridge:function(){var e=this;return new Ce.SDKJSBridge("updateH5VisualConfig").onAppNotify(function(a){if(a){try{a=JSON.parse(B(a))}catch(h){return void v("updateH5VisualConfig result parse error\uFF01")}e.updateConfigs(a)}})},getConfigFromApp:function(){var e=new Ce.SDKJSBridge("sensorsdata_get_app_visual_config").notifyApp();if(e)try{e=JSON.parse(B(e))}catch(a){e=null,v("getAppVisualConfig result parse error\uFF01")}return e},updateConfigs:function(e){this.events=this.filterConfigs(e),this.customProp.updateEvents(this.events)},filterConfigs:function(e){return this.getAssignConfigs(function(a){return!(!A(a)||a.h5===!1)},e)}},bl={events:[],init:function(e){this.filterWebClickEvents(e)},filterWebClickEvents:function(e){this.events=Pa.getAssignConfigs(function(a){return!(!A(a)||a.event.unlimited_div!==!0||a.event_type!=="webclick")},e)},isTargetEle:function(e){var a=Ce.heatmap.getEleDetail(e);if(!A(a)||!D(a.$element_path))return!1;for(var h=0;h<this.events.length;h++)if(A(this.events[h])&&A(this.events[h].event)&&Pa.configIsMatch(a,this.events[h].event))return!0;return!1}},ah={events:[],configSwitch:!1,collectAble:function(){return this.configSwitch&&A(Ce.para.heatmap)&&Ce.para.heatmap.get_vtrack_config},updateEvents:function(e){this.events=Pa.getAssignConfigs(function(a){return!!(A(a)&&M(a.properties)&&a.properties.length>0)},e),this.events.length?this.configSwitch=!0:this.configSwitch=!1},getVtrackProps:function(e){var a={};return this.collectAble()?(e.event==="$WebClick"&&(a=this.clickCustomPropMaker(e,this.events)),a):{}},clickCustomPropMaker:function(e,a,h){var L=this;h=h||this.filterConfig(e,a,Pa.url_info.page_url);var H={};return h.length?(K(h,function(se){M(se.properties)&&se.properties.length>0&&K(se.properties,function(be){var Me=L.getProp(be,e);A(Me)&&p(H,Me)})}),H):{}},getProp:Ai.getProp,getPropElInLi:Ai.getPropElInLi,filterConfig:Ai.filterConfig},Pa={unlimitedDiv:bl,config:{},storageEnable:!0,storage_name:"webjssdkvtrackcollect",para:{session_time:18e5,timeout:5e3,update_interval:18e5},url_info:{},timer:null,update_time:null,customProp:ah,initUrl:function(){var e=Ai.initUrl();if(e){var a;try{a=new y(Ce.para.server_url),a._values.Path="/config/visualized/Web.conf",e.api_url=a.getUrl()}catch(h){return v("----vtrackcollect---API\u5730\u5740\u89E3\u6790\u5F02\u5E38",h),!1}this.url_info=e}return e},init:function(){if(!A(Ce.para.heatmap)||!Ce.para.heatmap.get_vtrack_config)return!1;if(ii.isSupport()||(this.storageEnable=!1),!this.initUrl())return v("----vtrackcustom----\u521D\u59CB\u5316\u5931\u8D25\uFF0Curl\u4FE1\u606F\u89E3\u6790\u5931\u8D25"),!1;if(this.storageEnable){var e=mt.readObjectVal(this.storage_name);if(A(e)&&A(e.data))if(this.serverUrlIsSame(e.serverUrl)){this.config=e.data,this.update_time=e.updateTime,this.updateConfig(e.data);var a=new Date().getTime(),h=a-this.update_time;if(gn(h)&&h>0&&h<this.para.session_time){var L=this.para.update_interval-h;this.setNextFetch(L)}else this.getConfigFromServer()}else this.getConfigFromServer();else this.getConfigFromServer()}else this.getConfigFromServer();this.pageStateListenner()},serverUrlIsSame:function(e){return!!A(e)&&e.host===this.url_info.server_url.host&&e.project===this.url_info.server_url.project},getConfigFromServer:function(){var e=this,a=function(L,H){e.update_time=new Date().getTime();var se={};L===200?H&&A(H)&&H.os==="Web"&&(se=H,e.updateConfig(se)):L===205?e.updateConfig(se):L===304?se=e.config:(v("----vtrackcustom----\u6570\u636E\u5F02\u5E38",L),e.updateConfig(se)),e.updateStorage(se),e.setNextFetch()},h=function(L){e.update_time=new Date().getTime(),v("----vtrackcustom----\u914D\u7F6E\u62C9\u53D6\u5931\u8D25",L),e.setNextFetch()};this.sendRequest(a,h)},setNextFetch:function(e){var a=this;this.timer&&(clearTimeout(this.timer),this.timer=null),e=e||this.para.update_interval,this.timer=setTimeout(function(){a.getConfigFromServer()},e)},pageStateListenner:function(){var e=this;pi({visible:function(){var a=new Date().getTime(),h=a-e.update_time;if(gn(h)&&h>0&&h<e.para.update_interval){var L=e.para.update_interval-h;e.setNextFetch(L)}else e.getConfigFromServer()},hidden:function(){e.timer&&(clearTimeout(e.timer),e.timer=null)}})},updateConfig:function(e){return!!A(e)&&(this.config=e,this.customProp.updateEvents(e),void this.unlimitedDiv.init(e))},updateStorage:function(e){if(!this.storageEnable||!A(e))return!1;var a;if(this.url_info.server_url)a=this.url_info.server_url;else{var h=Pa.initUrl();if(!h)return!1;a=h.server_url}var L={updateTime:new Date().getTime(),data:e,serverUrl:a};mt.saveObjectVal(this.storage_name,L)},sendRequest:function(e,a){var h=this,L={app_id:this.url_info.page_url.host};this.config.version&&(L.v=this.config.version),Nn({url:h.url_info.api_url,callbackName:"saJSSDKVtrackCollectConfig",data:L,timeout:h.para.timeout,success:function(H,se){e(H,se)},error:function(H){a(H)}})},getAssignConfigs:Ai.getAssignConfigs,configIsMatch:Ai.configIsMatch},Wy={basicProps:{priority:0,entry:vn},formatData:{priority:0,entry:Mt},finalAdjustData:{priority:0,entry:Dt}},Ru={stage:null,init:function(e){this.stage=e},interceptor:Wy},dr={};dr.check=$t,dr.sendItem=function(e){var a={lib:{$lib:"js",$lib_method:"code",$lib_version:String(Ce.lib_version)},time:1*new Date};p(a,e),tn(a),Ce.kit.sendData(a)},dr.send=function(e,a){var h=Ce.kit.buildData(e);Ce.kit.sendData(h,a)};var Nu={stage:null,init:function(e){this.stage=e}},Hu={label:!1,li:!1,a:!0,button:!0},qr={otherTags:[],initUnlimitedTags:function(){K(qr.otherTags,function(e){e in Hu&&(Hu[e]=!0)})},isUnlimitedTag:function(e){if(!e||e.nodeType!==1)return!1;var a=e.nodeName.toLowerCase();return Hu[a]||Ye(e,Ce.para.heatmap.track_attr)},getTargetElement:function(e,a){var h=this,L=e;if(typeof L!="object"||typeof L.tagName!="string")return null;var H=L.tagName.toLowerCase();if(H.toLowerCase()==="body"||H.toLowerCase()==="html"||!L||!L.parentNode||!L.parentNode.children)return null;var se=L.parentNode,be=h.otherTags;if(H==="a"||H==="button"||H==="input"||H==="textarea"||We(be,H)>-1)return L;if(H==="area"&&se.tagName.toLowerCase()==="map"&&z(se).prev().tagName&&z(se).prev().tagName.toLowerCase()==="img")return z(se).prev();if(H==="div"&&Ce.para.heatmap.collect_tags.div&&h.isDivLevelValid(L)){var Me=Ce.para.heatmap&&Ce.para.heatmap.collect_tags&&Ce.para.heatmap.collect_tags.div&&Ce.para.heatmap.collect_tags.div.max_level||1;if(Me>1||h.isCollectableDiv(L))return L}if(h.isStyleTag(H)&&Ce.para.heatmap.collect_tags.div){var st=h.getCollectableParent(L);if(st&&h.isDivLevelValid(st))return st}var It=h.hasElement({event:a&&a.originalEvent||a,element:e},function(Pt){return h.isUnlimitedTag(Pt)});return It||null},getDivLevels:function(e,a){var h=qr.getElementPath(e,!0,a),L=h.split(" > "),H=0;return K(L,function(se){se==="div"&&H++}),H},isDivLevelValid:function(e){for(var a=Ce.para.heatmap&&Ce.para.heatmap.collect_tags&&Ce.para.heatmap.collect_tags.div&&Ce.para.heatmap.collect_tags.div.max_level||1,h=e.getElementsByTagName("div"),L=h.length-1;L>=0;L--)if(qr.getDivLevels(h[L],e)>a)return!1;return!0},getElementPath:function(e,a,h){for(var L=[];e.parentNode&&g(e);){if(!D(e.tagName))return"unknown";if(e.id&&!a&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.id)){L.unshift(e.tagName.toLowerCase()+"#"+e.id);break}if(h&&e===h){L.unshift(e.tagName.toLowerCase());break}if(e===document.body){L.unshift("body");break}L.unshift(e.tagName.toLowerCase()),e=e.parentNode}return L.join(" > ")},getClosestLi:function(e){var a=function(h,L){for(;h&&h!==document&&h.nodeType===1;h=h.parentNode)if(h.tagName&&D(h.tagName)&&h.tagName.toLowerCase()===L)return h;return null};return a(e,"li")},getElementPosition:function(e,a,h){function L(Qn){var Rn=Qn.parentNode;if(!Rn)return"";var Li=z(Qn).getSameTypeSiblings(),ar=Li.length;if(ar===1)return 0;for(var zi=0,ba=Qn;z(ba).previousElementSibling().ele;ba=z(ba).previousElementSibling().ele,zi++);return zi}var H=Ce.heatmap.getClosestLi(e);if(!H||!g(e)||!D(e.tagName))return null;var se=e.tagName.toLowerCase(),be=H.getElementsByTagName(se),Me=be.length,st=[];if(Me>1){for(var It=0;It<Me;It++){var Pt=Ce.heatmap.getElementPath(be[It],h);Pt===a&&st.push(be[It])}if(st.length>1)return We(st,e)}return L(H)},setNotice:function(e){Ce.is_heatmap_render_mode=!0,Ce.para.heatmap||(Ce.errorMsg="\u60A8SDK\u6CA1\u6709\u914D\u7F6E\u5F00\u542F\u70B9\u51FB\u56FE\uFF0C\u53EF\u80FD\u6CA1\u6709\u6570\u636E\uFF01"),e&&e.slice(0,5)==="http:"&&location.protocol==="https:"&&(Ce.errorMsg="\u60A8\u7684\u5F53\u524D\u9875\u9762\u662Fhttps\u7684\u5730\u5740\uFF0C\u795E\u7B56\u5206\u6790\u73AF\u5883\u4E5F\u5FC5\u987B\u662Fhttps\uFF01"),Ce.para.heatmap_url||(Ce.para.heatmap_url=Pr()+"//static.sensorsdata.cn/sdk/"+Ce.lib_version+"/heatmap.min.js")},getDomIndex:function(e){if(!e.parentNode)return-1;for(var a=0,h=e.tagName,L=e.parentNode.children,H=0;H<L.length;H++)if(L[H].tagName===h){if(e===L[H])return a;a++}return-1},selector:function(e,a){if(!e||!g(e)||!D(e.tagName))return"";var h=e.parentNode&&e.parentNode.nodeType==9?-1:this.getDomIndex(e);return e.getAttribute&&e.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.getAttribute("id"))&&(!Ce.para.heatmap||Ce.para.heatmap&&Ce.para.heatmap.element_selector!=="not_use_id")&&!a?"#"+e.getAttribute("id"):e.tagName.toLowerCase()+(~h?":nth-of-type("+(h+1)+")":"")},getDomSelector:function(e,a,h){if(!(e&&e.parentNode&&e.parentNode.children&&D(e.tagName)))return"unknown";a=a&&a.join?a:[];var L=e.nodeName.toLowerCase();return e&&L!=="body"&&e.nodeType==1?(a.unshift(this.selector(e,h)),e.getAttribute&&e.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.getAttribute("id"))&&Ce.para.heatmap&&Ce.para.heatmap.element_selector!=="not_use_id"&&!h?a.join(" > "):this.getDomSelector(e.parentNode,a,h)):(a.unshift("body"),a.join(" > "))},na:function(){var e=document.documentElement.scrollLeft||window.pageXOffset;return parseInt(isNaN(e)?0:e,10)},i:function(){var e=0;try{e=o.documentElement&&o.documentElement.scrollTop||m.pageYOffset,e=isNaN(e)?0:e}catch(a){e=0}return parseInt(e,10)},getBrowserWidth:function(){var e=window.innerWidth||document.body.clientWidth;return isNaN(e)?0:parseInt(e,10)},getBrowserHeight:function(){var e=window.innerHeight||document.body.clientHeight;return isNaN(e)?0:parseInt(e,10)},getScrollWidth:function(){var e=parseInt(document.body.scrollWidth,10);return isNaN(e)?0:e},getEleDetail:function(e){var a=this.getDomSelector(e),h=et({target:e});h.$element_selector=a||"",h.$element_path=Ce.heatmap.getElementPath(e,Ce.para.heatmap&&Ce.para.heatmap.element_selector==="not_use_id");var L=Ce.heatmap.getElementPosition(e,h.$element_path,Ce.para.heatmap&&Ce.para.heatmap.element_selector==="not_use_id");return gn(L)&&(h.$element_position=L),h},getPointerEventProp:function(e,a){function h(){var be=document.body.scrollLeft||document.documentElement.scrollLeft||0,Me=document.body.scrollTop||document.documentElement.scrollTop||0;return{scrollLeft:be,scrollTop:Me}}function L(be){if(document.documentElement.getBoundingClientRect){var Me=be.getBoundingClientRect();return{targetEleX:Me.left+h().scrollLeft||0,targetEleY:Me.top+h().scrollTop||0}}}function H(be){return Number(Number(be).toFixed(3))}function se(be){var Me=be.pageX||be.clientX+h().scrollLeft||be.offsetX+L(a).targetEleX||0,st=be.pageY||be.clientY+h().scrollTop||be.offsetY+L(a).targetEleY||0;return{$page_x:H(Me),$page_y:H(st)}}return e?se(e):{}},start:function(e,a,h,L,H){if(A(Ce.para.heatmap)&&s(Ce.para.heatmap.collect_element)&&!Ce.para.heatmap.collect_element(a))return!1;var se=qr.getBasicEleInfo(e,a,h,L,H);Et(se)},getBasicEleInfo:function(e,a,h,L,H){var se=A(L)?L:{},be=s(H)?H:s(L)?L:void 0,Me=this.getEleDetail(a);if(Ce.para.heatmap&&Ce.para.heatmap.custom_property){var st=Ce.para.heatmap.custom_property(a);A(st)&&(Me=p(Me,st))}return Me=p(Me,this.getPointerEventProp(e,a),se),{event:e,target:a,props:Me,tagName:h,callback:be}},hasElement:function(e,a){var h;if(e.event){var L=e.event;h=L.path||L._getPath&&L._getPath()}else e.element&&(h=z(e.element).getParents());if(h&&M(h)&&h.length>0){for(var H=0;H<h.length;H++)if(typeof h[H]=="object"&&h[H].nodeType===1&&a(h[H]))return h[H]}},isStyleTag:function(e,a){var h=["a","div","input","button","textarea"],L=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];return!(We(h,e)>-1)&&(!a||Ce.para.heatmap&&Ce.para.heatmap.collect_tags&&Ce.para.heatmap.collect_tags.div?!!(A(Ce.para.heatmap)&&A(Ce.para.heatmap.collect_tags)&&A(Ce.para.heatmap.collect_tags.div)&&M(Ce.para.heatmap.collect_tags.div.ignore_tags)&&We(Ce.para.heatmap.collect_tags.div.ignore_tags,e)>-1):We(L,e)>-1)},isCollectableDiv:function(e,a){try{if(e.children.length===0)return!0;for(var h=0;h<e.children.length;h++)if(e.children[h].nodeType===1){var L=D(e.children[h].tagName)?e.children[h].tagName.toLowerCase():"unknown",H=Ce.para&&Ce.para.heatmap&&Ce.para.heatmap.collect_tags&&Ce.para.heatmap.collect_tags.div&&Ce.para.heatmap.collect_tags.div.max_level;if(!(L==="div"&&H>1||this.isStyleTag(L,a))||!this.isCollectableDiv(e.children[h],a))return!1}return!0}catch(se){v("isCollectableDiv:"+se)}return!1},getCollectableParent:function(e,a){try{var h=e.parentNode,L=h?h.tagName.toLowerCase():"";if(L==="body")return!1;var H=Ce.para&&Ce.para.heatmap&&Ce.para.heatmap.collect_tags&&Ce.para.heatmap.collect_tags.div&&Ce.para.heatmap.collect_tags.div.max_level;if(L&&L==="div"&&(H>1||this.isCollectableDiv(h,a)))return h;if(h&&this.isStyleTag(L,a))return this.getCollectableParent(h,a)}catch(se){v("getCollectableParent:"+se)}return!1},listenUrlChange:function(e){e(),Ce.ee.spa.on("switch",function(){e()})},initScrollmap:function(){if(!A(Ce.para.heatmap)||Ce.para.heatmap.scroll_notice_map!=="default")return!1;var e=!0;Ce.para.scrollmap&&s(Ce.para.scrollmap.collect_url)&&this.listenUrlChange(function(){e=!!Ce.para.scrollmap.collect_url()});var a=function(L){var H={};return H.timeout=L.timeout||1e3,H.func=L.func,H.hasInit=!1,H.inter=null,H.main=function(se,be){this.func(se,be),this.inter=null},H.go=function(se){var be={};this.inter||(be.$viewport_position=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,be.$viewport_position=Math.round(be.$viewport_position)||0,se?H.main(be,!0):this.inter=setTimeout(function(){H.main(be)},this.timeout))},H},h=a({timeout:1e3,func:function(L,H){var se=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,be=new Date,Me=be-this.current_time;(Me>Ce.para.heatmap.scroll_delay_time&&se-L.$viewport_position!==0||H)&&(L.$url=Te(),L.$title=document.title,L.$url_path=Re(),L.event_duration=Math.min(Ce.para.heatmap.scroll_event_duration,parseInt(Me)/1e3),L.event_duration=L.event_duration<0?0:L.event_duration,Er(L)),this.current_time=be}});h.current_time=new Date,fe(window,"scroll",function(){return!!e&&void h.go()}),fe(window,"beforeunload",function(){return!!e&&void h.go("notime")})},initHeatmap:function(){var e=this,a=!0;return!(!A(Ce.para.heatmap)||Ce.para.heatmap.clickmap!=="default")&&(s(Ce.para.heatmap.collect_url)&&this.listenUrlChange(function(){a=!!Ce.para.heatmap.collect_url()}),Ce.para.heatmap.collect_elements==="all"?Ce.para.heatmap.collect_elements="all":Ce.para.heatmap.collect_elements="interact",void(Ce.para.heatmap.collect_elements==="all"?fe(document,"click",function(h){if(!a)return!1;var L=h||window.event;if(!L)return!1;var H=L.target||L.srcElement;if(typeof H!="object"||typeof H.tagName!="string")return!1;var se=H.tagName.toLowerCase();if(se==="body"||se==="html"||!H||!H.parentNode||!H.parentNode.children)return!1;var be=D(H.parentNode.tagName)?H.parentNode.tagName.toLowerCase():"unknown";be==="a"||be==="button"?e.start(L,H.parentNode,be):e.start(L,H,se)}):fe(document,"click",function(h){if(!a)return!1;var L=h||window.event;if(!L)return!1;var H=L.target||L.srcElement,se=Ce.heatmap.getTargetElement(H,h);return!(!g(se)&&!D(H.tagName))&&void(g(se)&&D(se.tagName)?e.start(L,se,se.tagName.toLowerCase()):g(H)&&H.tagName.toLowerCase()==="div"&&A(Ce.para.heatmap)&&Ce.para.heatmap.get_vtrack_config&&bl.events.length>0&&bl.isTargetEle(H)&&e.start(L,H,H.tagName.toLowerCase(),{$lib_method:"vtrack"}))})))}},_l={autoTrackIsUsed:!1,isReady:function(e){return s(e)?void e():void Ce.log("error: isReady callback must be function")},getUtm:function(){return gi.campaignParams()},getStayTime:function(){return(new Date-Ce._t)/1e3},setProfileLocal:function(e){if(!ii.isSupport())return Ce.setProfile(e),!1;if(!A(e)||ht(e))return!1;var a=mt.readObjectVal("sensorsdata_2015_jssdk_profile"),h=!1;if(A(a)&&!ht(a)){for(var L in e)!(L in a&&a[L]!==e[L])&&L in a||(a[L]=e[L],h=!0);h&&(mt.saveObjectVal("sensorsdata_2015_jssdk_profile",a),Ce.setProfile(e))}else mt.saveObjectVal("sensorsdata_2015_jssdk_profile",e),Ce.setProfile(e)},setInitReferrer:function(){var e=ze();Ce.setOnceProfile({_init_referrer:e,_init_referrer_host:gi.pageProp.referrer_host})},setSessionReferrer:function(){var e=ze();mt.setSessionPropsOnce({_session_referrer:e,_session_referrer_host:gi.pageProp.referrer_host})},setDefaultAttr:function(){gi.register({_current_url:location.href,_referrer:ze(),_referring_host:gi.pageProp.referrer_host})},trackHeatMap:function(e,a,h){if(typeof e=="object"&&e.tagName&&g(e.parentNode)){var L=e.tagName.toLowerCase(),H=e.parentNode.tagName.toLowerCase(),se=Ce.para.heatmap&&Ce.para.heatmap.track_attr?Ce.para.heatmap.track_attr:["data-sensors-click"];L==="button"||L==="a"||H==="a"||H==="button"||L==="input"||L==="textarea"||Ye(e,se)||qr.start(null,e,L,a,h)}},trackAllHeatMap:function(e,a,h){if(typeof e=="object"&&e.tagName){var L=e.tagName.toLowerCase();qr.start(null,e,L,a,h)}},autoTrackSinglePage:function(e,a){function h(se,be){Ce.track("$pageview",p({$referrer:L,$url:Te(),$url_path:Re(),$title:document.title},se,Ir()),be),L=Te()}var L;L=this.autoTrackIsUsed?gi.pageProp.url:gi.pageProp.referrer,e=A(e)?e:{};var H=!e.not_set_profile;e.not_set_profile&&delete e.not_set_profile,h(e,a),this.autoTrackSinglePage=h,ta(Ce.setOnceProfile,!1,H)},autoTrackWithoutProfile:function(e,a){e=A(e)?e:{},this.autoTrack(p(e,{not_set_profile:!0}),a)},autoTrack:function(e,a){e=A(e)?e:{};var h=Ir(),L=!e.not_set_profile;e.not_set_profile&&delete e.not_set_profile;var H=location.href;Ce.para.is_single_page&&Y(function(){var se=ze(H,!0);Ce.track("$pageview",p({$referrer:se,$url:Te(),$url_path:Re(),$title:document.title},h,e),a),H=Te()}),Ce.track("$pageview",p({$referrer:ze(null,!0),$url:Te(),$url_path:Re(),$title:document.title},h,e),a),ta(Ce.setOnceProfile,!0,L),this.autoTrackIsUsed=!0},getAnonymousID:function(){return ht(mt._state)?"SDK is not initialized.":mt.getAnonymousId()},setPlugin:function(e){return!!A(e)&&void K(e,function(a,h){s(a)&&(A(window.SensorsDataWebJSSDKPlugin)&&window.SensorsDataWebJSSDKPlugin[h]||A(Ce.modules)&&Ce.modules[h]?a(window.SensorsDataWebJSSDKPlugin[h]):n(h+"is not found,please check sensorsdata documents."))})},useModulePlugin:function(){Ce.use.apply(Ce,arguments)},useAppPlugin:function(){this.setPlugin.apply(this,arguments)}},zy={state:0,historyState:[],stateType:{1:"1-init\u672A\u5F00\u59CB",2:"2-init\u5F00\u59CB",3:"3-store\u5B8C\u6210"},getState:function(){return this.historyState.join(`
`)},setState:function(e){String(e)in this.stateType&&(this.state=e),this.historyState.push(this.stateType[e])}},qy=1,Yy={__proto__:null,setInitVar:ct,initPara:Pn,quick:jt,use:St,track:Gn,bind:Hn,unbind:fi,trackLink:mn,trackLinks:ti,setItem:Hi,deleteItem:ni,setProfile:sr,setOnceProfile:Zi,appendProfile:hi,incrementProfile:Jn,deleteProfile:Xn,unsetProfile:mi,identify:lr,resetAnonymousIdentity:qi,trackSignup:at,registerPage:Ft,clearAllRegister:it,clearPageRegister:wt,register:Un,registerOnce:Bn,registerSession:On,registerSessionOnce:Qt,login:jn,loginWithKey:wr,logout:ur,getPresetProperties:cn,readyState:zy,debug:Qa,on:Ut,log:F};tr.setup(F);var oh=p({},Oy,Uy),Vy={bridge_info:{touch_app_bridge:!1,verify_success:!1,platform:"",support_two_way_call:!1},is_verify_success:!1,initPara:function(){var e={is_send:Ce.para.use_app_track_is_send!==!1&&Ce.para.use_app_track!=="only",white_list:[],is_mui:Ce.para.use_app_track==="mui"};typeof Ce.para.app_js_bridge=="object"?Ce.para.app_js_bridge=p({},e,Ce.para.app_js_bridge):Ce.para.use_app_track!==!0&&Ce.para.app_js_bridge!==!0&&Ce.para.use_app_track!=="only"&&Ce.para.use_app_track!=="mui"||(Ce.para.app_js_bridge=p({},e)),Ce.para.app_js_bridge.is_send===!1&&n("\u8BBE\u7F6E\u4E86 is_send:false,\u5982\u679C\u6253\u901A\u5931\u8D25\uFF0C\u6570\u636E\u5C06\u88AB\u4E22\u5F03!")},app_js_bridge_v1:function(){function e(se){L=se,sn(L)&&(L=JSON.parse(L)),H&&(H(L),H=null,L=null)}function a(){typeof window.SensorsData_APP_JS_Bridge=="object"&&window.SensorsData_APP_JS_Bridge.sensorsdata_call_app&&(L=window.SensorsData_APP_JS_Bridge.sensorsdata_call_app(),sn(L)&&(L=JSON.parse(L)))}function h(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var se=document.createElement("iframe");se.setAttribute("src","sensorsanalytics://getAppInfo"),document.documentElement.appendChild(se),se.parentNode.removeChild(se),se=null}}var L=null,H=null;window.sensorsdata_app_js_bridge_call_js=function(se){e(se)},Ce.getAppStatus=function(se){return h(),a(),se?void(L===null?H=se:(se(L),L=null)):L}},hasVisualModeBridge:function(){var e=window.SensorsData_App_Visual_Bridge,a="sensorsdata_visualized_mode";return A(e)&&e[a]&&(e[a]===!0||e[a]())},validateAppUrl:en};yn.prototype.call=function(e,a){var h=this,L=new Date().getTime().toString(16)+String(b()).replace(".","").slice(1,8);this.resultCbs[L]=h.resultCbs[L]||{result:null,callbacks:[]},this.timeoutCbs[L]=h.timeoutCbs[L]||{isTimeout:!1,callbacks:[]},e=e.data?e:{data:e},e.data.message_id=L;var H=p({callType:this.type},e);return a&&(this.timerId=setTimeout(function(){h.timeoutCbs[L].isTimeout=!0;for(var se in h.timeoutCbs[L].callbacks)h.timeoutCbs[L].callbacks[se].call(null),h.timeoutCbs[L].callbacks.splice(se,1)},a)),Zn(H),{onResult:function(se){return h.resultCbs[L].result?(se(h.resultCbs[L].result),this):(!h.timeoutCbs[L].isTimeout&&h.resultCbs[L].callbacks.push(se),this)},onTimeout:function(se){return h.timeoutCbs[L].isTimeout?(se(),this):(!h.resultCbs[L].result&&h.timeoutCbs[L].callbacks.push(se),this)}}},yn.prototype.onAppNotify=function(e){this.appCallJsCallback=e},yn.prototype.notifyApp=function(e,a){var h=p({callType:this.type},e);return a&&(h.message_id=a),Zn(h)},Mn.prototype={double:function(){},getAppData:function(){},hasAppBridge:function(){return Ce.bridge.bridge_info.support_two_way_call},init:function(){},jsCallApp:function(){},requestToApp:function(e){this.bridge.call(e,e.timeout.time).onResult(function(a){s(e.callback)&&e.callback(a)}).onTimeout(function(){s(e.timeout.callback)&&e.timeout.callback()})}};var Ra={isSeachHasKeyword:function(){return ge(location.href,"sa-request-id")!==""&&(typeof sessionStorage.getItem("sensors-visual-mode")=="string"&&sessionStorage.removeItem("sensors-visual-mode"),!0)},hasKeywordHandle:function(){var e=location.href,a=ge(e,"sa-request-id")||null,h=ge(e,"sa-request-type")||null,L=ge(e,"sa-request-url")||null;if(qr.setNotice(L),bo.isSupport())if(L!==null&&sessionStorage.setItem("sensors_heatmap_url",L),sessionStorage.setItem("sensors_heatmap_id",a),h!==null)h==="1"||h==="2"||h==="3"?sessionStorage.setItem("sensors_heatmap_type",h):h=null;else{var H=sessionStorage.getItem("sensors_heatmap_type");h=H!==null?H:null}this.isReady(a,h)},isReady:function(e,a,h){Ce.para.heatmap_url?Ln({success:function(){setTimeout(function(){typeof sa_jssdk_heatmap_render!="undefined"&&(sa_jssdk_heatmap_render(Ce,e,a,h),typeof console=="object"&&typeof console.log=="function"&&(Ce.heatmap_version&&Ce.heatmap_version===Ce.lib_version||n("heatmap.js\u4E0Esensorsdata.js\u7248\u672C\u53F7\u4E0D\u4E00\u81F4\uFF0C\u53EF\u80FD\u5B58\u5728\u98CE\u9669!")))},0)},error:function(){},type:"js",url:Ce.para.heatmap_url}):v("\u6CA1\u6709\u6307\u5B9Aheatmap_url\u7684\u8DEF\u5F84")},isStorageHasKeyword:function(){return bo.isSupport()&&typeof sessionStorage.getItem("sensors_heatmap_id")=="string"},storageHasKeywordHandle:function(){qr.setNotice(),Ra.isReady(sessionStorage.getItem("sensors_heatmap_id"),sessionStorage.getItem("sensors_heatmap_type"),location.href)},isWindowNameHasKeyword:function(){try{var e=JSON.parse(window.name),a=D(e["sa-request-page-url"])?S(e["sa-request-page-url"]):null;return e["sa-request-id"]&&D(e["sa-request-id"])&&a===location.href}catch(h){return!1}},windowNameHasKeywordHandle:function(){function e(se){var be=a[se];return D(be)?S(be):null}var a=JSON.parse(window.name),h=e("sa-request-id"),L=e("sa-request-type"),H=e("sa-request-url");qr.setNotice(H),bo.isSupport()&&(H!==null&&sessionStorage.setItem("sensors_heatmap_url",H),sessionStorage.setItem("sensors_heatmap_id",h),L!==null?L==="1"||L==="2"||L==="3"?sessionStorage.setItem("sensors_heatmap_type",L):L=null:L=sessionStorage.getItem("sensors_heatmap_type")!==null?sessionStorage.getItem("sensors_heatmap_type"):null),Ra.isReady(h,L)}},aa={isStorageHasKeyword:function(){return bo.isSupport()&&typeof sessionStorage.getItem("sensors-visual-mode")=="string"},isSearchHasKeyword:function(){return(wn("sa-visual-mode")===!0||wn("sa-visual-mode")==="true")&&(typeof sessionStorage.getItem("sensors_heatmap_id")=="string"&&sessionStorage.removeItem("sensors_heatmap_id"),!0)},loadVtrack:function(){Ln({success:function(){},error:function(){},type:"js",url:Ce.para.vtrack_url?Ce.para.vtrack_url:Pr()+"//static.sensorsdata.cn/sdk/"+Ce.lib_version+"/vtrack.min.js"})},messageListener:function(e){if(!e||!e.data||e.data.source!=="sa-fe")return!1;if(e.data.type==="v-track-mode"){if(e.data.data&&e.data.data.isVtrack)if(bo.isSupport()&&sessionStorage.setItem("sensors-visual-mode","true"),e.data.data.userURL&&location.href.match(/sa-visual-mode=true/)){var a=e.data.data.userURL;D(a)&&($(a,"http://")||$(a,"https://"))&&(window.location.href=encodeURI(a))}else aa.loadVtrack();window.removeEventListener("message",aa.messageListener,!1)}},removeMessageHandle:function(){window.removeEventListener&&window.removeEventListener("message",aa.messageListener,!1)},verifyVtrackMode:function(){window.addEventListener&&window.addEventListener("message",aa.messageListener,!1),aa.postMessage()},postMessage:function(){try{window.parent&&window.parent.postMessage&&window.parent.postMessage({source:"sa-web-sdk",type:"v-is-vtrack",data:{sdkversion:vl}},"*")}catch(e){v("\u6D4F\u89C8\u5668\u7248\u672C\u8FC7\u4F4E\uFF0C\u4E0D\u652F\u6301 postMessage API")}},notifyUser:function(){var e=function(a){return!(!a||!a.data||a.data.source!=="sa-fe")&&void(a.data.type==="v-track-mode"&&(a.data.data&&a.data.data.isVtrack&&alert("\u5F53\u524D\u7248\u672C\u4E0D\u652F\u6301\uFF0C\u8BF7\u5347\u7EA7\u90E8\u7F72\u795E\u7B56\u6570\u636E\u6CBB\u7406"),window.removeEventListener("message",e,!1)))};window.addEventListener&&window.addEventListener("message",e,!1),aa.postMessage()}},Ky=["setItem","deleteItem","getAppStatus","track","quick","register","registerPage","registerOnce","trackSignup","setProfile","setOnceProfile","appendProfile","incrementProfile","deleteProfile","unsetProfile","identify","resetAnonymousIdentity","login","logout","trackLink","clearAllRegister","clearPageRegister","bind","unbind","loginWithKey"],Gy={track:function(e,a,h){},quick:function(e,a,h,L){},register:function(e){},registerPage:function(e){},registerOnce:function(e){},clearAllRegister:function(e){},trackSignup:function(e,a,h,L){},setProfile:function(e,a){},setOnceProfile:function(e,a){},appendProfile:function(e,a){},incrementProfile:function(e,a){},deleteProfile:function(e){},unsetProfile:function(e,a){},identify:function(e,a){},resetAnonymousIdentity:function(e){},login:function(e,a){},logout:function(e){},trackLink:function(e,a,h){},deleteItem:function(e,a){},setItem:function(e,a,h){},getAppStatus:function(e){},clearPageRegister:function(e){}};he.prototype.process=function(e,a){if(!(e&&e in this.processDef))return void v("process ["+e+"] is not supported");var h=this.registeredInterceptors[e];if(h&&M(h)&&h.length>0)for(var L={current:0,total:h.length},H=new te(a,L,Ce),se=0;se<h.length;se++)try{if(L.current=se+1,a=h[se].call(null,a,H)||a,H.cancellationToken.getCanceled())break;if(H.cancellationToken.getStopped())return}catch(be){v("interceptor error:"+be)}return this.processDef[e]&&this.processDef[e]in this.processDef&&(a=this.process(this.processDef[e],a)),a},he.prototype.registerStageImplementation=function(e){e&&e.init&&s(e.init)&&(e.init(this),e.interceptor&&this.registerInterceptor(e.interceptor))},he.prototype.registerInterceptor=function(e){if(e)for(var a in e){var h=e[a];if(h&&A(h)&&s(h.entry)){gn(h.priority)||(h.priority=Number.MAX_VALUE),this.registeredInterceptors[a]||(this.registeredInterceptors[a]=[]);var L=this.registeredInterceptors[a];h.entry.priority=h.priority,L.push(h.entry),L.sort(function(H,se){return H.priority-se.priority})}}};var Jy={basicProps:"extendProps",extendProps:"formatData",formatData:"finalAdjustData",finalAdjustData:null},sh=new he(Jy),Xy={send:null},lh=new he(Xy),Zy={getUtmData:null,callSchema:null},uh=new he(Zy),eA={webClickEvent:null,webStayEvent:null},ch=new he(eA),dh={buildDataStage:function(e){e&&sh.registerInterceptor(e)},businessStage:function(e){e&&uh.registerInterceptor(e)},sendDataStage:function(e){e&&lh.registerInterceptor(e)},viewStage:function(e){e&&ch.registerInterceptor(e)}},Ou={stage:null,init:function(e){this.stage=e}},fh={stage:null,init:function(e){this.stage=e},interceptor:{send:{entry:function(e){return e}}}},Ls={};Ls.buildData=function(e){return Vt(e)},Ls.sendData=function(e,a){var h=Lt(e.properties),L={origin_data:e,server_url:Ce.para.server_url,data:e,config:h||{},callback:a};je(L),Ce.log(e)},Ls.encodeTrackData=function(e){return Ot(e)},Ls.getUtmData=function(){return Pe()};var tA={webClickEvent:{entry:function(e,a){var h=a.sensors;e.tagName==="a"&&h.para.heatmap&&h.para.heatmap.isTrackLink===!0?h.trackLink({event:e.event,target:e.target},"$WebClick",e.props):h.track("$WebClick",e.props,e.callback)}},webStayEvent:{entry:function(e,a){var h=a.sensors;h.track("$WebStay",e)}}},hh=window.sensors_data_pre_config,ph=!!oh.isObject(hh)&&hh.is_compliance_enabled;Ce.init=function(e){return Ui.sdk.emit("beforeInit"),!(Ce.readyState&&Ce.readyState.state&&Ce.readyState.state>=2)&&(ph&&(Tt(!0),P()),Ui.initSystemEvent(),Ce.setInitVar(),Ce.readyState.setState(2),Ce.initPara(e),Ui.sdk.emit("initPara"),Ui.sdk.emit("afterInitPara"),Ui.sdk.emit("initAPI"),Ui.sdk.emit("afterInitAPI"),Ce.detectMode(),nn(),Ui.sdk.emit("afterInit"),void Ui.sdk.emit("ready"))},ph?Tt(!1):(Tt(!0),P());var oa,El,Fs,Ii,Ms,Xa,Tr,_o,Za,Qs,Ki,eo,Yr,Lr,Fr,Uu,$u,Ps,nA="1.26.12",iA={init:function(e){var a=e._.isString,h=e._.rot13defs,L=e._.dfmapping,H="data:enc;",se="dfm-enc-";e.ee.sdk.on("afterInitPara",function(){e.kit.userEncrypt=function(be){return se+L(be)},e.kit.userDecrypt=function(be){return be.indexOf(H)===0?(be=be.substring(H.length),be=h(be)):be.indexOf(se)===0&&(be=be.substring(se.length),be=L(be)),be},e.kit.userDecryptIfNeeded=function(be){return!a(be)||be.indexOf(H)!==0&&be.indexOf(se)!==0||(be=e.kit.userDecrypt(be)),be}})},plugin_name:"UserEncryptDefault"},rA=Dn(iA),aA="1.26.12",oA={sd:null,init:function(e){if(this.sd||(this.sd=e,!this.sd||!this.sd._))return!1;var a=this.sd._.cookie.get("sensors_amp_id"),h=this.sd.store._state.distinct_id;if(a&&a.length>0){var L=a.slice(0,4)==="amp-";if(a!==h){if(!L)return!1;this.sd.store._state.first_id?(this.sd.identify(a,!0),this.sd.saEvent.send({original_id:a,distinct_id:h,type:"track_signup",event:"$SignUp",properties:{}},null),this.setAmpId(h)):this.sd.identify(a,!0)}}else this.setAmpId(h);this.addListener()},addListener:function(){var e=this;this.sd.events.on("changeDistinctId",function(a){e.setAmpId(a)}),this.sd.events.isReady()},setAmpId:function(e){this.sd._.cookie.set("sensors_amp_id",e)}},sA=Mi(oA,"Amp","sdkReady"),da=window.SensorsData_App_Visual_Bridge,Il=da&&da.sensorsdata_visualized_mode,gh=da&&da.sensorsdata_visualized_alert_info,mh=da&&da.sensorsdata_hover_web_nodes,yh={isVerify:function(){return Il&&(Il===!0||Il.call(da))},commands:{app_alert:dn,visualized_track:zn,page_info:zn,sensorsdata_get_app_visual_config:En}},lA="1.26.12",Ah={init:function(e){Ii=e,Ms=Ii&&Ii._,Xa=Ii&&Ii.log||console&&console.log||function(){},Ta()},handleCommand:zr},vh=Nr(Ah,"AndroidBridge","sdkAfterInitPara"),fa=window.SensorsData_App_Visual_Bridge,wl=fa&&fa.sensorsdata_visualized_mode,xh=fa&&fa.sensorsdata_visualized_alert_info,Ch=fa&&fa.sensorsdata_hover_web_nodes,ju={isVerify:function(){return wl&&(wl===!0||wl.call(fa))},commands:{app_alert:kr,visualized_track:yr,page_info:yr,sensorsdata_get_app_visual_config:vs}},uA="1.26.12",bh={init:function(e){Ki=e,eo=Ki&&Ki._,Yr=Ki&&Ki.log||console&&console.log||function(){},er()},handleCommand:ri},_h=va(bh,"AndroidObsoleteBridge","sdkAfterInitPara"),cA="1.26.12",Ur={event_list:[],latest_event_initial_time:null,max_save_time:2592e6,init:function(e,a){function h(){return Lr=Fr._,Uu=Fr.store,!!Lr.localStorage.isSupport()&&(Fr.para.max_string_length=1024,L.eventList.init(),L.addLatestChannelUrl(),void L.addIsChannelCallbackEvent())}if(Fr||!e)return!1;a=a||{},$u=a.cookie_name||"sensorsdata2015jssdkchannel",Fr=e;var L=this;h()},addIsChannelCallbackEvent:function(){Fr.registerPage({$is_channel_callback_event:function(e){if(Lr.isObject(e)&&e.event&&e.event!=="$WebClick"&&e.event!=="$pageview"&&e.event!=="$WebStay"&&e.event!=="$SignUp")return!Ur.eventList.hasEvent(e.event)&&(Ur.eventList.add(e.event),!0)}})},addLatestChannelUrl:function(){var e=this.getUrlDomain(),a=this.cookie.getChannel();if(e==="url\u89E3\u6790\u5931\u8D25")this.registerAndSave({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"url\u7684domain\u89E3\u6790\u5931\u8D25"});else if(Lr.isReferralTraffic(document.referrer)){var h=Lr.getQueryParam(location.href,"sat_cf");Lr.isString(h)&&h.length>0?(this.registerAndSave({_sa_channel_landing_url:location.href}),Ur.channelLinkHandler()):this.registerAndSave({_sa_channel_landing_url:""})}else a?Fr.registerPage(a):Fr.registerPage({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"\u53D6\u503C\u5F02\u5E38"})},registerAndSave:function(e){Fr.registerPage(e),this.cookie.saveChannel(e)},cookie:{getChannel:function(){var e=Fr.kit.userDecryptIfNeeded(Lr.cookie.get($u));return e=Lr.safeJSONParse(e),!(!Lr.isObject(e)||!e.prop)&&e.prop},saveChannel:function(e){var a={prop:e},h=JSON.stringify(a);Fr.para.encrypt_cookie&&(h=Fr.kit.userEncrypt(h)),Lr.cookie.set($u,h)}},channelLinkHandler:function(){this.eventList.reset(),Fr.track("$ChannelLinkReaching")},getUrlDomain:function(){var e=Lr.info.pageProp.url_domain;return e===""&&(e="url\u89E3\u6790\u5931\u8D25"),e},eventList:{init:function(){var e=this.get(),a=new Date().getTime();if(e&&Lr.isNumber(e.latest_event_initial_time)&&Lr.isArray(e.eventList)){var h=a-e.latest_event_initial_time;h>0&&h<Ur.max_save_time?(Ur.event_list=e.eventList,Ur.latest_event_initial_time=e.latest_event_initial_time):this.reset()}else this.reset()},get:function(){var e={};try{e=Uu.readObjectVal("sawebjssdkchannel")}catch(a){Fr.log(a)}return e},add:function(e){Ur.event_list.push(e),this.save()},save:function(){var e={latest_event_initial_time:Ur.latest_event_initial_time,eventList:Ur.event_list};Uu.saveObjectVal("sawebjssdkchannel",e)},reset:function(){Ur.event_list=[],Ur.latest_event_initial_time=new Date().getTime(),this.save()},hasEvent:function(e){var a=!1;return Lr.each(Ur.event_list,function(h){h===e&&(a=!0)}),a}}},dA=xs(Ur,"SensorsChannel","sdkAfterInitAPI"),fA="1.26.12",Eh=(/micromessenger\/([\d.]+)/i.test(navigator.userAgent||""),function(){var e={};return typeof document.hidden!="undefined"?(e.hidden="hidden",e.visibilityChange="visibilitychange"):typeof document.msHidden!="undefined"?(e.hidden="msHidden",e.visibilityChange="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(e.hidden="webkitHidden",e.visibilityChange="webkitvisibilitychange"),e});Ps=Eh().hidden;var Wu,to,Pi,Rs,zu,Gi,Eo,qu,Yu={android:/Android/i,iOS:/iPhone|iPad|iPod/i},hA=function(){for(var e in Yu)if(navigator.userAgent.match(Yu[e]))return e;return""},Ih=hA(),pA=function(){return Yu.hasOwnProperty(Ih)},Vu=function(e){return e!=null&&Object.prototype.toString.call(e)=="[object Object]"},gA=function(e){var a=/\/sd\/(\w+)\/(\w+)$/;return e.match(a)},mA=function(e){var a=e._.URL(e.para.server_url);return{origin:a.origin,project:a.searchParams.get("project")||"default"}},yA=function(e,a,h){e.log("\u5C1D\u8BD5\u5524\u8D77 android app");var L=a;e.log("\u5524\u8D77APP\u7684\u5730\u5740\uFF1A"+L),window.location=L,e.timer=setTimeout(function(){var H=pl();return e.log("hide:"+Ps+":"+document[Ps]),H?(e.log("The page is hidden, stop navigating to download page"),!1):(e.log("App\u53EF\u80FD\u672A\u5B89\u88C5\uFF0C\u8DF3\u8F6C\u5230\u4E0B\u8F7D\u5730\u5740"),void(window.location=h))},e.timeout)},AA=function(e,a,h){e.log("\u5C1D\u8BD5\u5524\u8D77 iOS app:"+a),window.location.href=a,e.timer=setTimeout(function(){var L=pl();return L?(e.log("The page is hidden, stop navigating to download page"),!1):(e.log("App\u53EF\u80FD\u672A\u5B89\u88C5\uFF0C\u8DF3\u8F6C\u5230\u4E0B\u8F7D\u5730\u5740"),void(window.location.href=h))},e.timeout),e.log("new timer:"+e.timer)},Ns={key:null,timer:null,sd:null,data:null,timeout:2500,apiURL:"{origin}/sdk/deeplink/param?key={key}&system_type=JS&project={project}",init:function(e){if(this.sd)return this.log("deeplink\u5DF2\u7ECF\u521D\u59CB\u5316"),!1;if(this.sd=e,this.log("deeplink init called"),this.sd===null)return this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165"),!1;var a={};if(arguments.length>0&&(arguments.length===1&&Vu(arguments[0])?a=arguments[0]:arguments.length>=2&&Vu(arguments[1])&&(a=arguments[1])),!pA())return this.log("\u4E0D\u652F\u6301\u5F53\u524D\u7CFB\u7EDF\uFF0C\u76EE\u524D\u53EA\u652F\u6301Android\u548CiOS"),!1;if(Vu(a)&&this.sd._.isNumber(a.timeout)&&a.timeout>=2500&&(this.timeout=a.timeout),!this.sd.para.server_url)return this.log("\u795E\u7B56JS SDK\u914D\u7F6E\u9879server_url\u672A\u6B63\u786E\u914D\u7F6E"),!1;var h=mA(this.sd);this.apiURL=this.apiURL.replace("{origin}",h.origin).replace("{project}",h.project);var L=this.sd._.getQueryParam(window.location.href,"deeplink");if(!L)return this.log("\u5F53\u524D\u9875\u9762\u7F3A\u5C11deeplink\u53C2\u6570"),!1;L=window.decodeURIComponent(L);var H=gA(L);return H?(this.key=H[2],this.apiURL=this.apiURL.replace("{key}",window.encodeURIComponent(H[2])),this.sd._.ajax({url:this.apiURL,type:"GET",cors:!0,credentials:!1,success:function(se){return se.errorMsg?(Ns.log("API\u62A5\u9519\uFF1A"+se.errorMsg),!1):(Ns.data=se,Ns.log("API\u67E5\u8BE2\u6210\u529F\uFF0C\u6570\u636E\uFF1A"+JSON.stringify(se,null,"  ")),void(this.data.app_key&&(this.data.android_info&&this.data.android_info.url_schemes&&(this.data.android_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key),this.data.ios_info&&this.data.ios_info.url_schemes&&(this.data.ios_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key))))}.bind(this),error:function(){Ns.log("API\u67E5\u8BE2\u51FA\u9519")}}),void this.addListeners()):(this.log("\u5F53\u524D\u9875\u9762\u7684deeplink\u53C2\u6570\u65E0\u6548"),!1)},openDeepLink:function(){if(this.log("openDeeplink()"),!this.data)return this.log("\u6CA1\u6709Deep link\u6570\u636E!"),!1;if(Ih==="iOS"){this.log("\u5F53\u524D\u7CFB\u7EDF\u662FiOS");var e=this.sd&&this.sd._&&this.sd._.getIOSVersion()>=9&&this.data.ios_info.ios_wake_url?this.data.ios_info.ios_wake_url:this.data.ios_info.url_schemes;this.log("\u5524\u8D77APP\u7684\u5730\u5740\uFF1A"+e),AA(this,e,this.data.ios_info.download_url)}else this.log("\u5F53\u524D\u7CFB\u7EDF\u662F android"),yA(this,this.data.android_info.url_schemes,this.data.android_info.download_url)},log:function(e){this.sd&&this.sd.log(e)},addListeners:function(){var e=Eh().visibilityChange,a=this;e&&document.addEventListener(e,function(){clearTimeout(a.timer),a.log("visibilitychange, clear timeout:"+a.timer)},!1),window.addEventListener("pagehide",function(){a.log("page hide, clear timeout:"+a.timer),clearTimeout(a.timer)},!1)}},vA=Cu(Ns,"Deeplink","sdkReady"),xA="1.26.12",wh={init:function(e){Pi=e,Rs=Pi&&Pi._,zu=Pi&&Pi.log||console&&console.log||function(){},vo()},handleCommand:Iu},kh=gl(wh,"IOSBridge","sdkAfterInitPara"),CA="1.26.12",Sh={init:function(e){Gi=e,Eo=Gi&&Gi._,qu=Gi&&Gi.log||console&&console.log||function(){},ku()}},Bh=Cs(Sh,"IOSObsoleteBridge","sdkAfterInitPara"),bA="1.26.12",_A=5e3,EA=432e3;ui.prototype.init=function(e,a){if(e){if(this.sd=e,this._=this.sd._,a){this.option=a;var h=a.heartbeat_interval_time;h&&(this._.isNumber(h)||this._.isNumber(1*h))&&1*h>0&&(this.heartbeat_interval_time=1e3*h);var L=a.max_duration;L&&(this._.isNumber(L)||this._.isNumber(1*L))&&1*L>0&&(this.max_duration=L)}this.page_id=Number(String(this._.getRandom()).slice(2,5)+String(this._.getRandom()).slice(2,4)+String(new Date().getTime()).slice(-4)),this.addEventListener(),document.hidden===!0?this.page_show_status=!1:this.addHeartBeatInterval(),this.log("PageLeave\u521D\u59CB\u5316\u5B8C\u6BD5")}else this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},ui.prototype.log=function(e){this.sd&&this.sd.log(e)},ui.prototype.refreshPageEndTimer=function(){var e=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){e.page_hidden_status=!1},_A)},ui.prototype.hiddenStatusHandler=function(){clearTimeout(this.timer),this.timer=null,this.page_hidden_status=!1},ui.prototype.pageStartHandler=function(){this.start_time=+new Date,!document.hidden==1?this.page_show_status=!0:this.page_show_status=!1,this.url=location.href,this.title=document.title},ui.prototype.pageEndHandler=function(){if(this.page_hidden_status!==!0){var e=this.getPageLeaveProperties();this.page_show_status===!1&&delete e.event_duration,this.page_show_status=!1,this.page_hidden_status=!0,this.isCollectUrl(this.url)&&this.sd.track("$WebPageLeave",e),this.refreshPageEndTimer(),this.delHeartBeatData()}},ui.prototype.addEventListener=function(){this.addPageStartListener(),this.addPageSwitchListener(),this.addSinglePageListener(),this.addPageEndListener()},ui.prototype.addPageStartListener=function(){var e=this;"onpageshow"in window&&this._.addEvent(window,"pageshow",function(){e.pageStartHandler(),e.hiddenStatusHandler()})},ui.prototype.isCollectUrl=function(e){return typeof this.option.isCollectUrl!="function"||typeof e!="string"||e===""||this.option.isCollectUrl(e)},ui.prototype.addSinglePageListener=function(){var e=this;this.sd.ee&&this.sd.ee.spa.prepend("switch",function(a){a!==location.href&&(e.url=a,e.pageEndHandler(),e.stopHeartBeatInterval(),e.current_page_url=e.url,e.pageStartHandler(),e.hiddenStatusHandler(),e.addHeartBeatInterval())})},ui.prototype.addPageEndListener=function(){var e=this;this._.each(["pagehide","beforeunload","unload"],function(a){"on"+a in window&&e._.addEvent(window,a,function(){e.pageEndHandler(),e.stopHeartBeatInterval()})})},ui.prototype.addPageSwitchListener=function(){var e=this;this._.listenPageState({visible:function(){e.pageStartHandler(),e.hiddenStatusHandler(),e.addHeartBeatInterval()},hidden:function(){e.url=location.href,e.title=document.title,e.pageEndHandler(),e.stopHeartBeatInterval()}})},ui.prototype.addHeartBeatInterval=function(){this._.localStorage.isSupport()&&this.startHeartBeatInterval()},ui.prototype.startHeartBeatInterval=function(){var e=this;this.heartbeat_interval_timer&&this.stopHeartBeatInterval();var a=!0;this.isCollectUrl(this.url)||(a=!1),this.heartbeat_interval_timer=setInterval(function(){a&&e.saveHeartBeatData()},this.heartbeat_interval_time),a&&this.saveHeartBeatData("is_first_heartbeat"),this.reissueHeartBeatData()},ui.prototype.stopHeartBeatInterval=function(){clearInterval(this.heartbeat_interval_timer),this.heartbeat_interval_timer=null},ui.prototype.saveHeartBeatData=function(e){var a=this.getPageLeaveProperties(),h=new Date;a.$time=h,e==="is_first_heartbeat"&&(a.event_duration=3.14);var L=this.sd.kit.buildData({type:"track",event:"$WebPageLeave",properties:a});L.heartbeat_interval_time=this.heartbeat_interval_time,this.sd.store.saveObjectVal(this.storage_name+"-"+this.page_id,L)},ui.prototype.delHeartBeatData=function(e){this._.localStorage.isSupport()&&this._.localStorage.remove(e||this.storage_name+"-"+this.page_id)},ui.prototype.reissueHeartBeatData=function(){for(var e=window.localStorage.length,a=e-1;a>=0;a--){var h=window.localStorage.key(a);if(h&&h!==this.storage_name+"-"+this.page_id&&h.indexOf(this.storage_name+"-")===0){var L=this.sd.store.readObjectVal(h);this._.isObject(L)&&1*new Date-L.time>L.heartbeat_interval_time+5e3&&(delete L.heartbeat_interval_time,L._flush_time=new Date().getTime(),this.sd.kit.sendData(L),this.delHeartBeatData(h))}}},ui.prototype.getPageLeaveProperties=function(){var e=(+new Date-this.start_time)/1e3;(isNaN(e)||e<0||e>this.max_duration)&&(e=0),e=Number(e.toFixed(3));var a=this._.getReferrer(this.current_page_url),h=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body&&document.body.scrollTop||0;h=Math.round(h)||0;var L={$title:this.title,$url:this._.getURL(this.url),$url_path:this._.getURLPath(this._.URL(this.url).pathname),$referrer_host:a?this._.getHostname(a):"",$referrer:a,$viewport_position:h};return e!==0&&(L.event_duration=e),L=this._.extend(L,this.option.custom_props)};var IA=new ui,wA=Hr(IA,"PageLeave","sdkReady"),kA="1.26.12",Dh=!1,SA={init:function(e,a){function h(be,Me){if(be.getEntries&&typeof be.getEntries=="function"){for(var st=be.getEntries(),It=null,Pt=0;Pt<st.length;Pt++)"transferSize"in st[Pt]&&(It+=st[Pt].transferSize);e._.isNumber(It)&&It>=0&&It<10737418240&&(Me.$page_resource_size=Number((It/1024).toFixed(3)))}}function L(be){var Me=0;if(be.timing){var st=be.timing;st.fetchStart!==0&&e._.isNumber(st.fetchStart)&&st.domContentLoadedEventEnd!==0&&e._.isNumber(st.domContentLoadedEventEnd)?Me=st.domContentLoadedEventEnd-st.fetchStart:e.log("performance \u6570\u636E\u83B7\u53D6\u5F02\u5E38")}return Me}function H(be){var Me=0;if(e._.isFunction(be.getEntriesByType)){var st=be.getEntriesByType("navigation")||[{}];Me=(st[0]||{}).domContentLoadedEventEnd||0}return Me}function se(){var be=0,Me=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance,st={$url:e._.getURL(),$title:document.title,$url_path:e._.getURLPath(),$referrer:e._.getReferrer(null,!0)};if(Me?(be=H(Me)||L(Me),h(Me,st)):e.log("\u6D4F\u89C8\u5668\u672A\u652F\u6301 performance API."),be>0){var It=e._.isObject(a)&&a.max_duration||1800;be=Number((be/1e3).toFixed(3)),(!e._.isNumber(It)||It<=0||be<=It)&&(st.event_duration=be)}Dh||(e.track("$WebPageLoad",st),Dh=!0),window.removeEventListener?window.removeEventListener("load",se):window.detachEvent&&window.detachEvent("onload",se)}document.readyState=="complete"?se():window.addEventListener?window.addEventListener("load",se):window.attachEvent&&window.attachEvent("onload",se)}},BA=xa(SA,"PageLoad","sdkReady");La.prototype.init=function(e){if(e){this.sd=e,this._=e._,this.log=e.log;var a=this;e.registerInterceptor("buildDataStage",{extendProps:{priority:0,entry:function(h){return Es(h,a)}}})}else this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},La.prototype.register=function(e){return this.sd?void(this._.isObject(e)&&this._.isArray(e.events)&&e.events.length>0&&this._.isObject(e.properties)&&!this._.isEmptyObject(e.properties)?this.customRegister.push(e):this.log("RegisterProperties: register \u53C2\u6570\u9519\u8BEF")):void this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")},La.prototype.hookRegister=function(e){return this.sd?void(this._.isFunction(e)?this.customRegister.push(e):this.log("RegisterProperties: hookRegister \u53C2\u6570\u9519\u8BEF")):void this.log("\u795E\u7B56JS SDK\u672A\u6210\u529F\u5F15\u5165")};var DA="1.26.12";La.prototype.plugin_name="RegisterProperties";var no,Th,TA=new La,LA=ws(TA),FA="1.26.12",Hs=window.console&&window.console.log||function(){},MA={init:function(e){return no=e,Hs=no&&no.log||Hs,e&&e.kit&&e.kit.buildData?(Th=no.kit.buildData,no.kit.buildData=He,void Hs("RegisterPropertyPageHeight \u63D2\u4EF6\u521D\u59CB\u5316\u5B8C\u6210")):void Hs("RegisterPropertyPageHeight \u63D2\u4EF6\u521D\u59CB\u5316\u5931\u8D25,\u5F53\u524D\u4E3Bsdk\u4E0D\u652F\u6301 RegisterPropertyPageHeight \u63D2\u4EF6\uFF0C\u8BF7\u5347\u7EA7\u4E3Bsdk")}},QA=Be(MA,"RegisterPropertyPageHeight","sdkReady"),PA="1.26.12",Ca={};Ca.getPart=function(e){var a=!1,h=this.option.length;if(h){for(var L=0;L<h;L++)if(e.indexOf(this.option[L].part_url)>-1)return!0}return a},Ca.getPartHash=function(e){var a=this.option.length,h=!1;if(a){for(var L=0;L<a;L++)if(e.indexOf(this.option[L].part_url)>-1)return this.option[L].after_hash}return!!h},Ca.getCurrenId=function(){var e=this.store.getDistinctId()||"",a=this.store.getFirstId()||"";this._.urlSafeBase64&&this._.urlSafeBase64.encode?e=e?this._.urlSafeBase64.trim(this._.urlSafeBase64.encode(this._.base64Encode(e))):"":this._.rot13obfs&&(e=e?this._.rot13obfs(e):"");var h=a?"f"+e:"d"+e;return encodeURIComponent(h)},Ca.rewriteUrl=function(e,a){var h=this,L=/([^?#]+)(\?[^#]*)?(#.*)?/,H=L.exec(e),se="";if(H){var be,Me=H[1]||"",st=H[2]||"",It=H[3]||"",Pt="_sasdk="+this.getCurrenId(),Qn=function(ar){var zi=ar.split("&"),ba=[];return h._.each(zi,function(Bl){Bl.indexOf("_sasdk=")>-1?ba.push(Pt):ba.push(Bl)}),ba.join("&")};if(this.getPartHash(e)){be=It.indexOf("_sasdk");var Rn=It.indexOf("?");se=Rn>-1?be>-1?Me+st+"#"+It.substring(1,be)+Qn(It.substring(be,It.length)):Me+st+It+"&"+Pt:Me+st+"#"+It.substring(1)+"?"+Pt}else{be=st.indexOf("_sasdk");var Li=/^\?(\w)+/.test(st);se=Li?be>-1?Me+"?"+Qn(st.substring(1))+It:Me+st+"&"+Pt+It:Me+"?"+Pt+It}return a&&(a.href=se),se}},Ca.getUrlId=function(){var e=location.href.match(/_sasdk=([aufd][^\?\#\&\=]+)/);if(this._.isArray(e)&&e[1]){var a=decodeURIComponent(e[1]);return!a||a.substring(0,1)!=="f"&&a.substring(0,1)!=="d"||(this._.urlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64(a)?a=a.substring(0,1)+this._.base64Decode(this._.urlSafeBase64.decode(a.substring(1))):this._.rot13defs&&(a=a.substring(0,1)+this._.rot13defs(a.substring(1)))),a}return""},Ca.setRefferId=function(e){var a=this.store.getDistinctId(),h=this.getUrlId();if(h&&h!==""){var L=h.substring(0,1)==="a"||h.substring(0,1)==="d";h=h.substring(1),h!==a&&(L?(this.sd.identify(h,!0),this.store.getFirstId()&&this.sd.saEvent.send({original_id:h,distinct_id:a,type:"track_signup",event:"$SignUp",properties:{}},null)):this.store.getFirstId()&&!e.re_login||this.sd.login(h))}},Ca.addListen=function(){var e=this,a=function(h){var L,H,se=h.target,be=se.tagName.toLowerCase(),Me=se.parentNode;if(be==="a"&&se.href||Me&&Me.tagName&&Me.tagName.toLowerCase()==="a"&&Me.href){be==="a"&&se.href?(L=se.href,H=se):(L=Me.href,H=Me);var st=e._.URL(L),It=st.protocol;It!=="http:"&&It!=="https:"||e.getPart(L)&&e.rewriteUrl(L,H)}};e._.addEvent(document,"mousedown",a),window.PointerEvent&&"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>=0&&e._.addEvent(document,"pointerdown",a)},Ca.init=function(e,a){function h(L){for(var H=L.length,se=[],be=0;be<H;be++)/[A-Za-z0-9]+\./.test(L[be].part_url)&&Object.prototype.toString.call(L[be].after_hash)=="[object Boolean]"?se.push(L[be]):e.log("linker \u914D\u7F6E\u7684\u7B2C "+(be+1)+" \u9879\u683C\u5F0F\u4E0D\u6B63\u786E\uFF0C\u8BF7\u68C0\u67E5\u53C2\u6570\u683C\u5F0F\uFF01");return se}return this.sd=e,this._=e._,this.store=e.store,this.para=e.para,this._.isObject(a)&&this._.isArray(a.linker)&&a.linker.length>0?(this.setRefferId(a),this.addListen(),this.option=a.linker,void(this.option=h(this.option))):void e.log("\u8BF7\u914D\u7F6E\u6253\u901A\u57DF\u540D\u53C2\u6570\uFF01")};var ha,Ti,io,fr,ro,hr,Na,pa,Ha,ga,Oa,Vr,Io,RA=At(Ca,"SiteLinker","sdkReady"),NA="utm_source utm_medium utm_campaign utm_content utm_term",HA="1.26.12",OA={init:function(e){function a(){var h=NA.split(" "),L="",H={};return ha._.isArray(ha.para.source_channel)&&ha.para.source_channel.length>0&&(h=h.concat(ha.para.source_channel),h=ha._.unique(h)),ha._.each(h,function(se){L=ha._.getQueryParam(location.href,se),L.length&&(H[se]=L)}),H}e&&!ha&&(ha=e,ha.registerInterceptor("businessStage",{getUtmData:{priority:0,entry:function(){return a()}}}))}},Lh=fn(OA,"Utm","sdkAfterInitPara"),UA="1.26.12",Ku=!1,kl=null,$A={init:function(e){kl=e,kl.disableSDK=Vn,kl.enableSDK=qn,kl.getDisabled=bi}},Fh=$n($A,"DisableSDK","sdkInitAPI"),jA="1.26.12",WA={plugin_name:"DebugSender",init:function(e){Ti=e,io=Ti._,Wi()}},Mh=ki(WA),zA="1.26.12",qA={plugin_name:"JsappSender",init:function(e){fr=e,ro=fr._,Ka()}},Qh=Dr(qA),YA="1.26.12",Sl=null,VA={plugin_name:"BatchSender",init:function(e){hr=e,Na=hr._,oy()}},Ph=iy(VA),KA="1.26.12",GA={plugin_name:"BeaconSender",init:function(e){pa=e,Ha=pa._,fy()}},Rh=uy(GA),JA="1.26.12",XA={plugin_name:"AjaxSender",init:function(e){ga=e,Oa=ga._,Ay()}},Nh=gy(XA),ZA="1.26.12",e1={plugin_name:"ImageSender",init:function(e){Vr=e,Io=Vr._,Ey()}},Hh=Cy(e1),nr=null,Kr=null,Os=[],t1={init:function(e){e&&(nr=e,Kr=nr._,nr.logger&&nr.logger.appendWriter(Sy),nr.on&&nr.on("sdkAfterInitPara",function(){for(var a=0;a<Os.length;a++)Yf(Os[a]);Os=null}),nr.on&&nr.on("sdkInitAPI",function(){nr.enableLocalLog=Ly,nr.disableLocalLog=Fy}))}},Oh=ky(t1,"ConsoleLogger"),Gu="sensorsdata_jssdk_debug";Ce.modules=Ce.modules||{};for(var Uh=[Oh,sA,vh,_h,dA,vA,kh,Bh,wA,BA,LA,QA,RA,Lh,Fh,Mh,Qh,Ph,Rh,Nh,Hh],$h=[Oh,rA,Lh,Fh,Qh,Mh,vh,kh,_h,Bh,Ph,Rh,Nh,Hh],ao=0;ao<Uh.length;ao++){var wo=Uh[ao];Ce._.isString(wo.plugin_name)?Ce.modules[wo.plugin_name]=wo:Ce._.isArray(wo.plugin_name)&&Ce._.each(wo.plugin_name,function(e){Ce.modules[e]=wo})}for(ao=0;ao<$h.length;ao++)Ce.use($h[ao]);var jh=Ce;try{typeof window.sensorsDataAnalytic201505=="string"?(Ce.para=window[sensorsDataAnalytic201505].para,Ce._q=window[sensorsDataAnalytic201505]._q,window[sensorsDataAnalytic201505]=Ce,window.sensorsDataAnalytic201505=Ce,Ce.init()):typeof window.sensorsDataAnalytic201505=="undefined"?window.sensorsDataAnalytic201505=Ce:jh=window.sensorsDataAnalytic201505}catch(e){v(e)}var n1=jh;return n1})}(dl,dl.exports);var Gm=dl.exports,vu=Ni(Gm);class Jm{constructor(i={}){this.sensors=vu,this.options=i,this.reportFlag=!1,this.reportInterval=10,this.init(i)}init(i){return Ar(this,null,function*(){var s,u;const t=yield this.getConfig(i);if(!((s=t==null?void 0:t.data)!=null&&s.reportFlag)){this.reportFlag=!1;return}this.reportFlag=!0,this.reportInterval=((u=t==null?void 0:t.data)==null?void 0:u.reportInterval)||10,this.sensors.init({batch_send:{datasend_timeout:6e3,send_interval:this.reportInterval*1e3,storage_length:200},send_type:"beacon",use_client_time:!0,is_track_single_page:!1,show_log:!0,cross_subdomain:!1,heatmap:{clickmap:"not_collect",scroll_notice_map:"not_collect"},imouRequest(A,b,C){_m({domain:i.domain,logs:A}).then(c=>{b(c)}).catch(c=>{C(c)})}}),window.onerror=(A,b,C,c,T)=>{A.toString().includes("Script error.")||vu.track({event_id:"o_imouplayer_error",message:A.toString(),source:b,lineno:C,colno:c,error:T,options:i})},window.onRequestError=(A,b={})=>{vu.track({event_id:"o_imouplayer_error",message:A,options:b})}})}getConfig(i){return Ar(this,null,function*(){var t;try{const s=yield Em({domain:i.domain});return(t=s==null?void 0:s.data)==null?void 0:t.result}catch(s){return console.log("error",s),{}}})}tracking({operate_info:i={},device_info:t={}}){!this.reportFlag||this.sensors.track($i(on(on({event_id:"o_imouplayer"},i),t),{player_sdk_version:Wd,js_sdk_version:sg,wasm_sdk_version:lg}))}}class Xm{constructor(){this.isMiniprogram=Gt.detectHostEnvironment().isMiniProgramWebView,this.platform=Gt.detectHostEnvironment().platform,this.fixApplied=!1,this.audioResumeHandlers=new Map}applyFix(i){!this.isMiniprogram||this.fixApplied||(console.log(`[MiniprogramFix] \u68C0\u6D4B\u5230\u5C0F\u7A0B\u5E8F\u73AF\u5883: ${this.platform}, \u5E94\u7528\u4FEE\u590D...`),this.fixAudioResume(i),this.fixApplied=!0)}fixAudioResume(i){if(!i||!i.playerId)return;const t=i.playerId,s=()=>{console.log(`[MiniprogramFix] \u9875\u9762\u91CD\u65B0\u663E\u793A\uFF0C\u6062\u590D\u97F3\u9891\u64AD\u653E: ${t}`),setTimeout(()=>{try{if(window.webAudioPlayer&&window.webAudioPlayer.resume(),i.player&&i.status.playing){const b=i.status.volume?1:0;i.player.setAudioVolume(i.playerId,b)}console.log(`[MiniprogramFix] \u97F3\u9891\u6062\u590D\u5B8C\u6210: ${t}`)}catch(b){console.error(`[MiniprogramFix] \u97F3\u9891\u6062\u590D\u5931\u8D25: ${t}`,b)}},300)};this.audioResumeHandlers.set(t,s);const u=()=>{!document.hidden&&i.status.playing&&s()},A=()=>{i.status.playing&&s()};document.addEventListener("visibilitychange",u),this.platform==="wechat"&&typeof wx!="undefined"&&wx.onAppRoute&&wx.onAppRoute(()=>{setTimeout(()=>{i.status.playing&&s()},500)}),window.addEventListener("pageshow",A),window.addEventListener("focus",A)}getEnvironmentInfo(){return{isMiniprogram:this.isMiniprogram,platform:this.platform,userAgent:navigator.userAgent,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,documentWidth:document.documentElement.clientWidth,documentHeight:document.documentElement.clientHeight}}}const Zm="zh",{log:b1,error:ey}=Gt.logsFunction(),Uf=["play","volume","talk","capture","videoRecord","ptz","digitalZoom","resolution","fullPageScreen","fullScreen","speed","recordChange","recordTimeLine","calendar"];class $f{static debugSaveLogFile(i){Hf.debugSaveLogFile(i)}constructor(i){const{id:t="",WasmLibPath:s="",width:u,height:A,deviceId:b,channelId:C="0",token:c="",code:T="",type:k=1,streamId:S=0,recordType:E="cloud",beginTime:r="",endTime:D="",controls:f=!0,handleError:y=()=>{},handleCallBack:Q=()=>{},autoplay:g=!0,muted:w=!1,domain:M="",controlsConfig:z=Uf,controlsSize:G="",controlsColor:Y="#ffffff",controlsActiveColor:N="#f18d00",title:K="",titleColor:p="#ffffff",encryptStream:x=!0,videoTalk:_=!1,log_js:B=!1,log_c:R=!1,streamType:X="",threadMode:J="multiThread"}=i;console.log("domain:",M,t);const ne=i.templateMode||"pc";f||(i.controlsConfig=[]),this.imouSensors=null;try{this.imouSensors=new Jm({domain:M})}catch(Z){}vt.changeLanguage(Zm),this.options=i,this.options.beginTime=r||An().startOf("day").format("YYYY-MM-DD HH:mm:ss"),this.options.endTime=D||An(this.options.beginTime).endOf("day").format("YYYY-MM-DD HH:mm:ss"),this.controls=f;const le={id:t,WasmLibPath:s||"",token:c,deviceId:b,channelId:C,code:T||"",width:u,height:A||(ne==="pc"?"100%":document.body.clientWidth*9/16),playing:!1,volume:!w,type:parseInt(k)||1,resolution:S||0,streamId:S||0,fullScreen:!1,fullPageScreen:!1,talk:!1,talkProcessing:!1,ptz:!1,digitalZoom:!1,message:"",recordType:E||"cloud",beginTime:this.options.beginTime,endTime:this.options.endTime,obj:this,videoRecord:!1,encryptMode:!0,muted:w,autoplay:g,recordSpeed:1,domain:M,controlsConfig:i.controlsConfig||Uf,controlsSize:G||(ne==="pc"?35:32),controlsColor:Y||"#ffffff",controlsActiveColor:N||"#f18d00",title:K||"",titleColor:p||"#ffffff",templateMode:ne||"pc",encryptStream:x,tid:"",videoTalk:_||!1,videoTalking:!1,answerVideoTalk:!1,callVideoTalk:!1,videoCapture:!1,audioCapture:!1,answerVideoTalkType:"waiting",streamType:X||"",landscape:!1};this.logInfo={stream_url:"",stream_type:"",talk_stream_url:"",talk_stream_type:"",stream_user_link_start_time:0,talk_user_link_start_time:0},this.playerId=`imou-player-${t}`,this.root=document.getElementById(t),this.root&&(this.root.style.backgroundColor="black",this.root.style.position="relative",this.root.style.width=`${u}px`,this.root.style.height=`${le.height}px`,ne==="pc"&&(this.root.style.overflow="hidden"),this.root.style.userSelect="none",document.body.style.minHeight="100vh"),this.status=wm(le),(()=>{const Z={"--imou-icon-color":Y,"--imou-icon-color-active":N,"--imou-icon-color-rgba43":Gt.hexToRGBA(N,.43),"--imou-icon-size":`${this.status.controlsSize}px`,"--imou-title-color":p};ne==="mobile"&&Object.assign(Z,{"--imou-ptz-arrow-color":"#B3B3B3","--imou-ptz-arrow-border1":"8px"}),Object.entries(Z).forEach(([re,ae])=>{document.documentElement.style.setProperty(re,ae)})})();const Ae=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"],q=()=>{!document.webkitIsFullScreen&&!document.mozFullScreen&&!document.msFullscreenElement&&(this.status.fullScreen=!1)};if(Ae.forEach(Z=>{document.addEventListener(Z,q,!1)}),this.resizeObserver=new ResizeObserver(Z=>{for(const re of Z)if(re.contentRect){const{width:ae,height:oe}=re.contentRect;document.documentElement.clientWidth!==ae&&(this.status.width=ae,this.status.height=oe),setTimeout(()=>{this.timeLine&&this.timeLine.changeProp("width",ae)},50)}}),this.resizeObserver&&this.resizeObserver.observe(this.root),this.createPlayer(),Gt.detectHostEnvironment().isMiniProgramWebView){const Z=new Xm;Z.applyFix(this),console.log("[imouPlayer] \u5C0F\u7A0B\u5E8F\u73AF\u5883\u4FE1\u606F:",Z.getEnvironmentInfo())}}createPlayer(){this.stop(),this.playerDom=document.createElement("div"),this.playerDom.id=this.playerId,this.playerDom.style="width: 100%;height: 100%;z-index: 99;position: relative;overflow: hidden",this.root.appendChild(this.playerDom);const i=Fm(this);this.root.appendChild(i),this.player=new Hf(this.playerId,this.status.templateMode,{playStart:()=>this.playStart(),playError:(u,A)=>this.playError(u,A),talkStart:(u,A)=>this.talkStart(u,A),talkError:(u,A)=>this.talkError(u,A),recordTimeStampUpdate:(u,A)=>this.recordTimeStampUpdate(u,A),getEncryptKey:u=>this.getEncryptKey(u),trackingLogs:(u,A)=>this.trackingLogs(u,A)},{sdklog:{log_js:this.options.log_js||!1,log_c:this.options.log_c||!1},WasmLibPath:this.status.WasmLibPath}),setTimeout(()=>{this.options.type==2&&this.handleControls()},0);const t=/^[0-9A-Za-z]+$/i,s=/^\d{1,3}$/;if(!t.test(this.options.deviceId)||!s.test(this.options.channelId)||!["1","2",1,2].includes(this.options.type)){this.status.message=vt.t("loading");return}this.status.autoplay&&this.play()}checkControlsElements(){return!!document.getElementById(`imou_player_icon_root_${this.playerId}`)}handleControls(){if(!this.checkControlsElements()){console.warn("Control elements not found in handleControls, retrying..."),setTimeout(()=>{this.handleControls()},100);return}if(this.mouseleaveFunc&&(this.playerDom.removeEventListener("mouseover",this.mouseleaveFunc),this.playerDom.removeEventListener("touchstart",this.mouseleaveFunc),this.playerDom.removeEventListener("click",this.mouseleaveFunc)),this.mouseleaveFunc=()=>{po(this.playerId,!1),this.playerDom.style.zIndex=99,this.buttonShowOrHiddenFlag&&clearTimeout(this.buttonShowOrHiddenFlag),this.buttonShowOrHiddenFlag=setTimeout(()=>{po(this.playerId),this.playerDom.style.zIndex=100},3e3)},this.controls){const i=this.status.templateMode==="mobile"?"touchstart":"mouseover";this.playerDom.addEventListener(i,this.mouseleaveFunc),setTimeout(()=>{document.getElementById(`imou_player_icon_root_${this.playerId}`)&&(this.buttonShowOrHiddenFlag=setTimeout(()=>{po(this.playerId),this.playerDom.style.zIndex=100},3e3))},100)}else po(this.playerId,!0),this.playerDom.style.zIndex=100}playStart(){this.options.handleCallBack&&this.options.handleCallBack({type:"playStart"}),this.status.message="",this.status.playing=!0,this.status.type===2&&(this.timeLine&&this.timeLine.start(),this.record&&this.record.startTimeLine(),this.status.recordSpeed!=1&&this.setSpeed(this.status.recordSpeed),setTimeout(()=>{this.handleControls()},100)),this.status.type===1&&setTimeout(()=>{this.handleControls()},100),setTimeout(()=>{this.status.volume&&this.volume(1)},1e3),this.status.volume||(this.status.volume=!1),this.status.templateMode==="mobile"&&this.player.touchZoom(this.playerId,this.root)}playError(i,t){console.log("playLog:",i,t);const s=String((t==null?void 0:t.errorCode)||"");let u=s,A="";switch(s){case"201":A=vt.t("errMsg.audioNotSupport");break;case"202":A=this.options.type==1?vt.t("errMsg.wsError"):vt.t("errMsg.wsCloseError");break;case"204":A=this.options.type==1?vt.t("errMsg.playError"):vt.t("errMsg.frequent");break;case"404":A=vt.t("errMsg.playError");break;case"500":A=vt.t("errMsg.deviceError");break;case"1001":A=vt.t("errMsg.codeError");break;case"1002":A=vt.t("errMsg.deviceError");break;case"1003":A=vt.t("errMsg.wsCloseError");break}A&&(po(this.playerId,!1),this.status.message=A,this.stop(!1),this.options.handleError&&this.options.handleError({errCode:u,errMsg:A}),this.trackingLogs("player_err_code",{player_err_code:JSON.stringify({type:"play_err_code",errCode:s,errMsg:A})}))}talkStart(i,t){this.options.handleCallBack&&this.options.handleCallBack({type:"talkStart"}),this.status.talkProcessing=!1}talkError(i,t){console.log("talkLog:",i,t);const s=String((t==null?void 0:t.errorCode)||"");let u=s,A="";switch(s){case"202":u="2006",A=vt.t("errMsg.talkError");break;case"207":u="2007",A=vt.t("errMsg.talkDeviceError");break;case"208":u="2008",A=vt.t("errMsg.talkBusy");break;case"601":case"602":case"603":case"604":case"605":u="2004",A=vt.t("errMsg.microphoneError");break;case"801":case"802":case"803":case"804":case"805":u="2005",A=vt.t("errMsg.cameraError");break;case"2009":A=vt.t("errMsg.talkClose");break}A&&(this.status.talkProcessing=!1,this.status.templateMode==="mobile"&&fu({msg:vt.t("talk_stop"),icon:"icon-imou_icon_live_hd_n1",type:"info",landscape:this.status.landscape}),this.stopTalk(),this.options.handleError&&this.options.handleError({errCode:u,errMsg:A}),this.trackingLogs("player_err_code",{player_err_code:JSON.stringify({type:"talk_err_code",errCode:s,errMsg:A})}))}recordTimeStampUpdate(i,t){const s=An(this.status.beginTime).startOf("day").unix(),A=An(t.utcTime).unix()-s;this.timestamp!=A&&(this.timestamp=A,this.status.encryptMode&&this.timeLine&&this.timeLine.changeProp("timestamp",this.timestamp))}getPlayUrl(){return Ar(this,null,function*(){const i={playUrl:"",encryptMode:0,playToken:"",playTokenKey:""};try{const{protocol:t}=location;if(t.indexOf("http")===-1)return ey("Please open on HTTP or HTTPS"),this.status.message="Please open on HTTP or HTTPS",i;const s=yield ym(this.status),{data:u,status:A}=s;if(A===200){const{data:b,code:C,msg:c=vt.t("errMsg.getStreamError")}=u.result;C==="0"?(i.playUrl=`${b.url}`,i.encryptMode=(b==null?void 0:b.isEncrypt)||!1,i.playToken=(b==null?void 0:b.playToken)||"",i.playTokenKey=b.playTokenKey||"",i.streamType=(b==null?void 0:b.streamType)||"rtsp",i.tid="",b.url.split("&").map(k=>k.split("=")).forEach(k=>{k[0]==="tid"&&(this.status.tid=k[1],i.tid=k[1])}),this.logInfo.stream_type=(b==null?void 0:b.streamType)||"rtsp",this.logInfo.stream_url=(b==null?void 0:b.url)||""):(this.status.message=c||vt.t("errMsg.getStreamError"),i.playUrl="",this.stop(!1))}else this.status.message=vt.t("errMsg.getUrlError")}catch(t){this.status.message=vt.t("errMsg.getUrlError")}return i})}play(i=!0){return Ar(this,null,function*(){this.logInfo.stream_user_link_start_time=new Date().getTime(),(this.status.message===""||this.status.message===vt.t("playEnd"))&&(this.status.message=vt.t("loading"));const t=yield this.getPlayUrl(),{playUrl:s="",encryptMode:u=!1,playToken:A="",playTokenKey:b="",streamType:C="rtsp",tid:c=""}=t;if(!s){this.status.answerVideoTalkType="stop";return}this.status.encryptMode=u,this.player.play(this.playerId,{streamURL:s,deviceId:this.options.deviceId,channelId:this.options.channelId,playSubtype:String(this.status.streamId),isLive:this.options.type==1,recordType:this.status.recordType,streamType:C,encryptMode:u,playToken:A,playTokenKey:b,code:this.status.code||"",volume:this.status.volume,startTime:An(this.status.beginTime).format("YYYY_MM_DD_HH_mm_ss"),endTime:An(this.status.endTime).format("YYYY_MM_DD_HH_mm_ss"),tid:c,threadMode:this.options.threadMode}),setTimeout(()=>{this.status.answerVideoTalkType="start"},100),this.options.type==2&&i&&(this.record=new Au({Obj:this,recordType:this.status.recordType,beginTime:this.status.beginTime}))})}getEncryptKey(i){return Ar(this,null,function*(){if(i!==this.status.tid)return"close";const t=yield Am(this.status),{data:s,status:u}=t,{code:A,msg:b=""}=s==null?void 0:s.result;return A==="0"||A==="OP1041"?s:(this.status.message=b,this.stop(!1),"close")})}pause(){this.status.playing=!1,this.player&&this.player.pause(this.playerId),this.stopTalk(),this.stopRecord()}start(){this.status.playing=!0,this.player&&this.player.start(this.playerId),this.options.type==2&&this.status.recordSpeed!=1&&this.setSpeed(this.status.recordSpeed)}stop(i=!0){if(this.player&&(this.status.playing=!1,this.status.answerVideoTalkType="waiting",this.stopRecord(),this.stopTalk(),this.buttonShowOrHiddenFlag&&(this.playerDom.style.zIndex=100,clearTimeout(this.buttonShowOrHiddenFlag)),this.record=null,this.player.close(this.playerId),this.timeLine&&this.timeLine.stop(),i)){for(this.landscapeResizeHandler&&(window.removeEventListener("resize",this.landscapeResizeHandler),this.landscapeResizeHandler=null),this.landscapeOrientationHandler&&(window.removeEventListener("orientationchange",this.landscapeOrientationHandler),this.landscapeOrientationHandler=null),this.resizeObserver.unobserve(this.root);this.root.firstChild;)this.root.removeChild(this.root.firstChild);this.timeLine=null}}destroy(){this.stop()}talk(){!this.status.playing||(this.options.type==2?this.status.message=vt.t("notSupport"):this.status.talk?this.stopTalk():this.startTalk())}startTalk(i="audio",t="call"){if(this.options.type==2)this.status.message=vt.t("notSupport");else{if(!this.status.playing)return;this.status.talkProcessing=!0;const s=i==="audio"?{checkMicrophone:!0,checkCamera:!1}:{checkMicrophone:!0,checkCamera:!0};Gt.getMediaDevices(s,()=>{u()},()=>{this.status.talk=!1,this.status.talkProcessing=!1});const u=()=>{this.options.handleStartTalk&&this.options.handleStartTalk(),Cm($i(on({},this.options),{type:i})).then(A=>{const{data:b,code:C,msg:c}=A.data.result;if(C==="OP1038"){console.warn(vt.t("talkWsError")),this.status.talkProcessing=!1,this.options.handleError&&this.options.handleError({errCode:"2002",errMsg:vt.t("talkWsError")});return}if(C==="DV1026"){console.warn(vt.t("errMsg.videoTalkNotSupport")),this.status.talkProcessing=!1,this.options.handleError&&this.options.handleError({errCode:"2003",errMsg:vt.t("errMsg.videoTalkNotSupport")});return}if(C!=="0"){console.warn(vt.t("talkUrlError")),this.status.talkProcessing=!1,this.options.handleError&&this.options.handleError({errCode:"2001",errMsg:vt.t("talkUrlError")});return}let T=b.url;this.volume(1),this.status.talk=!0;const k=t==="answer"?this.status.videoCapture:!0,S=t==="answer"?this.status.audioCapture:!0;this.player.talk(this.playerId,T,{type:i,video:k,audio:S,streamType:b==null?void 0:b.streamType}),this.status.templateMode==="mobile"&&fu({msg:vt.t("talk_start"),icon:"icon-imou_icon_live_hd_n1",landscape:this.status.landscape}),this.logInfo.talk_user_link_start_time=new Date().getTime(),this.logInfo.talk_stream_url=T,this.logInfo.talk_stream_type=b==null?void 0:b.streamType,i==="video"&&(this.status.videoTalking=!0,this.status.answerVideoTalk||(this.status.callVideoTalk=!0),t==="call"?(this.status.videoCapture=!0,this.status.audioCapture=!0):(this.status.videoCapture||this.stopVideoCapture(),this.status.audioCapture||this.stopAudioCapture()),this.status.ptz=this.status.ptz,setTimeout(()=>{this.status.talkProcessing&&(this.status.talkProcessing=!1)},5e3))}).catch(A=>{this.status.talkProcessing=!1})}}}stopTalk(){if(this.status.talk)console.log("stopTalk:",this.status.talk),this.status.talk=!1,this.trackingLogs(this.status.videoTalking?"videoTalk":"talk"),this.player.stopTalk(this.playerId),this.status.talkProcessing=!0,this.status.videoTalking&&(this.status.videoTalking=!1,this.status.videoCapture=!1,this.status.audioCapture=!1,this.status.answerVideoTalk=!1,this.status.callVideoTalk=!1);else if(this.status.answerVideoTalk)this.status.answerVideoTalk=!1,this.player.stopTalk(this.playerId,{closeCapture:!0}),this.stopAudioCapture(),this.stopVideoCapture(),bm({deviceId:this.options.deviceId,channelId:this.options.channelId,domain:this.options.domain,ref:"27000",content:{}});else try{this.player.stopTalk(this.playerId,{closeCapture:!0}),this.player.stopTalk(this.playerId)}catch(i){}}answerVideoTalk(){let i=null;i=setInterval(()=>{this.status.answerVideoTalkType==="start"?(i&&clearInterval(i),t()):this.status.answerVideoTalkType==="stop"&&i&&clearInterval(i)});const t=()=>{this.status.answerVideoTalk=!0,this.status.videoCapture=!0,this.status.audioCapture=!0,Gt.getMediaDevices({checkMicrophone:!0,checkCamera:!0},()=>{this.player&&this.player.openVideoTalkCapture(this.playerId);let s=null,u=30;s=setInterval(()=>{this.status.videoTalking?clearInterval(s):(u--,u<=0&&(clearInterval(s),this.stopTalk()))},1e3)},()=>{this.status.talk=!1,this.status.answerVideoTalk=!1,this.status.videoCapture=!1,this.status.audioCapture=!1})}}startVideoCapture(){this.player&&(this.player.startVideoCapture(this.playerId),this.status.videoCapture=!0)}stopVideoCapture(){this.player&&(this.player.stopVideoCapture(this.playerId),this.status.videoCapture=!1)}startAudioCapture(){this.player&&(this.player.startAudioCapture(this.playerId),this.status.audioCapture=!0)}stopAudioCapture(){this.player&&this.status.talk&&(this.player.stopAudioCapture(this.playerId),this.status.audioCapture=!1)}volume(i){this.status.talk||!this.status.playing||this.status.recordSpeed==1&&(Gt.detectHostEnvironment().isMiniProgramWebView&&setTimeout(()=>{window.webAudioPlayer&&window.webAudioPlayer.resume()},100),this.status.volume=i,this.player.setAudioVolume(this.playerId,i))}capture(){try{if(this.player){if(!this.status.playing)return;this.player.screenshot(this.playerId),console.log(vt.t("captureSuccess"))}}catch(i){console.log(vt.t("captureFail"))}}createTimer(){function i(T){return T<10?`0${T}`:`${T}`}function t(T){if(T<10)return"00:00:0"+T;if(T<59)return"00:00:"+T;if(T<3600)return A=Math.trunc((T/60).toFixed(2)),b=T%60,"00:"+i(A)+":"+i(b);if(T>=3600)return u=Math.trunc(T/3600),A=Math.trunc((T-u*3600)/60),b=T%60,i(u)+":"+i(A)+":"+i(b)}let s=document.createElement("div");s.setAttribute("class",`imou-videorecord-time imou-videorecord-time_${this.playerId}`),this.status.templateMode==="mobile"&&s.classList.add("imou-videorecord-time-mobile"),s.innerHTML="00:00:00";let u=0,A=0,b=0,C=0;function c(){setInterval(()=>{C++,s.innerHTML=t(C)},1e3)}c(),this.root.appendChild(s)}destoryTimer(){let i=document.getElementsByClassName(`imou-videorecord-time_${this.playerId}`);i[0]&&this.root.removeChild(i[0])}startRecord(){!this.status.playing||this.status.recordSpeed==1&&(this.player&&!this.status.videoRecord&&(this.createTimer(),this.status.videoRecord=!0,this.player.record(this.playerId)),this.status.templateMode==="mobile"&&fu({msg:vt.t("record_start"),icon:"icon-imou_icon_live_record_n",landscape:this.status.landscape}))}stopRecord(){this.player&&this.status.videoRecord&&(this.destoryTimer(),this.status.videoRecord=!1,this.player.record(this.playerId))}ptzControl(i){!this.status.playing||xm(this.status,i)}changeResolution(i){this.stop(!1),this.status.resolution=i,this.status.streamId=i,this.createPlayer()}fullPageScreen(){window.scroll(0,0),document.body.style.overflow="hidden",document.body.style.position="relative";const i=document.documentElement.clientWidth,t=document.documentElement.clientHeight;this.root.style.position="absolute",this.root.style.left="0",this.root.style.top="0",this.root.style.width=`${i}px`,this.root.style.height=`${t}px`,this.root.style.zIndex="999999",setTimeout(()=>{this.timeLine&&this.timeLine.changeProp("width",i)},100)}exitFullPageScreen(){this.root.style.position="relative",this.root.style.width=`${this.status.width}px`,this.root.style.height=`${this.status.height}px`,this.root.style.zIndex="",document.body.style.overflow="",document.body.style.position="",setTimeout(()=>{this.timeLine&&this.timeLine.changeProp("width",this.status.width)},0)}fullScreen(){const i=this.root;(i.requestFullScreen||i.webkitRequestFullScreen||i.mozRequestFullScreen||i.msRequestFullscreen).call(i),setTimeout(()=>{this.timeLine&&this.timeLine.changeProp("width",window.screen.width)},50)}exitFullScreen(){(document.exitFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document),setTimeout(()=>{this.timeLine&&this.timeLine.changeProp("width",this.status.fullPageScreen?document.documentElement.clientWidth:this.status.width)},100)}getTimestamp(){this.timeLine&&this.timeLine.changeProp("timestamp",this.timestamp)}changeRootWidthAndHeight(i,t){this.root.style.width=`${i}px`,this.root.style.height=`${t}px`,setTimeout(()=>{this.timeLine&&this.timeLine.changeProp("width",i)},100)}changeImouUrl(i,t){this.status.videoRecord=!1,this.destoryTimer(),this.stop(!1);let s=!0;switch(i){case"beginTime":this.status.beginTime=An.unix(An(this.status.beginTime).startOf("day").unix()+t).format("YYYY-MM-DD HH:mm:ss"),this.status.endTime=An(this.status.beginTime).endOf("day").format("YYYY-MM-DD HH:mm:ss"),s=!1;break;case"recordType":this.status.beginTime=An(this.status.beginTime).startOf("day").format("YYYY-MM-DD HH:mm:ss"),this.status.endTime=An(this.status.beginTime).endOf("day").format("YYYY-MM-DD HH:mm:ss"),this.timeLine&&this.timeLine.stop(!0),this.status[i]=t,this.record&&(this.record&&this.record.stop(),this.record=new Au({Obj:this,recordType:this.status.recordType,beginTime:this.status.beginTime}));break;case"beginTime x":this.status.beginTime=An(t).format("YYYY-MM-DD HH:mm:ss"),this.status.endTime=An(this.status.beginTime).endOf("day").format("YYYY-MM-DD HH:mm:ss"),this.timeLine&&this.timeLine.stop(!0),this.record&&(this.record&&this.record.stop(),this.record=new Au({Obj:this,recordType:this.status.recordType,beginTime:this.status.beginTime})),this.status.message=vt.t("changeDate",{day:t});break;case"resolution":this.status.resolution=t,this.status.streamId=t;default:this.status[i]=t}this.status.templateMode==="pc"&&(this.status.ptz=!1,this.status.digitalZoom=!1),this.status.talk=!1,this.status.playing=!1,this.status.answerVideoTalkType="waiting",i!=="beginTime"&&(this.status.volume=1,this.status.recordSpeed=1),(this.status.message===""||this.status.message===vt.t("playEnd"))&&(this.status.message=vt.t("loading")),this.play(s)}setSpeed(i){console.log(`\u8BBE\u7F6E${i}\u500D\u901F\u64AD\u653E`),this.volume(0),this.status.recordSpeed=i,this.player.setSpeed(this.playerId,i)}changeCode(i){i&&(this.status.code=i)}trackingLogs(i,t={}){let s=new Date().getTime();const u=new Date().getTime();let A=i,b=this.logInfo.stream_url,C=this.logInfo.stream_type;i==="stream"&&(s=this.logInfo.stream_user_link_start_time,this.status.type==1?A="real":this.status.recordType==="localRecord"?A="local_record":A="cloud_record"),(i==="talk"||i==="videoTalk")&&(s=this.logInfo.talk_user_link_start_time,b=this.logInfo.talk_stream_url,C=this.logInfo.talk_stream_type),this.imouSensors&&this.imouSensors.tracking({operate_info:$i(on({func_type:A,user_link_time:s,user_link_end_time:u,stream_type:C,stream_url:b},t),{templateMode:this.status.templateMode}),device_info:{kt:this.options.token,did:this.options.deviceId,cid:this.options.channelId}})}zoomIn(){this.player&&this.player.zoomIn(this.playerId,this.root)}zoomOut(){this.player&&this.player.zoomOut(this.playerId,this.root)}resetZoom(){this.player&&this.player.resetZoom(this.playerId)}enterLandscapeMode(){if(this.resetZoom(),this.root){this.originalStyles={position:this.root.style.position,width:this.root.style.width,height:this.root.style.height,top:this.root.style.top,left:this.root.style.left,zIndex:this.root.style.zIndex,transform:this.root.style.transform,transformOrigin:this.root.style.transformOrigin};const i=()=>{const t=window.innerHeight,s=window.innerWidth;this.root.style.width=`${t}px`,this.root.style.height=`${s}px`};i(),this.landscapeResizeHandler=i,window.addEventListener("resize",this.landscapeResizeHandler),this.landscapeOrientationHandler=()=>{setTimeout(i,100)},window.addEventListener("orientationchange",this.landscapeOrientationHandler),this.root.style.position="fixed",this.root.style.top="50%",this.root.style.left="50%",this.root.style.zIndex="1000",this.root.style.transform="translate(-50%, -50%) rotate(90deg)",this.root.style.transformOrigin="center center",this.root.style.transition="all 0.3s",this.root.classList.add("imou-player-landscape"),document.body.style.overflow="hidden",this.status.landscape=!0,this.player.touchZoom(this.playerId,this.root,{landscape:!0}),this.getTimestamp()}}exitLandscapeMode(){this.resetZoom(),this.root&&this.originalStyles&&(this.landscapeResizeHandler&&(window.removeEventListener("resize",this.landscapeResizeHandler),this.landscapeResizeHandler=null),this.landscapeOrientationHandler&&(window.removeEventListener("orientationchange",this.landscapeOrientationHandler),this.landscapeOrientationHandler=null),this.root.style.position=this.originalStyles.position,this.root.style.width=this.originalStyles.width,this.root.style.height=this.originalStyles.height,this.root.style.top=this.originalStyles.top,this.root.style.left=this.originalStyles.left,this.root.style.zIndex=this.originalStyles.zIndex,this.root.style.transform=this.originalStyles.transform,this.root.style.transformOrigin=this.originalStyles.transformOrigin,this.root.classList.remove("imou-player-landscape"),document.body.style.overflow="",this.status.landscape=!1,this.player.touchZoom(this.playerId,this.root,{landscape:!1}),this.getTimestamp())}}return window&&(window.imouPlayer=$f),$f});
