class AudioProcessor extends AudioWorkletProcessor{constructor(){super(),this.accumulatedData=new Float32Array(0)}process(t,a,s){const e=t[0]?.[0];if(e){const t=new Float32Array(this.accumulatedData.length+e.length);t.set(this.accumulatedData),t.set(e,this.accumulatedData.length),this.accumulatedData=t,this.accumulatedData.length>=4096&&(this.port.postMessage(this.accumulatedData.slice(0,4096)),this.accumulatedData=this.accumulatedData.slice(4096))}return!0}}registerProcessor("audio-processor",AudioProcessor);